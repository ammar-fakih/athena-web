{"version":3,"sources":["assets/logos/app-logo-transparent.png","assets/sponsorPage/coupon.png","assets/sponsorPage/become-sponsor.png","assets/logos/splash-logo.png","node_modules/moment/locale sync /^/.//.*$","assets/logos/owl-black-text.png","assets/logos/owl-white-text.png","src/app/appDataSlice.ts","src/app/SecureStorage.ts","src/features/calendar/calendarSlice.ts","src/constants/discover.ts","src/functions.ts","src/features/api/apiSlice.ts","src/features/api/usersApi.ts","src/features/api/classPagesApi.ts","src/features/classPages/classPagesSlice.ts","src/features/discover/discoverSlice.ts","src/app/storage.ts","src/app/store.ts","src/app/hooks.ts","src/components/WebSplashScreen.tsx","src/constants/admin.ts","src/features/adminPanel/adminPanel.tsx","src/components/Header.tsx","src/features/adminPanel/index.tsx","src/features/authentication/ForgotPassword/EnterCodePage.tsx","src/features/authentication/ForgotPassword/EnterEmailPage.tsx","src/features/authentication/ForgotPassword/index.tsx","src/features/authentication/Login.tsx","src/features/authentication/Signup/SignupForm.tsx","src/features/authentication/Signup/VerifyEmail.tsx","src/components/BackButton.tsx","src/features/authentication/Signup/index.tsx","src/features/authentication/index.tsx","src/components/ModalContainer.tsx","src/features/classPages/SelectTerm.tsx","src/features/notifications/constants.tsx","src/components/Message.tsx","src/components/SearchBar.tsx","src/constants/classPages.ts","src/features/classPages/AddedClasses.tsx","src/features/classPages/ClassListItemItem.tsx","src/features/classPages/ClassListItem.tsx","src/features/classPages/FilterClasses.tsx","src/constants/map.ts","src/components/UserNameSelectionDropDown.tsx","src/features/classPages/SingleClassPage/exportModalClass.tsx","src/features/classPages/SingleClassPage/InfoPage.tsx","src/features/classPages/SingleClassPage/PostReview.tsx","src/features/classPages/SingleClassPage/index.tsx","src/features/classPages/StarredClasses.tsx","src/features/classPages/ClassesList.tsx","src/features/combinedCalender/classList/index.tsx","src/features/calendar/CalendarFunctions.ts","src/features/calendar/ScheduledItem.tsx","src/features/calendar/customEvent.tsx","src/features/calendar/CalendarRender.tsx","src/features/calendar/CalendarPage.tsx","src/components/WrapItems.tsx","src/features/calendar/CreateCustomEvent.tsx","src/features/calendar/exportModal.tsx","src/features/calendar/index.tsx","src/features/chats/singleChatPage/SingleChatRoom.tsx","src/features/chats/CreateChatRoom.tsx","src/features/chats/ChatRooms.tsx","src/features/notifications/notificationSinglePage.tsx","src/features/notifications/Notifications.tsx","src/features/settings/EditUser.tsx","src/features/settings/SettingsPage.tsx","src/features/settings/index.tsx","src/components/Menu.tsx","src/features/api/sponsorsApi.ts","src/features/sponsors/SponsorsList.tsx","src/constants/electiveGenerator.ts","src/features/classPages/ElectiveGenerator/index.tsx","src/features/classPages/index.tsx","src/features/discover/CreatePost/CreateImagePost.tsx","src/features/discover/CreatePost/CreateEventPost.tsx","src/features/api/discoverApi.ts","src/features/discover/CreatePost/CreatePost.tsx","src/features/discover/BottomBar.tsx","src/components/withPreventDoubleClick.tsx","src/components/DoubleTap.tsx","src/components/DoubleTapHeart.tsx","src/features/discover/ImageComponent.tsx","src/features/discover/EventBody.tsx","src/features/discover/Cards/EventCard.tsx","src/features/discover/Cards/ImageCard.tsx","src/features/discover/Cards/SponsorCard.tsx","src/features/discover/Cards/TextCard.tsx","src/features/discover/PostsList.tsx","src/features/discover/SearchPage.tsx","src/components/DisabledOptionModal.tsx","src/components/FullPageSpinner.tsx","src/features/discover/SinglePost/Comment.tsx","src/features/discover/SinglePost/SinglePostBody.tsx","src/features/discover/SinglePost/SinglePostPage.tsx","src/features/discover/index.tsx","src/theme/custom-theme.ts","src/theme/feather-icons.tsx","src/theme/font-awesome-icons.tsx","App.tsx","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","initialState","userKey","isGuest","isMobile","darkMode","useDeviceColorScheme","isCacheReset","appDataSlice","createSlice","name","reducers","reset","cacheReset","state","userKeyUpdated","action","payload","setIsGuest","deviceDarkModeSet","useDeviceColorSchemeSet","deleteAllAppData","mobileSiteSet","extraReducers","selectDarkMode","appData","secure","selectUserKey","selectIsGuest","actions","defaultReplacer","key","replaceCharacter","replace","isThreeDay","calendarSlice","isThreeDaySet","tagIndices","adminTagIndices","postOptions","EMOJI_LIST","getImageUrl","imageId","IMAGE_BUCKET_URL","stringToEmoji","str","dec","i","length","charCodeAt","showToast","message","backgroundColor","Toast","show","duration","durations","LONG","opacity","position","shadow","FormatTimeRange","start","end","startDate","Date","endDate","getHours","getMinutes","weekDayNumberToName","0","1","2","3","4","5","6","FormatDate","date","newDate","weekDay","getDay","month","getMonth","day","getDate","getMasterCourseCodeFromCourseCode","courseCode","courseCodeParts","split","slice","join","getTimeAsNumberOfMinutes","time","timeParts","parseInt","apiSlice","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getCurrentVersion","query","useLazyGetCurrentVersionQuery","usersApiSlice","injectEndpoints","overrideExisting","getUserInfo","providesTags","url","headers","transformErrorResponse","response","status","error","transformResponse","classes","starredClasses","rest","addedClasses","orderedClasses","forEach","courseTerm","push","schoolParts","school","masterCourseCode","login","mutation","userName","password","params","trackLogin","method","responseHandler","text","deleteAccount","editUser","invalidatesTags","body","fields","getCollegeList","getChatRooms","json","createChatRoom","recipients","nameOfChatRoom","JSON","stringify","userList","addOrRemoveUserFromChatRoom","chatRoomId","signupUser","verifySignup","resetPassword","email","addExpoPushToken","expoPushToken","useAddOrRemoveUserFromChatRoomMutation","useCreateChatRoomMutation","useGetChatRoomsMutation","useTrackLoginMutation","useGetUserInfoQuery","useLazyGetUserInfoQuery","useLoginMutation","useDeleteAccountMutation","useEditUserMutation","useGetCollegeListQuery","useSignupUserMutation","useVerifySignupMutation","useResetPasswordMutation","useAddExpoPushTokenMutation","classPagesApi","getAllClasses","pageNumber","collegeName","getRatingFromReviews","reviews","totalAverage","counter","review","rating","toFixed","getDifficultyFromReviews","difficulty","fromEntries","entries","value","sort","getCurrentSection","currentTerm","getAllSections","addClass","classesToAdd","onQueryStarted","dispatch","queryFulfilled","patchResult","util","updateQueryData","draft","undo","addMultipleClasses","courseCodePairs","courseCodePair","removeClass","classesToRemove","filter","classCode","addStarredClass","starredClassesToAdd","some","course","removeStarredClass","starredClassesToRemove","isAllowedToReview","sendReview","swapCoursePriority","firstPosition","secondPosition","termToUpdate","temp","useGetCurrentSectionQuery","useGetAllClassesQuery","useAddClassMutation","useAddMultipleClassesMutation","useRemoveClassMutation","useIsAllowedToReviewQuery","useSendReviewMutation","useLazyGetAllClassesQuery","useLazyGetAllSectionsQuery","useRemoveStarredClassMutation","useAddStarredClassMutation","useSwapCoursePriorityMutation","filteredClasses","renderedClasses","currentSection","availableSections","selectedClass","searchTerm","page","isHMC","filters","filterConflicts","colleges","HM","CM","PO","PZ","SC","hasSelectedElectiveGen","suggestedClasses","orderedAddedClasses","totalCredits","credits","hmcCredits","classPagesSlice","currentSectionUpdated","availableSectionsListUpdated","endOfListReached","resetClasses","caseReducers","creditsRecalculated","searchResultsFiltered","suggestedClassesUpdated","suggestedClassesDimissed","electiveGeneratorSelected","classSelected","selectedClassCleared","filtersSaved","isHMCUpdated","recalculateTotalCredits","allClasses","filtersReset","newResultsArray","collegeAbr","substring","newResultsObject","times","timeWindow","courseSchedule","doesClassConflict","searchTermUpdated","matchDepartmentName","searchCourseCode","findSearchTermShortcuts","searchTerms","courseName","filterBySearchTerm","addMatcher","matchFulfilled","getOrderedClassesFromApiRes","userData","numCourses","creditWeight","creditWeightHM","searchPhrase","match","p1","p2","p3","p4","p5","padStart","coursePhrase","professorName","trim","includes","toUpperCase","schedule","addedClass","addedTimes","addedTime","addedSchedule","addedTimeStart","startTime","addedTimeEnd","endTime","scheduleTimeStart","scheduleTimeEnd","daysOfTheWeek","selectClassesList","classPages","submittedSearchTerm","tag","recentSearches","discoverSlice","searchTermSubmitted","unshift","searchTermChanged","recentSearchTermSelected","tagSelected","recentSearchTermRemoved","term","selectSearchTerm","discover","selectSubmittedSearchTerm","selectTag","selectRecentSearches","SecureStorage","options","replacer","getItem","SecureStore","setItem","removeItem","createSecureStorage","securePersistConfig","storage","Platform","OS","AsyncStorage","cpPersistConfig","ExpoFileSystemStorage","whitelist","discoverPersistConfig","rootReducer","combineReducers","persistReducer","classPagesReducer","appDataReducer","discoverReducer","calendar","calendarReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","immutableCheck","concat","useAppDispatch","useDispatch","useAppSelector","useSelector","WebSplashScreen","View","style","flex","justifyContent","alignItems","Image","source","require","width","height","base_URL","AdminHomePage","Manager","randomizationFactor","addTrailingSlash","autoConnect","createNativeStackNavigator","AdminHomeNavigation","useState","adminCommands","setAdminCommands","getAdminCommands","adminURL","res","fetch","commands","filterObject","currentAdminCommandsStatus","a","b","textA","label","textB","finalCommandList","command","useEffect","refreshing","setRefreshing","onRefresh","useCallback","then","Navigator","initialRouteName","Screen","headerShown","component","navigation","ScrollView","refreshControl","RefreshControl","Text","TouchableOpacity","onPress","navigate","data","listingStyles","cardContainer","AdminCommand","headerTitle","route","info","setInfo","isFileUpload","setIsFileUpload","setBody","users","setUsers","fileUploads","setFileUploads","sponsors","setSponsors","setStatus","allFieldsFilled","setAllFieldsFilled","buttonPushed","setButtonPushed","checkForFieldsFilled","field","mandatory","undefined","ok","newUsers","sponsor","sponsorName","_id","images","imageName","sendApiData","additionToUrl","aspect","paramOverride","apiType","newUrl","formdata","FormData","item","append","uri","type","redirect","text2","parse","err","renderEachDropItem","final","option","title","trueFalseTemplate","selectedIndex","setSelectedIndex","boolValues","displayValue","styles","container","level","onSelect","index","row","newBody","changeEverything","placeholder","KeyboardAvoidingView","behavior","sponsorPageStyles","display","address","fontSize","description","changeValue","theValue","valueToChange","renderStringArray","valuesToSend","tempFinal","paddingLeft","paddingBottom","paddingTop","TextInput","autoCapitalize","onChangeText","miniField","newFieldForBody","values","changeStringValue","stringArray","eachOne","myStyles","indentedInput","placeholderTextColor","renderMultiSelectDropDown","hasChosen","setHasChosen","containerDrop","multiSelect","finalArray","littleIndex","finalObject","at","splice","calculateSelectedValues","newSelection","Array","isArray","toggleValue","clearButtonMode","input","IndexPath","renderDropDown","inputBig","multiline","pickImage","result","ImagePicker","allowsEditing","cancelled","borderRadius","paddingVertical","flexDirection","marginVertical","marginHorizontal","FontAwesome","size","color","fileUploadTemplate","alignContent","fontWeight","renderFilterParameters","renderTheFieldsNecessary","button","graphData","timeFrame","informationToShow","isDateGraph","dataToShow","labels","getDates","datasets","getData","Dimensions","get","verticalLabelRotation","fromZero","xLabelsOffset","segments","chartConfig","decimalPlaces","labelColor","propsForDots","r","strokeWidth","stroke","oneElement","renderOneCard","flexShrink","moment","tz","subtract","format","usersToday","instance","weekStart","weekEnd","usersMonth","monthStart","monthEnd","add","cardInfo","finalText","flexWrap","renderedActions","renderButtonForCard","elevation","parameter","buttonText","alignSelf","fontStyle","showResponseData","header","marginTop","margin","borderColor","borderWidth","padding","video","marginLeft","logo","couponContainer","marginBottom","coupon","imageGallery","imageStyle","headerText","marginRight","lineHeight","letterSpacing","paddingHorizontal","borderBottomWidth","shadowColor","shadowOffset","shadowOpacity","shadowRadius","textAlign","image","imagesContainer","imageContainer","imageLabel","Header","accessoryLeft","accessoryRight","center","Constants","statusBarHeight","AdminStack","AdminPanel","EnterCodePage","category","routes","EnterEmailPage","setEmail","inputRef","useRef","isLoading","isError","netInfo","useNetInfo","current","focus","onSubmit","isConnected","unwrap","alert","ref","onSubmitEditing","Keyboard","dismiss","disabled","Stack","ForgotPassword","screenOptions","LightModeLogo","DarkModeLogo","Login","setUserName","setPassword","loginError","setLoginError","loadingUserInfo","passwordRef","React","handleLogin","NetInfo","allSections","availableTerms","guestLogin","TouchableWithoutFeedback","inputView","autoComplete","keyboardType","blurOnSubmit","secureTextEntry","forgot_button","loginBtn","maxWidth","signupBtn","StyleSheet","create","guestButton","Signup","realFirstName","setRealFirstName","realLastName","setRealLastName","major","setMajor","simplifiedSignup","setSimplifiedSignUp","humanReadableCollegeName","userCollege","setUserCollege","collegeList","signupLoading","firstNameInputRef","lastNameInputRef","passwordInputRef","majorInputRef","handleSubmitButton","validateInput","responseUnwrapped","goBack","SectionStyle","labelSection","inputStyle","underlineColorAndroid","defaultValue","returnKeyType","onFocus","newObject","college","zIndex","top","left","checked","onChange","nextChecked","buttonStyle","buttonTextStyle","paddingRight","errorTextStyle","successTextStyle","minHeight","minWidth","VerifyEmail","verificationCode","setVerificationCode","verifyCode","getUserInfoLoading","handleVerifyCodeButton","BackButton","props","HeaderBackButton","labelVisible","theme","useTheme","headerStyle","headerLeft","SignupForm","Auth","ModalContainer","children","backDropVisible","setBackDropVisible","clickBackdropToClose","modalStyle","modalProps","backdropOpacity","onBackdropPress","isVisible","appearance","right","pack","SelectTerm","userDataCache","useQueryState","skip","startIndexValue","findIndex","selectedSectionIndex","setSelectedSectionIndex","Message","SearchBar","inputProps","cancelButtonAction","cancelButtonStatus","alwaysShowCancelButton","selected","setSelected","LayoutAnimation","configureNext","onBlur","autoCorrect","NEW_REVIEW_FIELDS","AddedClasses","setAddedClassesVisible","handleRemoveClass","handleSwapAddedClasses","bottomSheetRef","useNavigation","useWindowDimensions","allClassesList","addedClassesList","renderItem","drag","isActive","getIndex","onLongPress","Ionicons","snapToIndex","handleClassSelected","Entypo","renderFlatList","contentContainerStyle","automaticallyAdjustsScrollIndicatorInsets","indicatorStyle","showsVerticalScrollIndicator","ListEmptyComponent","ItemSeparatorComponent","onDragEnd","from","to","keyExtractor","ClassListItemItem","seatsAvailable","seatsFilled","handleAddClass","added","selectedAnim","Animated","Value","dropDownItem","isAvailable","notAvailable","activeOpacity","sequence","spring","toValue","speed","useNativeDriver","transform","scale","FontAwesome5","list__container","addedClassesContainer","borderTopRightRadius","borderBottomRightRadius","borderTopWidth","borderRightWidth","buttonContainer","dropDown","loadingMessage","loadingMessageRefresh","Item","menuOpen","setIsMenuOpen","inItem","useMemo","property","update","springDamping","UIManager","setLayoutAnimationEnabledExperimental","addClassButton","FilterClasses","setFiltersMenuVisible","initialFilters","getInitialState","setColleges","setFilterConflicts","change","onChangeIsHMC","bool","onChangeFilterCollege","locations","ClaremontColleges","Brackett","Carnegie","Edmunds","Honnold","Lincoln","Online","PAC","Pearsons","Stauffer","KSPC","TBD","removeNumbersAndSpaces","char","UserNameSelectionDropDown","setRecipient","names","setNames","setValue","modal","backdrop","user","realName","userNameContainsString","find","auser","toLowerCase","firstPar","indexOf","secondPar","findUserNameFromName","ExportModalClass","classData","showGuestModal","setShowGuestModal","showModal","setShowModal","showWebModal","setShowWebModal","renderModal","recipient","exportClass","isCourseData","visible","backdropStyle","Button","returnValue","Alert","withStyles","eva","scrollViewRef","showCourseModal","setShowCourseModal","courseModalChildren","setCourseModalChildren","professorReviewsObject","setProfessorReviewsObject","daysOfWeek","dark","light","isAllowedToReviewRes","isStarred","userHasCourse","courseToggleChildren","courseForToggle","toggleStarCourse","getReviewsFromProfessor","buildTimeString","convertTo12HourTime","hours","minutes","ampm","Number","scrollTo","y","animated","averageGradeMSGModal","getProfessorsList","list","schedulePopup","setSchedulePopup","allTheChildren","setAllTheChildren","toggleSchedulePopUp","finalDays","realTime","addition","daysObject","daysActive","stringArrays","generateTable","LinearGradient","colors","x","subtitle","timeSpentOutOfClass","averageGrade","courseDescription","summary","boxed","prerequisites","corequisites","disclaimer","subHeader","section","sectionText","textDecorationLine","permCount","classLocation","openMap","waypoints","provider","number","toString","zoom","isAllowed","professorList","professor","getProfessorReviewsList","courseOpen","courseClosed","details","BodyContainer","borderTopColor","documentStyle","graphImage","aspectRatio","resizeMode","grade","reviewText","reviewBox","NewReview","showConfirmationModal","setShowConfirmationModal","showErrorModal","setShowErrorModal","handleReviewSubmitted","successChildren","errorChildren","SingleClassPage","InfoPage","PostReview","StarredClasses","isWeb","starredCourses","setStarredCourses","FlatList","courseData","handleRemoveStarredClass","CurrentTermLabel","textStyle","ClassesList","setMenuOpen","addedClassesVisible","filtersMenuVisible","listRef","setListRef","swapAddedClasses","fetchUserInfo","getClasses","classListLoading","userInfoSuccess","isSuccess","fetchClasses","content","isClassAdded","handleRefresh","handleMassImport","courseCodes","matchAll","reduce","accumulator","matches","collegeParts","newCourseCode","courseInfo","inItemSize","ListHeaderComponent","Presets","easeInEaseOut","onScroll","scrollEventThrottle","maxToRenderPerBatch","initialNumToRender","onEndReachedThreshold","onEndReached","tintColor","titleColor","scrollToOffset","offset","filteredColleges","c","renderFilteredCollegesList","ClassListPage","CalendarFunctions","string","charIndex","this","getColor","minuteHeight","allClassData","masterClassInfo","meetingTime","setMenuCourseCode","disableLongPress","extraTransparency","calendarFun","universalHeight","startHour","startMinute","endHour","endMinute","stringToColour","getMinutesDiff","adjustsFontSizeToFit","numberOfLines","Math","random","renderCustomEvent","event","setMenuEvent","days","CalendarRender","overrideData","showOverlay","setShowOverlay","topBar","verticalRef","setCurrentTime","startingOffset","dimensions","rightWidth","setRightWidth","menuCourseCode","menuCustomEvent","setMenuCustomEvent","leftWidth","_panResponder","getPanResponder","isDividerClicked","setIsDividerClicked","threeDayWidth","fiveDayWidth","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","overrideClassesToRender","setOverrideClassesToRender","today","stringOverrideData","getOverrideCourseData","setInterval","renderCustomEvents","elem","disableInteractions","finalRender","customEvents","eventIsThisDay","showThisWeek","PanResponder","onMoveShouldSetResponderCapture","onMoveShouldSetPanResponderCapture","onPanResponderGrant","gestureState","onPanResponderMove","newRight","moveX","onPanResponderRelease","dayString","dayOfWeek","adjustDays","getMs","seconds","dateOfEvent","currentDate","currentDayOfWeek","startOfWeek","valueOf","getSeconds","endOfWeek","renderDashes","borderBottomColor","renderClasses","toReversed","getFullClassData","data2","renderClassesForOverride","courseTime","renderDeleteModal","onRemove","onCancel","maxHeight","animationOut","masterRender","horizontal","snapToInterval","showsHorizontalScrollIndicator","contentOffset","bounces","decelerationRate","nativeEvent","onMomentumScrollBegin","panHandlers","removeCustomEvent","catch","bottom","CalendarPage","LogBox","ignoreAllLogs","WrapItems","childStyle","LayoutProps","Children","child","CreateCustomEvent","showDots","setShowDots","dateToUse","selectedDate","setSelectedDate","isOneDay","setIsOneDay","allValuesPopulated","setAllValuesPopulated","daysArray","setDaysArray","setStartTime","setEndTime","eventTitle","setEventTitle","toISOString","showTimePickerAndroid","setShowTimePickerAndroid","timePickerOptions","setTime","formatAMPM","Title","mode","testID","addCustomEvent","toTimeString","setTimeout","exportSchedule","convert","isSchedule","Calendar","leftComponent","rightComponent","trackBar","activeBackgroundColor","inActiveBackgroundColor","thumbButton","activeColor","inActiveColor","animationDuration","events","dayMapping","icsEvents","courseStatus","location","startDateTime","endDateTime","vevent","exportToICal","flatMap","animation","gestureDirection","SingleChatRoom","imagePickerStatus","requestImagePickerPermission","cameraStatus","requestCameraPermission","setFilter","showSearch","setShowSearch","contentImage","photoSelected","setPhotoSelected","addOrRemoveUser","isCustomRoom","keyboardShown","setKeyboardShown","retryNumber","setRetryNumber","failedConnection","setFailedConnection","hardDisableSend","setHardDisableSend","showUserList","setShowUserList","setMessage","filteredMessageList","setFilteredMessageList","loaded","setLoaded","messageList","setMessageList","socket","io","auth","isUserBlocked","dataToUse","blockedUsers","addMessage","messageToAdd","myMessage","mess","isEqualTo","isUnsent","message1","message2","granted","mediaTypes","Images","canceled","assets","newMessage","emit","isImage","photo","deletionAlert","messageToDelete","SHORT","positions","CENTER","deleteTheMessage","cancelable","ignoreLogs","showListener","addListener","hideListener","remove","setOptions","headerRight","connect","timer","off","disconnect","close","on","clearTimeout","array","useIsFocused","msg","toSpliced","windowHeight","SafeAreaView","messagingScreen","toSorted","unblockUser","blockUser","newUserData","reverse","inverted","messagingInputContainer","messagingInput","editable","messagingButtonContainer","CreateChatRoom","isDisabled","setIsDisabled","setNameOfChatRoom","setRecipients","nameToAdd","handleAddValue","ChatRoomsNavigator","ChatsRoomNavigation","Chats","availableChats","setAvailableChats","generateChatRooms","realPayload","chats","permissionLevel","lastModifiedDate","useFocusEffect","chat","timeButton","timeText","actualTimeText","timeStyle","borderLeftColor","containerForNotifications","NotificationHomePage","NotificationsNavigation","notifications","setNotifications","isOpen","setIsOpen","refreshNotifications","bodyTosend","createNotificationButton","getDateText","spaceIndex","first","isMoving","setIsMoving","postId","newNotifications","not","scrollEnabled","notification","disableRightSwipe","onSwipeValueChange","handleOnLeftSwipe","creationDate","courseSimpleData","repliable","done","setDone","tempBody","renderInputFields","sendNotification","EditProfileHeader","saveChanges","EditUser","inputs","profileDescription","propOptions","linkedin","setFields","changedFields","SettingsPage","settingsDisabled","setSettingsDisabled","colorScheme","useColorScheme","currentVersion","manifest2","extra","expoClient","version","manifest","logOut","resetClassPages","resetDiscover","resetAppData","resetApiState","handleDeleteAccount","handleSettingsChange","settingName","settings","handleUseDeviceSettingToggled","handleDarkModeToggled","newReview","alertNotifications","chatNotifications","Settings","Group","presentation","Menu","menuItems","setMenuItems","Feather","sponsorsApiSlice","refreshSponsors","postSponsorVisit","sponsorId","useLazyRefreshSponsorsQuery","usePostSponsorVisitMutation","windowWidth","SponsorPage","isDarkMode","setImageIndex","setIsVisible","canOpenLink","setCanOpenLink","postSponsorVisitQuery","videoLinkArray","videoLink","Linking","canOpenURL","website","funct","phoneNumber","openURL","img","coupons","couponDescription","dayOfTheWeek","openTime","closeTime","SponsorsList","sponsorFilters","setSponsorFilters","gotSponsors","setGotSponsors","refreshSponsorsQuery","tabNames","tags","tempFilters","getFilters","shouldLimitPrint","filterName","getTheSponsors","sponsorsToSend","renderSponsorsBasedOnFilters","starredFinal","object","departments","ElectiveGenerator","departmentQuery","setDepartmentQuery","departmentOptions","setDepartmentOptions","setDescription","getClassesByDepartment","department","onChangeDepartmentText","getWords","wordList","wordListWithSynonyms","word","synonyms","cleanedDescription","classesByDepartment","aWords","bWords","aMatches","SearchClasses","hasSelectedElectiveGenerator","numberOfNotifications","setNumberOfNotifications","Foundation","CreateImage","discoverPostInputs","setDiscoverPostInputs","TagInput","showTitle","onPressCamera","newText","imagePicker","CreateEvent","setDate","formatDateService","NativeDateService","dateService","nextDate","placement","AntDesign","contentUrl","host","postsAdapter","createEntityAdapter","selectId","post","tranformComments","comments","comment","numLikes","likes","hasLiked","discoverApiSlice","getDiscoverPosts","keepUnusedDataFor","pageLength","_","addMany","hasMorePages","ids","postsSelectors","selectAll","createDiscoverPost","emoji","postBody","pinned","newPost","addOne","deleteDiscoverPost","searchPatchResult","removeOne","getPostById","updatedPost","updateFunction","updateOne","changes","likePost","postAuthor","selectById","addComment","initiate","likeComment","commentId","deleteComment","getSelectors","useLazyGetDiscoverPostsQuery","useCreateDiscoverPostMutation","useDeleteDiscoverPostMutation","useLikePostMutation","useAddCommentMutation","useLazyGetPostByIdQuery","useLikeCommentMutation","useDeleteCommentMutation","OptionalText","CreatePost","selectedTagIndex","setSelectedTagIndex","selectedPostTypeIndex","setSelectedPostTypeIndex","setError","isEmojiShown","setIsEmojiShown","tagArray","submitEvent","submitImage","contentText","toast","hide","groupedData","DebounceTouchable","WrappedComponent","PreventDoubleClick","debouncedOnPress","debounce","leading","trailing","PureComponent","displayName","withPreventDoubleClick","BottomBar","commentIconShown","searchedTag","selectFromResult","onPressLike","DoubleTap","lastTap","handleDoubleTap","now","delay","onDoubleTap","Component","defaultProps","forwardRef","iconStyle","useImperativeHandle","animate","opacityAnim","scaleAnim","heartRotation","setHeartRotation","floor","pickRandomDegree","parallel","timing","easing","Easing","bounce","rotate","ImageComponent","apiInfo","likeRef","handlePressLike","DoubleTapHeart","EventBody","link","contentURL","truncated","eventInfo","EventCard","pinnedIcon","isAdded","setIsAdded","toggleAdditionOfEvent","isAdd","customEvent","ImageCard","SponsorCard","imageLink","setImageLink","hasCoupon","TouchableHighlight","onError","becomeSponsor","ImageBackground","TextCard","isUrl","renderTextBody","PostsList","handleRemoveRecentSearch","handleClickRecentSearch","fetchPosts","isFetching","posts","fetchFirstPage","fetchMorePosts","PinIcon","MaterialIcons","commonProps","isSponsor","sponsorProps","FooterSpinner","keyboardShouldPersistTaps","ListFooterComponent","Divider","SearchPage","searchBarBackgroundColor","DisabledFieldModal","FullPageSpinner","Comment","isOwnComment","isExpanded","setIsExpanded","handleLikeComment","handleDeleteComment","SinglePostBody","handleLikePost","RegExp","test","href","SinglePost","setComment","inputFocused","setInputFocused","refreshPost","refreshPostLoading","addCommentLoading","deletePost","deletePostLoading","handleRefreshPost","handleDeletePost","handleSubmitComment","footer","Discover","setSearchTerm","initialParams","onPressIn","icons","Proxy","target","IconProvider","toReactElement","flatten","FeatherIcon","FontAwesomeIcon","persistor","persistStore","Tab","createBottomTabNavigator","ExpoSplashScreen","Notifications","handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","registerForPushNotificationsAsync","token","isDevice","existingStatus","finalStatus","importance","MAX","vibrationPattern","lightColor","App","localCurrentSection","isReady","setIsReady","setNotification","notificationListener","responseListener","fetchedCurrentSection","fetchedUserData","checkForUpdates","prepare","currentFrontEndVersion","v1","v2","lexicographical","zeroExtend","v1parts","v2parts","isValidPart","every","NaN","versionCompare","NavigationContainer","documentTitle","formatter","DarkTheme","DefaultTheme","Theme","StatusBar","FontAwesomeIconsPack","FeatherIconsPack","overflow","TabsPage","tabBarHideOnKeyboard","tabBarIcon","focused","iconName","tabBarStyle","lazy","ClassPages","tabBarLabel","unmountOnBlur","registerRootComponent"],"mappings":"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ACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,qEACA,qEACA,qEACA,eACA,mDACA,mDACA,mDACA,eACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,iCACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,SACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,OACA,OACA,SACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,4BCvxDK,SAASC,GAAYC,GAC1B,MAAUC,2EAAoBD,EAAO,OAsEhC,IAAME,GAAgB,SAACC,GAC5B,IAAKA,EACH,MAAO,GAGT,IADA,IAAIC,EAAM,EACDC,EAAI,EAAGA,EAAIF,EAAIG,SAAUD,EAChCD,GAAOD,EAAII,WAAWF,IAAMA,EAG9B,OADcP,GAAWM,EAAMN,GAAWQ,SAiBrC,SAASE,GAAUC,GAA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OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,KACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,MACA,MACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,OACA,OACA,KACA,MACA,MACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,MACA,OACA,OACA,OACA,QC/Ea,SAASC,GAAkB,GAAsB,IAApBpiC,EAAU,EAAVA,WACpCpO,EAAWiL,KACjB,EAA8CuB,mBAAS,IAAG,WAAnDikC,EAAe,KAAEC,EAAkB,KAC1C,EAAkDlkC,mBAAS+jC,IAAY,WAAhEI,EAAiB,KAAEC,EAAoB,KAC9C,EAAsCpkC,mBAAS,IAAG,WAA3C6G,EAAW,KAAEw9B,EAAc,KAE5B51C,EAAUkQ,GAAerD,IAEzBgpC,EAAyBjjC,uBAAY,SAACkjC,GAC1C,MAAmB,oBAAfA,EAAyCv9C,OAAO+L,QAAQtE,GACrDzH,OAAO+L,QAAQtE,GAAS2F,QAAO,YAAe,IAAD,WAAZpL,EAAG,KAAG,KAE5C,OADwBA,EAAI0D,MAAM,KAAK,KACZ63C,OAE5B,IAEHtjC,qBAAU,WACRzN,EAASuE,QACR,IAEH,IAAMysC,EAAyBnjC,uBAAY,SAAC1T,GAC1Cu2C,EAAmBv2C,GACnBy2C,EACEL,GAAY3vC,QAAO,SAACmwC,GAAU,OAC5BA,EAAW/pC,SAAS7M,EAAM8M,qBAG7B,IAkCGgqC,EAAW,SAAC70C,GAChB,IAAM80C,EAAW90C,EACdkwB,cACA52B,QAAQ,+BAAgC,IACxCA,QAAQ,UAAW,KACnBwD,MAAM,KAELi4C,EAAuB,GAE3B,IAAK,IAAMC,KAAQF,EACbG,GAASD,KACXD,EAAqB31C,KAAK41C,GAC1BD,EAAuBA,EAAqBnmC,OA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","file":"static/js/app.ce5f82ee.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/app-logo-transparent.1ede614a.png\";","module.exports = __webpack_public_path__ + \"static/media/coupon.84c88381.png\";","module.exports = __webpack_public_path__ + \"static/media/become-sponsor.513cb6e7.png\";","module.exports = __webpack_public_path__ + \"static/media/splash-logo.2b1029f0.png\";","var map = {\n\t\"./af\": 412,\n\t\"./af.js\": 412,\n\t\"./ar\": 413,\n\t\"./ar-dz\": 414,\n\t\"./ar-dz.js\": 414,\n\t\"./ar-kw\": 415,\n\t\"./ar-kw.js\": 415,\n\t\"./ar-ly\": 416,\n\t\"./ar-ly.js\": 416,\n\t\"./ar-ma\": 417,\n\t\"./ar-ma.js\": 417,\n\t\"./ar-sa\": 418,\n\t\"./ar-sa.js\": 418,\n\t\"./ar-tn\": 419,\n\t\"./ar-tn.js\": 419,\n\t\"./ar.js\": 413,\n\t\"./az\": 420,\n\t\"./az.js\": 420,\n\t\"./be\": 421,\n\t\"./be.js\": 421,\n\t\"./bg\": 422,\n\t\"./bg.js\": 422,\n\t\"./bm\": 423,\n\t\"./bm.js\": 423,\n\t\"./bn\": 424,\n\t\"./bn-bd\": 425,\n\t\"./bn-bd.js\": 425,\n\t\"./bn.js\": 424,\n\t\"./bo\": 426,\n\t\"./bo.js\": 426,\n\t\"./br\": 427,\n\t\"./br.js\": 427,\n\t\"./bs\": 428,\n\t\"./bs.js\": 428,\n\t\"./ca\": 429,\n\t\"./ca.js\": 429,\n\t\"./cs\": 430,\n\t\"./cs.js\": 430,\n\t\"./cv\": 431,\n\t\"./cv.js\": 431,\n\t\"./cy\": 432,\n\t\"./cy.js\": 432,\n\t\"./da\": 433,\n\t\"./da.js\": 433,\n\t\"./de\": 434,\n\t\"./de-at\": 435,\n\t\"./de-at.js\": 435,\n\t\"./de-ch\": 436,\n\t\"./de-ch.js\": 436,\n\t\"./de.js\": 434,\n\t\"./dv\": 437,\n\t\"./dv.js\": 437,\n\t\"./el\": 438,\n\t\"./el.js\": 438,\n\t\"./en-au\": 439,\n\t\"./en-au.js\": 439,\n\t\"./en-ca\": 440,\n\t\"./en-ca.js\": 440,\n\t\"./en-gb\": 441,\n\t\"./en-gb.js\": 441,\n\t\"./en-ie\": 442,\n\t\"./en-ie.js\": 442,\n\t\"./en-il\": 443,\n\t\"./en-il.js\": 443,\n\t\"./en-in\": 444,\n\t\"./en-in.js\": 444,\n\t\"./en-nz\": 445,\n\t\"./en-nz.js\": 445,\n\t\"./en-sg\": 446,\n\t\"./en-sg.js\": 446,\n\t\"./eo\": 447,\n\t\"./eo.js\": 447,\n\t\"./es\": 448,\n\t\"./es-do\": 449,\n\t\"./es-do.js\": 449,\n\t\"./es-mx\": 450,\n\t\"./es-mx.js\": 450,\n\t\"./es-us\": 451,\n\t\"./es-us.js\": 451,\n\t\"./es.js\": 448,\n\t\"./et\": 452,\n\t\"./et.js\": 452,\n\t\"./eu\": 453,\n\t\"./eu.js\": 453,\n\t\"./fa\": 454,\n\t\"./fa.js\": 454,\n\t\"./fi\": 455,\n\t\"./fi.js\": 455,\n\t\"./fil\": 456,\n\t\"./fil.js\": 456,\n\t\"./fo\": 457,\n\t\"./fo.js\": 457,\n\t\"./fr\": 458,\n\t\"./fr-ca\": 459,\n\t\"./fr-ca.js\": 459,\n\t\"./fr-ch\": 460,\n\t\"./fr-ch.js\": 460,\n\t\"./fr.js\": 458,\n\t\"./fy\": 461,\n\t\"./fy.js\": 461,\n\t\"./ga\": 462,\n\t\"./ga.js\": 462,\n\t\"./gd\": 463,\n\t\"./gd.js\": 463,\n\t\"./gl\": 464,\n\t\"./gl.js\": 464,\n\t\"./gom-deva\": 465,\n\t\"./gom-deva.js\": 465,\n\t\"./gom-latn\": 466,\n\t\"./gom-latn.js\": 466,\n\t\"./gu\": 467,\n\t\"./gu.js\": 467,\n\t\"./he\": 468,\n\t\"./he.js\": 468,\n\t\"./hi\": 469,\n\t\"./hi.js\": 469,\n\t\"./hr\": 470,\n\t\"./hr.js\": 470,\n\t\"./hu\": 471,\n\t\"./hu.js\": 471,\n\t\"./hy-am\": 472,\n\t\"./hy-am.js\": 472,\n\t\"./id\": 473,\n\t\"./id.js\": 473,\n\t\"./is\": 474,\n\t\"./is.js\": 474,\n\t\"./it\": 475,\n\t\"./it-ch\": 476,\n\t\"./it-ch.js\": 476,\n\t\"./it.js\": 475,\n\t\"./ja\": 477,\n\t\"./ja.js\": 477,\n\t\"./jv\": 478,\n\t\"./jv.js\": 478,\n\t\"./ka\": 479,\n\t\"./ka.js\": 479,\n\t\"./kk\": 480,\n\t\"./kk.js\": 480,\n\t\"./km\": 481,\n\t\"./km.js\": 481,\n\t\"./kn\": 482,\n\t\"./kn.js\": 482,\n\t\"./ko\": 483,\n\t\"./ko.js\": 483,\n\t\"./ku\": 484,\n\t\"./ku.js\": 484,\n\t\"./ky\": 485,\n\t\"./ky.js\": 485,\n\t\"./lb\": 486,\n\t\"./lb.js\": 486,\n\t\"./lo\": 487,\n\t\"./lo.js\": 487,\n\t\"./lt\": 488,\n\t\"./lt.js\": 488,\n\t\"./lv\": 489,\n\t\"./lv.js\": 489,\n\t\"./me\": 490,\n\t\"./me.js\": 490,\n\t\"./mi\": 491,\n\t\"./mi.js\": 491,\n\t\"./mk\": 492,\n\t\"./mk.js\": 492,\n\t\"./ml\": 493,\n\t\"./ml.js\": 493,\n\t\"./mn\": 494,\n\t\"./mn.js\": 494,\n\t\"./mr\": 495,\n\t\"./mr.js\": 495,\n\t\"./ms\": 496,\n\t\"./ms-my\": 497,\n\t\"./ms-my.js\": 497,\n\t\"./ms.js\": 496,\n\t\"./mt\": 498,\n\t\"./mt.js\": 498,\n\t\"./my\": 499,\n\t\"./my.js\": 499,\n\t\"./nb\": 500,\n\t\"./nb.js\": 500,\n\t\"./ne\": 501,\n\t\"./ne.js\": 501,\n\t\"./nl\": 502,\n\t\"./nl-be\": 503,\n\t\"./nl-be.js\": 503,\n\t\"./nl.js\": 502,\n\t\"./nn\": 504,\n\t\"./nn.js\": 504,\n\t\"./oc-lnc\": 505,\n\t\"./oc-lnc.js\": 505,\n\t\"./pa-in\": 506,\n\t\"./pa-in.js\": 506,\n\t\"./pl\": 507,\n\t\"./pl.js\": 507,\n\t\"./pt\": 508,\n\t\"./pt-br\": 509,\n\t\"./pt-br.js\": 509,\n\t\"./pt.js\": 508,\n\t\"./ro\": 510,\n\t\"./ro.js\": 510,\n\t\"./ru\": 511,\n\t\"./ru.js\": 511,\n\t\"./sd\": 512,\n\t\"./sd.js\": 512,\n\t\"./se\": 513,\n\t\"./se.js\": 513,\n\t\"./si\": 514,\n\t\"./si.js\": 514,\n\t\"./sk\": 515,\n\t\"./sk.js\": 515,\n\t\"./sl\": 516,\n\t\"./sl.js\": 516,\n\t\"./sq\": 517,\n\t\"./sq.js\": 517,\n\t\"./sr\": 518,\n\t\"./sr-cyrl\": 519,\n\t\"./sr-cyrl.js\": 519,\n\t\"./sr.js\": 518,\n\t\"./ss\": 520,\n\t\"./ss.js\": 520,\n\t\"./sv\": 521,\n\t\"./sv.js\": 521,\n\t\"./sw\": 522,\n\t\"./sw.js\": 522,\n\t\"./ta\": 523,\n\t\"./ta.js\": 523,\n\t\"./te\": 524,\n\t\"./te.js\": 524,\n\t\"./tet\": 525,\n\t\"./tet.js\": 525,\n\t\"./tg\": 526,\n\t\"./tg.js\": 526,\n\t\"./th\": 527,\n\t\"./th.js\": 527,\n\t\"./tk\": 528,\n\t\"./tk.js\": 528,\n\t\"./tl-ph\": 529,\n\t\"./tl-ph.js\": 529,\n\t\"./tlh\": 530,\n\t\"./tlh.js\": 530,\n\t\"./tr\": 531,\n\t\"./tr.js\": 531,\n\t\"./tzl\": 532,\n\t\"./tzl.js\": 532,\n\t\"./tzm\": 533,\n\t\"./tzm-latn\": 534,\n\t\"./tzm-latn.js\": 534,\n\t\"./tzm.js\": 533,\n\t\"./ug-cn\": 535,\n\t\"./ug-cn.js\": 535,\n\t\"./uk\": 536,\n\t\"./uk.js\": 536,\n\t\"./ur\": 537,\n\t\"./ur.js\": 537,\n\t\"./uz\": 538,\n\t\"./uz-latn\": 539,\n\t\"./uz-latn.js\": 539,\n\t\"./uz.js\": 538,\n\t\"./vi\": 540,\n\t\"./vi.js\": 540,\n\t\"./x-pseudo\": 541,\n\t\"./x-pseudo.js\": 541,\n\t\"./yo\": 542,\n\t\"./yo.js\": 542,\n\t\"./zh-cn\": 543,\n\t\"./zh-cn.js\": 543,\n\t\"./zh-hk\": 544,\n\t\"./zh-hk.js\": 544,\n\t\"./zh-mo\": 545,\n\t\"./zh-mo.js\": 545,\n\t\"./zh-tw\": 546,\n\t\"./zh-tw.js\": 546\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 869;","module.exports = __webpack_public_path__ + \"static/media/owl-black-text.6f7231df.png\";","module.exports = __webpack_public_path__ + \"static/media/owl-white-text.9861cc3f.png\";","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Appearance } from 'react-native';\n\nimport type { RootState } from './store';\n\n// Define a type for the slice state\ninterface AppDataState {\n  userKey: string;\n  isGuest: boolean;\n  isMobile: boolean;\n  darkMode: boolean;\n  useDeviceColorScheme: boolean;\n  isCacheReset: boolean; // Remove after 1/1/2024\n}\n\n// Define the initial state using that type\nconst initialState: AppDataState = {\n  userKey: '',\n  isGuest: false,\n  isMobile: false,\n  darkMode: false,\n  useDeviceColorScheme: false,\n  isCacheReset: false\n};\n\nexport const appDataSlice = createSlice({\n  name: 'appData',\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    cacheReset: (state) => {\n      state.isCacheReset = true;\n    },\n    userKeyUpdated: (state, action: PayloadAction<string>) => {\n      state.userKey = action.payload;\n    },\n    setIsGuest: (state, action: PayloadAction<boolean>) => {\n      state.isGuest = action.payload;\n    },\n    deviceDarkModeSet: (state, action: PayloadAction<boolean>) => {\n      state.darkMode = action.payload;\n    },\n    useDeviceColorSchemeSet: (state, action: PayloadAction<boolean>) => {\n      state.useDeviceColorScheme = action.payload;\n    },\n    deleteAllAppData: (state) => {\n      state.userKey = '';\n      state.isGuest = false;\n      state.darkMode = true;\n    },\n    mobileSiteSet: (state, action: PayloadAction<boolean>) => {\n      state.isMobile = action.payload;\n    }\n  },\n  extraReducers: () => {}\n});\n\n// Selectors\nexport const selectDarkMode = (state: RootState) => state.appData.secure.darkMode;\n\nexport const selectUserKey = (state: RootState) => state.appData.secure.userKey;\n\nexport const selectIsGuest = (state: RootState) => state.appData.secure.isGuest;\n\nexport const selectMobile = (state: RootState) => state.appData.secure.isMobile;\n\n// Actions\nexport const {\n  userKeyUpdated,\n  setIsGuest,\n  deleteAllAppData,\n  reset,\n  deviceDarkModeSet,\n  useDeviceColorSchemeSet,\n  mobileSiteSet,\n  cacheReset\n} = appDataSlice.actions;\n\nexport default appDataSlice.reducer;\n","import * as SecureStore from 'expo-secure-store';\n\nexport default function createSecureStorage(options: any = {}) {\n  const replaceCharacter = options.replaceCharacter || '_';\n  const replacer = options.replacer || defaultReplacer;\n\n  return {\n    getItem: (key: string) => SecureStore.getItemAsync(replacer(key, replaceCharacter), options),\n    setItem: (key: string, value: string) => SecureStore.setItemAsync(replacer(key, replaceCharacter), value, options),\n    removeItem: (key: string) => SecureStore.deleteItemAsync(replacer(key, replaceCharacter), options)\n  };\n}\n\nfunction defaultReplacer(key: string, replaceCharacter: string) {\n  return key.replace(/[^a-z0-9.\\-_]/gi, replaceCharacter);\n}\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { PayloadAction } from '@reduxjs/toolkit';\n\ninterface CalendarState {\n  isThreeDay: boolean;\n}\n\nconst initialState: CalendarState = {\n  isThreeDay: false\n};\n\nexport const calendarSlice = createSlice({\n  name: 'discover',\n  initialState,\n  reducers: {\n    reset: (state) => (state = initialState),\n    isThreeDaySet: (state, action: PayloadAction<boolean>) => {\n      state.isThreeDay = action.payload;\n    }\n  }\n});\n\nexport const { reset, isThreeDaySet } = calendarSlice.actions;\n\nexport default calendarSlice.reducer;\n","export const DISCOVER_LIST_PAGE_SIZE = 5;\n\nexport const tagIndices = [\n  'Clubs',\n  'Events',\n  'College News',\n  'Courses',\n  'HMC',\n  'Pomona',\n  'CMC',\n  'Pitzer',\n  'Scripps'\n];\n\nexport const adminTagIndices = [\n  'Athena Network',\n  'Clubs',\n  'Events',\n  'College News',\n  'Courses',\n  'HMC',\n  'Pomona',\n  'CMC',\n  'Pitzer',\n  'Scripps'\n];\n\nexport const MAX_WIDTH_WEB = 700;\n\nexport const postOptions = ['Image Post', 'Text Post', 'Link', 'Event'];\n\nexport const IMAGE_BUCKET_URL = 'https://athena-image-storage.s3.us-west-2.amazonaws.com/imagePostImages';\n\nexport const EMOJI_LIST = [\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '#',\n  '*',\n  '0',\n  '1',\n  '2',\n  '3',\n  '4',\n  '5',\n  '6',\n  '7',\n  '8',\n  '9',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  ''\n];\n","import Toast from 'react-native-root-toast';\n\nimport { ClassTime } from './app/types';\nimport { EMOJI_LIST, IMAGE_BUCKET_URL } from './constants/discover';\n\nexport function getRndInteger(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport function getImageUrl(imageId: string) {\n  return `${IMAGE_BUCKET_URL}/${imageId}.jpg`;\n}\n\nexport function nFormatter(num: number, digits: number) {\n  const lookup = [\n    { value: 1, symbol: '' },\n    { value: 1e3, symbol: 'k' },\n    { value: 1e6, symbol: 'M' },\n    { value: 1e9, symbol: 'G' },\n    { value: 1e12, symbol: 'T' },\n    { value: 1e15, symbol: 'P' },\n    { value: 1e18, symbol: 'E' }\n  ];\n  const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n  const item = lookup\n    .slice()\n    .reverse()\n    .find((item) => {\n      return num >= item.value;\n    });\n  return item\n    ? (num / item.value).toFixed(digits).replace(rx, '$1') + item.symbol\n    : '0';\n}\n\nexport function versionCompare(v1: string, v2: string, options?: any) {\n  const lexicographical = options && options.lexicographical;\n  const zeroExtend = options && options.zeroExtend;\n  let v1parts = v1.split('.') as any[];\n  let v2parts = v2.split('.') as any[];\n\n  function isValidPart(x) {\n    return (lexicographical ? /^\\d+[A-Za-z]*$/ : /^\\d+$/).test(x);\n  }\n\n  if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {\n    return NaN;\n  }\n\n  if (zeroExtend) {\n    while (v1parts.length < v2parts.length) v1parts.push('0');\n    while (v2parts.length < v1parts.length) v2parts.push('0');\n  }\n\n  if (!lexicographical) {\n    v1parts = v1parts.map(Number);\n    v2parts = v2parts.map(Number);\n  }\n\n  for (let i = 0; i < v1parts.length; ++i) {\n    if (v2parts.length === i) {\n      return 1;\n    }\n\n    if (v1parts[i] === v2parts[i]) {\n      continue;\n    } else if (v1parts[i] > v2parts[i]) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n\n  if (v1parts.length !== v2parts.length) {\n    return -1;\n  }\n\n  return 0;\n}\n\nexport const stringToEmoji = (str: string) => {\n  if (!str) {\n    return '';\n  }\n  let dec = 0;\n  for (let i = 0; i < str.length; ++i) {\n    dec += str.charCodeAt(i) << i;\n  }\n  const emoji = EMOJI_LIST[dec % EMOJI_LIST.length];\n  return emoji;\n};\n\nexport function validURL(str: string) {\n  const pattern = new RegExp(\n    '^(https?:\\\\/\\\\/)?' + // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n      '(\\\\#[-a-z\\\\d_]*)?$',\n    'i'\n  ); // fragment locator\n  return !!pattern.test(str);\n}\n\nexport function showToast(message: string, backgroundColor = '#000') {\n  Toast.show(message, {\n    duration: Toast.durations.LONG,\n    opacity: 1,\n    position: -100,\n    backgroundColor,\n    shadow: false\n  });\n}\n\n// Format range with 12 hour time\nexport const FormatTimeRange = (start: string, end: string) => {\n  const startDate = new Date(start);\n  const endDate = new Date(end);\n\n  const startHours = startDate.getHours() % 12 || 12;\n  const startMinutes = startDate.getMinutes();\n  const startAmPm = startDate.getHours() >= 12 ? 'pm' : 'am';\n  const endHours = endDate.getHours() % 12 || 12;\n  const endMinutes = endDate.getMinutes();\n  const endAmPm = endDate.getHours() >= 12 ? 'pm' : 'am';\n  return `${startHours}:${startMinutes}${startAmPm} - ${endHours}:${endMinutes}${endAmPm}`;\n};\n\nconst weekDayNumberToName = {\n  0: 'Sunday',\n  1: 'Monday',\n  2: 'Tuesday',\n  3: 'Wednesday',\n  4: 'Thursday',\n  5: 'Friday',\n  6: 'Saturday'\n};\n\nexport const FormatDate = (date: string) => {\n  const newDate = new Date(date);\n\n  const weekDay = newDate.getDay();\n  const month = newDate.getMonth() + 1;\n  const day = newDate.getDate();\n  return `${weekDayNumberToName[weekDay]}, ${month}/${day}`;\n};\n\nexport const exportToICal = (events: ClassTime[]): string => {\n  const formatDate = (date: Date) => {\n    return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';\n  };\n\n  const dayMapping: { [key: string]: string } = {\n    Sunday: 'SU',\n    Monday: 'MO',\n    Tuesday: 'TU',\n    Wednesday: 'WE',\n    Thursday: 'TH',\n    Friday: 'FR',\n    Saturday: 'SA'\n  };\n\n  let icsEvents = [];\n\n  for (const event of events) {\n    for (const schedule of event.courseSchedule) {\n      const days = schedule.daysOfTheWeek\n        .map((day) => dayMapping[day])\n        .join(',');\n\n      const summary = `${event.courseName} (${event.courseCode})`;\n      const description = `Professor: ${event.professorName}\\nSeats Filled: ${event.seatsFilled}\\nCourse Status: ${event.courseStatus}`;\n      const location = schedule.classLocation;\n\n      const startDateTime = `T${schedule.startTime.replace(':', '')}00Z`;\n      const endDateTime = `T${schedule.endTime.replace(':', '')}00Z`;\n\n      const vevent = `\nBEGIN:VEVENT\nUID:${event._id}-${schedule._id}\nDTSTAMP:${formatDate(new Date())}\nDTSTART:${startDateTime}\nDTEND:${endDateTime}\nRRULE:FREQ=WEEKLY;BYDAY=${days}\nSUMMARY:${summary}\nLOCATION:${location}\nDESCRIPTION:${description}\nEND:VEVENT\n`;\n\n      icsEvents.push(vevent);\n    }\n  }\n\n  return `\nBEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//AthenaNetwork//Event Calendar//EN\n${icsEvents.join('\\n')}\nEND:VCALENDAR\n`;\n};\n\nexport const getMasterCourseCodeFromCourseCode = (courseCode: string) => {\n  const courseCodeParts = courseCode.split('-');\n  return courseCodeParts.slice(0, courseCodeParts.length - 1).join('-');\n};\n\nexport const getTimeAsNumberOfMinutes = (time: string) => {\n  var timeParts = time.split(':');\n\n  var timeInMinutes = parseInt(timeParts[0]) * 60 + parseInt(timeParts[1]);\n\n  return timeInMinutes;\n};\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const apiSlice = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://api.athenaserver.com:5678/api'\n  }),\n  tagTypes: ['User', 'Posts'],\n  endpoints: (builder) => ({\n    getCurrentVersion: builder.query<any, void>({\n      query: () => '/randomShit/getCurrentVersion'\n    })\n  })\n});\n\nexport const { useLazyGetCurrentVersionQuery } = apiSlice;\n","import {\n  AddedClasses,\n  UserData,\n  UserDataApiRes\n} from '../../app/types';\nimport { apiSlice } from './apiSlice';\n\nexport const usersApiSlice = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    getUserInfo: builder.query({\n      providesTags: ['User'],\n      query: (userKey: string) => ({\n        url: '/users/me',\n        headers: {\n          userKey\n        }\n      }),\n      transformErrorResponse: (response) => {\n        if (response.status === 401) {\n          return { error: 'Unauthorized' };\n        }\n        return response;\n      },\n      transformResponse: ({\n        classes,\n        starredClasses,\n        ...rest\n      }: UserDataApiRes) => {\n        const addedClasses = {\n          length: 0,\n          classes: {},\n          orderedClasses: {},\n          starredClasses: {}\n        } as AddedClasses;\n\n        // Add classes to orderedClasses\n        classes.forEach(({ courseCode, courseTerm }) => {\n          if (courseTerm in addedClasses.orderedClasses) {\n            addedClasses.orderedClasses[courseTerm].push(courseCode);\n          } else {\n            addedClasses.orderedClasses[courseTerm] = [courseCode];\n          }\n        });\n        // Add classes to unordered classes\n        for (const { courseCode, courseTerm } of classes) {\n          try {\n            let schoolParts = courseCode.split('-');\n            schoolParts = schoolParts[schoolParts.length - 2].split(' ');\n            const school = schoolParts[schoolParts.length - 1];\n            const masterCourseCode = `${courseCode\n              .split(' ')\n              .slice(0, 2)\n              .join(' ')} ${school}`;\n            if (courseTerm in addedClasses.classes) {\n              if (masterCourseCode in addedClasses.classes[courseTerm]) {\n                addedClasses.classes[courseTerm][masterCourseCode].push(\n                  courseCode\n                );\n              } else {\n                addedClasses.classes[courseTerm][masterCourseCode] = [\n                  courseCode\n                ];\n              }\n            } else {\n              addedClasses.classes[courseTerm] = {\n                [masterCourseCode]: [courseCode]\n              };\n            }\n\n            addedClasses.length++;\n          } catch (e) {\n            console.warn('Error Adding Classes To State', e);\n          }\n        }\n        // Add classes to starred classes\n        for (const { courseCode, courseTerm } of starredClasses) {\n          try {\n            let schoolParts = courseCode.split('-');\n            schoolParts = schoolParts[schoolParts.length - 2].split(' ');\n            const school = schoolParts[schoolParts.length - 1];\n            const masterCourseCode = `${courseCode\n              .split(' ')\n              .slice(0, 2)\n              .join(' ')} ${school}`;\n            if (courseTerm in addedClasses.starredClasses) {\n              if (masterCourseCode in addedClasses.starredClasses[courseTerm]) {\n                addedClasses.starredClasses[courseTerm][masterCourseCode].push(\n                  courseCode\n                );\n              } else {\n                addedClasses.starredClasses[courseTerm][masterCourseCode] = [\n                  courseCode\n                ];\n              }\n            } else {\n              addedClasses.starredClasses[courseTerm] = {\n                [masterCourseCode]: [courseCode]\n              };\n            }\n          } catch (e) {\n            console.log('Error Adding Starred Classes To State', e);\n          }\n        }\n\n        return { addedClasses, starredClasses, ...rest } as UserData;\n      }\n    }),\n    login: builder.mutation({\n      query: ({ userName, password, isGuest }) => ({\n        url: `/users/login`,\n        params: isGuest\n          ? {\n              userName,\n              password,\n              isGuest\n            }\n          : {\n              userName,\n              password\n            }\n      })\n    }),\n    trackLogin: builder.mutation({\n      query: (userKey) => ({\n        url: `/analytics/login/openedApp`,\n        method: 'POST',\n        headers: {\n          userKey\n        },\n        responseHandler: (response) => response.text()\n      })\n    }),\n    deleteAccount: builder.mutation({\n      query: ({ userKey, userName }) => ({\n        url: '/users',\n        method: 'DELETE',\n        headers: {\n          userKey\n        },\n        params: {\n          userName\n        }\n      })\n    }),\n    editUser: builder.mutation({\n      invalidatesTags: ['User'],\n      query: ({ userKey, userName, fields }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          'content-type': 'application/json',\n          userKey\n        },\n        body: fields\n      })\n    }),\n    getCollegeList: builder.query<any, void>({\n      query: () => '/randomShit/getCollegeList'\n    }),\n    getChatRooms: builder.mutation({\n      query: ({ userKey }) => ({\n        url: `/chatRooms/listOfChatRooms`,\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json',\n          userKey\n        },\n        responseHandler: (response) => response.json()\n      })\n    }),\n    createChatRoom: builder.mutation({\n      query: ({ userKey, recipients, nameOfChatRoom }) => ({\n        url: `/chatRooms/newChatRoom`,\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n          userKey\n        },\n        body: JSON.stringify({\n          userList: recipients,\n          name: nameOfChatRoom\n        }),\n        responseHandler: (response) => response.text()\n      })\n    }),\n    addOrRemoveUserFromChatRoom: builder.mutation({\n      query: ({ userKey, chatRoomId, userName }) => ({\n        url: `/chatRooms/addOrRemoveUser`,\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n          userKey\n        },\n        body: JSON.stringify({\n          chatRoomId: chatRoomId,\n          userName: userName\n        })\n      })\n    }),\n    signupUser: builder.mutation({\n      query: (body) => ({\n        url: '/users',\n        method: 'POST',\n        body,\n        responseHandler: (response) => response.text()\n      })\n    }),\n    verifySignup: builder.mutation({\n      query: (code) => ({\n        url: '/users/verification',\n        method: 'POST',\n        body: { code }\n      })\n    }),\n    resetPassword: builder.mutation({\n      query: (email) => ({\n        url: '/users/forgotPassword',\n        params: {\n          email\n        },\n        responseHandler: (response) => response.text()\n      })\n    }),\n    addExpoPushToken: builder.mutation({\n      query: ({ userName, expoPushToken, userKey }) => ({\n        url: `/users/addExpoPushKey/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          expoPushToken\n        }\n      })\n    })\n  })\n});\n\nexport const {\n  useAddOrRemoveUserFromChatRoomMutation,\n  useCreateChatRoomMutation,\n  useGetChatRoomsMutation,\n  useTrackLoginMutation,\n  useGetUserInfoQuery,\n  useLazyGetUserInfoQuery,\n  useLoginMutation,\n  useDeleteAccountMutation,\n  useEditUserMutation,\n  useGetCollegeListQuery,\n  useSignupUserMutation,\n  useVerifySignupMutation,\n  useResetPasswordMutation,\n  useAddExpoPushTokenMutation\n} = usersApiSlice;\n","import { apiSlice } from './apiSlice';\nimport { usersApiSlice } from './usersApi';\nimport {\n  AllSectionsResponse,\n  Class,\n  SwapCoursePriorityInput,\n  UserData\n} from '../../app/types';\n\nexport const classPagesApi = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    getAllClasses: builder.query({\n      query: ({ userKey, pageNumber, courseTerm, collegeName }) => ({\n        url: `/classes/masterClassList/${collegeName}`,\n        headers: {\n          userKey\n        },\n        params: {\n          pageNumber,\n          courseTerm\n        }\n      }),\n      transformResponse: (response: { [masterCourseCode: string]: Class }) => {\n        const getRatingFromReviews = (reviews) => {\n          if (reviews.length === 0) {\n            return null;\n          }\n          let totalAverage = 0;\n          let counter = 0;\n          for (const review of reviews) {\n            if (review.rating) {\n              totalAverage += review.rating;\n              counter++;\n            }\n          }\n          if (counter > 0) {\n            return (totalAverage / counter).toFixed(2);\n          }\n          return null;\n        };\n\n        const getDifficultyFromReviews = (reviews) => {\n          if (reviews.length === 0) {\n            return null;\n          }\n          let totalAverage = 0;\n          let counter = 0;\n          for (const review of reviews) {\n            if (review.difficulty) {\n              totalAverage += review.difficulty;\n              counter++;\n            }\n          }\n          if (counter > 0) {\n            return (totalAverage / counter).toFixed(2);\n          }\n          return null;\n        };\n\n        return Object.fromEntries(\n          Object.entries(response).map(([key, value]) => {\n            return [\n              key,\n              {\n                ...value,\n                reviews: value.reviews.sort(),\n                rating: getRatingFromReviews(value.reviews),\n                difficulty: getDifficultyFromReviews(value.reviews)\n              }\n            ];\n          })\n        );\n      }\n    }),\n    getCurrentSection: builder.query<string, void>({\n      query: () => '/randomShit/currentTerm',\n      transformResponse: (response: { currentTerm: string }) =>\n        response.currentTerm\n    }),\n    getAllSections: builder.query<AllSectionsResponse, void>({\n      query: () => '/randomShit/getAllTerms'\n    }),\n    addClass: builder.mutation({\n      query: ({ userKey, courseCode, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          classesToAdd: [{ courseCode, courseTerm }]\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCode, masterCourseCode, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              // Add to ordered Added Classes\n              if (!(courseTerm in draft.addedClasses.orderedClasses)) {\n                draft.addedClasses.orderedClasses[courseTerm] = [courseCode];\n              } else {\n                draft.addedClasses.orderedClasses[courseTerm].push(courseCode);\n              }\n\n              // Add to unordered Added Classes\n              if (!(courseTerm in draft.addedClasses.classes)) {\n                draft.addedClasses.classes[courseTerm] = {\n                  [masterCourseCode]: [courseCode]\n                };\n              } else if (\n                !(masterCourseCode in draft.addedClasses.classes[courseTerm])\n              ) {\n                draft.addedClasses.classes[courseTerm][masterCourseCode] = [\n                  courseCode\n                ];\n              } else {\n                draft.addedClasses.classes[courseTerm][masterCourseCode].push(\n                  courseCode\n                );\n              }\n              draft.addedClasses.length++;\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n        }\n      }\n    }),\n    addMultipleClasses: builder.mutation<\n      { userData: UserData },\n      {\n        userKey: string;\n        courseTerm: string;\n        userName: string;\n        courseCodePairs: {\n          courseCode: string;\n          masterCourseCode: string;\n        }[];\n      }\n    >({\n      query: ({ userKey, courseCodePairs, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          classesToAdd: courseCodePairs.map((courseCodePair) => ({\n            courseCode: courseCodePair.courseCode,\n            courseTerm\n          }))\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCodePairs, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              for (const { masterCourseCode, courseCode } of courseCodePairs) {\n                if (!(courseTerm in draft.addedClasses.classes)) {\n                  draft.addedClasses.classes[courseTerm] = {\n                    [masterCourseCode]: [courseCode]\n                  };\n                } else if (\n                  !(masterCourseCode in draft.addedClasses.classes[courseTerm])\n                ) {\n                  draft.addedClasses.classes[courseTerm][masterCourseCode] = [\n                    courseCode\n                  ];\n                } else {\n                  draft.addedClasses.classes[courseTerm][masterCourseCode].push(\n                    courseCode\n                  );\n                }\n                draft.addedClasses.length++;\n              }\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n        }\n      }\n    }),\n    removeClass: builder.mutation({\n      query: ({ userKey, courseCode, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          classesToRemove: [{ courseCode, courseTerm }]\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCode, masterCourseCode, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              // Delete from ordered Added Classes\n              draft.addedClasses.orderedClasses[courseTerm] =\n                draft.addedClasses.orderedClasses[courseTerm].filter(\n                  (classCode) => classCode !== courseCode\n                );\n\n              // Delete from unordered Added Classes\n\n              draft.addedClasses.classes[courseTerm][masterCourseCode] =\n                draft.addedClasses.classes[courseTerm][masterCourseCode].filter(\n                  (classCode) => classCode !== courseCode\n                );\n              // Delete the master course code if there are no more classes\n              if (\n                draft.addedClasses.classes[courseTerm][masterCourseCode]\n                  .length === 0\n              ) {\n                delete draft.addedClasses.classes[courseTerm][masterCourseCode];\n              }\n              draft.addedClasses.length--;\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n        }\n      }\n    }),\n\n    addStarredClass: builder.mutation({\n      query: ({ userKey, courseCode, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          starredClassesToAdd: [{ courseCode, courseTerm }]\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCode, masterCourseCode, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              if (\n                !draft.starredClasses.some(\n                  (course) =>\n                    course.courseTerm === courseTerm &&\n                    course.courseCode === courseCode\n                )\n              ) {\n                draft.starredClasses.push({\n                  courseCode: courseCode,\n                  courseTerm: courseTerm\n                });\n              }\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n        }\n      }\n    }),\n    removeStarredClass: builder.mutation({\n      query: ({ userKey, courseCode, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          starredClassesToRemove: [{ courseCode, courseTerm }]\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCode, masterCourseCode, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              draft.starredClasses = draft.starredClasses.filter(\n                (course) =>\n                  course.courseCode !== courseCode ||\n                  course.courseTerm !== courseTerm\n              );\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n        }\n      }\n    }),\n\n    isAllowedToReview: builder.query({\n      query: ({ masterCourseCode, userKey }) => ({\n        url: '/users/isAllowedToReview',\n        method: 'GET',\n        params: {\n          masterCourseCode\n        },\n        headers: {\n          userKey\n        }\n      })\n    }),\n    sendReview: builder.mutation({\n      query: ({ userKey, body }) => ({\n        url: '/classes/userReview',\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body,\n        responseHandler: (response) => response.text()\n      })\n    }),\n    swapCoursePriority: builder.mutation<any, SwapCoursePriorityInput>({\n      query: ({\n        userName,\n        firstPosition,\n        secondPosition,\n        termToUpdate,\n        userKey\n      }) => ({\n        url: '/users/' + userName,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          swapCoursePriority: {\n            firstPosition,\n            secondPosition,\n            termToUpdate\n          }\n        }\n      }),\n      async onQueryStarted(\n        { firstPosition, secondPosition, termToUpdate, userKey },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              // move classes around in list\n              if (firstPosition > secondPosition) {\n                const temp =\n                  draft.addedClasses.orderedClasses[termToUpdate][\n                    firstPosition\n                  ];\n\n                for (let i = firstPosition; i > secondPosition; i--) {\n                  draft.addedClasses.orderedClasses[termToUpdate][i] =\n                    draft.addedClasses.orderedClasses[termToUpdate][i - 1];\n                }\n\n                draft.addedClasses.orderedClasses[termToUpdate][\n                  secondPosition\n                ] = temp;\n              } else {\n                const temp =\n                  draft.addedClasses.orderedClasses[termToUpdate][\n                    firstPosition\n                  ];\n\n                for (let i = firstPosition; i < secondPosition; i++) {\n                  draft.addedClasses.orderedClasses[termToUpdate][i] =\n                    draft.addedClasses.orderedClasses[termToUpdate][i + 1];\n                }\n\n                draft.addedClasses.orderedClasses[termToUpdate][\n                  secondPosition\n                ] = temp;\n              }\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n        }\n      }\n    })\n  })\n});\n\nexport const {\n  useGetAllClassesQuery,\n  useGetCurrentSectionQuery,\n  useAddClassMutation,\n  useAddMultipleClassesMutation,\n  useRemoveClassMutation,\n  useIsAllowedToReviewQuery,\n  useSendReviewMutation,\n  useLazyGetAllClassesQuery,\n  useLazyGetAllSectionsQuery,\n  useRemoveStarredClassMutation,\n  useAddStarredClassMutation,\n  useSwapCoursePriorityMutation\n} = classPagesApi;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport type { RootState } from '../../app/store';\nimport { AddedClasses, Class, CourseSchedule, Filters } from '../../app/types';\nimport {\n  getMasterCourseCodeFromCourseCode,\n  getTimeAsNumberOfMinutes\n} from '../../functions';\nimport { classPagesApi } from '../api/classPagesApi';\nimport { usersApiSlice } from '../api/usersApi';\n\n// Define a type for the slice state\ninterface ClassPagesState {\n  classes: { [masterCourseCode: string]: Class };\n  filteredClasses: { [masterCourseCode: string]: Class };\n  renderedClasses: { [masterCourseCode: string]: Class };\n  currentSection: string;\n  availableSections: string[];\n  searchTerm: string;\n  selectedClass: any;\n  page: number;\n  filters: Filters;\n  isHMC: boolean;\n  hasSelectedElectiveGen: boolean;\n  suggestedClasses: { [masterCourseCode: string]: Class };\n  orderedAddedClasses: AddedClasses['orderedClasses'];\n  totalCredits: { credits: number; hmcCredits: number };\n}\n\n// Define the initial state using that type\nconst initialState: ClassPagesState = {\n  classes: {},\n  filteredClasses: {},\n  renderedClasses: {},\n  currentSection: '',\n  availableSections: [],\n  selectedClass: {},\n  searchTerm: '',\n  page: 1,\n  isHMC: false,\n  filters: {\n    filterConflicts: false,\n    colleges: { HM: true, CM: true, PO: true, PZ: true, SC: true }\n  },\n  hasSelectedElectiveGen: false,\n  suggestedClasses: {},\n  orderedAddedClasses: {},\n  totalCredits: { credits: 0, hmcCredits: 0 }\n};\n\nexport const classPagesSlice = createSlice({\n  name: 'classPages',\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    currentSectionUpdated: (state, action: PayloadAction<string>) => {\n      state.currentSection = action.payload;\n    },\n    availableSectionsListUpdated: (state, action: PayloadAction<string[]>) => {\n      state.availableSections = action.payload;\n    },\n    endOfListReached: (state) => {\n      state.page++;\n    },\n    resetClasses: (state) => {\n      state.page = 1;\n      state.searchTerm = '';\n\n      classPagesSlice.caseReducers.creditsRecalculated(state);\n      classPagesSlice.caseReducers.searchResultsFiltered(state);\n    },\n    suggestedClassesUpdated: (\n      state,\n      action: PayloadAction<{ [masterCourseCode: string]: Class }>\n    ) => {\n      state.suggestedClasses = action.payload;\n    },\n    suggestedClassesDimissed: (state) => {\n      state.suggestedClasses = {};\n    },\n    electiveGeneratorSelected: (state) => {\n      state.hasSelectedElectiveGen = true;\n    },\n    classSelected: (state, action: PayloadAction<string>) => {\n      state.selectedClass = state.classes[action.payload];\n    },\n    selectedClassCleared: (state) => {\n      state.selectedClass = {};\n    },\n    filtersSaved: (state, action: PayloadAction<Filters>) => {\n      state.filters = action.payload;\n      classPagesSlice.caseReducers.searchResultsFiltered(state);\n    },\n    isHMCUpdated: (state, action: PayloadAction<boolean>) => {\n      state.isHMC = action.payload;\n    },\n    creditsRecalculated: (state) => {\n      state.totalCredits = recalculateTotalCredits({\n        orderedAddedClasses: state.orderedAddedClasses[state.currentSection],\n        allClasses: state.classes\n      });\n    },\n    filtersReset: (state) => {\n      state.filters = initialState.filters;\n\n      classPagesSlice.caseReducers.searchResultsFiltered(state);\n    },\n    searchResultsFiltered: (state) => {\n      // Update the renderedClasses object with the new filters\n      let newResultsArray = Object.entries(state.classes);\n\n      newResultsArray = newResultsArray.filter(([masterCourseCode, _]) => {\n        // filter by college\n        const collegeAbr = masterCourseCode.substring(\n          masterCourseCode.length - 2,\n          masterCourseCode.length\n        );\n        return state.filters.colleges[collegeAbr];\n      });\n\n      const newResultsObject = Object.fromEntries(newResultsArray);\n      // filter conflicting times\n      if (\n        state.filters.filterConflicts &&\n        state.orderedAddedClasses[state.currentSection] &&\n        state.orderedAddedClasses[state.currentSection].length\n      ) {\n        newResultsArray.forEach(([masterCourseCode, _]) => {\n          newResultsObject[masterCourseCode].times = newResultsObject[\n            masterCourseCode\n          ].times.filter((time) => {\n            for (const timeWindow of time.courseSchedule) {\n              if (\n                doesClassConflict(\n                  timeWindow,\n                  state.orderedAddedClasses[state.currentSection],\n                  state.classes\n                )\n              ) {\n                return false;\n              }\n            }\n            return true;\n          });\n\n          if (newResultsObject[masterCourseCode].times.length == 0) {\n            delete newResultsObject[masterCourseCode];\n          }\n        });\n      }\n\n      state.filteredClasses = newResultsObject;\n      state.renderedClasses = { ...state.filteredClasses };\n    },\n    searchTermUpdated: (state, action: PayloadAction<string>) => {\n      let newResultsArray = Object.entries(state.filteredClasses);\n      state.searchTerm = action.payload;\n      state.page = 1;\n\n      if (state.searchTerm === '') {\n        classPagesSlice.caseReducers.resetClasses(state);\n      } else {\n        const searchTerm = matchDepartmentName(state.searchTerm);\n\n        // Check for courseCode shortcuts\n        const searchCourseCode = findSearchTermShortcuts(searchTerm);\n\n        const searchTerms = searchTerm.split(' ');\n\n        newResultsArray = newResultsArray.filter(\n          ([_, { courseName, times, masterCourseCode }]) =>\n            filterBySearchTerm(\n              courseName,\n              times,\n              masterCourseCode,\n              searchCourseCode,\n              searchTerms\n            )\n        );\n\n        const newResultsObject = Object.fromEntries(newResultsArray);\n\n        state.renderedClasses = { ...newResultsObject };\n      }\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addMatcher(\n      classPagesApi.endpoints.getAllClasses.matchFulfilled,\n      (state, { payload }) => {\n        state.classes = payload;\n        state.filteredClasses = payload;\n        state.renderedClasses = payload;\n\n        if (state.orderedAddedClasses[state.currentSection]) {\n          state.totalCredits = recalculateTotalCredits({\n            allClasses: state.classes,\n            orderedAddedClasses: state.orderedAddedClasses[state.currentSection]\n          });\n        }\n      }\n    );\n    builder.addMatcher(\n      usersApiSlice.endpoints.getUserInfo.matchFulfilled,\n      (state, { payload }) => {\n        state.orderedAddedClasses = payload.addedClasses.orderedClasses;\n\n        if (Object.keys(state.classes).length) {\n          state.totalCredits = recalculateTotalCredits({\n            orderedAddedClasses:\n              state.orderedAddedClasses[state.currentSection],\n            allClasses: state.classes\n          });\n        }\n      }\n    );\n    builder.addMatcher(\n      classPagesApi.endpoints.addClass.matchFulfilled,\n      (state, { payload }) => {\n        state.orderedAddedClasses = getOrderedClassesFromApiRes(\n          payload.userData.classes\n        );\n\n        state.totalCredits = recalculateTotalCredits({\n          orderedAddedClasses: state.orderedAddedClasses[state.currentSection],\n          allClasses: state.classes\n        });\n      }\n    );\n    builder.addMatcher(\n      classPagesApi.endpoints.removeClass.matchFulfilled,\n      (state, { payload }) => {\n        state.orderedAddedClasses = getOrderedClassesFromApiRes(\n          payload.userData.classes\n        );\n\n        state.totalCredits = recalculateTotalCredits({\n          orderedAddedClasses: state.orderedAddedClasses[state.currentSection],\n          allClasses: state.classes\n        });\n      }\n    );\n    builder.addMatcher(\n      classPagesApi.endpoints.swapCoursePriority.matchFulfilled,\n      (state, { payload }) => {\n        state.orderedAddedClasses = getOrderedClassesFromApiRes(\n          payload.userData.classes\n        );\n      }\n    );\n  }\n});\n\n/**\n * \n * Helper Functions\n * \n */\n\nconst recalculateTotalCredits = ({\n  addedClasses,\n  orderedAddedClasses,\n  allClasses\n}: {\n  addedClasses?: AddedClasses['classes']['term'];\n  orderedAddedClasses?: AddedClasses['orderedClasses']['term'];\n  allClasses: ClassPagesState['classes'];\n}): ClassPagesState['totalCredits'] => {\n  let totalCredits = {\n    credits: 0,\n    hmcCredits: 0\n  } as ClassPagesState['totalCredits'];\n\n  if (addedClasses) {\n    for (const masterCourseCode in addedClasses) {\n      const course = allClasses[masterCourseCode];\n\n      const numCourses = addedClasses[masterCourseCode].length;\n\n      totalCredits.credits += course.creditWeight * numCourses;\n      totalCredits.hmcCredits += course.creditWeightHM * numCourses;\n    }\n\n    return totalCredits;\n  }\n\n  for (const courseCode of orderedAddedClasses) {\n    const masterCourseCode = getMasterCourseCodeFromCourseCode(courseCode);\n    const course = allClasses[masterCourseCode];\n\n    totalCredits.credits += course.creditWeight;\n    totalCredits.hmcCredits += course.creditWeightHM;\n  }\n\n  return totalCredits;\n};\n\nconst findSearchTermShortcuts = (searchPhrase: string) => {\n  return searchPhrase\n    .replace(/(csci *|cs *)(\\d+)/i, (match, p1, p2) => `csci ${p2}`)\n    .replace(\n      /((e *)|(eng *)|(engr *))(\\d+)/i,\n      (match, p1, p2, p3, p4, p5) => `engr ${p5}`\n    )\n    .replace(/(bio *|biol *)(\\d+)/i, (match, p1, p2) => `biol ${p2}`)\n    .replace(\n      // pad 0s for courseCode search\n      /([a-z]+ *)(\\d+)/i,\n      (match, p1, p2) => p1 + p2.padStart(3, '0')\n    );\n};\n\n// convert full department name search phrase to the department code\n// TODO: add more departments\nconst matchDepartmentName = (searchPhrase: string) => {\n  return searchPhrase\n    .replace(/(computer science)/i, 'csci')\n    .replace(/(engineering)/i, 'engr')\n    .replace(/(biology)/i, 'biol');\n};\n\nconst filterBySearchTerm = (\n  courseName: string,\n  times: any[],\n  masterCourseCode: string,\n  searchCourseCode?: string,\n  searchTerms?: string[]\n) => {\n  const coursePhrase = `${masterCourseCode} ${courseName} ${\n    times[0]?.professorName ? times[0].professorName : ''\n  }`;\n\n  // Return true if any of the searchCourseCodes are found in the masterCourseCode\n  if (\n    masterCourseCode\n      .trim()\n      .replace(/\\s+/g, ' ')\n      .includes(searchCourseCode.toUpperCase().trim().replace(/\\s+/g, ' '))\n  ) {\n    return true;\n  }\n\n  // Return true if all of the searchPhrases are found in the coursePhrase\n  for (const searchTerm of searchTerms) {\n    if (\n      !coursePhrase\n        .toUpperCase()\n        .trim()\n        .replace(/\\s+/g, ' ')\n        .includes(searchTerm.toUpperCase().trim().replace(/\\s+/g, ' '))\n    ) {\n      return false;\n    }\n  }\n\n  return searchTerms.length > 0;\n};\n\nconst doesClassConflict = (\n  schedule: CourseSchedule,\n  orderedAddedClasses: string[],\n  classes: { [masterCourseCode: string]: Class }\n) => {\n  for (const addedClass of orderedAddedClasses) {\n    const masterCourseCode = getMasterCourseCodeFromCourseCode(addedClass);\n    const addedTimes = classes[masterCourseCode].times;\n\n    for (const addedTime of addedTimes) {\n      for (const addedSchedule of addedTime.courseSchedule) {\n        const addedTimeStart = getTimeAsNumberOfMinutes(\n          addedSchedule.startTime\n        );\n        const addedTimeEnd = getTimeAsNumberOfMinutes(addedSchedule.endTime);\n        const scheduleTimeStart = getTimeAsNumberOfMinutes(schedule.startTime);\n        const scheduleTimeEnd = getTimeAsNumberOfMinutes(schedule.endTime);\n        if (\n          addedSchedule.daysOfTheWeek.filter((day) =>\n            schedule.daysOfTheWeek.includes(day)\n          ).length > 0 &&\n          ((scheduleTimeStart >= addedTimeStart &&\n            scheduleTimeStart < addedTimeEnd) ||\n            (scheduleTimeEnd > addedTimeStart &&\n              scheduleTimeEnd <= addedTimeEnd) ||\n            (scheduleTimeStart <= addedTimeStart &&\n              scheduleTimeEnd >= addedTimeEnd))\n        ) {\n          return true;\n        }\n      }\n    }\n  }\n\n  return false;\n};\n\nconst getOrderedClassesFromApiRes = (\n  classes: { courseCode: string; courseTerm: string }[]\n) => {\n  let orderedClasses: AddedClasses['orderedClasses'] = {};\n  classes.forEach(({ courseCode, courseTerm }) => {\n    if (!orderedClasses[courseTerm]) {\n      orderedClasses[courseTerm] = [];\n    }\n    orderedClasses[courseTerm].push(courseCode);\n  });\n  return orderedClasses;\n};\n\n// Selectors\nexport const selectClassesList = (state: RootState) =>\n  state.appData.classPages.classes;\n\nexport const selectRenderedClassesList = (state: RootState) =>\n  state.appData.classPages.renderedClasses;\n\n// Actions\nexport const {\n  currentSectionUpdated,\n  endOfListReached,\n  searchTermUpdated,\n  resetClasses,\n  classSelected,\n  selectedClassCleared,\n  reset,\n  filtersSaved,\n  filtersReset,\n  isHMCUpdated,\n  availableSectionsListUpdated,\n  electiveGeneratorSelected,\n  suggestedClassesUpdated,\n  suggestedClassesDimissed,\n  creditsRecalculated\n} = classPagesSlice.actions;\n\nexport default classPagesSlice.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { PayloadAction } from '@reduxjs/toolkit';\n\nimport { RootState } from '../../app/store';\n\ninterface DiscoverState {\n  searchTerm: string;\n  submittedSearchTerm: string;\n  tag: string;\n  recentSearches: string[];\n}\nconst initialState: DiscoverState = {\n  searchTerm: '',\n  submittedSearchTerm: '',\n  tag: '',\n  recentSearches: []\n};\n\nexport const discoverSlice = createSlice({\n  name: 'discover',\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    searchTermSubmitted: (state, action: PayloadAction<string>) => {\n      state.submittedSearchTerm = action.payload;\n      if (action.payload && !state.recentSearches.includes(action.payload)) {\n        state.recentSearches.unshift(action.payload);\n      }\n    },\n    searchTermChanged: (state, action: PayloadAction<string>) => {\n      state.searchTerm = action.payload;\n      if (action.payload === '') {\n        state.submittedSearchTerm = '';\n      }\n    },\n    recentSearchTermSelected: (state, action: PayloadAction<string>) => {\n      state.searchTerm = action.payload;\n      state.submittedSearchTerm = action.payload;\n    },\n    tagSelected: (state, action: PayloadAction<string>) => {\n      state.tag = action.payload;\n    },\n    recentSearchTermRemoved: (state, action: PayloadAction<string>) => {\n      state.recentSearches = state.recentSearches.filter(\n        (term) => term !== action.payload\n      );\n    }\n  }\n});\n\nexport const {\n  reset,\n  searchTermChanged,\n  searchTermSubmitted,\n  tagSelected,\n  recentSearchTermSelected,\n  recentSearchTermRemoved\n} = discoverSlice.actions;\n\nexport const selectSearchTerm = (state: RootState) => state.appData.discover.searchTerm;\nexport const selectSubmittedSearchTerm = (state: RootState) => state.appData.discover.submittedSearchTerm;\nexport const selectTag = (state: RootState) => state.appData.discover.tag;\nexport const selectRecentSearches = (state: RootState) => state.appData.discover.recentSearches;\n\nexport default discoverSlice.reducer;\n","// import createSecureStore from \"redux-persist-expo-securestore\"\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as ExpoSecureStorage from 'expo-secure-store';\nimport { Platform } from 'react-native';\nimport { combineReducers } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport ExpoFileSystemStorage from 'redux-persist-expo-filesystem';\n\nimport createSecureStorage from './SecureStorage';\nimport appDataReducer from '../app/appDataSlice';\nimport calendarReducer from '../features/calendar/calendarSlice';\nimport classPagesReducer from '../features/classPages/classPagesSlice';\nimport discoverReducer from '../features/discover/discoverSlice';\n\n// Secure storage\n\n// const SecureStorage = createSecureStore();\nconst SecureStorage = createSecureStorage();\n\nconst securePersistConfig = {\n  key: 'secure',\n  storage: Platform.OS === 'web' ? AsyncStorage : SecureStorage\n};\n\n// Non-secure (AsyncStorage) storage\nconst cpPersistConfig = {\n  key: 'classPages',\n  storage: Platform.OS === 'android' ? ExpoFileSystemStorage : AsyncStorage,\n  whitelist:\n    Platform.OS === 'web'\n      ? ['currentSection', 'hasSelectedElectiveGen']\n      : ['classes', 'currentSection', 'isHMC', 'hasSelectedElectiveGen']\n};\n\nconst discoverPersistConfig = {\n  key: 'discover',\n  storage: Platform.OS === 'android' ? ExpoFileSystemStorage : AsyncStorage,\n  whitelist: ['recentSearches']\n};\n\n// Combine them together\nexport const rootReducer = combineReducers({\n  classPages: persistReducer(cpPersistConfig, classPagesReducer),\n  secure: persistReducer(securePersistConfig, appDataReducer),\n  discover: persistReducer(discoverPersistConfig, discoverReducer),\n  calendar: calendarReducer\n});\n","import { configureStore } from '@reduxjs/toolkit';\nimport {\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER\n} from 'redux-persist';\n\nimport { rootReducer } from './storage';\nimport { apiSlice } from '../features/api/apiSlice';\n\nexport const store = configureStore({\n  reducer: {\n    appData: rootReducer,\n    [apiSlice.reducerPath]: apiSlice.reducer\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n    serializableCheck: false,\n    immutableCheck: false\n  }).concat(apiSlice.middleware)\n});\n\n// serializableCheck: {\n//   ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n//   ignoredPaths: [\n//     'appData.classPages.classes',\n//     'addData.classPages.renderedClasses',\n//   ],\n// },\n// immutableCheck: {\n//   ignoredPaths: [\n//     'appData.classPages.classes',\n//     'addData.classPages.renderedClasses',\n//   ],\n// },\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\n\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch: () => AppDispatch = useDispatch;\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { Image, View } from 'react-native';\n\nexport default function WebSplashScreen() {\n  return (\n    <View\n      style={{\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      }}\n    >\n      <Image\n        source={require('../../assets/logos/splash-logo.png')}\n        style={{ width: 300, height: 300 }}\n      />\n    </View>\n  );\n}\n","import { Manager } from 'socket.io-client';\n\nexport const base_URL = 'https://api.athenaserver.com:5678/api';\n\nexport const manager = new Manager(base_URL, {\n  randomizationFactor: 0.5,\n  addTrailingSlash: false,\n  autoConnect: false\n});\n","import { FontAwesome } from '@expo/vector-icons';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport {\n  Card,\n  Divider,\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem\n} from '@ui-kitten/components';\nimport * as ImagePicker from 'expo-image-picker';\nimport moment from 'moment-timezone';\nimport { useCallback, useEffect, useState } from 'react';\nimport {\n  Dimensions,\n  Image,\n  KeyboardAvoidingView,\n  Platform,\n  RefreshControl,\n  ScrollView,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  View\n} from 'react-native';\nimport { LineChart } from 'react-native-chart-kit';\n\nimport { selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport { base_URL } from '../../constants/admin';\n\nconst AdminHomePage = createNativeStackNavigator();\n\nexport default function AdminHomeNavigation() {\n  const [adminCommands, setAdminCommands] = useState([]);\n  const userKey = useAppSelector(selectUserKey);\n  useEffect(() => {\n    getAdminCommands();\n  }, []);\n  async function getAdminCommands() {\n    const adminURL = `${base_URL}/adminCommands`;\n    const res = await fetch(`${adminURL}/getAdminCommands`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    });\n    let commands: any[] = await res.json();\n    const filter = await fetch(`${adminURL}/toggleAdminCommands`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      },\n      body: '{}'\n    });\n    const filterObject = (await filter.json()).currentAdminCommandsStatus;\n    commands = commands.sort((a, b) => {\n      const textA = a.label.toUpperCase();\n      const textB = b.label.toUpperCase();\n      return textA < textB ? -1 : textA > textB ? 1 : 0;\n    });\n    const finalCommandList = [];\n    for (const command of commands) {\n      if (filterObject[command.label]) {\n        finalCommandList.push(command);\n      }\n    }\n    // @ts-ignore\n    setAdminCommands(finalCommandList);\n    return commands;\n  }\n\n  const [refreshing, setRefreshing] = useState(false);\n\n  const onRefresh = useCallback(() => {\n    setRefreshing(true);\n    setAdminCommands([]);\n    getAdminCommands().then((commands) => setRefreshing(false));\n  }, []);\n\n  function AdminHome({ navigation }) {\n    return (\n      <ScrollView\n        refreshControl={\n          <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n        }\n      >\n        {adminCommands?.length === 0 ? <Text>No Commands Yet. Rip</Text> : null}\n        {adminCommands?.map((command) => {\n          return (\n            <TouchableOpacity\n              onPress={() => {\n                navigation.navigate('AdminCommand', { data: command });\n              }}\n              style={listingStyles.cardContainer}\n              key={command.url}\n            >\n              <Text style={listingStyles.text}>{command.label}</Text>\n            </TouchableOpacity>\n          );\n        })}\n      </ScrollView>\n    );\n  }\n\n  return (\n    <AdminHomePage.Navigator initialRouteName=\"AdminHome\">\n      <AdminHomePage.Screen\n        options={{\n          // title: 'Admin Home',\n          /* headerTitle: () => {\n                        return adminControlPanelHeader;\n                    }, */\n          headerShown: false\n        }}\n        name=\"AdminHome\"\n        component={AdminHome}\n      />\n      <AdminHomePage.Screen\n        name=\"AdminCommand\"\n        component={AdminCommand}\n        options={{ headerTitle: '' }}\n      />\n    </AdminHomePage.Navigator>\n  );\n}\n\nfunction AdminCommand({\n  route: {\n    params: { data }\n  }\n}) {\n  const [info, setInfo] = useState({});\n  const [isFileUpload, setIsFileUpload] = useState(false);\n  const [body, setBody] = useState({});\n  const [users, setUsers] = useState([]);\n  const [fileUploads, setFileUploads] = useState([]);\n  const [sponsors, setSponsors] = useState([]);\n  const [status, setStatus] = useState('0');\n  const [allFieldsFilled, setAllFieldsFilled] = useState(false);\n  const [buttonPushed, setButtonPushed] = useState(false); // refresh button\n  const userKey = useAppSelector(selectUserKey);\n\n  useEffect(() => {\n    // Check for first button render\n    checkForFieldsFilled(body);\n    // Fetch User List\n    fetch(`${base_URL}/users/getUserNameList`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const newUsers = (await data.json()).map((userName) => {\n          return {\n            label: userName,\n            id: userName\n          };\n        });\n        setUsers(newUsers);\n      }\n    });\n    // Fetch Sponsor List\n    fetch(`${base_URL}/sponsors/`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const sponsors = (await data.json()).map((sponsor) => {\n          return {\n            label: sponsor.sponsorName,\n            id: sponsor._id\n          };\n        });\n        setSponsors(sponsors);\n      }\n    });\n    // Fetch File upload List\n    fetch(`${base_URL}/adminCommands/getReferenceImages`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const images = (await data.json()).map((imageName) => {\n          return {\n            label: imageName,\n            id: imageName\n          };\n        });\n        setFileUploads(images);\n      }\n    });\n  }, []);\n\n  function checkForFieldsFilled(body) {\n    for (const field of data.fields) {\n      if (field.mandatory) {\n        if (body[field.id] === undefined || body[field.id] === null) {\n          setAllFieldsFilled(false);\n          return;\n        }\n      }\n    }\n    setAllFieldsFilled(true);\n  }\n\n  const sendApiData = (data, userKey) => {\n    let additionToUrl = '';\n    for (const aspect in body) {\n      if (body[aspect].paramOverride) {\n        additionToUrl += body[aspect];\n        break;\n      }\n    }\n    if (JSON.stringify(body, null, 2) !== '{}' && data.apiType === 'GET') {\n      for (const aspect in body) {\n        if (additionToUrl === '') {\n          additionToUrl = '?';\n        } else {\n          additionToUrl += '&';\n        }\n        additionToUrl += `${aspect}=${body[aspect]}`;\n      }\n    }\n    const newUrl = data.url + additionToUrl;\n    if (!isFileUpload) {\n      fetch(newUrl, {\n        method: data.apiType,\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        },\n        body:\n          JSON.stringify(body, null, 2) !== '{}' && data.apiType !== 'GET'\n            ? JSON.stringify(body)\n            : undefined\n      }).then((res) => {\n        // @ts-ignore\n        setStatus(res.status);\n        res.text().then((text) => {\n          try {\n            const text2 = JSON.parse(text);\n            setInfo(text2);\n          } catch (err) {\n            setInfo(text);\n          }\n        });\n      });\n    } else {\n      const formdata = new FormData();\n      for (const item in body) {\n        if (!item.includes('picture')) {\n          formdata.append(item, body[item]);\n        } else {\n          formdata.append(item, {\n            // @ts-ignore\n            uri: body[item].uri,\n            name: item,\n            type: 'image/jpg'\n          });\n        }\n      }\n      fetch(newUrl, {\n        body: formdata,\n        redirect: 'follow',\n        method: data.apiType,\n        headers: {\n          userKey\n        }\n      }).then((res) => {\n        // @ts-ignore\n        setStatus(res.status);\n        res.text().then((text) => {\n          try {\n            const text2 = JSON.parse(text);\n            setInfo(text2);\n          } catch (err) {\n            setInfo(text);\n          }\n        });\n      });\n    }\n  };\n\n  if (buttonPushed) {\n    setButtonPushed(false);\n    sendApiData(data, userKey);\n  }\n\n  function renderEachDropItem(field) {\n    if (field.data) {\n      // This is where we can add preset lists if we can't use something hardcoded on the server\n      switch (field.data) {\n        case 'users': {\n          field.options = users;\n          break;\n        }\n        case 'sponsors': {\n          field.options = sponsors;\n          break;\n        }\n        case 'fileUploads': {\n          field.options = fileUploads;\n          break;\n        }\n      }\n    }\n    const final = [];\n    for (const option of field.options) {\n      final.push(<SelectItem title={option.label} />);\n    }\n    return final;\n  }\n\n  function renderTheFieldsNecessary(fields) {\n    const changeValue = (theValue, valueToChange) => {\n      const newBody = body;\n      for (const aspect in newBody) {\n        if (\n          newBody[aspect] === null ||\n          newBody[aspect] === undefined ||\n          newBody[aspect] === ''\n        ) {\n          delete newBody[aspect];\n        }\n      }\n      if (theValue !== undefined) {\n        newBody[valueToChange] = theValue;\n      } else if (newBody[valueToChange]) {\n        delete newBody[valueToChange];\n      }\n      setBody(newBody);\n      checkForFieldsFilled(newBody);\n    };\n\n    const fileUploadTemplate = (field) => {\n      const pickImage = async () => {\n        const result = await ImagePicker.launchImageLibraryAsync({\n          allowsEditing: false\n        });\n        if (!result.cancelled) {\n          changeValue(result, field.id);\n        }\n      };\n\n      return (\n        <View>\n          {/* Image Picker */}\n          <TouchableOpacity\n            onPress={() => {\n              pickImage();\n            }}\n            style={{\n              height: 80,\n              justifyContent: 'center',\n              alignItems: 'center',\n              borderRadius: 8,\n              paddingVertical: 8,\n              flexDirection: 'row',\n              backgroundColor: '#dbdbdb',\n              marginVertical: 15,\n              marginHorizontal: 5\n            }}\n          >\n            <Layout\n              style={{\n                flex: 1,\n                flexDirection: 'row',\n                height: '100%',\n                marginHorizontal: 10,\n                backgroundColor: '#dbdbdb'\n              }}\n            >\n              <Layout\n                style={{\n                  flex: 1,\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  height: '100%',\n                  borderRadius: 10,\n                  backgroundColor: '#bfbfbf'\n                }}\n              >\n                {body && body[field?.id] ? (\n                  <Image\n                    source={{ uri: body[field.id].uri }}\n                    style={{ width: '90%', height: '90%', borderRadius: 10 }}\n                  />\n                ) : (\n                  <FontAwesome name=\"image\" size={40} color=\"grey\" />\n                )}\n              </Layout>\n              <Layout\n                style={{\n                  backgroundColor: '#dbdbdb',\n                  flex: 4,\n                  height: '100%',\n                  justifyContent: 'center',\n                  alignItems: 'center'\n                }}\n              >\n                <Text\n                  style={{\n                    fontSize: 17\n                  }}\n                >\n                  {body && body[field?.id]\n                    ? 'Select Another Image'\n                    : 'Select Image'}\n                </Text>\n              </Layout>\n            </Layout>\n          </TouchableOpacity>\n        </View>\n      );\n    };\n    const renderFilterParameters = (fields) => {\n      if (fields.length === 0) {\n        return null;\n      }\n      return (\n        <View style={{ flexDirection: 'row' }}>\n          <Text\n            style={{\n              fontSize: 15,\n              paddingLeft: 12,\n              paddingBottom: 5,\n              paddingTop: 5,\n              alignContent: 'center',\n              fontWeight: 'bold'\n            }}\n          >\n            Filters/Parameters\n          </Text>\n        </View>\n      );\n    };\n    const final = [];\n\n    function renderStringArray(field) {\n      const valuesToSend = {};\n      function changeStringValue(theValue, miniField, field) {\n        valuesToSend[miniField] = theValue;\n        const newFieldForBody = [];\n        for (const value of Object.values(valuesToSend)) {\n          newFieldForBody.push(value);\n        }\n        changeValue(newFieldForBody, field.id);\n      }\n      const tempFinal = [];\n      tempFinal.push(\n        <Text\n          style={{\n            fontSize: 14,\n            paddingLeft: 5,\n            paddingBottom: 3,\n            paddingTop: 3\n          }}\n        >\n          {field.mandatory ? `${field.label} (mandatory)` : field.label}\n        </Text>\n      );\n      for (const eachOne in field.stringArray) {\n        tempFinal.push(\n          <TextInput\n            autoCapitalize=\"none\"\n            onChangeText={(theValue) =>\n              changeStringValue(\n                theValue,\n                field.stringArray[eachOne].label,\n                field\n              )\n            }\n            style={myStyles.indentedInput}\n            placeholderTextColor=\"gray\"\n            placeholder={\n              field.stringArray[eachOne].mandatory\n                ? `${field.stringArray[eachOne].label} (mandatory)`\n                : field.stringArray[eachOne].label\n            }\n          />\n        );\n      }\n      return tempFinal;\n    }\n\n    const renderMultiSelectDropDown = (field) => {\n      const [selectedIndex, setSelectedIndex] = useState([]);\n      const [hasChosen, setHasChosen] = useState(false);\n      function toggleValue(index) {\n        setHasChosen(true);\n        setSelectedIndex(index);\n        const newSelection = Array.isArray(index)\n          ? index.map((littleIndex) => {\n              return field.options[littleIndex.row].id;\n            })\n          : field.options[index.row].id;\n        changeValue(newSelection, field.id);\n      }\n      function calculateSelectedValues() {\n        const finalArray = selectedIndex.map((littleIndex) => {\n          return `${field.options[littleIndex.row].label}, `;\n        });\n        if (finalArray.length > 0) {\n          let finalObject = finalArray.at(-1);\n          finalObject = finalObject.replace(', ', '');\n          finalArray.splice(-1, 1);\n          finalArray.push(finalObject);\n          return finalArray;\n        }\n        return field.mandatory ? `${field.label} (mandatory)` : field.label;\n      }\n      return (\n        <Layout style={myStyles.containerDrop} level=\"1\">\n          <Select\n            multiSelect\n            value={hasChosen ? calculateSelectedValues() : field.label}\n            selectedIndex={selectedIndex}\n            onSelect={(index) => toggleValue(index)}\n          >\n            {renderEachDropItem(field)}\n          </Select>\n        </Layout>\n      );\n    };\n\n    const renderDropDown = (field) => {\n      const [selectedIndex, setSelectedIndex] = useState(new IndexPath(0));\n      const [hasChosen, setHasChosen] = useState(false);\n\n      function currentValue() {\n        return (\n          <Text>\n            {!hasChosen\n              ? `Choose ${field.label}${field.mandatory ? ' (mandatory)' : ''}`\n              : field.options[selectedIndex.row - 1].label}{' '}\n          </Text>\n        );\n      }\n\n      function handleSelection(index) {\n        setSelectedIndex(index);\n        changeValue(\n          index.row === 0 ? undefined : field.options[index.row - 1].id,\n          field.id\n        );\n        if (index.row === 0) {\n          setHasChosen(false);\n        } else {\n          setHasChosen(true);\n        }\n      }\n\n      return (\n        <Select\n          style={myStyles.containerDrop}\n          value={currentValue}\n          selectedIndex={selectedIndex}\n          onSelect={handleSelection}\n        >\n          <SelectItem title={' '} />\n          {renderEachDropItem(field)}\n        </Select>\n      );\n    };\n\n    for (let i = 0; i < fields.length; i++) {\n      const { type } = fields[i];\n      if (type === 'Boolean') {\n        final.push(trueFalseTemplate(fields[i]));\n      } else if (type === 'String') {\n        final.push(\n          <TextInput\n            autoCapitalize=\"none\"\n            clearButtonMode=\"always\"\n            onChangeText={(theValue) => changeValue(theValue, fields[i].id)}\n            style={myStyles.input}\n            placeholderTextColor=\"gray\"\n            placeholder={\n              fields[i].mandatory\n                ? `${fields[i].label} (mandatory)`\n                : fields[i].label\n            }\n          />\n        );\n      } else if (type === 'ArrayString') {\n        final.push(renderStringArray(fields[i]));\n      } else if (type === 'DropDown') {\n        final.push(renderDropDown(fields[i]));\n      } else if (type === 'MultiSelectDropDown') {\n        final.push(renderMultiSelectDropDown(fields[i]));\n      } else if (type === 'BigString') {\n        final.push(\n          <TextInput\n            autoCapitalize=\"sentences\"\n            clearButtonMode=\"always\"\n            onChangeText={(theValue) => changeValue(theValue, fields[i].id)}\n            style={myStyles.inputBig}\n            multiline\n            placeholderTextColor=\"gray\"\n            placeholder={\n              fields[i].mandatory\n                ? `${fields[i].label} (mandatory)`\n                : fields[i].label\n            }\n          />\n        );\n      } else if (type === 'FileUpload') {\n        if (!isFileUpload) {\n          setIsFileUpload(true);\n        }\n        final.push(fileUploadTemplate(fields[i]));\n      }\n    }\n    return (\n      <View>\n        {renderFilterParameters(fields)}\n        <View>{final}</View>\n      </View>\n    );\n  }\n\n  const trueFalseTemplate = (field) => {\n    const [selectedIndex, setSelectedIndex] = useState();\n    const boolValues = ['false', 'true'];\n    // @ts-ignore\n    const displayValue = boolValues[selectedIndex - 1];\n    const renderOption = (displayValue) => <SelectItem title={displayValue} />;\n    const changeEverything = (value) => {\n      setSelectedIndex(value);\n      if (value.row === 0) {\n        const newBody = body;\n        newBody[field.id] = false;\n        setBody(newBody);\n      } else if (value.row === 1) {\n        const newBody = body;\n        newBody[field.id] = true;\n        setBody(newBody);\n      }\n    };\n    return (\n      <Layout style={styles.container} level=\"1\">\n        <Select\n          label={field.label}\n          selectedIndex={selectedIndex}\n          value={displayValue}\n          onSelect={(index) => changeEverything(index)}\n          placeholder={\n            field.mandatory ? `${field.label} (mandatory)` : `${field.label}`\n          }\n        >\n          {boolValues.map(renderOption)}\n        </Select>\n      </Layout>\n    );\n  };\n\n  function showResponseData(actions) {\n    if (JSON.stringify(info, null, 2) === '{}') {\n      return null;\n    }\n    const informationToShow = [];\n\n    // use this one for displaying everything pretty\n    if (Array.isArray(info)) {\n      if (data.isDateGraph) {\n        // check for need for rendering graphs\n        const timeFrames = [\n          '2week-unique',\n          '2week-total',\n          'month-unique',\n          '6month-total'\n        ];\n        for (const item of timeFrames) {\n          const dataToShow = {\n            labels: getDates(item),\n            datasets: [\n              {\n                data: getData(item)\n              }\n            ]\n          };\n          informationToShow.push(renderOneGraph(dataToShow, item));\n        }\n      }\n      for (const oneElement of info) {\n        informationToShow.push(renderOneCard(oneElement, actions || []));\n      }\n    } else {\n      informationToShow.push(\n        <Text style={{ flexShrink: 1 }}>\n          {typeof info === 'string' ? info : JSON.stringify(info, null, 2)}\n        </Text>\n      );\n    }\n\n    function getData(timeFrame) {\n      const final = [];\n      switch (timeFrame) {\n        case '2week-unique': {\n          for (let i = 13; i >= 0; i--) {\n            const day = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i, 'days')\n              .format('YYYY-MM-DD');\n            let counter = 0;\n            const usersToday = [];\n            // @ts-ignore\n            for (const instance of info) {\n              const { userName } = instance;\n              if (instance.date === day && !usersToday.includes(userName)) {\n                usersToday.push(userName);\n                counter++;\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n        case '2week-total': {\n          for (let i = 13; i >= 0; i--) {\n            const day = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i, 'days')\n              .format('YYYY-MM-DD');\n            let counter = 0;\n            const usersToday = [];\n            // @ts-ignore\n            for (const instance of info) {\n              const { userName } = instance;\n              if (instance.date === day) {\n                usersToday.push(userName);\n                counter++;\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n        case 'month-unique': {\n          for (let i = 4; i > 0; i--) {\n            const weekStart = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i, 'weeks')\n              .format('YYYY-MM-DD');\n            const weekEnd = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i - 1, 'weeks')\n              .format('YYYY-MM-DD');\n            let counter = 0;\n            const usersMonth = [];\n            // @ts-ignore\n            for (const instance of info) {\n              if (\n                instance.date > weekStart &&\n                instance.date <= weekEnd &&\n                !usersMonth.includes(instance.userName)\n              ) {\n                counter++;\n                usersMonth.push(instance.userName);\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n        case '6month-total': {\n          for (let i = 6; i > 0; i--) {\n            const monthStart = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i, 'months')\n              .format('YYYY-MM-DD');\n            const monthEnd = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i - 1, 'months')\n              .format('YYYY-MM-DD');\n            let counter = 0;\n            // @ts-ignore\n            for (const instance of info) {\n              if (instance.date > monthStart && instance.date <= monthEnd) {\n                counter++;\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n      }\n      return final;\n    }\n\n    function getDates(timeFrame) {\n      const final = [];\n      switch (timeFrame) {\n        case '2week-unique': {\n          for (let i = 13; i >= 0; i--) {\n            final.push(\n              moment()\n                .tz('America/Los_Angeles')\n                .subtract(i, 'days')\n                .format('MM/DD')\n            );\n          }\n          break;\n        }\n        case '2week-total': {\n          for (let i = 13; i >= 0; i--) {\n            final.push(\n              moment()\n                .tz('America/Los_Angeles')\n                .subtract(i, 'days')\n                .format('MM/DD')\n            );\n          }\n          break;\n        }\n        case 'month-unique': {\n          for (let i = 4; i > 0; i--) {\n            final.push(\n              `${moment()\n                .tz('America/Los_Angeles')\n                .subtract(i, 'weeks')\n                .add(1, 'days')\n                .format('MM/DD')}-${moment()\n                .tz('America/Los_Angeles')\n                .subtract(i - 1, 'weeks')\n                .format('MM/DD')}`\n            );\n          }\n          break;\n        }\n        case '6month-total': {\n          for (let i = 6; i > 0; i--) {\n            final.push(\n              `${moment()\n                .tz('America/Los_Angeles')\n                .subtract(i, 'months')\n                .add(1, 'days')\n                .format('MM/DD')}-${moment()\n                .tz('America/Los_Angeles')\n                .subtract(i - 1, 'months')\n                .format('MM/DD')}`\n            );\n          }\n          break;\n        }\n      }\n      return final;\n    }\n\n    function renderOneGraph(graphData, timeFrame) {\n      return (\n        <View style={{ paddingBottom: 10 }}>\n          <Text>\n            Timeframe:\n            {timeFrame}\n          </Text>\n          <LineChart\n            data={graphData}\n            width={Dimensions.get('window').width}\n            height={400}\n            verticalLabelRotation={60}\n            fromZero\n            xLabelsOffset={-10}\n            segments={8}\n            chartConfig={{\n              backgroundColor: '#bdbdbd',\n              decimalPlaces: 0,\n              color: (opacity = 1) => `rgba(255, 255, 255, ${opacity})`,\n              labelColor: (opacity = 1) => `rgba(255, 255, 255, ${opacity})`,\n              style: {\n                borderRadius: 16\n              },\n              propsForDots: {\n                r: '6',\n                strokeWidth: '2',\n                stroke: '#333333'\n              }\n            }}\n          />\n        </View>\n      );\n    }\n\n    function renderOneCard(cardInfo, actions) {\n      const finalText = [];\n      for (const aspect in cardInfo) {\n        if (aspect !== '_id' && aspect !== '__v') {\n          finalText.push(\n            <View style={{ flexDirection: 'row', flexWrap: 'wrap' }}>\n              <Text style={{ fontWeight: 'bold' }}>{`${aspect} : `}</Text>\n              <Text>{JSON.stringify(cardInfo[aspect], null, '\\t')}</Text>\n            </View>\n          );\n        }\n      }\n      let renderedActions = null;\n      // @ts-ignore\n      if (actions !== []) {\n        renderedActions = [];\n        for (const action of actions) {\n          renderedActions.push(renderButtonForCard(action, cardInfo));\n        }\n      }\n\n      function renderButtonForCard(action, cardInfo) {\n        return (\n          <View style={{ marginHorizontal: 20 }}>\n            <TouchableOpacity\n              style={{\n                alignItems: 'center',\n                justifyContent: 'center',\n                width: 100,\n                height: 40,\n                backgroundColor: action.color ? action.color : 'gray',\n                elevation: 3\n              }}\n              onPress={() => {\n                const params = {};\n                for (const parameter of action.params) {\n                  params[parameter] = cardInfo[parameter]\n                    ? cardInfo[parameter]\n                    : undefined;\n                }\n                fetch(action.url, {\n                  method: action.method,\n                  headers: {\n                    'Content-Type': 'application/json',\n                    userKey\n                  },\n                  body: JSON.stringify(params)\n                }).then((res) => {\n                  if (res.ok) {\n                    setButtonPushed(true);\n                  }\n                });\n              }}\n            >\n              {/* @ts-ignore */}\n              <Text style={myStyles.buttonText}>{action.label}</Text>\n            </TouchableOpacity>\n          </View>\n        );\n      }\n\n      return (\n        <View>\n          <Card>\n            {finalText}\n            <View\n              style={{\n                paddingTop: 15,\n                width: '95%',\n                flexDirection: 'row',\n                alignSelf: 'center',\n                alignContent: 'center',\n                justifyContent: 'center'\n              }}\n            >\n              {renderedActions}\n            </View>\n          </Card>\n          <Divider />\n        </View>\n      );\n    }\n\n    return (\n      <View style={{ flexShrink: 1 }}>\n        <Text\n          style={{\n            fontSize: 20,\n            paddingLeft: 20,\n            paddingBottom: 0,\n            paddingTop: 20,\n            fontWeight: 'bold'\n          }}\n        >\n          Server Response\n        </Text>\n        <Text\n          style={{\n            fontSize: 13,\n            paddingLeft: 20,\n            paddingBottom: 10,\n            paddingTop: 5,\n            fontStyle: 'italic'\n          }}\n        >\n          Status Code: {status}\n        </Text>\n        <View style={{ paddingTop: 10, backgroundColor: 'lightgray' }}>\n          {informationToShow}\n        </View>\n      </View>\n    );\n  }\n\n  return (\n    <KeyboardAvoidingView\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n    >\n      <ScrollView style={{ height: '100%' }}>\n        <View style={sponsorPageStyles.container}>\n          <View\n            style={{ width: '100%', display: 'flex', alignItems: 'center' }}\n          >\n            <Text style={sponsorPageStyles.title}>{data.label}</Text>\n          </View>\n\n          {data.url && (\n            // @ts-ignore\n            <View style={sponsorPageStyles.address}>\n              <Text style={{ fontSize: 18 }}>{data.url}</Text>\n            </View>\n          )}\n          <View style={sponsorPageStyles.description}>\n            {renderTheFieldsNecessary(data.fields)}\n          </View>\n          {allFieldsFilled && (\n            <TouchableOpacity\n              onPress={() => {\n                sendApiData(data, userKey);\n                // @ts-ignore\n              }}\n              style={myStyles.button}\n            >\n              <Text style={myStyles.text}>Send Call</Text>\n            </TouchableOpacity>\n          )}\n          {showResponseData(data.actions)}\n        </View>\n      </ScrollView>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst sponsorPageStyles = {\n  container: {\n    flex: 1,\n    backgroundColor: 'white'\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  description: {\n    borderWidth: 1,\n    margin: 10,\n    borderColor: '#5d5c5c',\n    borderRadius: 5,\n    width: '95%',\n    padding: 10,\n    backgroundColor: 'rgba(178,166,166,0.22)'\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n};\n\nconst myStyles = {\n  inputBig: {\n    height: 200,\n    backgroundColor: 'white',\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  input: {\n    backgroundColor: '#ffffff',\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  containerDrop: {\n    backgroundColor: '#ffffff',\n    height: 42,\n    margin: 12,\n    borderWidth: 1\n  },\n  indentedInput: {\n    backgroundColor: '#ffffff',\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  buttonText: {\n    fontSize: 13,\n    flexWrap: 'wrap',\n    lineHeight: 15,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3,\n    backgroundColor: 'black'\n  }\n};\n\nconst listingStyles = {\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center'\n  },\n  cardContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    backgroundColor: '#bbbbbb',\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  text: {\n    flex: 1,\n    fontSize: 20,\n    textAlign: 'center',\n    marginTop: 5,\n    marginBottom: 5\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 10\n  }\n};\n\nconst styles = {\n  imagesContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    padding: 10,\n    paddingTop: 20\n  },\n  imageContainer: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  imageLabel: {\n    fontSize: 12,\n    color: 'black',\n    padding: 10,\n    textAlign: 'center'\n  },\n  cardContainer: {\n    backgroundColor: '#FFF',\n    borderWidth: 0,\n    flex: 1,\n    justifyContent: 'center',\n    margin: 0,\n    padding: 0\n  },\n  container: {\n    flex: 1\n  }\n};\n","import { Layout, Text } from '@ui-kitten/components';\nimport Constants from 'expo-constants';\n\ntype HeaderProps = {\n  accessoryLeft?: keyof JSX.IntrinsicElements | JSX.Element;\n  accessoryRight?: keyof JSX.IntrinsicElements | JSX.Element;\n  center?: keyof JSX.IntrinsicElements | JSX.Element;\n  title: string;\n  level?: '1' | '2' | '3' | '4';\n};\n\nexport default function Header({\n  accessoryLeft,\n  accessoryRight,\n  title,\n  center,\n  level = '1'\n}: HeaderProps) {\n  return (\n    <Layout\n      level={level}\n      style={{\n        paddingTop: Constants.statusBarHeight + 10,\n        width: '100%',\n        justifyContent: 'space-between',\n        flexDirection: 'row',\n        alignItems: 'center',\n        paddingHorizontal: 20\n      }}\n    >\n      <Layout level={level} style={{ flexDirection: 'row' }}>\n        {accessoryLeft}\n        <Text style={{ marginLeft: 10, fontSize: 20, fontWeight: '500' }}>\n          {title}\n        </Text>\n      </Layout>\n      {center}\n\n      {accessoryRight}\n    </Layout>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport { Image, TouchableOpacity } from 'react-native';\n\nimport AdminHomeNavigation from './adminPanel';\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport Header from '../../components/Header';\nimport { base_URL } from '../notifications/constants';\n\nconst AdminStack = createNativeStackNavigator();\nexport default function AdminPanel() {\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28,\n        alignItems: 'center'\n      }}\n      source={require('../../../assets/logos/app-logo-transparent.png')}\n    />\n  );\n\n  return (\n    <AdminStack.Navigator>\n      <AdminStack.Screen\n        options={{\n          header: () => {\n            return (\n              <Layout style={{ paddingBottom: 10 }}>\n                <Header accessoryLeft={accessoryLeft} title=\"Admin Panel\" />\n              </Layout>\n            );\n          }\n        }}\n        name=\"AdminStack\"\n        component={AdminHomeNavigation}\n      />\n    </AdminStack.Navigator>\n  );\n}\n","import { Button, Layout, Text } from '@ui-kitten/components';\n\nexport default function EnterCodePage({ navigation }) {\n  return (\n    <Layout style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text\n        style={{\n          margin: 10\n        }}\n        category=\"s1\"\n      >\n        An email has been sent to you with a temporary password. Login to set\n        your new password.\n      </Text>\n      <Button\n        style={{ margin: 10 }}\n        onPress={() => {\n          navigation.reset({ index: 0, routes: [{ name: 'Login' }] });\n        }}\n      >\n        Back to Login\n      </Button>\n    </Layout>\n  );\n}\n","import { useNetInfo } from '@react-native-community/netinfo';\nimport { Button, Input, Layout, Spinner, Text } from '@ui-kitten/components';\nimport { useEffect, useRef, useState } from 'react';\nimport { Keyboard } from 'react-native';\n\nimport { useResetPasswordMutation } from '../../api/usersApi';\n\nexport default function EnterEmailPage({ navigation }) {\n  const [email, setEmail] = useState('');\n  const inputRef = useRef<Input>(null);\n  const [resetPassword, { isLoading, isError }] = useResetPasswordMutation();\n  const netInfo = useNetInfo();\n\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, [inputRef.current]);\n\n  const onSubmit = async () => {\n    if (!netInfo.isConnected) {\n      alert('Connect to the internet to reset your password');\n      return;\n    }\n\n    try {\n      await resetPassword(email).unwrap();\n      navigation.navigate('EnterCodePage');\n    } catch (e) {\n      console.warn('Error submitting forgot password email', e);\n    }\n  };\n\n  return (\n    <Layout style={{ flex: 1, paddingTop: 30, alignItems: 'center' }}>\n      <Text style={{ margin: 10 }} category=\"s1\">\n        Enter your email to get started\n      </Text>\n\n      <Input\n        autoCapitalize=\"none\"\n        placeholder=\"Email\"\n        ref={inputRef}\n        style={{ margin: 10 }}\n        onChangeText={setEmail}\n        value={email}\n        onSubmitEditing={Keyboard.dismiss}\n      />\n      {isError && (\n        <Text style={{ color: 'red' }}>Email is invalid. Try again</Text>\n      )}\n      <Button\n        style={{ margin: 10 }}\n        onPress={onSubmit}\n        disabled={isLoading}\n        accessoryRight={() => (isLoading ? <Spinner status=\"basic\" /> : null)}\n      >\n        Submit\n      </Button>\n    </Layout>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nimport EnterCodePage from './EnterCodePage';\nimport EnterEmailPage from './EnterEmailPage';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function ForgotPassword() {\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerShown: false\n      }}\n    >\n      <Stack.Screen name=\"EnterEmailPage\" component={EnterEmailPage} />\n      <Stack.Screen name=\"EnterCodePage\" component={EnterCodePage} />\n    </Stack.Navigator>\n  );\n}\n","import NetInfo from '@react-native-community/netinfo';\nimport { Input, Layout, Spinner, Text } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport {\n  Image,\n  StyleSheet,\n  TouchableOpacity,\n  KeyboardAvoidingView,\n  Keyboard,\n  TouchableWithoutFeedback,\n  Platform,\n  TextInput\n} from 'react-native';\n\nimport {\n  selectDarkMode,\n  setIsGuest,\n  userKeyUpdated\n} from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { useLazyGetAllSectionsQuery } from '../api/classPagesApi';\nimport {\n  useLazyGetUserInfoQuery,\n  useLoginMutation,\n  useTrackLoginMutation\n} from '../api/usersApi';\nimport {\n  availableSectionsListUpdated,\n  currentSectionUpdated\n} from '../classPages/classPagesSlice';\n\nconst LightModeLogo = require('../../../assets/logos/owl-black-text.png');\nconst DarkModeLogo = require('../../../assets/logos/owl-white-text.png');\n\nexport default function Login({ navigation }) {\n  const [userName, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [loginError, setLoginError] = useState('');\n\n  const [login, { isLoading }] = useLoginMutation();\n  const [getUserInfo, { isLoading: loadingUserInfo }] =\n    useLazyGetUserInfoQuery();\n  const [trackLogin] = useTrackLoginMutation();\n  const [getAllSections] = useLazyGetAllSectionsQuery();\n  const darkMode = useAppSelector(selectDarkMode);\n  // const apiUserKey = useAppSelector((state) => state.appData.secure);\n  const dispatch = useAppDispatch();\n\n  const passwordRef = React.useRef(null);\n\n  const handleLogin = async () => {\n    Keyboard.dismiss();\n\n    // Check for internet connection\n    const netInfo = await NetInfo.fetch();\n    if (!netInfo.isConnected) {\n      setLoginError('No internet connection');\n      return;\n    }\n\n    // Validate input\n    if (!userName) {\n      setLoginError(\"Username can't be empty\");\n    } else if (!password) {\n      setLoginError(\"Password can't be empty\");\n    } else {\n      try {\n        const { userKey } = await login({\n          userName,\n          password\n        }).unwrap();\n        // Save user key and data to redux store\n        dispatch(userKeyUpdated(userKey));\n        dispatch(setIsGuest(false));\n\n        // Get current section\n        const allSections = await getAllSections().unwrap();\n\n        dispatch(currentSectionUpdated(allSections.currentTerm));\n        dispatch(availableSectionsListUpdated(allSections.availableTerms));\n\n        // Get user info\n        getUserInfo(userKey)\n          .unwrap()\n          .then(async () => {\n            await trackLogin(userKey);\n          });\n\n        // Reset login form\n        setUserName('');\n        setPassword('');\n        setLoginError('');\n      } catch (e) {\n        setLoginError('Invalid username or password');\n        console.error('Failed to Login: ', e);\n      }\n    }\n  };\n\n  const guestLogin = async () => {\n    Keyboard.dismiss();\n\n    // Check for internet connection\n    const netInfo = await NetInfo.fetch();\n    if (!netInfo.isConnected) {\n      setLoginError('No internet connection');\n      return;\n    }\n\n    try {\n      const { userKey } = await login({\n        userName: '',\n        password: '',\n        isGuest: true\n      }).unwrap();\n      // Save user key and data to redux store\n      dispatch(userKeyUpdated(userKey));\n      dispatch(setIsGuest(true));\n\n      // Get user info\n      getUserInfo(userKey)\n        .unwrap()\n        .then(async () => {\n          await trackLogin(userKey);\n        });\n\n      // Reset login form\n      setUserName('');\n      setPassword('');\n      setLoginError('');\n    } catch (e) {\n      setLoginError('Invalid username or password');\n      console.error('Failed to Login: ', e);\n    }\n  };\n\n  return (\n    <TouchableWithoutFeedback\n      style={{ flex: 1 }}\n      onPress={() => {\n        Keyboard.dismiss();\n      }}\n    >\n      <KeyboardAvoidingView\n        style={styles.container}\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      >\n        <Layout\n          style={{\n            flex: 1,\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n          {darkMode ? (\n            <Image source={DarkModeLogo} style={styles.logo} />\n          ) : (\n            <Image source={LightModeLogo} style={styles.logo} />\n          )}\n\n          <Layout style={styles.inputView}>\n            <Input\n              autoCapitalize=\"none\"\n              status=\"control\"\n              autoComplete=\"username\"\n              style={styles.TextInput}\n              placeholder=\"username / email\"\n              placeholderTextColor=\"white\"\n              keyboardType=\"email-address\"\n              onChangeText={(userName) => setUserName(userName)}\n              value={userName}\n              onSubmitEditing={() => passwordRef.current.focus()}\n              blurOnSubmit={false}\n            />\n          </Layout>\n          <Layout style={styles.inputView}>\n            <Input\n              style={styles.TextInput}\n              autoComplete=\"password\"\n              placeholder=\"password\"\n              placeholderTextColor=\"white\"\n              secureTextEntry\n              onChangeText={(password) => setPassword(password)}\n              value={password}\n              ref={passwordRef}\n            />\n          </Layout>\n          <TouchableOpacity\n            onPress={() => {\n              navigation.navigate('ForgotPassword');\n            }}\n          >\n            <Text style={styles.forgot_button}>Forgot Password?</Text>\n          </TouchableOpacity>\n          {isLoading || loadingUserInfo ? (\n            <Layout\n              style={{ position: 'absolute', backgroundColor: 'transparent' }}\n            >\n              <Spinner />\n            </Layout>\n          ) : null}\n\n          <TouchableOpacity\n            style={styles.loginBtn}\n            onPress={() => {\n              handleLogin();\n            }}\n          >\n            <Text style={{ color: '#fff' }}>LOGIN</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={{\n              width: '50%',\n              borderRadius: 25,\n              height: 40,\n              alignItems: 'center',\n              justifyContent: 'center',\n              marginTop: 20,\n              backgroundColor: darkMode ? '#8b31e3' : 'rgb(98,111,187)',\n              maxWidth: 300\n            }}\n            onPress={() => {\n              guestLogin();\n            }}\n          >\n            <Text style={{ color: '#fff' }}>Try As Guest</Text>\n          </TouchableOpacity>\n          <Text style={styles.error}>{loginError}</Text>\n          <TouchableOpacity\n            style={{ width: '100%' }}\n            onPress={() => {\n              navigation.navigate('Signup');\n            }}\n          >\n            <Layout level=\"2\" style={styles.signupBtn}>\n              <Text>SIGN UP</Text>\n            </Layout>\n          </TouchableOpacity>\n        </Layout>\n      </KeyboardAvoidingView>\n    </TouchableWithoutFeedback>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  title: {\n    fontSize: 30,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  image: {\n    marginBottom: 40\n  },\n\n  inputView: {\n    flexDirection: 'row',\n    height: 40,\n    marginTop: 20,\n    marginLeft: 50,\n    marginRight: 50,\n    margin: 10\n  },\n\n  TextInput: {\n    backgroundColor: '#b42bba',\n    borderColor: '#b42bba',\n    color: '#fff',\n    borderWidth: 1,\n    borderRadius: 30,\n    width: '100%',\n    maxWidth: 300\n  },\n\n  forgot_button: {\n    height: 30,\n    marginBottom: 30\n  },\n\n  loginBtn: {\n    width: '80%',\n    borderRadius: 25,\n    height: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 10,\n    backgroundColor: '#ff3f5e',\n    maxWidth: 300\n  },\n  guestButton: {\n    width: '60%',\n    borderRadius: 25,\n    height: 40,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 20\n  },\n  signupBtn: {\n    marginTop: 60,\n    width: '100%',\n    height: 50,\n    alignItems: 'center',\n    alignSelf: 'center',\n    justifyContent: 'center',\n    maxWidth: 800\n  },\n  error: {\n    color: 'red',\n    fontSize: 15\n  },\n  logo: {\n    width: 178,\n    height: 197,\n    marginBottom: 20\n  }\n});\n","import {\n  CheckBox,\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem,\n  Text,\n  Input,\n  Spinner\n} from '@ui-kitten/components';\nimport React, { useState, useRef } from 'react';\nimport {\n  StyleSheet,\n  KeyboardAvoidingView,\n  Keyboard,\n  TouchableOpacity,\n  ScrollView,\n  Platform\n} from 'react-native';\n\nimport { userKeyUpdated } from '../../../app/appDataSlice';\nimport { useAppDispatch } from '../../../app/hooks';\nimport { base_URL } from '../../../constants/admin';\nimport {\n  useGetCollegeListQuery,\n  useSignupUserMutation\n} from '../../api/usersApi';\n\nfunction Signup({ navigation }) {\n  const [realFirstName, setRealFirstName] = useState('');\n  const [realLastName, setRealLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [major, setMajor] = useState('');\n  const dispatch = useAppDispatch();\n  const [selectedIndex, setSelectedIndex] = useState(new IndexPath(0));\n  const [simplifiedSignup, setSimplifiedSignUp] = useState(false);\n  const [userCollege, setUserCollege] = useState({\n    collegeName: '',\n    humanReadableCollegeName: null\n  });\n\n  const { data: collegeList } = useGetCollegeListQuery();\n  const [signupUser, { isLoading: signupLoading }] = useSignupUserMutation();\n\n  const firstNameInputRef = useRef<Input>();\n  const lastNameInputRef = useRef<Input>();\n  const passwordInputRef = useRef<Input>();\n  const majorInputRef = useRef<Input>();\n\n  const validateInput = () => {\n    if (!simplifiedSignup) {\n      if (!realFirstName) {\n        alert('Please fill First Name');\n        return false;\n      }\n      if (!realLastName) {\n        alert('Please fill Last Name');\n        return false;\n      }\n\n      if (!userCollege.collegeName) {\n        alert('Please fill College Name');\n        return false;\n      }\n\n      if (!major) {\n        alert('Please fill Major');\n        return false;\n      }\n    }\n\n    if (!email) {\n      alert('Please fill Email');\n      return false;\n    }\n\n    if (!password) {\n      alert('Please fill Password');\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmitButton = async () => {\n    if (validateInput()) {\n      try {\n        const body = {\n          email,\n          password,\n          realFirstName,\n          realLastName,\n          collegeName: userCollege.collegeName,\n          major\n        };\n\n        // Uncomment this stuff when we get the email working again\n        // await signupUser(body).unwrap();\n        // navigation.navigate('VerifyEmail');\n        const response = await fetch(`${base_URL}/users/noEmailUserCreation`, {\n          method: 'POST',\n          headers: {\n            'content-type': 'application/json'\n          },\n          body: JSON.stringify(body)\n        });\n        if (response.ok) {\n          const responseUnwrapped = await response.json();\n          dispatch(userKeyUpdated(responseUnwrapped.password));\n          navigation.goBack();\n        } else {\n          throw `${(await response.json()).message}`;\n        }\n      } catch (e) {\n        console.warn('Signup error: ', e.message);\n      }\n    }\n  };\n\n  const renderCollegeDropDown = () => {\n    function handleSelection(index) {\n      setSelectedIndex(index);\n      const newObject = {\n        collegeName: collegeList[index.row].id,\n        humanReadableCollegeName: collegeList[index.row].label\n      };\n      setUserCollege(newObject);\n    }\n\n    return (\n      <Layout style={styles.containerDrop}>\n        <Select\n          placeholder=\"Choose A College\"\n          value={\n            !userCollege.humanReadableCollegeName\n              ? 'Selection'\n              : userCollege.humanReadableCollegeName\n          }\n          onFocus={Keyboard.dismiss}\n          selectedIndex={selectedIndex}\n          onSelect={handleSelection}\n        >\n          {collegeList &&\n            collegeList.map((college, index) => (\n              <SelectItem title={college.label} key={index} />\n            ))}\n        </Select>\n      </Layout>\n    );\n  };\n\n  const fields = [];\n  fields.push(\n    <Layout key=\"1\">\n      <Layout style={styles.SectionStyle}>\n        <Layout style={styles.labelSection}>\n          <Text style={styles.label}>Email</Text>\n        </Layout>\n        <Input\n          style={styles.inputStyle}\n          onChangeText={(email) => setEmail(email)}\n          underlineColorAndroid=\"#f000\"\n          placeholder=\"Enter Email\"\n          placeholderTextColor=\"#8b9cb5\"\n          defaultValue=\"\"\n          autoCapitalize=\"none\"\n          returnKeyType=\"next\"\n          onSubmitEditing={() =>\n            passwordInputRef.current ? passwordInputRef.current.focus() : null\n          }\n          blurOnSubmit={false}\n        />\n      </Layout>\n      <Layout style={styles.SectionStyle}>\n        <Layout style={styles.labelSection}>\n          <Text style={styles.label}>Password</Text>\n        </Layout>\n        <Input\n          style={styles.inputStyle}\n          onChangeText={(password) => setPassword(password)}\n          underlineColorAndroid=\"#f000\"\n          placeholder=\"Enter Password\"\n          placeholderTextColor=\"#8b9cb5\"\n          defaultValue=\"\"\n          ref={passwordInputRef}\n          returnKeyType=\"next\"\n          secureTextEntry\n          onSubmitEditing={() =>\n            firstNameInputRef.current ? firstNameInputRef.current.focus() : null\n          }\n          blurOnSubmit={false}\n        />\n      </Layout>\n    </Layout>\n  );\n\n  if (!simplifiedSignup) {\n    fields.push(\n      <Layout key=\"2\">\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>First Name</Text>\n          </Layout>\n          <Input\n            style={styles.inputStyle}\n            onChangeText={setRealFirstName}\n            ref={firstNameInputRef}\n            underlineColorAndroid=\"#f000\"\n            placeholder=\"Enter First Name\"\n            placeholderTextColor=\"#8b9cb5\"\n            defaultValue=\"\"\n            autoCapitalize=\"sentences\"\n            returnKeyType=\"next\"\n            onSubmitEditing={() =>\n              lastNameInputRef?.current\n                ? lastNameInputRef.current.focus()\n                : null\n            }\n            blurOnSubmit={false}\n          />\n        </Layout>\n\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>Last Name</Text>\n          </Layout>\n          <Input\n            style={styles.inputStyle}\n            onChangeText={setRealLastName}\n            underlineColorAndroid=\"#f000\"\n            placeholder=\"Enter Last Name\"\n            placeholderTextColor=\"#8b9cb5\"\n            defaultValue=\"\"\n            ref={lastNameInputRef}\n            autoCapitalize=\"sentences\"\n            returnKeyType=\"next\"\n            onSubmitEditing={() =>\n              majorInputRef.current ? majorInputRef.current.focus() : null\n            }\n            blurOnSubmit={false}\n          />\n        </Layout>\n\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>Intended Major</Text>\n          </Layout>\n          <Input\n            style={styles.inputStyle}\n            onChangeText={setMajor}\n            underlineColorAndroid=\"#f000\"\n            placeholder=\"Enter Intended Major\"\n            placeholderTextColor=\"#8b9cb5\"\n            defaultValue=\"\"\n            ref={majorInputRef}\n            blurOnSubmit\n          />\n        </Layout>\n\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>College Name</Text>\n          </Layout>\n          {renderCollegeDropDown()}\n        </Layout>\n      </Layout>\n    );\n  }\n\n  return (\n    // Registration Page\n    <Layout style={{ flex: 1 }}>\n      <ScrollView style={{ flex: 1 }}>\n        {/* Spinner */}\n        {signupLoading && (\n          <Layout\n            style={{\n              flex: 1,\n              position: 'absolute',\n              zIndex: 1,\n              top: '50%',\n              left: '50%',\n              backgroundColor: 'transparent'\n            }}\n          >\n            <Spinner />\n          </Layout>\n        )}\n\n        <Layout style={{ paddingVertical: 30, paddingHorizontal: 40 }}>\n          <CheckBox\n            checked={simplifiedSignup}\n            onChange={(nextChecked) => setSimplifiedSignUp(nextChecked)}\n          >\n            Simplified Signup\n          </CheckBox>\n        </Layout>\n\n        <KeyboardAvoidingView\n          style={{ flex: 1 }}\n          behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n        >\n          {fields}\n\n          <TouchableOpacity\n            style={styles.buttonStyle}\n            onPress={handleSubmitButton}\n          >\n            <Text style={styles.buttonTextStyle}>Register</Text>\n          </TouchableOpacity>\n        </KeyboardAvoidingView>\n      </ScrollView>\n    </Layout>\n  );\n}\nexport default Signup;\n\nconst styles = StyleSheet.create({\n  SectionStyle: {\n    flexDirection: 'row',\n    height: 40,\n    marginTop: 20,\n    marginLeft: 35,\n    marginRight: 35,\n    margin: 10\n  },\n  buttonStyle: {\n    backgroundColor: '#b42bba',\n    borderWidth: 0,\n    color: '#FFFFFF',\n    borderColor: '#7DE24E',\n    height: 40,\n    alignItems: 'center',\n    borderRadius: 30,\n    marginLeft: 35,\n    marginRight: 35,\n    marginTop: 20,\n    marginBottom: 20\n  },\n  buttonTextStyle: {\n    color: '#FFFFFF',\n    paddingVertical: 10,\n    fontSize: 16\n  },\n  inputStyle: {\n    flex: 1,\n    paddingLeft: 15,\n    paddingRight: 15,\n    borderWidth: 1,\n    borderRadius: 30,\n    borderColor: '#dadae8'\n  },\n  errorTextStyle: {\n    color: 'red',\n    textAlign: 'center',\n    fontSize: 14\n  },\n  successTextStyle: {\n    color: 'black',\n    textAlign: 'center',\n    fontSize: 18,\n    padding: 30\n  },\n  label: {\n    textAlign: 'center',\n    fontSize: 15,\n    paddingLeft: 10,\n    paddingRight: 10\n  },\n  labelSection: {\n    justifyContent: 'center'\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n\n  text: {\n    fontSize: 20,\n    margin: 20\n  },\n  input: {\n    width: '80%',\n    margin: 20,\n    borderWidth: 1,\n    borderColor: 'black',\n    borderRadius: 20,\n    height: 40,\n    padding: 10\n  },\n  button: {\n    width: '80%',\n    margin: 20,\n    alignItems: 'center',\n    backgroundColor: '#b42bba',\n    height: 40,\n    borderRadius: 20,\n    borderColor: '#b42bba',\n    justifyContent: 'center'\n  },\n  buttonText: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white'\n  },\n  containerDrop: {\n    minHeight: 128,\n    minWidth: 200\n  }\n});\n","import { Layout, Text, Input, Spinner } from '@ui-kitten/components';\nimport React from 'react';\nimport { StyleSheet, TouchableOpacity } from 'react-native';\n\nimport { userKeyUpdated } from '../../../app/appDataSlice';\nimport { useAppDispatch } from '../../../app/hooks';\nimport {\n  useVerifySignupMutation,\n  useLazyGetUserInfoQuery\n} from '../../api/usersApi';\n\nexport default function VerifyEmail() {\n  const [verificationCode, setVerificationCode] = React.useState('');\n  const [verifyCode, { isError }] = useVerifySignupMutation();\n  const [getUserInfo, { isLoading: getUserInfoLoading }] =\n    useLazyGetUserInfoQuery();\n  const dispatch = useAppDispatch();\n\n  const handleVerifyCodeButton = async () => {\n    try {\n      const { password } = await verifyCode(verificationCode).unwrap();\n      dispatch(userKeyUpdated(password));\n      await getUserInfo(password).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't verify code\", error);\n    }\n  };\n\n  return (\n    <Layout style={styles.container}>\n      <Text style={styles.text}>\n        A verification code has been sent to your email. Please check your email\n        and enter the code below.\n      </Text>\n      {getUserInfoLoading && <Spinner />}\n      {isError && <Text>Error verifying code</Text>}\n      <Input\n        style={styles.input}\n        placeholder=\"Verification Code\"\n        keyboardType=\"numeric\"\n        onChangeText={(text) => setVerificationCode(text)}\n      />\n      <TouchableOpacity style={styles.button} onPress={handleVerifyCodeButton}>\n        <Text style={styles.buttonText}>Finish Signup</Text>\n      </TouchableOpacity>\n    </Layout>\n  );\n}\n\nconst styles = StyleSheet.create({\n  SectionStyle: {\n    flexDirection: 'row',\n    height: 40,\n    marginTop: 20,\n    marginLeft: 35,\n    marginRight: 35,\n    margin: 10\n  },\n  buttonStyle: {\n    backgroundColor: '#b42bba',\n    borderWidth: 0,\n    color: '#FFFFFF',\n    borderColor: '#7DE24E',\n    height: 40,\n    alignItems: 'center',\n    borderRadius: 30,\n    marginLeft: 35,\n    marginRight: 35,\n    marginTop: 20,\n    marginBottom: 20\n  },\n  buttonTextStyle: {\n    color: '#FFFFFF',\n    paddingVertical: 10,\n    fontSize: 16\n  },\n  inputStyle: {\n    flex: 1,\n    color: 'black',\n    paddingLeft: 15,\n    paddingRight: 15,\n    borderWidth: 1,\n    borderRadius: 30,\n    borderColor: '#dadae8'\n  },\n  errorTextStyle: {\n    color: 'red',\n    textAlign: 'center',\n    fontSize: 14\n  },\n  successTextStyle: {\n    color: 'black',\n    textAlign: 'center',\n    fontSize: 18,\n    padding: 30\n  },\n  description: {\n    color: 'black',\n    textAlign: 'center',\n    fontSize: 18,\n    padding: 30\n  },\n  label: {\n    color: 'black',\n    textAlign: 'center',\n    fontSize: 15,\n    paddingLeft: 10,\n    paddingRight: 10\n  },\n  labelSection: {\n    justifyContent: 'center'\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n\n  text: {\n    fontSize: 20,\n    margin: 20\n  },\n  input: {\n    width: '80%',\n    margin: 20,\n    borderWidth: 1,\n    borderColor: 'black',\n    borderRadius: 20,\n    height: 40,\n    padding: 10\n  },\n  button: {\n    width: '80%',\n    margin: 20,\n    alignItems: 'center',\n    backgroundColor: '#b42bba',\n    height: 40,\n    borderRadius: 20,\n    borderColor: '#b42bba',\n    justifyContent: 'center'\n  },\n  buttonText: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white'\n  },\n  containerDrop: {\n    minHeight: 128,\n    minWidth: 200\n  }\n});\n","import { HeaderBackButton } from '@react-navigation/elements';\nimport { Platform } from 'react-native';\n\nexport default function BackButton({ navigation, ...props }) {\n  return (\n    <HeaderBackButton\n      {...props}\n      onPress={navigation.goBack}\n      label=\"Back\"\n      labelVisible={Platform.OS === 'ios'}\n    />\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { useTheme } from '@ui-kitten/components';\n\nimport SignupForm from './SignupForm';\nimport VerifyEmail from './VerifyEmail';\nimport { selectDarkMode } from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport BackButton from '../../../components/BackButton';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Signup() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Stack.Navigator\n      screenOptions={({ navigation }) => ({\n        headerStyle: {\n          backgroundColor: darkMode ? theme['color-basic-800'] : '#fff'\n        },\n        headerLeft: (props) => <BackButton {...props} navigation={navigation} />\n      })}\n    >\n      <Stack.Screen\n        name=\"SignupForm\"\n        component={SignupForm}\n        options={{ title: 'Signup' }}\n      />\n      <Stack.Screen\n        name=\"VerifyEmail\"\n        component={VerifyEmail}\n        options={{ title: 'Verify Email' }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { useTheme } from '@ui-kitten/components';\n\nimport ForgotPassword from './ForgotPassword/index';\nimport Login from './Login';\nimport Signup from './Signup/index';\nimport { selectDarkMode } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport BackButton from '../../components/BackButton';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Auth() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerStyle: {\n          backgroundColor: darkMode ? theme['color-basic-800'] : '#fff'\n        }\n      }}\n    >\n      <Stack.Screen\n        name=\"Login\"\n        component={Login}\n        options={{ headerShown: false }}\n      />\n      <Stack.Screen\n        name=\"Signup\"\n        component={Signup}\n        options={{ headerShown: false }}\n      />\n      <Stack.Screen\n        name=\"ForgotPassword\"\n        component={ForgotPassword}\n        options={{ title: 'Reset Password' }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { Button, Icon, Layout, Text, useTheme } from '@ui-kitten/components';\nimport Modal from 'react-native-modal';\n\nimport { selectDarkMode } from '../app/appDataSlice';\nimport { useAppSelector } from '../app/hooks';\n\ntype ModalContainerProps = {\n  children: React.ReactNode;\n  backDropVisible: boolean;\n  setBackDropVisible: React.Dispatch<React.SetStateAction<boolean>>;\n  title: string;\n  clickBackdropToClose?: boolean;\n  modalStyle?: any;\n  modalProps?: any;\n};\n\nexport default function ModalContainer({\n  children,\n  backDropVisible,\n  setBackDropVisible,\n  title,\n  clickBackdropToClose = true,\n  modalStyle,\n  modalProps\n}: ModalContainerProps) {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Modal\n      backdropOpacity={clickBackdropToClose ? 0.2 : 0}\n      onBackdropPress={\n        clickBackdropToClose ? () => setBackDropVisible(false) : undefined\n      }\n      isVisible={backDropVisible}\n      style={[\n        {\n          backgroundColor: darkMode\n            ? theme['color-basic-900']\n            : theme['color-basic-50'],\n          borderRadius: 20,\n          flex: 1,\n          marginTop: 300,\n          marginBottom: 50,\n          width: '90%',\n          maxWidth: 500,\n          alignSelf: 'center',\n          shadowColor: '#000',\n          shadowOffset: {\n            width: 0,\n            height: 12\n          },\n          shadowOpacity: 0.58,\n          shadowRadius: 16.0,\n\n          elevation: 11\n        },\n        modalStyle\n      ]}\n      {...modalProps}\n    >\n      <Layout\n        style={{\n          flex: 1,\n          alignItems: 'center',\n          borderRadius: 20,\n          backgroundColor: darkMode\n            ? theme['color-basic-900']\n            : theme['color-basic-100']\n        }}\n      >\n        <Button\n          appearance=\"ghost\"\n          style={{\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            flex: 1,\n            borderRadius: 20\n          }}\n          accessoryRight={(props) => (\n            <Icon pack=\"fontAwesome\" name=\"angle-down\" {...props} />\n          )}\n          onPress={() => setBackDropVisible(false)}\n        />\n        <Text category=\"h5\" style={{ marginVertical: 15 }}>\n          {title}\n        </Text>\n        {children}\n      </Layout>\n    </Modal>\n  );\n}\n","import {\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem,\n  Text\n} from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport { TouchableOpacity } from 'react-native';\n\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { useLazyGetAllClassesQuery } from '../api/classPagesApi';\nimport { usersApiSlice } from '../api/usersApi';\nimport { currentSectionUpdated } from './classPagesSlice';\n\nexport default function SelectTerm({ navigation }) {\n  const dispatch = useAppDispatch();\n\n  const availableSections = useAppSelector(\n    (state) => state.appData.classPages.availableSections\n  );\n  const userKey = useAppSelector((state) => state.appData.secure.userKey);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n\n  const { data: userDataCache } =\n    usersApiSlice.endpoints.getUserInfo.useQueryState(userKey, {\n      skip: !userKey\n    });\n  const [getAllClasses] = useLazyGetAllClassesQuery();\n\n  const startIndexValue =\n    availableSections.findIndex((term) => term == currentSection) || 0;\n\n  const [selectedSectionIndex, setSelectedSectionIndex] = useState<IndexPath>(\n    new IndexPath(startIndexValue)\n  );\n\n  const saveChanges = () => {\n    if (availableSections[selectedSectionIndex.row] !== currentSection) {\n      try {\n        getAllClasses({\n          userKey,\n          collegeName: userDataCache.collegeName,\n          courseTerm: availableSections[selectedSectionIndex.row]\n        }).unwrap();\n\n        dispatch(\n          currentSectionUpdated(availableSections[selectedSectionIndex.row])\n        );\n      } catch (e) {\n        console.warn('Changing section: could not fetch classes', e);\n      }\n    }\n\n    navigation.goBack();\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <Layout\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          margin: 20,\n          marginTop: 60\n        }}\n      >\n        <TouchableOpacity\n          onPress={() => {\n            navigation.goBack();\n          }}\n        >\n          <Text>Cancel</Text>\n        </TouchableOpacity>\n\n        <Text category=\"s1\">Select Term</Text>\n\n        <TouchableOpacity onPress={saveChanges}>\n          <Text>Save</Text>\n        </TouchableOpacity>\n      </Layout>\n\n      <Select\n        style={{ margin: 20 }}\n        label=\"Term\"\n        value={availableSections[selectedSectionIndex.row]}\n        selectedIndex={selectedSectionIndex}\n        onSelect={(index: IndexPath) => {\n          setSelectedSectionIndex(index);\n        }}\n      >\n        {availableSections.map((term, index) => (\n          <SelectItem key={index} title={term} />\n        ))}\n      </Select>\n    </Layout>\n  );\n}\n","import { apiSlice } from '../api/apiSlice';\n\nexport const base_URL = 'https://api.athenaserver.com:5678/api';\n","import { Layout, Text } from '@ui-kitten/components';\n\nexport default function Message({ title, item }) {\n  return (\n    <Layout\n      style={{\n        flex: 1,\n        marginTop: 10,\n        alignItems: 'center',\n        backgroundColor: 'transparent'\n      }}\n    >\n      <Text style={{ margin: 20, color: '#fff' }}>{title}</Text>\n      {item}\n    </Layout>\n  );\n}\n","import { Layout, Input, Button, Icon, useTheme } from '@ui-kitten/components';\nimport { useState } from 'react';\nimport {\n  Keyboard,\n  TouchableOpacity,\n  LayoutAnimation,\n  TouchableWithoutFeedback\n} from 'react-native';\n\nimport { selectDarkMode } from '../app/appDataSlice';\nimport { useAppSelector } from '../app/hooks';\n\ntype SearchBarProps = {\n  onChangeText: (text: string) => void;\n  searchTerm: string;\n  placeholder?: string;\n  accessoryLeft?: any;\n  inputProps?: any;\n  inputStyle?: any;\n  inputRef?: any;\n  cancelButtonAction?: () => void;\n  onSubmitEditing?: () => void;\n  alwaysShowCancelButton?: boolean;\n  cancelButtonStatus?:\n    | 'basic'\n    | 'primary'\n    | 'success'\n    | 'info'\n    | 'warning'\n    | 'danger';\n};\n\nexport default function SearchBar({\n  onChangeText,\n  searchTerm,\n  accessoryLeft,\n  placeholder,\n  inputRef,\n  inputStyle,\n  inputProps,\n  cancelButtonAction = () => {},\n  onSubmitEditing = () => {},\n  cancelButtonStatus = 'warning',\n  alwaysShowCancelButton = false\n}: SearchBarProps) {\n  const [selected, setSelected] = useState(false);\n\n  const darkMode = useAppSelector(selectDarkMode);\n  const theme = useTheme();\n\n  const select = () => {\n    setSelected(true);\n    if (!alwaysShowCancelButton) {\n      LayoutAnimation.configureNext(\n        LayoutAnimation.create(100, 'linear', 'scaleX')\n      );\n    }\n  };\n\n  const deselect = () => {\n    setSelected(false);\n    if (!alwaysShowCancelButton) {\n      LayoutAnimation.configureNext(\n        LayoutAnimation.create(100, 'linear', 'opacity')\n      );\n    }\n  };\n\n  return (\n    <Layout\n      style={{\n        backgroundColor: 'transparent',\n        flexDirection: 'row'\n      }}\n    >\n      {accessoryLeft}\n\n      <Input\n        style={{\n          ...inputStyle,\n          borderRadius: 20,\n          flex: 1,\n          borderWidth: 1,\n          borderColor: darkMode\n            ? theme['color-basic-500']\n            : theme['color-basic-100']\n        }}\n        placeholderTextColor={theme['color-basic-500']}\n        accessoryRight={\n          selected && searchTerm.length > 0\n            ? (props) => (\n                <TouchableOpacity onPress={() => onChangeText('')}>\n                  <Icon {...props} name=\"times\" pack=\"fontAwesome\" />\n                </TouchableOpacity>\n              )\n            : null\n        }\n        onFocus={select}\n        onBlur={deselect}\n        placeholder={placeholder}\n        value={searchTerm}\n        onChangeText={(text) => {\n          onChangeText(text);\n        }}\n        onSubmitEditing={onSubmitEditing}\n        ref={inputRef}\n        autoCorrect={false}\n        {...inputProps}\n      />\n\n      {alwaysShowCancelButton || selected ? (\n        <Button\n          size=\"small\"\n          status={cancelButtonStatus}\n          appearance=\"ghost\"\n          onPress={() => {\n            Keyboard.dismiss();\n            cancelButtonAction();\n          }}\n        >\n          Cancel\n        </Button>\n      ) : null}\n    </Layout>\n  );\n}\n","export const RENDERED_RESULTS_LIMIT = 10;\nexport const NEW_REVIEW_FIELDS = [\n  {\n    label: 'Professor',\n    id: 'professor',\n    mandatory: false,\n    type: 'DropDown',\n    options: []\n  },\n  {\n    label: 'Grade',\n    id: 'grade',\n    type: 'DropDown',\n    mandatory: false,\n    options: [\n      {\n        label: 'A+',\n        id: 'A'\n      },\n      {\n        label: 'A',\n        id: 'A'\n      },\n      {\n        label: 'A-',\n        id: 'A'\n      },\n      {\n        label: 'B+',\n        id: 'B'\n      },\n      {\n        label: 'B',\n        id: 'B'\n      },\n      {\n        label: 'B-',\n        id: 'B'\n      },\n      {\n        label: 'C+',\n        id: 'C'\n      },\n      {\n        label: 'C',\n        id: 'C'\n      },\n      {\n        label: 'C-',\n        id: 'C'\n      },\n      {\n        label: 'D+',\n        id: 'D'\n      },\n      {\n        label: 'D',\n        id: 'D'\n      },\n      {\n        label: 'D-',\n        id: 'D'\n      },\n      {\n        label: 'F+',\n        id: 'F'\n      },\n      {\n        label: 'F',\n        id: 'F'\n      },\n      {\n        label: 'F-',\n        id: 'F'\n      }\n    ]\n  },\n  {\n    label: 'Time Spent in Hours (ie: 7)',\n    id: 'timeSpent',\n    mandatory: false,\n    type: 'String'\n  }\n];\n","import { Entypo, Ionicons } from '@expo/vector-icons';\nimport { BottomSheetMethods } from '@gorhom/bottom-sheet/lib/typescript/types';\nimport { useNavigation } from '@react-navigation/native';\nimport { Divider, Layout, Text, useTheme } from '@ui-kitten/components';\nimport React from 'react';\nimport {\n  Platform,\n  ScrollView,\n  TouchableOpacity,\n  useWindowDimensions\n} from 'react-native';\nimport DraggableFlatList, {\n  RenderItemParams,\n  ScaleDecorator\n} from 'react-native-draggable-flatlist';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { classSelected } from './classPagesSlice';\n\ntype AddedClassesProps = {\n  setAddedClassesVisible: (visible: boolean) => void;\n  addedClasses: string[];\n  handleRemoveClass: (courseCode: string, masterCourseCode: string) => void;\n  darkMode: boolean;\n  handleSwapAddedClasses: (from: number, to: number) => void;\n  bottomSheetRef: React.MutableRefObject<BottomSheetMethods>;\n};\n\ntype AddedClassListing = [\n  masterCourseCode: string,\n  courseCode: string,\n  courseName: string\n];\n\nexport default function AddedClasses({\n  setAddedClassesVisible,\n  addedClasses,\n  handleRemoveClass,\n  darkMode,\n  handleSwapAddedClasses,\n  bottomSheetRef\n}: AddedClassesProps) {\n  const navigation = useNavigation();\n  const dispatch = useAppDispatch();\n  const theme = useTheme();\n  const windowHeight = useWindowDimensions().height;\n\n  const isHMC = useAppSelector((state) => state.appData.classPages.isHMC);\n  const totalCredits = useAppSelector(\n    (state) => state.appData.classPages.totalCredits\n  );\n  const allClassesList = useAppSelector(\n    (state) => state.appData.classPages.classes\n  );\n\n  const addedClassesList: AddedClassListing[] = addedClasses.map(\n    (courseCode) => {\n      const courseCodeParts = courseCode.split('-');\n      const masterCourseCode = courseCodeParts\n        .slice(0, courseCodeParts.length - 1)\n        .join('-');\n      const { courseName } = allClassesList[masterCourseCode];\n      return [masterCourseCode, courseCode, courseName] as AddedClassListing;\n    }\n  );\n\n  function handleClassSelected(courseCode: string) {\n    dispatch(classSelected(courseCode));\n    setAddedClassesVisible(false);\n    if (Platform.OS === 'web') {\n      navigation.navigate('SingleClassPage');\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  }\n\n  const renderItem = ({\n    item: [masterCourseCode, courseCode, courseName],\n    drag,\n    isActive,\n    getIndex\n  }: RenderItemParams<AddedClassListing>) => {\n    return (\n      <ScaleDecorator>\n        <Layout\n          style={{\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            paddingVertical: 7,\n            paddingHorizontal: 10,\n            backgroundColor: isActive ? 'lightblue' : 'transparent'\n            // ? theme['color-basic-900']\n            // : theme['color-basic-100']\n          }}\n        >\n          <Layout\n            style={{ flexDirection: 'row', backgroundColor: 'transparent' }}\n          >\n            <TouchableOpacity disabled={isActive} onLongPress={drag}>\n              <Ionicons name=\"reorder-three\" size={28} />\n            </TouchableOpacity>\n            <Layout style={{ backgroundColor: 'transparent' }}>\n              <TouchableOpacity\n                onPress={() => {\n                  handleClassSelected(courseCode.slice(0, -3));\n                }}\n              >\n                <Text category=\"s1\">{courseName}</Text>\n                <Text category=\"p2\">{courseCode}</Text>\n              </TouchableOpacity>\n            </Layout>\n          </Layout>\n\n          <TouchableOpacity\n            onPress={() => handleRemoveClass(courseCode, masterCourseCode)}\n          >\n            <Entypo name=\"cross\" size={28} color=\"red\" />\n          </TouchableOpacity>\n        </Layout>\n      </ScaleDecorator>\n    );\n  };\n\n  const renderFlatList = () => (\n    <DraggableFlatList\n      contentContainerStyle={{ maxWidth: 500 }}\n      automaticallyAdjustsScrollIndicatorInsets\n      indicatorStyle={darkMode ? 'white' : 'black'}\n      showsVerticalScrollIndicator\n      ListEmptyComponent={\n        <Text style={{ margin: 10 }}>\n          No classes yet... Click the{' '}\n          <Text style={{ fontWeight: 'bold' }}>+</Text> next to a class to see\n          it here\n        </Text>\n      }\n      ItemSeparatorComponent={() => <Divider />}\n      data={addedClassesList}\n      onDragEnd={({ from, to }) => {\n        handleSwapAddedClasses(from, to);\n      }}\n      keyExtractor={(item) => item[1]}\n      renderItem={renderItem}\n    />\n  );\n\n  return (\n    <Layout\n      style={{\n        flex: Platform.OS === 'web' ? undefined : 1,\n        backgroundColor: darkMode\n          ? theme['color-basic-900']\n          : theme['color-basic-100']\n      }}\n    >\n      {totalCredits.credits > 0 && (\n        <Text style={{ textAlign: 'center' }}>\n          {isHMC ? totalCredits.hmcCredits : totalCredits.credits} Credits\n        </Text>\n      )}\n      {Platform.OS === 'web' ? (\n        // <ScrollView style={{ maxHeight: windowHeight - 450 }}>\n        <Layout>{renderFlatList()}</Layout>\n      ) : (\n        // </ScrollView>\n        <>{renderFlatList()}</>\n      )}\n    </Layout>\n  );\n}\n","import { FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport { Layout, Text } from '@ui-kitten/components';\nimport { useRef } from 'react';\nimport { StyleSheet, Animated, TouchableOpacity, Platform } from 'react-native';\n\nexport default function ClassListItemItem({\n  courseCode,\n  seatsAvailable,\n  seatsFilled,\n  handleAddClass,\n  handleRemoveClass,\n  darkMode,\n  added,\n  masterCourseCode,\n  handleClassSelected\n}) {\n  const selectedAnim = useRef(new Animated.Value(1)).current;\n\n  return (\n    <TouchableOpacity\n      style={{ flex: 1 }}\n      onPress={() => {\n        handleClassSelected(masterCourseCode);\n      }}\n    >\n      <Layout style={styles.dropDownItem}>\n        <Text>{`\\u2022 ${courseCode}`}</Text>\n        <Text\n          style={seatsAvailable > 0 ? styles.isAvailable : styles.notAvailable}\n        >\n          {seatsFilled} /{seatsFilled + seatsAvailable}\n        </Text>\n        {/* Add / Remove Class */}\n        <TouchableOpacity\n          activeOpacity={1}\n          onPress={() => {\n            if (added) {\n              handleRemoveClass(courseCode, masterCourseCode);\n            } else {\n              handleAddClass(courseCode, masterCourseCode);\n            }\n            if (Platform.OS !== 'web') {\n              Animated.sequence([\n                Animated.spring(selectedAnim, {\n                  toValue: 0.0,\n                  speed: 16,\n                  useNativeDriver: true\n                })\n              ]).start(() => {\n                Animated.spring(selectedAnim, {\n                  toValue: 1,\n                  speed: 16,\n                  useNativeDriver: true\n                }).start();\n              });\n            }\n          }}\n        >\n          <Animated.View\n            style={{\n              width: 50,\n              alignItems: 'center',\n              transform: [\n                {\n                  scale: selectedAnim\n                }\n              ]\n            }}\n          >\n            <FontAwesome5\n              style={{ padding: 5 }}\n              size={24}\n              name={added ? 'times' : 'plus'}\n              color={darkMode ? 'white' : 'black'}\n            />\n          </Animated.View>\n        </TouchableOpacity>\n        {/* <FontAwesome\n          style={{ padding: 5 }}\n          size={24}\n          name={added ? 'star' : 'star-o'}\n          color={darkMode ? 'white' : 'black'}\n        /> */}\n      </Layout>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  list__container: {\n    margin: 10,\n    marginLeft: 0,\n    height: '90%',\n    width: '100%'\n  },\n  addedClassesContainer: {\n    position: 'absolute',\n    zIndex: 1,\n    width: '60%',\n    borderTopRightRadius: 20,\n    borderBottomRightRadius: 20,\n    borderColor: '#c2c2c2',\n    backgroundColor: '#f7f7f7',\n    paddingTop: 5,\n    borderTopWidth: 1.5,\n    borderBottomWidth: 1.5,\n    borderRightWidth: 1.5\n  },\n  addedClasses: {\n    position: 'absolute',\n    right: 3,\n    top: 3,\n    padding: 7,\n    margin: 5,\n    backgroundColor: '#c9c9c9',\n    borderRadius: 100\n  },\n  item: {\n    marginBottom: 10,\n    marginTop: 10\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 5\n  },\n  buttonContainer: {\n    right: 0,\n    position: 'absolute',\n    width: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%'\n  },\n  button: {\n    padding: 5,\n    borderColor: 'grey'\n  },\n  dropDown: {\n    backgroundColor: '#f7f7f7',\n    paddingLeft: 30,\n    paddingBottom: 10,\n    paddingTop: 10\n  },\n  dropDownItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    height: 54\n  },\n  isAvailable: {\n    color: 'green'\n  },\n  notAvailable: {\n    color: 'red'\n  },\n  loadingMessage: {\n    fontSize: 20,\n    color: 'white',\n    alignSelf: 'center',\n    fontStyle: 'italic'\n  },\n  loadingMessageRefresh: {\n    fontSize: 15,\n    paddingTop: 20,\n    color: 'white',\n    alignSelf: 'center',\n    fontWeight: 'bold'\n  },\n  filters: {\n    backgroundColor: 'white',\n    alignItems: 'center',\n    padding: 10\n  }\n});\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { Layout, Text } from '@ui-kitten/components';\nimport { useMemo } from 'react';\nimport {\n  LayoutAnimation,\n  Platform,\n  StyleSheet,\n  TouchableOpacity,\n  UIManager\n} from 'react-native';\n\nimport ClassListItemItem from './ClassListItemItem';\n\nif (\n  Platform.OS === 'android' &&\n  UIManager.setLayoutAnimationEnabledExperimental\n) {\n  UIManager.setLayoutAnimationEnabledExperimental(true);\n}\n\nexport default function Item({\n  courseName,\n  masterCourseCode,\n  schedule,\n  menuOpen,\n  setIsMenuOpen,\n  darkMode,\n  handleClassSelected,\n  handleAddClass,\n  handleRemoveClass,\n  inItem\n}) {\n  const memoizedItem = useMemo(() => {\n    return (\n      <Layout\n        style={{\n          borderRadius: 20,\n          opacity: 1,\n          marginTop: 7,\n          marginRight: 9,\n          marginLeft: 9\n        }}\n      >\n        {/* Name and master coursecode */}\n        <Layout style={{ marginHorizontal: 20 }}>\n          <Layout>\n            <TouchableOpacity\n              onPress={() => {\n                handleClassSelected(masterCourseCode);\n              }}\n            >\n              <Layout style={styles.item}>\n                <Text style={styles.title}>{courseName}</Text>\n                <Text>{masterCourseCode}</Text>\n              </Layout>\n            </TouchableOpacity>\n\n            {/* Dropdown Menu Toggle */}\n            <TouchableOpacity\n              style={styles.buttonContainer}\n              onPress={() => {\n                if (menuOpen === masterCourseCode) {\n                  setIsMenuOpen('');\n                  LayoutAnimation.configureNext({\n                    duration: 730,\n                    create: { type: 'easeInEaseOut', property: 'opacity' },\n                    update: { type: 'spring', springDamping: 0.8 }\n                  });\n                } else {\n                  setIsMenuOpen(masterCourseCode);\n                  LayoutAnimation.configureNext({\n                    duration: Platform.OS === 'android' ? 500 : 730,\n                    create: { type: 'easeInEaseOut', property: 'opacity' },\n                    update: { type: 'spring', springDamping: 0.8 }\n                  });\n                }\n              }}\n            >\n              <Layout style={styles.button}>\n                <FontAwesome5\n                  name={\n                    menuOpen === masterCourseCode\n                      ? 'chevron-up'\n                      : 'chevron-down'\n                  }\n                  size={20}\n                  color={darkMode ? 'white' : 'black'}\n                />\n              </Layout>\n            </TouchableOpacity>\n          </Layout>\n\n          {/* Dropdown Menu */}\n          {menuOpen === masterCourseCode && (\n            <Layout>\n              {schedule.map(\n                ({ _id, courseCode, seatsAvailable, seatsFilled, added }) => (\n                  <ClassListItemItem\n                    key={_id}\n                    courseCode={courseCode}\n                    seatsAvailable={seatsAvailable}\n                    seatsFilled={seatsFilled}\n                    handleAddClass={handleAddClass}\n                    handleRemoveClass={handleRemoveClass}\n                    darkMode={darkMode}\n                    added={added}\n                    masterCourseCode={masterCourseCode}\n                    handleClassSelected={handleClassSelected}\n                  />\n                )\n              )}\n            </Layout>\n          )}\n        </Layout>\n      </Layout>\n    );\n  }, [menuOpen, inItem, darkMode]);\n\n  // useTraceUpdate(memoizedItem);\n  return memoizedItem;\n}\n\nconst styles = StyleSheet.create({\n  list__container: {\n    margin: 10,\n    marginLeft: 0,\n    height: '90%',\n    width: '100%'\n  },\n  addedClassesContainer: {\n    position: 'absolute',\n    zIndex: 1,\n    width: '60%',\n    borderTopRightRadius: 20,\n    borderBottomRightRadius: 20,\n    borderColor: '#c2c2c2',\n    backgroundColor: '#f7f7f7',\n    paddingTop: 5,\n    borderTopWidth: 1.5,\n    borderBottomWidth: 1.5,\n    borderRightWidth: 1.5\n  },\n  addedClasses: {\n    position: 'absolute',\n    right: 3,\n    top: 3,\n    padding: 7,\n    margin: 5,\n    backgroundColor: '#c9c9c9',\n    borderRadius: 100\n  },\n  item: {\n    marginBottom: 10,\n    marginTop: 10\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    marginRight: 30\n  },\n  buttonContainer: {\n    right: 0,\n    position: 'absolute',\n    width: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%'\n  },\n  button: {\n    padding: 5,\n    borderColor: 'grey'\n  },\n  dropDown: {\n    backgroundColor: '#f7f7f7',\n    paddingLeft: 30,\n    paddingBottom: 10,\n    paddingTop: 10\n  },\n  dropDownItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    height: 54\n  },\n  isAvailable: {\n    color: 'green'\n  },\n  notAvailable: {\n    color: 'red'\n  },\n  loadingMessage: {\n    fontSize: 20,\n    color: 'white',\n    alignSelf: 'center',\n    fontStyle: 'italic'\n  },\n  loadingMessageRefresh: {\n    fontSize: 15,\n    paddingTop: 20,\n    color: 'white',\n    alignSelf: 'center',\n    fontWeight: 'bold'\n  },\n  addClassButton: {\n    padding: 15\n  },\n  filters: {\n    backgroundColor: 'white',\n    alignItems: 'center',\n    padding: 10\n  }\n});\n","import {\n  Button,\n  CheckBox,\n  Divider,\n  Layout,\n  Text,\n  Toggle,\n  useTheme\n} from '@ui-kitten/components';\nimport { useState } from 'react';\n\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport {\n  classPagesSlice,\n  filtersReset,\n  filtersSaved,\n  isHMCUpdated\n} from './classPagesSlice';\n\nexport default function FilterClasses({ darkMode, setFiltersMenuVisible }) {\n  const theme = useTheme();\n  const initialFilters = classPagesSlice.getInitialState().filters;\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const isHMC = useAppSelector((state) => state.appData.classPages.isHMC);\n\n  const [colleges, setColleges] = useState(filters.colleges);\n  const [filterConflicts, setFilterConflicts] = useState(\n    filters.filterConflicts\n  );\n\n  const dispatch = useAppDispatch();\n\n  const onChangeIsHMC = (change: boolean) => {\n    dispatch(isHMCUpdated(change));\n  };\n\n  const onChangeFilterCollege = (college: string, change: boolean) => {\n    setColleges({ ...colleges, [college]: change });\n  };\n\n  const resetFilters = () => {\n    setColleges(initialFilters.colleges);\n    setFilterConflicts(initialFilters.filterConflicts);\n    dispatch(filtersReset());\n  };\n\n  const saveFilters = () => {\n    dispatch(filtersSaved({ colleges, filterConflicts }));\n    setFiltersMenuVisible(false);\n  };\n\n  return (\n    <Layout\n      style={{\n        backgroundColor: darkMode\n          ? theme['color-basic-900']\n          : theme['color-basic-100'],\n        alignItems: 'center',\n        padding: 10\n      }}\n    >\n      <Layout\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'center',\n          alignItems: 'center',\n          marginBottom: 10,\n          backgroundColor: darkMode\n            ? theme['color-basic-900']\n            : theme['color-basic-100']\n        }}\n      >\n        <Text>4C Credits </Text>\n        <Toggle\n          checked={isHMC}\n          onChange={(change) => {\n            onChangeIsHMC(change);\n          }}\n        />\n        <Text> HMC Credits</Text>\n      </Layout>\n      <Divider />\n\n      <CheckBox\n        style={{ marginTop: 20 }}\n        checked={filterConflicts}\n        onChange={(bool) => setFilterConflicts(bool)}\n      >\n        Filter Conflicting Classes\n      </CheckBox>\n\n      <Text style={{ marginTop: 20, marginBottom: 5 }}>Colleges</Text>\n\n      <Layout\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'center',\n          alignItems: 'center'\n        }}\n      >\n        {Object.keys(colleges).map((college) => (\n          <CheckBox\n            style={{\n              backgroundColor: darkMode\n                ? theme['color-basic-900']\n                : theme['color-basic-100']\n            }}\n            key={college}\n            checked={colleges[college]}\n            onChange={(change) => {\n              onChangeFilterCollege(college, change);\n            }}\n          >\n            {college}\n          </CheckBox>\n        ))}\n      </Layout>\n      <Button style={{ marginTop: 20 }} onPress={saveFilters}>\n        Update Results\n      </Button>\n      <Button\n        size=\"small\"\n        style={{ marginTop: 20 }}\n        status=\"info\"\n        onPress={resetFilters}\n      >\n        Reset Filters\n      </Button>\n    </Layout>\n  );\n}\n","// This is going to take forever...\nimport { Region } from 'react-native-maps';\n\nexport const locations = {\n  ClaremontColleges: [34.10042611094802, -117.71002008183225],\n  'Steele Hall': [34.10484995720829, -117.71210324868221],\n  'Adams Hall': [32.76290904884907, -117.0662288298868],\n  'Andrew Building': [34.0998138672686, -117.7139029825534],\n  'Andrew Hall': [34.0998138672686, -117.7139029825534],\n  'Andrew Science Hall': [34.0998138672686, -117.7139029825534],\n  'Andrew Science Building': [34.0998138672686, -117.7139029825534],\n  'Hahn Social Science Bldg': [34.098126371324604, -117.71603190000098],\n  'Avery Hall': [34.10402559390241, -117.7059215470358],\n  'Bauer Center': [34.10625935916369, -117.70861091635064],\n  'Broad Center': [34.10494505589454, -117.70672332698616],\n  'Bernard Hall': [34.10435220581155, -117.70632440303753],\n  'Broad Hall': [34.10462192392436, -117.7058712693149],\n  'Beckman Hall': [34.106128887593115, -117.71251107536439],\n  'Balch Hall': [34.10345253373929, -117.71128438546123],\n  Brackett: [34.09834700926052, -117.71012299276501],\n  'Brackett Observatory': [34.09834700926052, -117.71012299276501],\n  'Baxter Hall': [34.10466728950935, -117.71187640303745],\n  'Biszantz Tennis Center': [34.10095490591795, -117.70630717402211],\n  'Carnegie Building': [34.09813556541387, -117.7153908567008],\n  Carnegie: [34.09813556541387, -117.7153908567008],\n  'Carnegie Bldg': [34.09813556541387, -117.7153908567008],\n  'Richardson Dance Studio': [34.10315111680064, -117.7099604470359],\n  Edmunds: [34.0998600356232, -117.71319481917635],\n  'Fletcher Hall': [34.104073077554126, -117.70639700470716],\n  'Galileo Hall': [34.10625489220558, -117.71180151450122],\n  'Honnold/Mudd Library': [34.10217613878248, -117.71228898240652],\n  Honnold: [34.10217613878248, -117.71228898240652],\n  'Claremont Colleges Library': [34.10217613878248, -117.71228898240652],\n  'Mudd Library': [34.10217613878248, -117.71228898240652],\n  'Humanities Building': [34.103735329211226, -117.71001297587144],\n  'Jacobs Science Center': [34.105831090704534, -117.7117513875151],\n  'Keck Laboratories': [34.09325008938014, -117.72347845495186],\n  'Keck Graduate Institute': [34.09325008938014, -117.72347845495186],\n  'Kravis Center': [34.10187820435941, -117.71108730125341],\n  'The Kravis Center': [34.10187820435941, -117.71108730125341],\n  'The Kravis Center LC': [34.10187820435941, -117.71108730125341],\n  'Kravis Center LC': [34.10187820435941, -117.71108730125341],\n  'Keck Science Center': [34.10308083314274, -117.70782900285776],\n  'Bridges Hall of Music': [34.09741077681766, -117.71380091635093],\n  'Lebus Court': [34.097133818486924, -117.7138019163509],\n  'LeBus Court': [34.097133818486924, -117.7138019163509],\n  Lincoln: [34.09436321343312, -117.71791431635106],\n  'McGregor CompSci Center': [34.105735661459065, -117.71277261820012],\n  'Mudd Science Library': [34.10235157034289, -117.71228630285779],\n  'Oldenborg Center': [34.0972862770658, -117.71197834518651],\n  Online: null,\n  'Parsons Engineering Building': [34.106763408455166, -117.71201133169328],\n  'Performing Arts Center': [34.103841861577266, -117.71263855867934],\n  PAC: [34.103841861577266, -117.71263855867934],\n  Pearsons: [34.09909136806275, -117.71531797402218],\n  'Pearsons Hall': [34.09909136806275, -117.71531797402218],\n  'Rains Center': [34.09962247726175, -117.7116976875152],\n  'Rembrandt Hall': [34.09714703734707, -117.71436354518652],\n  'Roberts North': [34.10243304031955, -117.71058173613733],\n  'Roberts South': [34.1018600288952, -117.7105736895106],\n  'Roberts Pavilion': [34.100334255091674, -117.70640981635093],\n  'Robert Redford Conservcy': [34.11077818412942, -117.71047418566549],\n  'Robert Redford Conservancy': [34.11077818412942, -117.71047418566549],\n  'Smith Campus Center': [34.09962026169959, -117.71350964518648],\n  'Seaver South Laboratory': [34.100042028976105, -117.71531142101722],\n  'Seaver North Laboratory': [34.100042028976105, -117.71531142101722],\n  'Seaman Hall': [34.10199315160771, -117.71010893169331],\n  'Shanahan Center': [34.10656042476094, -117.71087576052881],\n  'Drinkward Recital Hall': [34.10656042476094, -117.71087576052881],\n  Stauffer: [34.102953598099226, -117.71334231635072],\n  'Stauffer Hall': [34.102953598099226, -117.71334231635072],\n  'RC Seaver Biology Bldg': [34.10023161864675, -117.71627928465743],\n  'Seaver Biology Building': [34.10023161864675, -117.71627928465743],\n  'Seaver Theater': [34.096747978139696, -117.7104344010084],\n  'Seaver Theatre': [34.096747978139696, -117.7104344010084],\n  'Thatcher Music Bldg': [34.09754703461027, -117.71440025414981],\n  KSPC: [34.09754703461027, -117.71440025414981],\n  'Thatcher Music Building': [34.09754703461027, -117.71440025414981],\n  'Vita Nova Hall': [34.10300376863079, -117.70952371635069],\n  'Scott Hall': [34.104311246807875, -117.70661596406609],\n  TBD: null\n};\n\nexport const claremontRegion: Region = {\n  latitude: 34.1,\n  longitude: -117.71,\n  latitudeDelta: 0.015,\n  longitudeDelta: 0.015\n};\n\nexport const americaRegion: Region = {\n  latitude: 30.116386,\n  longitude: -97.299591,\n  latitudeDelta: 80,\n  longitudeDelta: 80\n};\n\nexport function removeNumbersAndSpaces(name: string): string {\n  let final = '';\n  for (const char of name) {\n    if (char.match(/[a-z]/i) || char === ' ') {\n      final += char;\n    }\n  }\n  return final.trim();\n}\n","import { Autocomplete, AutocompleteItem } from '@ui-kitten/components';\nimport { useEffect, useState } from 'react';\n\nimport { selectDarkMode, selectUserKey } from '../app/appDataSlice';\nimport { useAppSelector } from '../app/hooks';\nimport { base_URL } from '../features/notifications/constants';\n\n/**\n * Renders a dropdown with the names filtered as user types\n * @param setHasChosen set function of a useState which contains a boolean determining whether a user has been chosen\n * @param setRecipient set function of a useState which contains is either: 1. a string containing the userName of the user when one has been chosen, 2. null when a user has not been chosen\n * @constructor\n */\nexport default function UserNameSelectionDropDown({\n  setHasChosen,\n  setRecipient,\n  placeholder\n}) {\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [names, setNames] = useState([]); // filtered list of names\n  const [users, setUsers] = useState([]); // clean list of users\n  const [value, setValue] = useState(''); // typed name\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: 'bold',\n      textAlign: 'center',\n      width: '100%',\n      color: darkMode ? 'rgb(255,255,255)' : 'rgb(0,0,0)'\n    },\n    backdrop: {\n      backgroundColor: darkMode ? 'rgba(141,141,141,0.5)' : 'rgba(0, 0, 0, 0.5)'\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15\n    }\n  };\n\n  useEffect(() => {\n    fetch(`${base_URL}/users/userNamesAndNames`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const userList = await data.json();\n        setNames(\n          userList.map((user) => {\n            if (user) {\n              return `${user.realName} (${user.userName})`;\n            }\n          })\n        );\n        setUsers(userList);\n      }\n    });\n  }, []);\n\n  function renderEachDropItem() {\n    const final = [];\n    for (const option in names) {\n      final.push(<AutocompleteItem title={names[option]} key={option} />);\n    }\n    return final;\n  }\n\n  const onChangeText = (query) => {\n    setNames(\n      freshNames().filter(\n        (name) =>\n          name?.toLowerCase().includes(query.toLowerCase()) ||\n          userNameContainsString(name, query)\n      )\n    );\n    setValue(query);\n  };\n\n  function freshNames() {\n    return users.map((user) => {\n      if (user) {\n        return `${user.realName} (${user.userName})`;\n      }\n    });\n  }\n\n  const userNameContainsString = (name, query) => {\n    const user = users.find(\n      (auser) =>\n        auser?.userName.toLowerCase().includes(query.toLowerCase()) &&\n        auser?.realName === name\n    );\n    return user !== undefined;\n  };\n\n  function handleSelection(index) {\n    if (index === 0) {\n      setHasChosen(false);\n      setRecipient(null);\n      // @ts-ignore\n      setValue('');\n    } else {\n      setHasChosen(true);\n      setValue(names[index - 1]);\n      setRecipient(findUserNameFromName(names[index - 1]));\n    }\n  }\n\n  function findUserNameFromName(name) {\n    const firstPar = name.indexOf('(');\n    const secondPar = name.indexOf(')');\n    return name.slice(firstPar + 1, secondPar);\n  }\n\n  return (\n    <Autocomplete\n      style={myStyles.containerDrop}\n      value={value}\n      placeholder={placeholder ? 'Recipient' : null}\n      onChangeText={onChangeText}\n      onSelect={handleSelection}\n    >\n      <AutocompleteItem title={' '} />\n      {renderEachDropItem()}\n    </Autocomplete>\n  );\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { Card, Modal, Text } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport { Alert, Button, Platform, TouchableOpacity, View } from 'react-native';\n\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport ModalContainer from '../../../components/ModalContainer';\nimport UserNameSelectionDropDown from '../../../components/UserNameSelectionDropDown';\nimport { useGetUserInfoQuery } from '../../api/usersApi';\nimport { base_URL } from '../../notifications/constants';\n\nexport default function ExportModalClass({ classData }) {\n  const isGuest = useAppSelector(selectIsGuest);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [showWebModal, setShowWebModal] = useState(false);\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <View\n      style={{\n        marginRight: '7%',\n        flexDirection: 'column-reverse'\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          if (isGuest) {\n            setShowGuestModal(true);\n          } else if (Platform.OS === 'web') {\n            setShowWebModal(true);\n          } else {\n            setShowModal(true);\n          }\n        }}\n        style={{\n          alignItems: 'center'\n        }}\n      >\n        <View\n          style={{\n            height: 45,\n            flexDirection: 'column',\n            justifyContent: 'center',\n            paddingLeft: 5\n          }}\n        >\n          <FontAwesome5\n            name=\"file-export\"\n            size={20}\n            color={darkMode ? 'white' : 'black'}\n          />\n        </View>\n        <Text style={{ marginTop: -10, fontSize: 10 }}>Share Class</Text>\n      </TouchableOpacity>\n      {showWebModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              Sharing courses is not supported on the web. Download the app on\n              the App Store or Play Store to share courses.\n            </Text>\n          }\n          backDropVisible={showWebModal}\n          setBackDropVisible={setShowWebModal}\n        />\n      )}\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is locked to our Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          }\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n      {renderModal(setShowModal, showModal, classData)}\n    </View>\n  );\n}\n\nfunction renderModal(setShowModal, showModal, classData: any) {\n  const { data: userData } = useGetUserInfoQuery(useAppSelector(selectUserKey));\n\n  const [value, setValue] = useState('');\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const [recipient, setRecipient] = useState(null);\n  const [hasChosen, setHasChosen] = useState(false);\n\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: 'bold',\n      textAlign: 'center',\n      width: '100%',\n      color: darkMode ? 'rgb(255,255,255)' : 'rgb(0,0,0)'\n    },\n    backdrop: {\n      backgroundColor: darkMode ? 'rgba(141,141,141,0.5)' : 'rgba(0, 0, 0, 0.5)'\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15\n    }\n  };\n\n  const exportClass = async (recipient) => {\n    try {\n      const status = await fetch(`${base_URL}/users/sendNotification`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        },\n        body: JSON.stringify({\n          recipients: [recipient],\n          text: JSON.stringify({\n            masterCourseCode: classData.masterCourseCode,\n            courseTerm: classData.courseTerm\n          }),\n          title: `${userData.realFirstName} shared a course`,\n          isCourseData: true\n        })\n      });\n      return status.ok;\n    } catch (e) {\n      console.warn(e);\n      return false;\n    }\n  };\n  return (\n    <Modal\n      visible={showModal}\n      backdropStyle={myStyles.backdrop}\n      style={{ width: '80%', height: '70%' }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={myStyles.modal}>Share This Course</Text>\n        {UserNameSelectionDropDown({\n          setHasChosen,\n          setRecipient,\n          placeholder: true\n        })}\n        <View>\n          <Button\n            disabled={recipient === null}\n            title=\"Send\"\n            onPress={() => {\n              exportClass(recipient).then((returnValue) => {\n                setShowModal(false);\n                returnValue\n                  ? Alert.alert('Message Sent')\n                  : Alert.alert(\n                      'Error Sending Message',\n                      'Please Try Again Later'\n                    );\n              });\n            }}\n          />\n          <Button\n            title=\"Dismiss\"\n            onPress={() => {\n              setShowModal(false);\n              setHasChosen(false);\n              setValue('');\n              setRecipient(null);\n            }}\n          />\n        </View>\n      </Card>\n    </Modal>\n  );\n}\n","import {\n  Button,\n  Card,\n  Layout,\n  Modal,\n  Text,\n  useTheme,\n  withStyles\n} from '@ui-kitten/components';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport React, { useEffect, useRef, useState } from 'react';\nimport {\n  Platform,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity\n} from 'react-native';\nimport openMap from 'react-native-open-maps';\n\nimport { FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport ModalContainer from '../../../components/ModalContainer';\nimport { base_URL } from '../../../constants/admin';\nimport { locations, removeNumbersAndSpaces } from '../../../constants/map';\nimport {\n  useAddClassMutation,\n  useAddStarredClassMutation,\n  useIsAllowedToReviewQuery,\n  useRemoveClassMutation,\n  useRemoveStarredClassMutation\n} from '../../api/classPagesApi';\nimport { useGetUserInfoQuery } from '../../api/usersApi';\nimport ExportModalClass from './exportModalClass';\n\nfunction SingleClassPage({ eva, navigation, selectedClass = null }) {\n  const [removeStarredClass] = useRemoveStarredClassMutation();\n  const [showModal, setShowModal] = useState(false);\n  const scrollViewRef = useRef(null);\n  const [showCourseModal, setShowCourseModal] = useState(false);\n  const theme = useTheme();\n  const isGuest = useAppSelector(selectIsGuest);\n  const [courseModalChildren, setCourseModalChildren] = useState([]);\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [professorReviewsObject, setProfessorReviewsObject] = useState({});\n  const [addStarredClass] = useAddStarredClassMutation();\n  const isHMC = useAppSelector((state) => state.appData.classPages.isHMC);\n  if (!selectedClass) {\n    selectedClass = useAppSelector(\n      (state) => state.appData.classPages.selectedClass\n    );\n  }\n  const daysOfWeek = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday'\n  ];\n  const backgroundColor = darkMode ? eva.style.dark : eva.style.light;\n\n  const { data: isAllowedToReviewRes } = useIsAllowedToReviewQuery({\n    userKey,\n    masterCourseCode: selectedClass.masterCourseCode\n  });\n\n  function isStarred(courseCode: string) {\n    return userData.starredClasses.some(\n      (course) =>\n        course.courseCode === courseCode &&\n        course.courseTerm === selectedClass.courseTerm\n    );\n  }\n\n  function userHasCourse(courseCode: string): boolean {\n    return (\n      userData.addedClasses.classes[selectedClass.courseTerm] !== undefined &&\n      userData.addedClasses.classes[selectedClass.courseTerm][\n        courseCode.slice(0, -3)\n      ] !== undefined\n    );\n  }\n\n  const courseToggleChildren = (courseForToggle) => {\n    const final = [\n      <Layout>\n        <Button\n          style={{ marginVertical: 5 }}\n          children={\n            !userHasCourse(courseForToggle.courseCode)\n              ? 'Add Course to Schedule'\n              : 'Remove Course from Schedule'\n          }\n          onPress={() => {\n            toggleAddOrRemoveCourse(courseForToggle.courseCode);\n            setShowCourseModal(false);\n          }}\n        />\n        <Button\n          style={{ marginVertical: 5 }}\n          children={\n            !isStarred(courseForToggle.courseCode) ? 'Add Star' : 'Remove Star'\n          }\n          onPress={() => {\n            if (isGuest) {\n              setShowGuestModal(true);\n            } else {\n              toggleStarCourse(courseForToggle.courseCode);\n              setShowCourseModal(false);\n            }\n          }}\n        />\n      </Layout>\n    ];\n    setCourseModalChildren(final);\n    setShowCourseModal(true);\n  };\n\n  useEffect(() => {\n    setProfessorReviewsObject({});\n    if (scrollViewRef?.current) {\n      scrollViewRef.current.scrollTo({\n        y: 0,\n        animated: false\n      });\n    }\n    if (selectedClass) {\n      for (const time of selectedClass.times) {\n        getReviewsFromProfessor(time);\n      }\n    }\n  }, [selectedClass]);\n\n  async function getReviewsFromProfessor(time) {\n    const res = await fetch(\n      `${base_URL}/classes/reviews/getReviewsByProfessor` +\n        `?professorName=${time.professorName}&collegeName=${userData.collegeName}`,\n      {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        }\n      }\n    );\n    if (res.ok) {\n      const reviews = await res.json();\n      if (reviews.length > 0) {\n        const newObject = {\n          ...professorReviewsObject\n        };\n        newObject[time.professorName] = reviews;\n        setProfessorReviewsObject(newObject);\n      }\n    }\n  }\n\n  function buildTimeString(time) {\n    // Compatibility with new course data layout for multiple times per day\n    if (time.courseSchedule && time.courseSchedule.length > 0) {\n      time = time.courseSchedule[0];\n    }\n\n    if (!time.startTime || time.startTime === '' || time.startTime === null) {\n      return 'closed';\n    }\n    return `${convertTo12HourTime(time.startTime)} - ${convertTo12HourTime(\n      time.endTime\n    )}\\n`;\n  }\n\n  function convertTo12HourTime(time) {\n    if (time.length !== 5) {\n      time = `0${time}`;\n    }\n    let hours = time.slice(0, 2);\n    const minutes = time.slice(3, 5);\n    let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n    hours %= 12;\n    if (hours === 0) {\n      hours = 12;\n      ampm = 'pm';\n    }\n    return `${hours}:${minutes}${ampm}`;\n  }\n\n  function getProfessorReviewsList() {\n    const final = [];\n    for (const professor of Object.keys(professorReviewsObject)) {\n      const reviews = professorReviewsObject[professor];\n      final.push(\n        <>\n          <Text style={styles.subHeader}>\n            All Reviews:\n            {professor}\n          </Text>\n          {reviews.length === 0 ? (\n            <Text\n              style={{\n                alignSelf: 'center',\n                textAlign: 'center',\n                marginBottom: 10\n              }}\n            >\n              Something went wrong...\n            </Text>\n          ) : (\n            reviews.map((review, index) => (\n              <Card key={index} disabled>\n                <Text>{`${review.text}\\n\\nPosted: ${review.date}`}</Text>\n              </Card>\n            ))\n          )}\n        </>\n      );\n    }\n    return final;\n  }\n\n  const averageGradeMSGModal = (\n    <Modal\n      visible={showModal}\n      backdropStyle={styles.backdrop}\n      style={{ width: '75%' }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={{ fontSize: 15, paddingTop: 5, paddingBottom: 10 }}>\n          The Athena Network collects and aggregates the data anonymously\n          submitted by the Course Review process and calculates what the average\n          student's experience in this course will look like. Given that it is\n          based on voluntarily submitted data, this information is to be used as\n          a reference only. Please consult your advisor before making any\n          impactful decisions.\n        </Text>\n        <Button onPress={() => setShowModal(false)}>Dismiss</Button>\n      </Card>\n    </Modal>\n  );\n\n  if (!selectedClass.times) {\n    return null;\n  }\n\n  function getProfessorsList() {\n    const list = [];\n    for (const time of selectedClass.times) {\n      if (!list.includes(time.professorName)) {\n        list.push(time.professorName);\n      }\n    }\n    return list;\n  }\n\n  const [schedulePopup, setSchedulePopup] = useState(false);\n  const [allTheChildren, setAllTheChildren] = useState([]);\n\n  function toggleSchedulePopUp(time: any) {\n    const finalDays = {};\n    for (const realTime of time.courseSchedule) {\n      for (const day of daysOfWeek) {\n        if (realTime.daysOfTheWeek.includes(day)) {\n          const addition = `${convertTo12HourTime(\n            realTime.startTime\n          )} - ${convertTo12HourTime(realTime.endTime)}`;\n          if (finalDays[day]?.length > 0) {\n            finalDays[day].push(addition);\n          } else {\n            finalDays[day] = [addition];\n          }\n        }\n      }\n    }\n\n    setAllTheChildren(generateTable(finalDays));\n    setSchedulePopup(true);\n  }\n  const [addClass] = useAddClassMutation();\n  const [removeClass] = useRemoveClassMutation();\n  function toggleStarCourse(courseCode: string) {\n    try {\n      if (isStarred(courseCode)) {\n        removeStarredClass({\n          userKey,\n          courseCode,\n          courseTerm: selectedClass.courseTerm,\n          userName: userData.userName\n        }).unwrap();\n      } else {\n        addStarredClass({\n          userKey,\n          courseCode,\n          courseTerm: selectedClass.courseTerm,\n          userName: userData.userName\n        }).unwrap();\n      }\n    } catch (e) {\n      console.warn('Error starring class', e);\n    }\n  }\n\n  function toggleAddOrRemoveCourse(courseCode: string) {\n    if (userHasCourse(courseCode)) {\n      removeClass({\n        userKey,\n        courseCode,\n        courseTerm: selectedClass.courseTerm,\n        userName: userData.userName,\n        masterCourseCode: courseCode.slice(0, -3)\n      }).unwrap();\n    } else {\n      addClass({\n        userKey,\n        courseCode,\n        courseTerm: selectedClass.courseTerm,\n        userName: userData.userName,\n        masterCourseCode: courseCode.slice(0, -3)\n      }).unwrap();\n    }\n  }\n  function generateTable(daysObject: any): any {\n    const daysActive = Object.keys(daysObject);\n    const stringArrays = Object.values(daysObject);\n    return (\n      <Layout style={{ flexDirection: 'row' }}>\n        <Layout>\n          {daysActive.map((value) => {\n            return (\n              <Layout>\n                <Text\n                  style={{\n                    height: 75,\n                    borderWidth: 1,\n                    borderColor: 'black',\n                    padding: 10\n                  }}\n                >\n                  {value}\n                </Text>\n              </Layout>\n            );\n          })}\n        </Layout>\n        <Layout>\n          {stringArrays.map((value: string[]) => {\n            return (\n              <Layout>\n                <Text\n                  style={{\n                    height: 75,\n                    borderWidth: 1,\n                    borderColor: 'black',\n                    padding: 10\n                  }}\n                >\n                  {value.join('\\n')}\n                </Text>\n              </Layout>\n            );\n          })}\n        </Layout>\n      </Layout>\n    );\n  }\n\n  return (\n    <LinearGradient\n      colors={\n        darkMode\n          ? [theme['color-basic-1100'], theme['color-basic-1100']]\n          : [theme['color-primary-500'], theme['color-success-500']]\n      }\n      style={{\n        width: '100%',\n        margin: 0,\n        alignItems: 'center',\n        flex: 1\n      }}\n      start={{ x: 0, y: 0 }}\n      end={{ x: 1, y: 0.4 }}\n    >\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is locked to our Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          }\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n      <ScrollView\n        contentContainerStyle={{ alignSelf: 'center', maxWidth: 700 }}\n        style={backgroundColor}\n        showsVerticalScrollIndicator={false}\n        ref={scrollViewRef}\n      >\n        {userData.starredClasses.some((course) =>\n          selectedClass.times.some(\n            (time: { courseCode: any; courseTerm: any }) =>\n              time.courseCode === course.courseCode &&\n              selectedClass.courseTerm === course.courseTerm\n          )\n        ) ? (\n          <Layout\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n              alignContent: 'center',\n              backgroundColor\n            }}\n          >\n            <FontAwesome\n              style={{ marginLeft: 10, marginTop: 10 }}\n              name=\"star\"\n              color=\"gold\"\n              size={20}\n            />\n            <ExportModalClass classData={undefined} />\n          </Layout>\n        ) : (\n          <Layout\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n              alignContent: 'center',\n              backgroundColor\n            }}\n          >\n            <FontAwesome5\n              style={{ marginLeft: 10, marginTop: 10 }}\n              name=\"star\"\n              color=\"gold\"\n              size={20}\n            />\n            <ExportModalClass classData={undefined} />\n          </Layout>\n        )}\n\n        <Layout style={[{ alignItems: 'center' }, backgroundColor]}>\n          <Text style={styles.title}>{selectedClass.courseName}</Text>\n          <Text style={{ paddingTop: 30 }}>\n            {selectedClass.masterCourseCode}\n          </Text>\n\n          <Text style={styles.subtitle}>\n            {`${selectedClass.courseTerm} \\u2022 credits: ${\n              isHMC ? selectedClass.creditWeightHM : selectedClass.creditWeight\n            }`}\n          </Text>\n          {selectedClass.timeSpentOutOfClass && (\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={styles.subtitle}>Time Spent Per Week</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>\n                : {selectedClass.timeSpentOutOfClass} hours\n              </Text>\n            </Layout>\n          )}\n          {selectedClass.averageGrade && (\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={styles.subtitle}>Average Grade</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>\n                : {selectedClass.averageGrade}\n              </Text>\n            </Layout>\n          )}\n          {selectedClass.difficulty && (\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={styles.subtitle}>Estimated Difficulty</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>\n                : {selectedClass.difficulty} / 5\n              </Text>\n            </Layout>\n          )}\n          {selectedClass.rating && (\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={styles.subtitle}>Average Rating</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>:{selectedClass.rating} / 5</Text>\n            </Layout>\n          )}\n        </Layout>\n        <Layout style={backgroundColor}>\n          <Text style={styles.courseDescription}>{selectedClass.summary}</Text>\n        </Layout>\n        <Layout style={{ ...backgroundColor, ...styles.boxed }}>\n          <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n            Other Stated Prerequisites:\n          </Text>\n          <Text style={{ fontSize: 15 }}>\n            {selectedClass.prerequisites !== ''\n              ? selectedClass.prerequisites\n              : 'none'}\n          </Text>\n\n          <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n            Other Stated Corequisites:\n          </Text>\n          <Text style={{ fontSize: 15 }}>\n            {selectedClass.corequisites !== ''\n              ? selectedClass.corequisites\n              : 'none'}\n          </Text>\n        </Layout>\n        <Layout style={[{ alignItems: 'flex-end' }, backgroundColor]}>\n          {(selectedClass.timeSpentOutOfClass ||\n            selectedClass.averageGrade ||\n            selectedClass.difficulty ||\n            selectedClass.rating) && (\n            <TouchableOpacity onPress={() => setShowModal(!showModal)}>\n              <Layout\n                style={[\n                  {\n                    flexDirection: 'row',\n                    alignItems: 'flex-start',\n                    paddingRight: 5\n                  },\n                  backgroundColor\n                ]}\n              >\n                <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n                <Text style={styles.disclaimer}>How Do We Estimate This?</Text>\n              </Layout>\n            </TouchableOpacity>\n          )}\n        </Layout>\n        <Layout style={{ backgroundColor }}>\n          {selectedClass.times.length > 0 && (\n            <Layout style={{ backgroundColor }}>\n              <Text style={styles.subHeader}>Sections</Text>\n              <Layout style={[styles.section, backgroundColor]}>\n                <Text style={styles.headerText}>Course Code</Text>\n                <Layout\n                  style={{\n                    flex: 1,\n                    flexDirection: 'row',\n                    justifyContent: 'flex-start',\n                    backgroundColor\n                  }}\n                >\n                  <Text style={{ fontWeight: 'bold', fontSize: 13 }}>\n                    ST / SA\n                  </Text>\n                  <Text style={{ fontWeight: '725', fontSize: 13 }}>\n                    {' '}\n                    (PERM)\n                  </Text>\n                </Layout>\n                <Text style={styles.headerText}>Professor</Text>\n                <Text style={styles.headerText}>Time</Text>\n                <Text style={styles.headerText}>Location</Text>\n              </Layout>\n            </Layout>\n          )}\n          {selectedClass.times.map((time) => {\n            return (\n              <Layout\n                key={time.courseCode}\n                style={{ backgroundColor, ...styles.section }}\n              >\n                {userData.starredClasses.some(\n                  (course) =>\n                    course.courseTerm === selectedClass.courseTerm &&\n                    course.courseCode === time.courseCode\n                ) && (\n                  <FontAwesome\n                    style={{ marginRight: 5 }}\n                    name=\"star\"\n                    color=\"gold\"\n                    size={12}\n                  />\n                )}\n                <TouchableOpacity\n                  style={{ flex: 1 }}\n                  onPress={() => {\n                    courseToggleChildren(time);\n                  }}\n                >\n                  <Text\n                    style={{\n                      ...styles.sectionText,\n                      color: 'rgba(55,81,211,0.84)',\n                      textDecorationLine: 'underline'\n                    }}\n                  >\n                    {time.courseCode}\n                  </Text>\n                </TouchableOpacity>\n                <Layout\n                  style={{ flex: 1, flexDirection: 'row', backgroundColor }}\n                >\n                  <Text>\n                    {time.seatsFilled} /{time.seatsFilled + time.seatsAvailable}\n                    {'  '}\n                  </Text>\n                  <Text style={{ fontWeight: 'bold' }}>\n                    ({time.permCount ? time.permCount : 0})\n                  </Text>\n                </Layout>\n                <Text style={styles.sectionText}>{time.professorName}</Text>\n                <Layout style={{ backgroundColor, ...styles.sectionText }}>\n                  {time?.courseSchedule?.length > 1 ? (\n                    <TouchableOpacity\n                      onPress={() => toggleSchedulePopUp(time)}\n                      disabled={!(time?.courseSchedule?.length > 1)}\n                    >\n                      <Text\n                        style={{\n                          ...styles.sectionText,\n                          color: 'rgba(55,81,211,0.84)',\n                          textDecorationLine: 'underline'\n                        }}\n                      >\n                        {Platform.OS === 'web' ? 'Click' : 'Press'} for\n                        {'\\n'}\n                        schedule\n                      </Text>\n                    </TouchableOpacity>\n                  ) : (\n                    <Text style={styles.sectionText}>\n                      {buildTimeString(time)}\n                      {time?.courseSchedule?.length > 0\n                        ? time.courseSchedule[0].daysOfTheWeek.join(', ')\n                        : time.daysOfTheWeek.join(', ')}\n                    </Text>\n                  )}\n                </Layout>\n                <TouchableOpacity\n                  disabled={\n                    !locations[\n                      removeNumbersAndSpaces(\n                        time.courseSchedule[0].classLocation\n                      )\n                    ]\n                  }\n                  style={{ flex: 1 }}\n                  onPress={() => {\n                    openMap({\n                      waypoints: [],\n                      provider: 'google',\n                      query: locations[\n                        removeNumbersAndSpaces(\n                          time.courseSchedule[0].classLocation\n                        )\n                      ]\n                        .map((number) => number.toString())\n                        .join(', '),\n                      zoom: 18\n                    });\n                  }}\n                >\n                  <Text\n                    style={\n                      locations[\n                        removeNumbersAndSpaces(\n                          time.courseSchedule[0].classLocation\n                        )\n                      ]\n                        ? {\n                            ...styles.sectionText,\n                            color: 'rgba(55,81,211,0.84)',\n                            textDecorationLine: 'underline'\n                          }\n                        : { flex: 1 }\n                    }\n                  >\n                    {time.courseSchedule[0].classLocation\n                      ? time.courseSchedule[0].classLocation\n                      : 'TBD'}\n                  </Text>\n                </TouchableOpacity>\n              </Layout>\n            );\n          })}\n          <ModalContainer\n            backDropVisible={showCourseModal}\n            setBackDropVisible={setShowCourseModal}\n            title=\"Add/Remove Course\"\n            children={courseModalChildren}\n          />\n          {averageGradeMSGModal}\n          <ModalContainer\n            children={allTheChildren}\n            backDropVisible={schedulePopup}\n            setBackDropVisible={setSchedulePopup}\n            title=\"Course Time Schedule\"\n          />\n        </Layout>\n        {isAllowedToReviewRes?.isAllowed ? (\n          <Button\n            style={{ margin: 10 }}\n            onPress={() => {\n              navigation.navigate('PostReview', {\n                professorList: getProfessorsList()\n              });\n            }}\n          >\n            Post Review\n          </Button>\n        ) : null}\n        <Text style={styles.subHeader}>Class Reviews</Text>\n        {selectedClass.reviews.length === 0 ? (\n          <Text\n            style={{\n              alignSelf: 'center',\n              textAlign: 'center',\n              marginBottom: 10\n            }}\n          >\n            No Class Reviews yet\n          </Text>\n        ) : (\n          selectedClass.reviews.map((review, index) => (\n            <Card key={index} disabled>\n              <Text>{`${review.text}\\n\\nPosted: ${review.date}`}</Text>\n              {review.professor && (\n                <Text>{`Taught By: ${review.professor}`}</Text>\n              )}\n            </Card>\n          ))\n        )}\n        {Object.keys(professorReviewsObject).length !== 0\n          ? getProfessorReviewsList()\n          : null}\n      </ScrollView>\n    </LinearGradient>\n  );\n}\n\nexport default withStyles(SingleClassPage, (theme) => ({\n  dark: {\n    backgroundColor: theme['color-basic-900']\n  },\n  light: {\n    backgroundColor: theme['color-basic-200']\n  }\n}));\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 20,\n    marginTop: 20,\n    fontWeight: 'bold'\n  },\n  subtitle: {\n    fontSize: 16\n  },\n  courseOpen: {\n    backgroundColor: 'green',\n    color: '#fff',\n    padding: 5,\n    marginRight: 10\n  },\n  courseClosed: {\n    backgroundColor: 'red',\n    color: '#fff',\n    padding: 5,\n    borderRadius: 5\n  },\n  header: {\n    alignItems: 'center'\n  },\n  details: {\n    flexDirection: 'row',\n    padding: 10,\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  courseDescription: {\n    paddingRight: 20,\n    paddingLeft: 20,\n    paddingTop: 10,\n    paddingBottom: 5,\n    fontSize: 17\n  },\n  BodyContainer: {\n    borderTopWidth: 1,\n    borderTopColor: 'black',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-evenly',\n    padding: 10,\n    paddingTop: 20,\n    paddingBottom: 20\n  },\n  boxed: {\n    alignItems: 'center',\n    margin: 8,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 7\n  },\n  documentStyle: {\n    width: 150,\n    height: 190,\n    paddingTop: 100\n  },\n  imageLabel: {\n    fontSize: 12,\n    color: 'black',\n    padding: 10,\n    textAlign: 'center'\n  },\n  schedule: {\n    paddingLeft: 20,\n    paddingTop: 10\n  },\n  graphImage: {\n    width: '100%',\n    aspectRatio: 1,\n    resizeMode: 'contain'\n  },\n  grade: {\n    fontSize: 50,\n    fontWeight: 'bold',\n    color: 'green'\n  },\n  reviewText: {\n    fontSize: 16,\n    fontStyle: 'italic'\n  },\n  reviewBox: {\n    width: '95%',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: 'black',\n    borderRadius: 5,\n    marginBottom: 10\n  },\n  section: {\n    flexDirection: 'row',\n    paddingLeft: 5,\n    borderBottomWidth: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  headerText: {\n    fontWeight: 'bold',\n    fontSize: 13,\n    flex: 1\n  },\n  sectionText: {\n    flex: 1\n  },\n  disclaimer: {\n    fontSize: 14,\n    fontStyle: 'italic'\n  },\n  backdrop: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  containerDrop: {\n    height: 42,\n    margin: 12,\n    borderWidth: 1\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  subHeader: {\n    fontSize: 20,\n    paddingLeft: 20,\n    paddingBottom: 20,\n    paddingTop: 20,\n    fontWeight: 'bold'\n  }\n});\n","import {\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem,\n  Text,\n  useTheme,\n  Button,\n  Spinner,\n  Input\n} from '@ui-kitten/components';\nimport { useState } from 'react';\nimport { Alert, StyleSheet, ScrollView } from 'react-native';\n\nimport { useNavigation } from '@react-navigation/native';\nimport { selectUserKey } from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport { NEW_REVIEW_FIELDS as fields } from '../../../constants/classPages';\nimport { useSendReviewMutation } from '../../api/classPagesApi';\nimport ModalContainer from '../../../components/ModalContainer';\n\nexport default function NewReview({\n  route: {\n    params: { professorList }\n  }\n}) {\n  const navigation = useNavigation();\n  const [body, setBody] = useState({});\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector((state) => state.appData.secure.darkMode);\n  const [showConfirmationModal, setShowConfirmationModal] = useState(false);\n  const [showErrorModal, setShowErrorModal] = useState(false);\n  const selectedClass = useAppSelector(\n    (state) => state.appData.classPages.selectedClass\n  );\n  const [sendReview, { isLoading }] = useSendReviewMutation();\n\n  const theme = useTheme();\n\n  const backgroundColor = darkMode\n    ? theme['color-basic-900']\n    : theme['color-basic-200'];\n\n  const color = darkMode ? theme['color-basic-200'] : theme['color-basic-900'];\n\n  const handleReviewSubmitted = async () => {\n    try {\n      await sendReview({\n        body: {\n          ...body,\n          masterCourseCode: selectedClass.masterCourseCode\n        },\n        userKey\n      }).unwrap();\n      setShowConfirmationModal(true);\n    } catch (error) {\n      setShowErrorModal(true);\n      console.warn('Error submitting review: ', error);\n    }\n  };\n\n  function renderTheFieldsNecessary(fields) {\n    const changeValue = (theValue, valueToChange) => {\n      const newBody = body;\n      for (const aspect in newBody) {\n        if (\n          newBody[aspect] === null ||\n          newBody[aspect] === undefined ||\n          newBody[aspect] === ''\n        ) {\n          delete newBody[aspect];\n        }\n      }\n      if (theValue !== undefined) {\n        newBody[valueToChange] = theValue;\n      } else if (newBody[valueToChange]) {\n        delete newBody[valueToChange];\n      }\n      setBody(newBody);\n    };\n    const renderFilterParameters = (fields) => {\n      if (fields.length === 0) {\n        return null;\n      }\n      return (\n        <Layout style={{ flexDirection: 'row', backgroundColor }}>\n          <Text\n            style={{\n              fontSize: 15,\n              paddingLeft: 12,\n              paddingBottom: 5,\n              paddingTop: 5,\n              alignContent: 'center',\n              fontWeight: 'bold'\n            }}\n          >\n            Review Details\n          </Text>\n        </Layout>\n      );\n    };\n    const final = [];\n\n    const renderDropDown = (field) => {\n      const [selectedIndex, setSelectedIndex] = useState(new IndexPath(0));\n      const [hasChosen, setHasChosen] = useState(false);\n\n      if (field.label === 'Professor') {\n        field.options = professorList.map((professorName: String) => {\n          return {\n            label: professorName,\n            id: professorName\n          };\n        });\n      }\n\n      function currentValue() {\n        return (\n          <Text key=\"gal;fkdjsl;f\">\n            {!hasChosen\n              ? `Choose ${field.label}${field.mandatory ? ' (mandatory)' : ''}`\n              : field.options[selectedIndex.row - 1].label}{' '}\n          </Text>\n        );\n      }\n\n      function handleSelection(index) {\n        setSelectedIndex(index);\n        changeValue(\n          index.row === 0 ? undefined : field.options[index.row - 1].id,\n          field.id\n        );\n        if (index.row === 0) {\n          setHasChosen(false);\n        } else {\n          setHasChosen(true);\n        }\n      }\n\n      return (\n        <Select\n          style={{ ...styles.containerDrop, backgroundColor }}\n          value={currentValue}\n          selectedIndex={selectedIndex}\n          onSelect={handleSelection}\n        >\n          <SelectItem title={' '} />\n          {field.options.map(({ label }, index) => (\n            <SelectItem title={label} key={index} />\n          ))}\n        </Select>\n      );\n    };\n    final.push(\n      <Input\n        key=\"lfjdsa;lfaj\"\n        autoCapitalize=\"sentences\"\n        onChangeText={(theValue) => changeValue(theValue, 'text')}\n        style={{ ...styles.inputBig, backgroundColor, color }}\n        multiline\n        placeholderTextColor={darkMode ? theme['color-basic-500'] : 'gray'}\n        placeholder=\"Review Text (mandatory)\"\n      />\n    );\n    for (let i = 0; i < fields.length; i++) {\n      const { type } = fields[i];\n      if (type === 'String') {\n        final.push(\n          <Input\n            key={i}\n            autoCapitalize=\"words\"\n            clearButtonMode=\"always\"\n            onChangeText={(theValue) => changeValue(theValue, fields[i].id)}\n            style={{ ...styles.input, backgroundColor, color }}\n            placeholderTextColor={darkMode ? theme['color-basic-500'] : 'gray'}\n            placeholder={\n              fields[i].mandatory\n                ? `${fields[i].label} (mandatory)`\n                : fields[i].label\n            }\n          />\n        );\n      } else if (type === 'DropDown') {\n        final.push(renderDropDown(fields[i]));\n      }\n    }\n\n    return (\n      <Layout style={{ backgroundColor }}>\n        {renderFilterParameters(fields)}\n        <Layout style={{ backgroundColor }}>{final}</Layout>\n      </Layout>\n    );\n  }\n\n  const successChildren = (\n    <Layout style={{ marginHorizontal: 15, justifyContent: 'center' }}>\n      <Text>\n        {`Your review of \"${selectedClass.courseName}\" has been submitted and is\n          now pending approval.\\n\\nThank You!`}\n      </Text>\n      <Button\n        onPress={() => {\n          navigation.goBack();\n        }}\n      >\n        Okay\n      </Button>\n    </Layout>\n  );\n\n  const errorChildren = (\n    <Layout style={{ marginHorizontal: 15, justifyContent: 'center' }}>\n      <Text>Your review encountered an error, please try again later</Text>\n      <Button\n        onPress={() => {\n          navigation.goBack();\n        }}\n      >\n        Okay\n      </Button>\n    </Layout>\n  );\n\n  return (\n    <ScrollView style={{ backgroundColor }}>\n      <ModalContainer\n        backDropVisible={showConfirmationModal}\n        setBackDropVisible={setShowConfirmationModal}\n        title=\"Review Submitted!\"\n        children={successChildren}\n      />\n      <ModalContainer\n        backDropVisible={showErrorModal}\n        setBackDropVisible={setShowErrorModal}\n        title=\"Error Submitting Review\"\n        children={errorChildren}\n      />\n      <Layout style={{ backgroundColor, ...styles.container }}>\n        <Layout style={{ backgroundColor }}>\n          {renderTheFieldsNecessary(fields)}\n        </Layout>\n        <Button style={{ margin: 12 }} onPress={handleReviewSubmitted}>\n          Post Review\n        </Button>\n      </Layout>\n      {isLoading ? (\n        <Layout\n          style={{\n            backgroundColor: 'transparent',\n            position: 'absolute',\n            right: '50%',\n            top: '50%'\n          }}\n        >\n          <Spinner />\n        </Layout>\n      ) : null}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 50,\n    margin: 12,\n    padding: 10,\n    borderColor: '#B3B3B3',\n    borderRadius: 5,\n    borderWidth: 1\n  },\n  inputBig: {\n    height: 200,\n    margin: 12,\n    padding: 10,\n    borderColor: '#B3B3B3',\n    borderRadius: 5,\n    borderWidth: 1\n  },\n  containerDrop: {\n    height: 42,\n    margin: 12\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25\n  },\n  container: {\n    flex: 1\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n});\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nimport InfoPage from './InfoPage';\nimport PostReview from './PostReview';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function SingleClassPage({ bottomSheetRef }) {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"InfoPage\"\n        component={InfoPage}\n        options={{ title: 'ClassPages' }}\n      />\n      <Stack.Screen\n        name=\"PostReview\"\n        component={PostReview}\n        options={{ title: 'Post Review' }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { Divider, Layout, Text, useTheme } from '@ui-kitten/components';\nimport React, { useEffect, useState } from 'react';\nimport { FlatList, Platform, TouchableOpacity } from 'react-native';\nimport { Entypo, FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport { BottomSheetMethods } from '@gorhom/bottom-sheet/lib/typescript/types';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { useGetUserInfoQuery } from '../api/usersApi';\nimport { selectUserKey } from '../../app/appDataSlice';\nimport {\n  useRemoveClassMutation,\n  useRemoveStarredClassMutation\n} from '../api/classPagesApi';\nimport { classSelected } from './classPagesSlice';\n\ntype StarredClassesProps = {\n  setAddedClassesVisible: (visible: boolean) => void;\n  courseTerm: string;\n  darkMode: boolean;\n  bottomSheetRef: React.MutableRefObject<BottomSheetMethods>;\n};\nexport default function StarredClasses({\n  setAddedClassesVisible,\n  courseTerm,\n  darkMode,\n  bottomSheetRef\n}: StarredClassesProps) {\n  const isWeb = Platform.OS === 'web';\n  const navigation = useNavigation();\n  const dispatch = useAppDispatch();\n  const theme = useTheme();\n  const userKey = useAppSelector(selectUserKey);\n  const [starredCourses, setStarredCourses] = useState([]);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const allClassesList = useAppSelector(\n    (state) => state.appData.classPages.classes\n  );\n  const [removeStarredClass] = useRemoveStarredClassMutation();\n\n  useEffect(() => {\n    setStarredCourses(userData.starredClasses);\n  }, [userData]);\n\n  const handleRemoveStarredClass = (courseCode: string) => {\n    try {\n      removeStarredClass({\n        userKey,\n        courseCode,\n        courseTerm,\n        userName: userData.userName,\n        masterCourseCode: courseCode.slice(0, -3)\n      }).unwrap();\n    } catch (e) {\n      console.warn('Add class error: ', e);\n    }\n  };\n\n  function handleClassSelected(courseCode: string) {\n    dispatch(classSelected(courseCode));\n    setAddedClassesVisible(false);\n    if (Platform.OS === 'web') {\n      navigation.navigate('SingleClassPage');\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  }\n\n  function renderItem({ item: course }) {\n    const courseData = allClassesList[course.courseCode.slice(0, -3)];\n    return (\n      <Layout\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          paddingVertical: 7,\n          backgroundColor: darkMode\n            ? theme['color-basic-900']\n            : theme['color-basic-100']\n        }}\n      >\n        <Layout\n          style={{ backgroundColor: 'transparent', flexDirection: 'row' }}\n        >\n          <Layout\n            style={{\n              backgroundColor: 'transparent',\n              justifyContent: 'center',\n              marginRight: isWeb ? 10 : 5\n            }}\n          >\n            <FontAwesome name=\"star\" color=\"gold\" size={15} />\n          </Layout>\n          <Layout\n            style={{ flexDirection: 'column', backgroundColor: 'transparent' }}\n          >\n            <TouchableOpacity\n              onPress={() => {\n                handleClassSelected(course.courseCode.slice(0, -3));\n              }}\n            >\n              <Text category=\"s1\">{courseData.courseName}</Text>\n              <Text category=\"p2\">{course.courseCode}</Text>\n            </TouchableOpacity>\n          </Layout>\n        </Layout>\n\n        <TouchableOpacity\n          onPress={() => handleRemoveStarredClass(course.courseCode)}\n        >\n          <Entypo name=\"cross\" size={28} color=\"red\" />\n        </TouchableOpacity>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout\n      style={{\n        flex: Platform.OS === 'web' ? undefined : 1,\n        paddingBottom: 10,\n        backgroundColor: darkMode\n          ? theme['color-basic-900']\n          : theme['color-basic-100']\n      }}\n    >\n      <Text category=\"h5\" style={{ textAlign: 'center', marginBottom: 10 }}>\n        Starred Classes\n      </Text>\n      <FlatList\n        contentContainerStyle={{ width: 300 }}\n        automaticallyAdjustsScrollIndicatorInsets\n        indicatorStyle={darkMode ? 'white' : 'black'}\n        showsVerticalScrollIndicator\n        ItemSeparatorComponent={() => <Divider />}\n        data={\n          starredCourses.length > 0\n            ? starredCourses.filter(\n                (course) => course.courseTerm === courseTerm\n              )\n            : []\n        }\n        renderItem={renderItem}\n      />\n    </Layout>\n  );\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport BottomSheet from '@gorhom/bottom-sheet/lib/typescript/components/bottomSheet/BottomSheet';\nimport {\n  Button,\n  Layout,\n  List,\n  Spinner,\n  Text,\n  useTheme\n} from '@ui-kitten/components';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useEffect, useRef, useState } from 'react';\nimport {\n  Keyboard,\n  LayoutAnimation,\n  Platform,\n  RefreshControl,\n  ScrollView,\n  TouchableOpacity\n} from 'react-native';\n\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport Message from '../../components/Message';\nimport ModalContainer from '../../components/ModalContainer';\nimport SearchBar from '../../components/SearchBar';\nimport { RENDERED_RESULTS_LIMIT } from '../../constants/classPages';\nimport { showToast } from '../../functions';\nimport {\n  useAddClassMutation,\n  useAddMultipleClassesMutation,\n  useLazyGetAllClassesQuery,\n  useRemoveClassMutation,\n  useSwapCoursePriorityMutation\n} from '../api/classPagesApi';\nimport { useGetUserInfoQuery, useLazyGetUserInfoQuery } from '../api/usersApi';\nimport AddedClasses from './AddedClasses';\nimport Item from './ClassListItem';\nimport FilterClasses from './FilterClasses';\nimport SingleClassPage from './SingleClassPage';\nimport StarredClasses from './StarredClasses';\nimport {\n  classSelected,\n  endOfListReached,\n  resetClasses,\n  searchTermUpdated,\n  selectClassesList,\n  suggestedClassesDimissed\n} from './classPagesSlice';\n\nexport function CurrentTermLabel({\n  navigation,\n  currentSection,\n  style = {},\n  textStyle = {},\n  disabled = false\n}) {\n  return (\n    <TouchableOpacity\n      disabled={disabled}\n      style={style}\n      onPress={() => navigation.navigate('SelectTerm')}\n    >\n      <Text category=\"label\" style={textStyle}>\n        {`Term: ${currentSection}`}\n      </Text>\n    </TouchableOpacity>\n  );\n}\n\nexport default function ClassesList({ navigation }) {\n  const [menuOpen, setMenuOpen] = useState(null);\n  const [addedClassesVisible, setAddedClassesVisible] = useState(false);\n  const [filtersMenuVisible, setFiltersMenuVisible] = useState(false);\n  const [listRef, setListRef] = useState(null);\n\n  const [addClass] = useAddClassMutation();\n  const [addMultipleClasses] = useAddMultipleClassesMutation();\n  const [removeClass] = useRemoveClassMutation();\n  const [swapAddedClasses] = useSwapCoursePriorityMutation();\n  const [fetchUserInfo] = useLazyGetUserInfoQuery();\n  const [getClasses, { isLoading: classListLoading, isError }] =\n    useLazyGetAllClassesQuery();\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n\n  // Selectors\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const isMobile = useAppSelector((state) => state.appData.secure.isMobile);\n  const classes = useAppSelector(selectClassesList);\n  const userKey = useAppSelector(selectUserKey);\n  const page = useAppSelector((state) => state.appData.classPages.page);\n  const darkMode = useAppSelector(selectDarkMode);\n  const searchTerm = useAppSelector(\n    (state) => state.appData.classPages.searchTerm\n  );\n  const renderedClasses = useAppSelector(\n    (state) => state.appData.classPages.renderedClasses\n  );\n  const suggestedClasses = useAppSelector(\n    (state) => state.appData.classPages.suggestedClasses\n  );\n\n  const { data: userData, isSuccess: userInfoSuccess } = useGetUserInfoQuery(\n    userKey,\n    { skip: !userKey }\n  );\n  const collegeName = userData?.collegeName || 'claremontColleges';\n\n  const userName = userData?.userName;\n  const orderedAddedClasses = userData?.addedClasses?.orderedClasses;\n  const addedClasses = userData?.addedClasses?.classes;\n  const length = userData?.addedClasses?.classes?.[currentSection]\n    ? Object.keys(userData.addedClasses.classes?.[currentSection]).length\n    : 0;\n\n  // Other Hooks\n  const theme = useTheme();\n  const dispatch = useAppDispatch();\n  const bottomSheetRef = useRef<BottomSheet>(null);\n\n  useEffect(() => {\n    fetchClasses();\n  }, []);\n\n  const fetchClasses = async () => {\n    if (Object.keys(classes).length === 0) {\n      try {\n        await getClasses({\n          userKey,\n          collegeName,\n          courseTerm: currentSection\n        }).unwrap();\n      } catch (e) {\n        console.warn('Error getting classes: ', e);\n      }\n    } else {\n      dispatch(resetClasses());\n    }\n  };\n\n  const isClassAdded = (courseCode: string, masterCourseCode: string) => {\n    return (\n      currentSection in addedClasses &&\n      masterCourseCode in addedClasses[currentSection] &&\n      addedClasses[currentSection][masterCourseCode].includes(courseCode)\n    );\n  };\n\n  const handleRefresh = () => {\n    fetchUserInfo(userKey);\n    fetchClasses();\n  };\n\n  const handleSearch = (searchPhrase: string) => {\n    if (listRef) {\n      listRef.scrollToOffset({ animated: true, offset: 0 });\n    }\n    dispatch(searchTermUpdated(searchPhrase));\n  };\n\n  const handleClassSelected = (courseCode: string) => {\n    dispatch(classSelected(courseCode));\n    if (Platform.OS === 'web') {\n      navigation.navigate('SingleClassPage');\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  };\n\n  const handleAddClass = (courseCode: string, masterCourseCode: string) => {\n    try {\n      addClass({\n        userKey,\n        courseCode,\n        courseTerm: currentSection,\n        userName,\n        masterCourseCode\n      }).unwrap();\n    } catch (e) {\n      console.warn('Add class error: ', e);\n    }\n  };\n\n  const handleRemoveClass = (courseCode: string, masterCourseCode: string) => {\n    try {\n      removeClass({\n        userKey,\n        courseCode,\n        courseTerm: currentSection,\n        userName,\n        masterCourseCode\n      }).unwrap();\n    } catch (e) {\n      console.warn('Add class error: ', e);\n    }\n  };\n\n  const handleMassImport = async () => {\n    const courseCodes = [\n      ...searchTerm.matchAll(/\\b[A-Z]+\\d+[A-Z]*\\s?[A-Z]+-\\d+\\b/g)\n    ];\n    if (!courseCodes[0]) {\n      showToast('No course codes found in search bar', 'maroon');\n      return;\n    }\n    const courseCodePairs = courseCodes.reduce((accumulator, courseCode) => {\n      const matches = courseCode[0].match(/(\\D{3,4})(\\d+[A-Z]?[A-Z]?)(.+)/);\n\n      if (!matches || matches.length !== 4) {\n        // Skip this course code\n        return accumulator;\n      }\n\n      const collegeParts = matches[3].split('-'); // Ex: [\"PO\", \"01\"]\n      const masterCourseCode = `${matches[1].trim()} ${matches[2].trim()} ${collegeParts[0].trim()}`;\n      const newCourseCode = `${matches[1].trim()} ${matches[2].trim()} ${matches[3].trim()}`;\n      if (isClassAdded(newCourseCode, masterCourseCode)) {\n        return accumulator;\n      }\n      return [...accumulator, { masterCourseCode, courseCode: newCourseCode }];\n    }, []);\n\n    if (courseCodePairs.length === 0) {\n      showToast('No new course codes found in search bar', 'maroon');\n      return;\n    }\n\n    const message = `Added ${courseCodePairs.length} class(es) to ${currentSection}`;\n\n    try {\n      await addMultipleClasses({\n        userKey,\n        courseCodePairs,\n        courseTerm: currentSection,\n        userName\n      }).unwrap();\n      showToast(message, 'green');\n      handleRefresh();\n    } catch (e) {\n      console.warn('Mass import error: ', e);\n      showToast('Error adding classes', 'maroon');\n    }\n  };\n\n  const handleSwapAddedClasses = async (from: number, to: number) => {\n    if (from === to) {\n      return;\n    }\n    try {\n      await swapAddedClasses({\n        firstPosition: from,\n        secondPosition: to,\n        userKey,\n        termToUpdate: currentSection,\n        userName: userData.userName\n      }).unwrap();\n    } catch (e) {\n      console.warn('Error swapping classes: ', e);\n    }\n  };\n\n  const renderItem = ({ item: [masterCourseCode, courseInfo] }) => {\n    // check if course is in addedClasses set and set to true if it is\n    const inItem = new Array(courseInfo.times.length);\n    let inItemSize = 0;\n    const schedule = courseInfo.times.map((time) => {\n      if (isClassAdded(time.courseCode, masterCourseCode)) {\n        inItem[inItemSize++] = time.courseCode;\n        return { ...time, added: true };\n      }\n      return { ...time, added: false };\n    });\n\n    return (\n      <Item\n        courseName={courseInfo.courseName}\n        masterCourseCode={masterCourseCode}\n        schedule={schedule}\n        menuOpen={menuOpen}\n        setIsMenuOpen={setMenuOpen}\n        darkMode={darkMode}\n        handleClassSelected={handleClassSelected}\n        handleAddClass={handleAddClass}\n        handleRemoveClass={handleRemoveClass}\n        inItem={inItem}\n      />\n    );\n  };\n\n  const accessoryLeft = (\n    <Layout style={{ flexDirection: 'row', backgroundColor: 'transparent' }}>\n      <TouchableOpacity\n        onPress={() => setAddedClassesVisible(!addedClassesVisible)}\n        disabled={!classes || Object.keys(classes).length === 0}\n        style={{ justifyContent: 'center', marginRight: 10 }}\n      >\n        <FontAwesome5\n          name=\"list-ul\"\n          size={24}\n          color={darkMode ? theme['color-basic-500'] : theme['color-basic-200']}\n        />\n        {length > 0 ? (\n          <Layout\n            style={{\n              position: 'absolute',\n              backgroundColor: darkMode ? 'red' : '#fff',\n              borderRadius: 10,\n              paddingHorizontal: 3,\n              right: -7,\n              top: -3\n            }}\n          >\n            <Text>{length}</Text>\n          </Layout>\n        ) : null}\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={{ justifyContent: 'center', marginRight: 10 }}\n        onPress={() => setFiltersMenuVisible(!filtersMenuVisible)}\n      >\n        <FontAwesome5\n          name={filtersMenuVisible ? 'chevron-up' : 'chevron-down'}\n          size={24}\n          color={darkMode ? theme['color-basic-500'] : theme['color-basic-200']}\n        />\n      </TouchableOpacity>\n    </Layout>\n  );\n\n  const renderFilteredCollegesList = () => {\n    const filteredColleges = Object.keys(filters.colleges).filter(\n      (c) => filters.colleges[c]\n    );\n\n    if (filteredColleges.length < 5) {\n      return (\n        <Text\n          category=\"label\"\n          style={{ fontStyle: 'italic', marginTop: 5, color: '#fff' }}\n        >\n          {`Colleges: ${filteredColleges.join(', ')}`}\n        </Text>\n      );\n    }\n    return <Layout style={{ backgroundColor: 'transparent', marginTop: 20 }} />;\n  };\n\n  const dismissSuggestions = () => {\n    LayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n    dispatch(suggestedClassesDimissed());\n  };\n\n  // Decide what content to render\n  let content: keyof JSX.IntrinsicElements | JSX.Element;\n\n  if (classListLoading || !userInfoSuccess) {\n    content = <Message title=\"Loading Classes\" item={<Spinner />} />;\n  } else if (isError) {\n    content = (\n      <Message\n        title=\"Error Loading Classes\"\n        item={<Button onPress={fetchClasses}>Refresh</Button>}\n      />\n    );\n  } else {\n    content = (\n      <List\n        style={{ backgroundColor: 'transparent' }}\n        contentContainerStyle={{ paddingBottom: 20 }}\n        ListHeaderComponent={\n          Object.entries(suggestedClasses).length > 0 &&\n          searchTerm.length === 0 && (\n            <List\n              ListHeaderComponent={\n                <Layout\n                  style={{\n                    marginLeft: 20,\n                    marginRight: 25,\n                    backgroundColor: 'transparent',\n                    flexDirection: 'row',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  }}\n                >\n                  <Text category=\"label\" style={{ color: '#fff' }}>\n                    Suggested Electives\n                  </Text>\n                  <TouchableOpacity onPress={dismissSuggestions}>\n                    <FontAwesome5 name=\"times\" size={24} color=\"#fff\" />\n                  </TouchableOpacity>\n                </Layout>\n              }\n              style={{\n                backgroundColor: 'rgba(0,0,0,.2)',\n                borderRadius: 20,\n                margin: 10,\n                paddingBottom: 10,\n                paddingTop: 3\n              }}\n              contentContainerStyle={{ paddingBottom: 100 }}\n              data={Object.entries(suggestedClasses)}\n              renderItem={renderItem}\n              keyExtractor={([courseCode, _]) => courseCode}\n              onScroll={Keyboard.dismiss}\n              scrollEventThrottle={16}\n            />\n          )\n        }\n        data={Object.entries(renderedClasses).slice(\n          0,\n          RENDERED_RESULTS_LIMIT * page\n        )}\n        renderItem={renderItem}\n        keyExtractor={([courseCode, _]) => courseCode}\n        maxToRenderPerBatch={10}\n        ListEmptyComponent={\n          <Message\n            title=\"No Classes Found\"\n            item={<Button onPress={fetchClasses}>Refresh</Button>}\n          />\n        }\n        initialNumToRender={10}\n        showsVerticalScrollIndicator={Platform.OS === 'web'}\n        // ListHeaderComponent={() => <Layout style={{minHeight: 67, opacity: 0}}/>}\n        onEndReachedThreshold={0.5}\n        onEndReached={() => dispatch(endOfListReached())}\n        refreshControl={\n          <RefreshControl\n            refreshing={classListLoading}\n            onRefresh={handleRefresh}\n            title=\"Pull to refresh\"\n            tintColor={theme['color-basic-100']}\n            titleColor={theme['color-basic-100']}\n          />\n        }\n        ref={(ref) => {\n          setListRef(ref);\n        }}\n        onScroll={Keyboard.dismiss}\n        scrollEventThrottle={16}\n      />\n    );\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <LinearGradient\n        colors={\n          darkMode\n            ? [theme['color-basic-1100'], theme['color-basic-1100']]\n            : [theme['color-primary-500'], theme['color-success-500']]\n        }\n        style={{ width: '100%', margin: 0, flex: 1 }}\n        start={{ x: 0, y: 0 }}\n        end={{ x: 1, y: 0.4 }}\n      >\n        <LinearGradient\n          colors={[\n            // 'rgba(219,76,113,1)',\n            // 'rgba(219,76,113,00)',\n\n            'rgba(225,78,106,0)',\n            'rgba(225,78,106,0)'\n            // 'rgba(225,78,106,.6)',\n            // 'rgba(225,78,106,0)',\n          ]}\n          locations={[0, 1]}\n          style={{\n            zIndex: 1,\n            width: '100%',\n            paddingHorizontal: 20,\n            paddingTop: 14\n          }}\n        >\n          {isMobile && (\n            <CurrentTermLabel\n              navigation={navigation}\n              currentSection={currentSection}\n              textStyle={{ color: '#fff', paddingBottom: 5, marginLeft: 80 }}\n            />\n          )}\n          <SearchBar\n            accessoryLeft={accessoryLeft}\n            searchTerm={searchTerm}\n            onChangeText={handleSearch}\n            inputProps={{ autoCorrect: false }}\n            placeholder=\"Search classes...\"\n            alwaysShowCancelButton={Platform.OS === 'web'}\n            cancelButtonAction={\n              Platform.OS === 'web' ? handleRefresh : () => undefined\n            }\n          />\n          {searchTerm?.length > 30 ? (\n            <TouchableOpacity\n              style={{ marginLeft: 60, marginTop: 5 }}\n              onPress={handleMassImport}\n            >\n              <Text style={{ color: '#fff' }}>\n                <FontAwesome5 name=\"file-import\" color=\"#fff\" />\n                {` Import Full Schedule`}\n              </Text>\n            </TouchableOpacity>\n          ) : null}\n          {renderFilteredCollegesList()}\n        </LinearGradient>\n\n        {content}\n      </LinearGradient>\n\n      <ModalContainer\n        setBackDropVisible={setAddedClassesVisible}\n        backDropVisible={addedClassesVisible}\n        title=\"Added Classes\"\n        modalStyle={{ maxWidth: 400 }}\n      >\n        {orderedAddedClasses && currentSection ? (\n          <ScrollView\n            style={{\n              backgroundColor: 'transparent',\n              flex: Platform.OS === 'web' ? undefined : 1\n            }}\n          >\n            <AddedClasses\n              setAddedClassesVisible={setAddedClassesVisible}\n              addedClasses={orderedAddedClasses[currentSection] || []}\n              handleRemoveClass={handleRemoveClass}\n              darkMode={darkMode}\n              handleSwapAddedClasses={handleSwapAddedClasses}\n              bottomSheetRef={bottomSheetRef}\n            />\n            {userData.starredClasses.length > 0 && (\n              <StarredClasses\n                bottomSheetRef={bottomSheetRef}\n                setAddedClassesVisible={setAddedClassesVisible}\n                courseTerm={currentSection}\n                darkMode={darkMode}\n              />\n            )}\n          </ScrollView>\n        ) : (\n          <Layout\n            style={{\n              flex: 1,\n              alignItems: 'center',\n              borderRadius: 20,\n              paddingTop: 50\n            }}\n          >\n            <Text>Loading</Text>\n            <Spinner />\n          </Layout>\n        )}\n      </ModalContainer>\n\n      <ModalContainer\n        setBackDropVisible={setFiltersMenuVisible}\n        backDropVisible={filtersMenuVisible}\n        title=\"Filters\"\n      >\n        <FilterClasses\n          setFiltersMenuVisible={setFiltersMenuVisible}\n          darkMode={darkMode}\n        />\n      </ModalContainer>\n\n      {Platform.OS !== 'web' && (\n        <SingleClassPage bottomSheetRef={bottomSheetRef} />\n      )}\n    </Layout>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport React from 'react';\n\nimport ClassesList from '../../classPages/ClassesList';\nimport SingleClassPage from '../../classPages/SingleClassPage';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function ClassListPage() {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"ClassesList\"\n        component={ClassesList}\n        options={{\n          headerShown: false,\n          title: ''\n        }}\n      />\n      <Stack.Screen\n        name=\"SingleClassPage\"\n        component={SingleClassPage}\n        options={{\n          headerShown: false\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { Class } from '../../app/types';\n\nexport default class CalendarFunctions {\n  convertTo12HourTime(time) {\n    if (time.length !== 5) {\n      time = `0${time}`;\n    }\n    let hours = time.slice(0, 2);\n    const minutes = time.slice(3, 5);\n    let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n    hours %= 12;\n    if (hours === 0) {\n      hours = 12;\n      ampm = 'pm';\n    }\n    return `${hours}:${minutes}${ampm}`;\n  }\n\n  getColor(string: string) {\n    let final = 0;\n    for (let charIndex = 0; charIndex < string.length; charIndex++) {\n      final += string.charCodeAt(charIndex);\n    }\n    final -= Number(final.toString()[0]) * 10 ** (final.toString().length - 1);\n    final /= 10 ** final.toString().length;\n    return `hsl(${180 * final + 90},${30 + 65 * final}%,${50 + 15 * final}%)`;\n  }\n\n  stringToColour(str: string) {\n    return this.getColor(str);\n  }\n\n  getMinutesDiff(startTime, endTime, minuteHeight) {\n    if (endTime > startTime) {\n      return (endTime - startTime) * minuteHeight;\n    }\n    if (startTime === endTime) {\n      return 0;\n    }\n    return (startTime - endTime) * -minuteHeight;\n  }\n\n  getFullClassData(courseCode: string, allClassData: any): Class {\n    const APIdata = allClassData;\n    const generalCourseCode = courseCode.split('-').slice(0, -1).join('-');\n    return APIdata[generalCourseCode];\n  }\n}\n","import React from 'react';\nimport {\n  Dimensions,\n  Platform,\n  Text,\n  TouchableOpacity,\n  View\n} from 'react-native';\n\nimport CalendarFunctions from './CalendarFunctions';\n\nexport default function renderItem(\n  masterClassInfo,\n  meetingTime,\n  courseCode,\n  handleClassSelected = (string: string) => {},\n  setMenuCourseCode: any,\n  disableLongPress: boolean = false,\n  extraTransparency: boolean = false\n) {\n  const calendarFun = new CalendarFunctions();\n  const universalHeight = (Dimensions.get('window').height - 50) / 12;\n  const minuteHeight = universalHeight / 60;\n\n  const [startHour, startMinute] = meetingTime.startTime.split(':');\n  const [endHour, endMinute] = meetingTime.endTime.split(':');\n  const color = calendarFun.stringToColour(masterClassInfo.masterCourseCode);\n  const code = courseCode.split(' ');\n\n  return (\n    <TouchableOpacity\n      key={Math.random()}\n      style={{\n        // @ts-ignore\n        backgroundColor: extraTransparency ? 'rgba(0, 0, 0, 0.5)' : color,\n        top: universalHeight * startHour + startMinute * minuteHeight,\n        height:\n          universalHeight * (endHour - startHour) +\n          calendarFun.getMinutesDiff(startMinute, endMinute, minuteHeight),\n        width: '100%',\n        position: 'absolute',\n        margin: 0,\n        justifyContent: 'center'\n      }}\n      onPress={() => {\n        handleClassSelected(masterClassInfo.masterCourseCode);\n      }}\n      onLongPress={() => {\n        if (!disableLongPress) {\n          setMenuCourseCode({ key: courseCode });\n        }\n      }}\n    >\n      {Platform.OS !== 'web' && (\n        <Text\n          adjustsFontSizeToFit\n          numberOfLines={5}\n          style={{\n            color: parseInt(color.slice(1), 16) > 9079434 ? 'black' : 'white',\n            fontSize: 11,\n            marginHorizontal: 3,\n            textAlign: 'center'\n          }}\n        >\n          {code[0]} {code[1]}\n          {'\\n'}\n          {code[2]}\n          {meetingTime.classLocation\n            ? `\\n(${meetingTime.classLocation})`\n            : null}\n        </Text>\n      )}\n      {Platform.OS === 'web' && (\n        <View style={{ flexDirection: 'column' }}>\n          <Text\n            style={{\n              color: parseInt(color.slice(1), 16) > 9079434 ? 'black' : 'white',\n              fontSize: Dimensions.get('window').width / 115,\n              fontWeight: 'bold',\n              marginHorizontal: 3,\n              textAlign: 'center'\n            }}\n          >\n            {code[0]} {code[1]} {code[2]}\n          </Text>\n          <Text\n            style={{\n              color: parseInt(color.slice(1), 16) > 9079434 ? 'black' : 'white',\n              fontSize: Dimensions.get('window').width / 125,\n              marginHorizontal: 3,\n              textAlign: 'center',\n              marginTop: 5\n            }}\n          >\n            {meetingTime.classLocation\n              ? `(${meetingTime.classLocation})`\n              : null}\n          </Text>\n        </View>\n      )}\n    </TouchableOpacity>\n  );\n}\n","import React from 'react';\nimport { Dimensions, Text, TouchableOpacity } from 'react-native';\nimport Toast from 'react-native-root-toast';\n\nimport CalendarFunctions from './CalendarFunctions';\n\nexport default function renderCustomEvent(\n  event,\n  userData,\n  userKey,\n  editUser,\n  setMenuEvent,\n  disableLongPress: boolean = false,\n  extraTransparency = false\n) {\n  const universalHeight = (Dimensions.get('window').height - 50) / 12;\n  const minuteHeight = universalHeight / 60;\n  const calendarFun = new CalendarFunctions();\n  const [startHour, startMinute] = event.startTime.split(':');\n  const [endHour, endMinute] = event.endTime.split(':');\n  const color = calendarFun.stringToColour(event.name);\n\n  function removeEvent(event: any) {\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify({\n        removeCustomEvent: {\n          name: event.name,\n          startTime: event.startTime,\n          endTime: event.endTime,\n          days: event.days\n        }\n      })\n    })\n      .unwrap()\n      .catch(() => {\n        Toast.show('Failed to remove event.\\nPlease try again later', {\n          duration: Toast.durations.SHORT,\n          opacity: 1,\n          position: -100,\n          backgroundColor: 'grey',\n          shadow: false\n        });\n      });\n  }\n\n  return (\n    <TouchableOpacity\n      onLongPress={() => {\n        if (!disableLongPress) {\n          setMenuEvent({ key: event.name, event });\n        }\n        // Alert.alert(\n        //   event.name,\n        //   `${calendarFun.convertTo12HourTime(\n        //     event.startTime\n        //   )} - ${calendarFun.convertTo12HourTime(event.endTime)}`,\n        //   [\n        //     {\n        //       text: 'Remove',\n        //       onPress: () => {\n        //         removeEvent(event);\n        //       }\n        //     },\n        //     {\n        //       text: 'Back',\n        //       onPress: () => {},\n        //       style: 'cancel'\n        //     }\n        //   ],\n        //   { cancelable: true }\n        // );\n      }}\n      key={event.name + event.days}\n      style={{\n        backgroundColor: extraTransparency ? 'rgba(0, 0, 0, 0.5)' : color,\n        top: universalHeight * startHour + startMinute * minuteHeight,\n        height:\n          universalHeight * (endHour - startHour) +\n          calendarFun.getMinutesDiff(startMinute, endMinute, minuteHeight),\n        width: '100%',\n        position: 'absolute',\n        justifyContent: 'center'\n      }}\n    >\n      <Text\n        adjustsFontSizeToFit\n        numberOfLines={endHour - startHour + 2}\n        style={{ color: 'white', textAlign: 'center' }}\n      >\n        {event.name}\n      </Text>\n    </TouchableOpacity>\n  );\n}\n","import { Entypo } from '@expo/vector-icons';\nimport BottomSheet from '@gorhom/bottom-sheet/lib/typescript/components/bottomSheet/BottomSheet';\nimport { useNavigation } from '@react-navigation/native';\nimport { Button, useTheme } from '@ui-kitten/components';\nimport React, { useEffect, useRef, useState } from 'react';\nimport {\n  Dimensions,\n  PanResponder,\n  Platform,\n  ScrollView,\n  Text,\n  View,\n  useWindowDimensions,\n  TouchableOpacity\n} from 'react-native';\nimport Animated from 'react-native-reanimated';\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { CustomEvent } from '../../app/types';\nimport ModalContainer from '../../components/ModalContainer';\nimport { getMasterCourseCodeFromCourseCode, showToast } from '../../functions';\nimport { useRemoveClassMutation } from '../api/classPagesApi';\nimport { useEditUserMutation, useGetUserInfoQuery } from '../api/usersApi';\nimport { CurrentTermLabel } from '../classPages/ClassesList';\nimport SingleClassPage from '../classPages/SingleClassPage';\nimport {\n  classSelected,\n  selectClassesList\n} from '../classPages/classPagesSlice';\nimport ClassListPage from '../combinedCalender/classList';\nimport { base_URL } from '../notifications/constants';\nimport CalendarFunctions from './CalendarFunctions';\nimport renderItem from './ScheduledItem';\nimport renderCustomEvent from './customEvent';\n\n// LogBox.ignoreAllLogs();\nconst DIVIDER_WIDTH = 15;\nconst WINDOW_MIN_WIDTH = 200;\n\nexport default function CalendarRender({\n  route: {\n    params: { overrideData }\n  }\n}) {\n  const [showOverlay, setShowOverlay] = useState(false);\n  const isWeb = Platform.OS === 'web';\n  const theme = useTheme();\n  const [editUser] = useEditUserMutation();\n  const [removeClass] = useRemoveClassMutation();\n  const userKey = useAppSelector(selectUserKey);\n  const isThreeDay = useAppSelector(\n    (state) => state.appData.calendar.isThreeDay\n  );\n  const isMobile = useAppSelector((state) => state.appData.secure.isMobile);\n  const navigation = useNavigation();\n\n  const topBar = useRef(null);\n  const verticalRef = useRef(null);\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [startingOffset, setStartingOffset] = useState({\n    x: 0,\n    y: isWeb ? 500 : 525\n  });\n  const dimensions = useWindowDimensions();\n  const [rightWidth, setRightWidth] = useState(\n    (2 * (dimensions.width - DIVIDER_WIDTH - 100)) / 7\n  );\n  const [menuCourseCode, setMenuCourseCode] = useState<\n    { key: string } | boolean\n  >(false);\n  const [menuCustomEvent, setMenuCustomEvent] = useState<\n    { key: string; event: CustomEvent } | boolean\n  >(false);\n  const leftWidth = dimensions.width - DIVIDER_WIDTH;\n\n  const _panResponder = useRef(getPanResponder());\n  const dispatch = useAppDispatch();\n  const bottomSheetRef = useRef<BottomSheet>(null);\n  const darkMode: boolean = useAppSelector(selectDarkMode);\n  const calendarFun = new CalendarFunctions();\n  const [isDividerClicked, setIsDividerClicked] = useState(false);\n  const universalHeight = (Dimensions.get('window').height - 50) / 12;\n  const threeDayWidth = (Dimensions.get('window').width - 75) / 3;\n  const fiveDayWidth = isMobile\n    ? (Dimensions.get('window').width - 75) / 5\n    : (Dimensions.get('window').width - 75) / 7;\n  const [classes, setClasses] = useState({\n    Monday: [],\n    Tuesday: [],\n    Wednesday: [],\n    Thursday: [],\n    Friday: [],\n    Saturday: [],\n    Sunday: []\n  });\n  const days = [\n    { day: 'Mon', id: 'Monday' },\n    { day: 'Tues', id: 'Tuesday' },\n    { day: 'Wed', id: 'Wednesday' },\n    { day: 'Thurs', id: 'Thursday' },\n    { day: 'Fri', id: 'Friday' },\n    { day: 'Sat', id: 'Saturday' },\n    { day: 'Sun', id: 'Sunday' }\n  ];\n  const times = [\n    '12:00 AM',\n    '1:00 AM',\n    '2:00 AM',\n    '3:00 AM',\n    '4:00 AM',\n    '5:00 AM',\n    '6:00 AM',\n    '7:00 AM',\n    '8:00 AM',\n    '9:00 AM',\n    '10:00 AM',\n    '11:00 AM',\n    '12:00 PM',\n    '1:00 PM',\n    '2:00 PM',\n    '3:00 PM',\n    '4:00 PM',\n    '5:00 PM',\n    '6:00 PM',\n    '7:00 PM',\n    '8:00 PM',\n    '9:00 PM',\n    '10:00 PM',\n    '11:00 PM'\n  ];\n\n  const { data: userData } = useGetUserInfoQuery(userKey);\n  const orderedAddedClasses = useAppSelector(\n    (state) => state.appData.classPages.orderedAddedClasses\n  );\n  const allClassData = useAppSelector(selectClassesList);\n  const [overrideClassesToRender, setOverrideClassesToRender] = useState([]);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n\n  const today = new Date().getDay() !== 0 ? new Date().getDay() - 1 : 6;\n\n  useEffect(() => {\n    try {\n      if (overrideData.length !== 0) {\n        getOverrideCourseData().then(() => {});\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n    if (isWeb) {\n      verticalRef.current?.scrollTo({\n        y: Dimensions.get('screen').height / 1.9\n      });\n    }\n\n    // Recalculate time\n    setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000000);\n  }, []);\n\n  useEffect(() => {\n    _panResponder.current = getPanResponder();\n  }, [dimensions.width]);\n\n  async function getOverrideCourseData() {\n    const stringOverrideData = JSON.stringify(\n      overrideData.map((course) => {\n        return course.courseCode.slice(0, -3);\n      })\n    );\n    const response = await fetch(\n      `${base_URL}/classes/claremontColleges?listOfCourses=${stringOverrideData}&courseTerm=${overrideData[0].courseTerm}`,\n      {\n        headers: {\n          userKey,\n          'content-type': 'application/json'\n        },\n        method: 'GET'\n      }\n    );\n    setOverrideClassesToRender(await response.json());\n  }\n\n  const renderCustomEvents = (\n    elem,\n    extraTransparency = false,\n    disableInteractions = false\n  ) => {\n    const finalRender = [];\n    if (!userData.customEvents) {\n      return null;\n    }\n    for (const event of userData.customEvents) {\n      if (event.days.length > 0) {\n        if (event.days.includes(elem.id)) {\n          finalRender.push(\n            renderCustomEvent(\n              event,\n              userData,\n              userKey,\n              editUser,\n              setMenuCustomEvent,\n              disableInteractions,\n              extraTransparency\n            )\n          );\n        }\n      } else if (\n        event.date &&\n        eventIsThisDay(elem.id, new Date(event.date)) &&\n        showThisWeek(new Date(event.date))\n      ) {\n        finalRender.push(\n          renderCustomEvent(\n            event,\n            userData,\n            userKey,\n            editUser,\n            setMenuCustomEvent,\n            disableInteractions,\n            extraTransparency\n          )\n        );\n      }\n    }\n    return finalRender;\n  };\n\n  function getPanResponder() {\n    return PanResponder.create({\n      // @ts-ignore\n      onMoveShouldSetResponderCapture: () => true,\n      onMoveShouldSetPanResponderCapture: () => true,\n\n      onPanResponderGrant: (e, gestureState) => {\n        setIsDividerClicked(true);\n      },\n\n      onPanResponderMove: (e, gestureState) => {\n        const newRight =\n          gestureState.moveX > dimensions.width - 100\n            ? 100\n            : dimensions.width - gestureState.moveX;\n\n        if (newRight > WINDOW_MIN_WIDTH || rightWidth === 0) {\n          setRightWidth(newRight);\n        } else {\n          setRightWidth(0);\n        }\n      },\n\n      onPanResponderRelease: (e, gestureState) => {\n        setIsDividerClicked(false);\n      }\n    });\n  }\n\n  function eventIsThisDay(dayString: string, date: Date) {\n    const dayOfWeek = adjustDays(date.getDay());\n    return dayString === days[dayOfWeek].id;\n  }\n\n  function adjustDays(dayOfWeek) {\n    if (dayOfWeek === 0) {\n      dayOfWeek = 6;\n    } else {\n      dayOfWeek -= 1;\n    }\n    return dayOfWeek;\n  }\n\n  function getMs(hours, minutes, seconds) {\n    let final = 0;\n    final += hours * 3600000;\n    final += minutes * 60000;\n    final += seconds * 1000;\n    return final;\n  }\n\n  function showThisWeek(dateOfEvent: Date) {\n    const currentDate = new Date();\n    const currentDayOfWeek = adjustDays(currentDate.getDay());\n    const startOfWeek = new Date(\n      currentDate.valueOf() -\n        currentDayOfWeek * 86400000 -\n        getMs(\n          currentDate.getHours(),\n          currentDate.getMinutes(),\n          currentDate.getSeconds()\n        )\n    );\n    const endOfWeek = new Date(\n      currentDate.valueOf() +\n        (6 - currentDayOfWeek) * 86400000 +\n        getMs(\n          23 - currentDate.getHours(),\n          59 - currentDate.getMinutes(),\n          59 - currentDate.getSeconds()\n        )\n    );\n    return !(\n      dateOfEvent.valueOf() > endOfWeek.valueOf() ||\n      dateOfEvent.valueOf() < startOfWeek.valueOf()\n    );\n  }\n\n  const handleClassSelected = (courseCode: string) => {\n    dispatch(classSelected(courseCode));\n    if (Platform.OS === 'web') {\n      // @ts-ignore\n      navigation.navigate('SingleClassPage');\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  };\n\n  const handleRemoveClass = () => {\n    if (typeof menuCourseCode !== 'object') {\n      return;\n    }\n    const masterCourseCode = getMasterCourseCodeFromCourseCode(\n      menuCourseCode.key\n    );\n    try {\n      removeClass({\n        userKey,\n        courseCode: menuCourseCode.key,\n        courseTerm: currentSection,\n        userName: userData.userName,\n        masterCourseCode\n      }).unwrap();\n      setMenuCourseCode(false);\n    } catch (e) {\n      console.warn('Add class error: ', e);\n      showToast('Failed to remove class', 'red');\n    }\n  };\n\n  function renderOverlayOption() {\n    return (\n      <TouchableOpacity\n        style={{\n          borderWidth: 1,\n          borderColor: 'rgba(0,0,0,0.2)',\n          alignItems: 'center',\n          justifyContent: 'center',\n          position: 'absolute',\n          bottom: 50,\n          right: isWeb ? undefined : 25,\n          left: isWeb ? 100 : undefined,\n          width: 100,\n          height: 100,\n          backgroundColor: 'rgba(149,56,182,0.59)',\n          borderRadius: 50\n        }}\n        onPress={() => {\n          setShowOverlay(!showOverlay);\n        }}\n      >\n        <Text>\n          {`${showOverlay ? 'Disable' : 'Enable'}\\n`}\n          Overlay\n        </Text>\n      </TouchableOpacity>\n    );\n  }\n\n  const handleRemoveCustomEvent = () => {\n    if (typeof menuCustomEvent !== 'object') {\n      return;\n    }\n    const { event } = menuCustomEvent;\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify({\n        removeCustomEvent: {\n          name: event.name,\n          startTime: event.startTime,\n          endTime: event.endTime,\n          days: event.days\n        }\n      })\n    })\n      .unwrap()\n      .then(() => {\n        setMenuCustomEvent(false);\n      })\n      .catch((e) => {\n        showToast('Failed to remove event', 'red');\n        console.warn(\"Couldn't remove custom event: \", e);\n      });\n  };\n\n  function renderDashes() {\n    const final = [];\n    for (let i = 0; i < 24; i++) {\n      final.push(\n        <View\n          key={i}\n          style={{\n            width: (isThreeDay ? threeDayWidth : fiveDayWidth) * 0.73016,\n            marginLeft: (isThreeDay ? threeDayWidth : fiveDayWidth) * 0.14286,\n            top: universalHeight * i,\n            position: 'absolute',\n            height: universalHeight,\n            borderBottomWidth: Platform.OS === 'web' ? 1.2 : 0.7,\n            borderBottomColor: darkMode ? 'rgb(68,68,68)' : 'rgb(204,204,204)'\n          }}\n        />\n      );\n    }\n    return final;\n  }\n\n  const renderClasses = (\n    elem,\n    extraTransparency = false,\n    disableInteractions = false\n  ) => {\n    const classes = [];\n    Object.keys(orderedAddedClasses).map((term) => {\n      if (term === currentSection) {\n        // @ts-ignore\n        orderedAddedClasses[term].toReversed().map((courseCode) => {\n          try {\n            const data = calendarFun.getFullClassData(courseCode, allClassData);\n            if (!data) return <View />; // catch for somehow missing data; usually cached issue or missing term information; not sure\n            const data2 = data.times.find(\n              (time) => time.courseCode === courseCode\n            );\n            for (const meetingTime of data2.courseSchedule) {\n              for (const day in meetingTime.daysOfTheWeek) {\n                if (meetingTime.daysOfTheWeek[day] === elem.id) {\n                  classes.push(\n                    renderItem(\n                      data,\n                      meetingTime,\n                      courseCode,\n                      handleClassSelected,\n                      setMenuCourseCode,\n                      disableInteractions,\n                      extraTransparency\n                    )\n                  );\n                }\n              }\n            }\n          } catch (e) {\n            console.warn(e);\n          }\n        });\n      }\n    });\n    return classes;\n  };\n\n  function renderClassesForOverride(elem) {\n    const classes = [];\n    if (overrideClassesToRender.length > 0) {\n      for (const courseCode of overrideData.map((course) => {\n        return course.courseCode;\n      })) {\n        try {\n          const data = overrideClassesToRender.find((course) =>\n            course.times.some(\n              (courseTime) => courseTime.courseCode === courseCode\n            )\n          );\n          const data2 = data.times.find(\n            (time) => time.courseCode === courseCode\n          );\n          for (const meetingTime of data2.courseSchedule) {\n            for (const day in meetingTime.daysOfTheWeek) {\n              if (meetingTime.daysOfTheWeek[day] === elem.id) {\n                classes.push(\n                  renderItem(\n                    data,\n                    meetingTime,\n                    courseCode,\n                    handleClassSelected,\n                    setMenuCourseCode,\n                    true\n                  )\n                );\n              }\n            }\n          }\n        } catch (e) {\n          console.warn(e);\n        }\n      }\n    }\n    return classes;\n  }\n\n  function renderDeleteModal(\n    event: { key: string; [key: string]: any } | boolean,\n    onRemove: () => void,\n    onCancel: () => void\n  ) {\n    return (\n      <ModalContainer\n        backDropVisible={!!event}\n        title={typeof event === 'object' ? event.key : ''}\n        setBackDropVisible={onCancel}\n        modalStyle={{ maxHeight: 200 }}\n        modalProps={{ animationOut: 'fadeOut' }}\n      >\n        <View\n          style={{\n            flex: 1,\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: 20,\n            backgroundColor: darkMode\n              ? theme['color-basic-900']\n              : theme['color-basic-100']\n          }}\n        >\n          <Button style={{ marginBottom: 10 }} onPress={onRemove}>\n            Remove\n          </Button>\n          <Button appearance=\"outline\" onPress={onCancel}>\n            Cancel\n          </Button>\n        </View>\n      </ModalContainer>\n    );\n  }\n\n  function masterRender(elem) {\n    if (overrideClassesToRender.length !== 0) {\n      if (showOverlay) {\n        return (\n          <View>\n            {renderClassesForOverride(elem)}\n            {userData?.addedClasses && renderClasses(elem, true, true)}\n            {userData?.addedClasses && renderCustomEvents(elem, true, true)}\n          </View>\n        );\n      }\n      return <View>{renderClassesForOverride(elem)}</View>;\n    }\n    return (\n      <View>\n        {userData?.addedClasses && renderClasses(elem)}\n        {userData?.addedClasses && renderCustomEvents(elem)}\n      </View>\n    );\n  }\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        backgroundColor: darkMode ? null : 'white',\n        flexDirection: 'row',\n        borderRadius: 10\n      }}\n    >\n      <Animated.View\n        style={[\n          { flex: 1 },\n          !isMobile && { minWidth: WINDOW_MIN_WIDTH, width: leftWidth }\n        ]}\n      >\n        {/* Times */}\n        {overrideData.length === 0 && (\n          <CurrentTermLabel\n            navigation={navigation}\n            currentSection={currentSection}\n            style={{ margin: 10 }}\n          />\n        )}\n        <ScrollView\n          horizontal\n          snapToInterval={isThreeDay ? threeDayWidth : fiveDayWidth}\n          showsHorizontalScrollIndicator={false}\n          style={{ marginLeft: 75, height: isWeb ? 43 : undefined }}\n          ref={topBar}\n        >\n          <View style={{ flexDirection: 'row' }}>\n            {days.map((elem, index) => {\n              return (\n                <View key={index}>\n                  <View\n                    style={{\n                      borderColor: darkMode ? '#7a7a7a' : '#525252',\n                      borderBottomWidth: 1,\n                      width: '100%',\n                      borderRadius: index === today ? 5 : 0,\n                      backgroundColor:\n                        index === today ? theme['color-success-400'] : null\n                    }}\n                  >\n                    <Animated.Text\n                      style={{\n                        textAlign: 'center',\n                        width: isThreeDay ? threeDayWidth : fiveDayWidth,\n                        color:\n                          index === today\n                            ? 'white'\n                            : darkMode\n                            ? 'white'\n                            : 'black'\n                      }}\n                    >\n                      {elem.day}\n                    </Animated.Text>\n                  </View>\n                </View>\n              );\n            })}\n          </View>\n        </ScrollView>\n        <ScrollView\n          contentOffset={startingOffset}\n          showsVerticalScrollIndicator={isWeb}\n          bounces={false}\n          ref={verticalRef}\n        >\n          <View style={{ flexDirection: 'row' }}>\n            <View style={{ justifyContent: 'space-around' }}>\n              {times.map((time, index) => {\n                return (\n                  <Text\n                    key={index}\n                    style={{\n                      height: universalHeight,\n                      width: 75,\n                      borderWidth: 1,\n                      borderColor: darkMode ? '#7a7a7a' : '#525252',\n                      textAlign: 'center',\n                      color: darkMode ? '#7a7a7a' : '#525252'\n                    }}\n                  >\n                    {time}\n                  </Text>\n                );\n              })}\n            </View>\n            {/* Classes */}\n            <ScrollView\n              horizontal\n              snapToInterval={isThreeDay ? threeDayWidth : fiveDayWidth}\n              decelerationRate=\"normal\"\n              showsHorizontalScrollIndicator={isWeb}\n              bounces={false}\n              scrollEventThrottle={1}\n              onScroll={(e) =>\n                topBar.current.scrollTo({\n                  x: e.nativeEvent.contentOffset.x,\n                  animated: false,\n                  useNativeDriver: true\n                })\n              }\n              onMomentumScrollBegin={(e) =>\n                topBar.current.scrollTo({\n                  x: e.nativeEvent.contentOffset.x,\n                  animated: false,\n                  useNativeDriver: true\n                })\n              }\n            >\n              <View style={{ flexDirection: 'row' }}>\n                {days.map((elem, index) => {\n                  return (\n                    <View key={index}>\n                      {renderDashes()}\n                      {/* Current Time Indicator */}\n                      {index === today && (\n                        <View\n                          style={{\n                            top:\n                              universalHeight * new Date().getHours() +\n                              new Date().getMinutes() * (universalHeight / 60),\n                            position: 'absolute',\n                            height: 2,\n                            width: '100%',\n                            backgroundColor: 'red',\n                            justifyContent: 'center',\n                            zIndex: 10\n                          }}\n                        >\n                          <View\n                            style={{\n                              width: 10,\n                              height: 10,\n                              backgroundColor: 'red',\n                              borderRadius: 5,\n                              position: 'relative',\n                              right: 4\n                            }}\n                          />\n                        </View>\n                      )}\n\n                      <View\n                        key={elem.day}\n                        style={{\n                          width: isThreeDay ? threeDayWidth : fiveDayWidth\n                        }}\n                      >\n                        {masterRender(elem)}\n                      </View>\n                      <View\n                        style={{\n                          height: '100%',\n                          width: 1,\n                          backgroundColor: darkMode ? '#7a7a7a' : '#525252'\n                        }}\n                      />\n                    </View>\n                  );\n                })}\n              </View>\n            </ScrollView>\n          </View>\n        </ScrollView>\n        {Platform.OS !== 'web' && Object.entries(overrideData).length === 0 && (\n          <SingleClassPage bottomSheetRef={bottomSheetRef} />\n        )}\n      </Animated.View>\n      {!isMobile && (\n        <View\n          style={[\n            {\n              width: DIVIDER_WIDTH,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            isDividerClicked\n              ? { backgroundColor: '#666' }\n              : { backgroundColor: '#e2e2e2' }\n          ]}\n          {..._panResponder.current.panHandlers}\n        >\n          <Entypo name=\"dots-three-vertical\" size={20} />\n        </View>\n      )}\n      <Animated.View style={!isMobile && { width: rightWidth }}>\n        {!isMobile && <ClassListPage />}\n      </Animated.View>\n      {renderDeleteModal(menuCourseCode, handleRemoveClass, () => {\n        setMenuCourseCode(false);\n      })}\n      {renderDeleteModal(menuCustomEvent, handleRemoveCustomEvent, () => {\n        setMenuCustomEvent(false);\n      })}\n      {overrideData.length > 0 && renderOverlayOption()}\n    </View>\n  );\n}\n","import React from 'react';\nimport { LogBox } from 'react-native';\n\nimport CalendarRender from './CalendarRender';\n\nLogBox.ignoreAllLogs();\n\nexport default function CalendarPage({ navigation }) {\n  return (\n    <CalendarRender\n      route={{\n        params: {\n          overrideData: []\n        }\n      }}\n    />\n  );\n}\n\nconst myStyles = {\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3,\n    backgroundColor: 'black'\n  },\n  timeButton: {\n    width: 100,\n    height: 50,\n    marginHorizontal: 40,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 4,\n    backgroundColor: '#c45269'\n  },\n  timeText: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  actualTimeText: {\n    fontSize: 13,\n    lineHeight: 18,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  }\n};\n\nconst sponsorPageStyles = {\n  container: {\n    flex: 1,\n    backgroundColor: 'white'\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  description: {\n    borderWidth: 1,\n    margin: 10,\n    borderColor: '#5d5c5c',\n    borderRadius: 5,\n    width: '95%',\n    padding: 10,\n    backgroundColor: 'rgba(178,166,166,0.22)'\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n};\n","import { Layout } from '@ui-kitten/components';\nimport React from 'react';\n\nexport default function WrapItems({ childStyle, children, ...LayoutProps }) {\n  return (\n    <Layout {...LayoutProps}>\n      {React.Children.map(children, (child) => (\n        <Layout style={childStyle}>{child}</Layout>\n      ))}\n    </Layout>\n  );\n}\n","import DateTimePicker from '@react-native-community/datetimepicker';\nimport { useNavigation } from '@react-navigation/native';\nimport {\n  Button,\n  Text,\n  CheckBox,\n  Input,\n  Layout,\n  Select,\n  SelectItem\n} from '@ui-kitten/components';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport {\n  Keyboard,\n  Platform,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View\n} from 'react-native';\nimport Toast from 'react-native-root-toast';\nimport Loader from 'react-native-three-dots-loader';\n\nimport { selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport WrapItems from '../../components/WrapItems';\nimport { useEditUserMutation, useGetUserInfoQuery } from '../api/usersApi';\n\nexport default function CreateCustomEvent() {\n  const [editUser] = useEditUserMutation();\n  const [showDots, setShowDots] = useState(false);\n  const navigation = useNavigation();\n  const dateToUse = new Date();\n  const [selectedDate, setSelectedDate] = useState(dateToUse);\n  const [isOneDay, setIsOneDay] = useState(false);\n  const [allValuesPopulated, setAllValuesPopulated] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState([]);\n  const [daysArray, setDaysArray] = useState([]);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [eventTitle, setEventTitle] = useState('');\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n\n  const daysOfWeek = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday'\n  ];\n\n  useEffect(() => {\n    setAllValuesPopulated(\n      (isOneDay\n        ? selectedDate.toISOString() !== dateToUse.toISOString()\n        : daysArray.length >= 1) &&\n        eventTitle !== '' &&\n        startTime < endTime\n    );\n  }, [daysArray, eventTitle, startTime, endTime, selectedDate, isOneDay]);\n\n  function addEvent() {\n    setShowDots(true);\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify({\n        addCustomEvent: {\n          name: eventTitle,\n          startTime: startTime.toTimeString().slice(0, 5),\n          endTime: endTime.toTimeString().slice(0, 5),\n          days: daysArray,\n          date:\n            selectedDate.toISOString() !== dateToUse.toISOString()\n              ? selectedDate.toISOString()\n              : null\n        }\n      })\n    })\n      .unwrap()\n      .then(async () => {\n        setTimeout(() => {\n          setShowDots(false);\n          setDaysArray([]);\n          navigation.goBack();\n        }, 2000);\n      })\n      .catch(() => {\n        setShowDots(false);\n        Toast.show('Failed to add event.\\nPlease try again later', {\n          duration: Toast.durations.LONG,\n          opacity: 1,\n          position: -100,\n          backgroundColor: 'grey',\n          shadow: false\n        });\n      });\n    /*\n        fetch(base_URL + '/users/' + userData.userName, {\n            method: 'PATCH',\n            body: JSON.stringify({\n                \"addCustomEvent\": {\n                    \"name\": eventTitle,\n                    \"startTime\": startTime.toTimeString().slice(0, 5),\n                    \"endTime\": endTime.toTimeString().slice(0, 5),\n                    \"days\": daysArray\n                },\n            }),\n            headers: {\n                'content-type': 'application/json',\n                userKey: userKey\n            }\n        }).then((res) => {\n            if (res.ok) {\n                navigation.goBack()\n            } else {\n                Toast.show(\n                    \"Failed to add event\\nStatus: \" + res.status,\n                    {\n                        duration: Toast.durations.LONG,\n                        opacity: 1,\n                        position: -100,\n                        backgroundColor: 'grey',\n                        shadow: false,\n                    }\n                );\n            }\n        }) */\n  }\n\n  // Needed because Android date picker uses a modal\n  const [showTimePickerAndroid, setShowTimePickerAndroid] = useState(false);\n\n  const timePickerOptions = useMemo(\n    () => ({\n      'Start Time': { time: startTime, setTime: setStartTime },\n      'End Time': { time: endTime, setTime: setEndTime }\n    }),\n    [startTime, setStartTime, endTime, setEndTime]\n  );\n\n  const formatAMPM = (date: Date) => {\n    let hours = date.getHours();\n    let minutes: string | number = date.getMinutes();\n    const ampm = hours >= 12 ? 'pm' : 'am';\n    hours %= 12;\n    hours = hours || 12;\n    minutes = minutes < 10 ? `0${minutes}` : minutes;\n    return `${hours}:${minutes} ${ampm}`;\n  };\n\n  const Title = (\n    <Layout\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'space-evenly',\n        alignItems: 'center',\n        marginTop: 15\n      }}\n    >\n      <Input\n        label=\"Title\"\n        disabled={showDots}\n        placeholder=\"Title of Event\"\n        value={eventTitle}\n        style={{ flex: 5 }}\n        onChangeText={(title) => {\n          setEventTitle(title);\n        }}\n      />\n    </Layout>\n  );\n\n  function TimePicker() {\n    if (Platform.OS === 'android') {\n      return (\n        <Layout\n          style={{\n            flexDirection: 'row',\n            justifyContent: 'space-around'\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: 'center' }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n                <Button\n                  onPress={() => {\n                    setShowTimePickerAndroid(true);\n                  }}\n                >\n                  {formatAMPM(time)}\n                </Button>\n                {showTimePickerAndroid && (\n                  <DateTimePicker\n                    mode=\"time\"\n                    onChange={(change, date) => {\n                      setTime(date);\n                      setShowTimePickerAndroid(false);\n                    }}\n                    value={time}\n                  />\n                )}\n              </Layout>\n            )\n          )}\n        </Layout>\n      );\n    }\n    if (Platform.OS === 'ios') {\n      return (\n        <Layout\n          style={{\n            flexDirection: 'row',\n            justifyContent: 'space-around'\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: 'center' }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n\n                <DateTimePicker\n                  mode=\"time\"\n                  onChange={(change, date) => {\n                    setTime(date);\n                  }}\n                  value={time}\n                />\n              </Layout>\n            )\n          )}\n        </Layout>\n      );\n    }\n  }\n\n  if (Platform.OS === 'web') {\n    return (\n      <Text>\n        Creating Events is not supported on the web. Download the app on the App\n        Store or Play Store to make a new Event.\n      </Text>\n    );\n  }\n\n  const renderMultiSelectDropDown = () => {\n    function renderEachDropItem() {\n      const final = [];\n      for (const option of daysOfWeek) {\n        final.push(<SelectItem title={option} />);\n      }\n      return final;\n    }\n    function toggleValue(index) {\n      setSelectedIndex(index);\n      const newSelection = index.map((littleIndex) => {\n        return daysOfWeek[littleIndex - 1];\n      });\n      setDaysArray(newSelection);\n    }\n    function calculateSelectedValues() {\n      const finalArray = selectedIndex.map((littleIndex) => {\n        return `${daysOfWeek[littleIndex - 1]}, `;\n      });\n      if (finalArray.length > 0) {\n        let finalObject = finalArray.at(-1);\n        finalObject = finalObject.replace(', ', '');\n        finalArray.splice(-1, 1);\n        finalArray.push(finalObject);\n        return finalArray;\n      }\n    }\n    return (\n      <Layout\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'space-evenly',\n          alignItems: 'center',\n          marginTop: 15\n        }}\n        level=\"1\"\n      >\n        <Select\n          style={{ flex: 5 }}\n          multiSelect\n          label=\"Days\"\n          disabled={showDots}\n          value={daysArray.length > 0 ? calculateSelectedValues() : null}\n          selectedIndex={selectedIndex}\n          onSelect={(index) => toggleValue(index)}\n        >\n          {renderEachDropItem()}\n        </Select>\n      </Layout>\n    );\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n        <WrapItems childStyle={{ marginVertical: 10, marginHorizontal: 15 }}>\n          {Title}\n          <TimePicker />\n          <CheckBox\n            style={{ alignSelf: 'center', marginTop: 20 }}\n            checked={isOneDay}\n            onChange={(nextChecked) => {\n              setDaysArray([]);\n              setSelectedIndex([]);\n              setSelectedDate(dateToUse);\n              setIsOneDay(nextChecked);\n            }}\n          >\n            One Time Event\n          </CheckBox>\n          {isOneDay ? (\n            <DateTimePicker\n              testID=\"datePicker\"\n              value={selectedDate}\n              mode=\"date\"\n              style={{ alignSelf: 'center', marginVertical: 15 }}\n              onChange={(event, date) => setSelectedDate(date)}\n            />\n          ) : (\n            renderMultiSelectDropDown()\n          )}\n          <TouchableOpacity\n            style={{\n              backgroundColor: allValuesPopulated\n                ? '#a245ee'\n                : 'rgba(162,69,238,0.34)',\n              width: '35%',\n              alignSelf: 'center',\n              height: 45,\n              borderRadius: 3,\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}\n            onPress={addEvent}\n            disabled={!allValuesPopulated || showDots}\n          >\n            <View>\n              <Text style={{ color: '#f2f0f1', fontSize: 15 }}>\n                Create Event\n              </Text>\n            </View>\n          </TouchableOpacity>\n          {showDots && (\n            <Loader\n              style={{\n                position: 'absolute',\n                marginTop: '30%',\n                marginHorizontal: 'auto'\n              }}\n            />\n          )}\n        </WrapItems>\n      </TouchableWithoutFeedback>\n    </Layout>\n  );\n}\n","import {\n  Autocomplete,\n  AutocompleteItem,\n  Card,\n  Modal\n} from '@ui-kitten/components';\nimport {\n  JSXElementConstructor,\n  ReactElement,\n  useEffect,\n  useState\n} from 'react';\nimport { Alert, Button, View, Text } from 'react-native';\n\nimport renderItem from './ScheduledItem';\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport UserNameSelectionDropDown from '../../components/UserNameSelectionDropDown';\nimport { useGetCurrentSectionQuery } from '../api/classPagesApi';\nimport { useGetUserInfoQuery } from '../api/usersApi';\nimport { base_URL } from '../notifications/constants';\n\nexport default function renderModal(setShowModal, showModal) {\n  const { data: userData } = useGetUserInfoQuery(useAppSelector(selectUserKey));\n  const { data: currentSection } = useGetCurrentSectionQuery();\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const [names, setNames] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [value, setValue] = useState('');\n  const [hasChosen, setHasChosen] = useState(false);\n  const [recipient, setRecipient] = useState(null);\n\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: 'bold',\n      textAlign: 'center',\n      width: '100%',\n      color: darkMode ? 'rgb(255,255,255)' : 'rgb(0,0,0)'\n    },\n    backdrop: {\n      backgroundColor: darkMode ? 'rgba(141,141,141,0.5)' : 'rgba(0, 0, 0, 0.5)'\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15\n    }\n  };\n\n  useEffect(() => {\n    fetch(`${base_URL}/users/userNamesAndNames`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const userList = await data.json();\n        setNames(\n          userList.map((user) => {\n            if (user) {\n              return `${user.realName} (${user.userName})`;\n            }\n          })\n        );\n        setUsers(userList);\n      }\n    });\n  }, []);\n\n  const exportSchedule = async (recipient) => {\n    function convert(addedClasses) {\n      const final = [];\n      Object.keys(addedClasses).map((term) => {\n        if (term === currentSection) {\n          Object.keys(addedClasses[term]).map((masterCourseCode) => {\n            for (const courseCode of addedClasses[term][masterCourseCode]) {\n              final.push({\n                courseCode,\n                courseTerm: currentSection\n              });\n            }\n          });\n        }\n      });\n      return final;\n    }\n    const status = await fetch(`${base_URL}/users/sendNotification`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      },\n      body: JSON.stringify({\n        recipients: [recipient],\n        text: JSON.stringify(convert(userData.addedClasses?.classes)),\n        title: `${userData.realFirstName}'s Schedule (${currentSection})`,\n        isSchedule: true\n      })\n    });\n    return status.ok;\n  };\n  return (\n    <Modal\n      visible={showModal}\n      backdropStyle={myStyles.backdrop}\n      style={{ width: '80%', height: '70%' }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={myStyles.modal}>Share Your Schedule</Text>\n        {UserNameSelectionDropDown({\n          setHasChosen,\n          setRecipient,\n          placeholder: false\n        })}\n        <View>\n          <Button\n            disabled={recipient === null}\n            title=\"Send\"\n            onPress={() => {\n              exportSchedule(recipient).then((returnValue) => {\n                setShowModal(false);\n                returnValue\n                  ? Alert.alert('Message Sent')\n                  : Alert.alert(\n                      'Error Sending Message',\n                      'Please Try Again Later'\n                    );\n              });\n            }}\n          />\n          <Button\n            title=\"Dismiss\"\n            onPress={() => {\n              setShowModal(false);\n            }}\n          />\n        </View>\n      </Card>\n    </Modal>\n  );\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout, Text, useTheme } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport {\n  Dimensions,\n  Image,\n  Platform,\n  TouchableOpacity,\n  View\n} from 'react-native';\nimport Toggle from 'react-native-toggle-element';\n\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport Header from '../../components/Header';\nimport ModalContainer from '../../components/ModalContainer';\nimport { exportToICal } from '../../functions';\nimport { useGetUserInfoQuery } from '../api/usersApi';\nimport SelectTerm from '../classPages/SelectTerm';\nimport { base_URL } from '../notifications/constants';\nimport CalendarPage from './CalendarPage';\nimport CreateCustomEvent from './CreateCustomEvent';\nimport { isThreeDaySet } from './calendarSlice';\nimport renderModal from './exportModal';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Calendar() {\n  const navigation = useNavigation();\n  const isThreeDay = useAppSelector(\n    (state) => state.appData.calendar.isThreeDay\n  );\n  const theme = useTheme();\n  const dispatch = useAppDispatch();\n  const isGuest = useAppSelector(selectIsGuest);\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n  const classes = useAppSelector((state) => state.appData.classPages.classes);\n  const { data: userData } = useGetUserInfoQuery(userKey);\n  const [showModal, setShowModal] = useState(false);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [showWebModal, setShowWebModal] = useState(false);\n  async function sendNotification(bodyTosend) {\n    await fetch(`${base_URL}/users/sendNotification`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      },\n      body: JSON.stringify(bodyTosend)\n    });\n  }\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28,\n        alignItems: 'center'\n      }}\n      source={require('../../../assets/logos/app-logo-transparent.png')}\n    />\n  );\n\n  const title = (\n    <View\n      style={{\n        alignItems: 'center',\n        paddingRight: 20\n      }}\n    >\n      {Dimensions.get('window').width < 525 && (\n        <Toggle\n          leftComponent={\n            <FontAwesome5 name=\"compress-arrows-alt\" size={14} color=\"#fff\" />\n          }\n          rightComponent={\n            <FontAwesome5 name=\"expand-arrows-alt\" size={15} color=\"#fff\" />\n          }\n          trackBar={{\n            activeBackgroundColor: theme['color-primary-500'],\n            inActiveBackgroundColor: theme['color-primary-500'],\n            width: 60,\n            height: 23\n          }}\n          thumbButton={{\n            width: 30,\n            height: 30,\n            activeBackgroundColor: theme['color-primary-800'],\n            inActiveBackgroundColor: theme['color-primary-300'],\n            activeColor: theme['color-primary-100'],\n            inActiveColor: '#fff',\n            borderWidth: 5\n          }}\n          value={isThreeDay}\n          onPress={(bool) => dispatch(isThreeDaySet(bool))}\n          animationDuration={10}\n        />\n      )}\n    </View>\n  );\n  const accessoryRight = (\n    <View\n      style={{\n        paddingHorizontal: 0,\n        alignItems: 'center',\n        flexDirection: 'row'\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          if (isGuest) {\n            setShowGuestModal(true);\n          } else {\n            // @ts-ignore\n            navigation.navigate('CreateCustomEvent');\n          }\n        }}\n        style={{\n          marginRight: 10,\n          alignItems: 'center'\n        }}\n      >\n        <View\n          style={{\n            height: 45,\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'flex-end'\n          }}\n        >\n          <FontAwesome5\n            name=\"plus\"\n            size={20}\n            color={darkMode ? 'white' : 'black'}\n          />\n          <Text style={{ paddingTop: 5, fontSize: 10 }}>Add Event</Text>\n        </View>\n      </TouchableOpacity>\n      <TouchableOpacity\n        onPress={() => {\n          if (Platform.OS === 'web') {\n            const times = Object.entries(\n              userData.addedClasses.classes[currentSection]\n            ).flatMap(([masterCourseCode, courseCodes]) => {\n              return courseCodes.flatMap((courseCode) => {\n                return classes[masterCourseCode].times.filter(\n                  (time) => time.courseCode === courseCode\n                );\n              });\n            });\n            const calendar = exportToICal(times);\n            console.log(calendar);\n          } else if (isGuest) {\n            setShowGuestModal(true);\n          } else {\n            setShowModal(true);\n            setShowWebModal(true);\n          }\n        }}\n        style={{\n          alignItems: 'center'\n        }}\n      >\n        <View\n          style={{\n            height: 45,\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'flex-end'\n          }}\n        >\n          <FontAwesome5\n            name=\"file-export\"\n            size={20}\n            color={darkMode ? 'white' : 'black'}\n          />\n          <Text style={{ paddingTop: 5, fontSize: 10 }}>Share Schedule</Text>\n        </View>\n      </TouchableOpacity>\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is locked to our Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          }\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n      {Platform.OS === 'web' && showWebModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              Sharing schedules is not supported on the web. Download the app on\n              the App Store or Play Store to share schedules.\n            </Text>\n          }\n          backDropVisible={showWebModal}\n          setBackDropVisible={setShowWebModal}\n        />\n      )}\n      {Platform.OS !== 'web' && renderModal(setShowModal, showModal)}\n    </View>\n  );\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"CalendarPage\"\n        component={CalendarPage}\n        options={{\n          header: () => {\n            return (\n              <Layout style={{ paddingBottom: 10 }}>\n                <Header\n                  center={title}\n                  accessoryRight={accessoryRight}\n                  accessoryLeft={accessoryLeft}\n                  title=\"Calendar\"\n                />\n              </Layout>\n            );\n          }\n        }}\n      />\n      <Stack.Screen\n        name=\"CreateCustomEvent\"\n        component={CreateCustomEvent}\n        options={{ headerTitle: 'Add Event' }}\n      />\n      <Stack.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: 'Select Term',\n          headerShown: false,\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import Loader from 'react-native-three-dots-loader';\nimport { FontAwesome5, Ionicons } from '@expo/vector-icons';\nimport { useIsFocused, useNavigation } from '@react-navigation/native';\nimport { Layout, Text } from '@ui-kitten/components';\nimport * as ImagePicker from 'expo-image-picker';\nimport React, { useEffect, useState } from 'react';\nimport {\n  Alert,\n  Button,\n  Dimensions,\n  FlatList,\n  Image,\n  Keyboard,\n  KeyboardAvoidingView,\n  LogBox,\n  Platform,\n  SafeAreaView,\n  ScrollView,\n  TextInput,\n  TouchableOpacity,\n  View\n} from 'react-native';\nimport Toast from 'react-native-root-toast';\nimport { io } from 'socket.io-client';\nimport { selectUserKey } from '../../../app/appDataSlice';\n\nimport { useAppSelector } from '../../../app/hooks';\nimport SearchBar from '../../../components/SearchBar';\nimport { base_URL } from '../../../constants/admin';\nimport { useGetCurrentSectionQuery } from '../../api/classPagesApi';\nimport {\n  useAddOrRemoveUserFromChatRoomMutation,\n  useEditUserMutation,\n  useGetUserInfoQuery\n} from '../../api/usersApi';\nimport ModalContainer from '../../../components/ModalContainer';\n\nexport default function SingleChatRoom({\n  route: {\n    params: { data }\n  }\n}) {\n  const [imagePickerStatus, requestImagePickerPermission] =\n    ImagePicker.useMediaLibraryPermissions();\n  const [cameraStatus, requestCameraPermission] =\n    ImagePicker.useCameraPermissions();\n  const [filter, setFilter] = useState('');\n  const [showSearch, setShowSearch] = useState(false);\n  const [photoSelected, setPhotoSelected] = useState({\n    date: null,\n    id: null,\n    contentImage: null\n  });\n  const [addOrRemoveUser] = useAddOrRemoveUserFromChatRoomMutation();\n  const [editUser] = useEditUserMutation();\n  const isCustomRoom = data.userList !== undefined;\n  const [keyboardShown, setKeyboardShown] = useState(false);\n  const [retryNumber, setRetryNumber] = useState(0);\n  const [failedConnection, setFailedConnection] = useState(false);\n  const [hardDisableSend, setHardDisableSend] = useState(false);\n  const navigation = useNavigation();\n  const [showUserList, setShowUserList] = useState(false);\n  const [message, setMessage] = useState('');\n  const [filteredMessageList, setFilteredMessageList] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const { data: currentSection, isLoading: isCurrentSectionLoading } =\n    useGetCurrentSectionQuery();\n  const [messageList, setMessageList] = useState([]);\n  const socket = io(`${base_URL}/realTimeChat/${data.id}`, {\n    auth: {\n      userKey\n    }\n  });\n\n  useEffect(() => {\n    // Bug with some component i guess cause i didn't use animated anything, yet expo has a seizure and spams warnings\n    LogBox.ignoreLogs(['Animated: `useNativeDriver`']);\n\n    // Keyboard listeners\n    const showListener = Keyboard.addListener('keyboardWillShow', () => {\n      setKeyboardShown(true);\n    });\n    const hideListener = Keyboard.addListener('keyboardWillHide', () => {\n      setKeyboardShown(false);\n    });\n\n    return () => {\n      showListener.remove();\n      hideListener.remove();\n    };\n  }, []);\n\n  useEffect(() => {\n    navigation.setOptions({\n      headerTitle: data.title\n        ? data.title\n        : data.id === 'public'\n        ? 'Public'\n        : data.id === 'admin'\n        ? 'Admin'\n        : data.id,\n      headerRight: () => (\n        <Layout style={{ flexDirection: 'row', marginRight: 30 }}>\n          <TouchableOpacity\n            style={{ marginRight: isCustomRoom ? 25 : undefined }}\n            onPress={() => {\n              setFilter('');\n              setShowSearch(!showSearch);\n            }}\n          >\n            <FontAwesome5 name=\"search\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          {isCustomRoom && (\n            <TouchableOpacity\n              onPress={() => {\n                setShowUserList(true);\n              }}\n            >\n              <Ionicons name=\"person\" size={24} color=\"black\" />\n            </TouchableOpacity>\n          )}\n        </Layout>\n      )\n    });\n  }, [showSearch]);\n\n  useEffect(() => {\n    // maintenance\n\n    // socket logic\n    socket.connect();\n    const timer = setTimeout(() => {\n      socket.off('connect');\n      socket.off('newMessage');\n      socket.disconnect();\n      socket.close();\n      setFailedConnection(true);\n    }, 10000);\n    socket.on('connect', () => {\n      clearTimeout(timer);\n      getMessages();\n    });\n    return () => {\n      setLoaded(false);\n      socket.disconnect();\n      socket.off('connect');\n      socket.off('newMessage');\n    };\n  }, [useIsFocused(), retryNumber]);\n\n  // Add all new message changes here\n  useEffect(() => {\n    socket.on('imageMessageServer', (msg) => {\n      addMessage(msg);\n    });\n    socket.on('newMessage', (msg) => {\n      addMessage(msg);\n    });\n    socket.on('deleteMessage', (msg) => {\n      const index = messageList.findIndex((mess) => isEqualTo(mess, msg));\n      if (index !== -1) {\n        // @ts-ignore\n        setMessageList([...messageList].toSpliced(index, 1));\n      }\n    });\n    return () => {\n      socket.off('imageMessageServer');\n      socket.off('newMessage');\n      socket.off('deleteMessage');\n    };\n  }, [messageList]);\n\n  function getMessages() {\n    fetch(`${base_URL}/chatRooms/getMessages?roomId=${data.id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (!data.ok) {\n        setFailedConnection(true);\n      } else {\n        data.json().then(async (array) => {\n          setMessageList(array);\n          setLoaded(true);\n        });\n      }\n    });\n  }\n\n  function isUserBlocked(userName: string, dataToUse = userData) {\n    return dataToUse.blockedUsers.includes(userName);\n  }\n\n  useEffect(() => {\n    setFilteredMessageList(\n      messageList.filter((mess) =>\n        (mess.user + mess.message).toLowerCase().includes(filter.toLowerCase())\n      )\n    );\n  }, [filter]);\n\n  function addMessage(messageToAdd) {\n    const myMessage = messageList.find((mess) => isEqualTo(mess, messageToAdd));\n    if (myMessage) {\n      delete myMessage.isUnsent;\n      setMessageList(\n        [...messageList]\n          .filter((mess) => !isEqualTo(mess, messageToAdd))\n          .concat(myMessage)\n      );\n    } else {\n      setMessageList([...messageList].concat(messageToAdd));\n    }\n  }\n\n  function isEqualTo(message1, message2) {\n    try {\n      return message1.user === message2.user && message1.date === message2.date;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  async function activateCamera() {\n    const date = new Date().toISOString();\n    const response = await requestCameraPermission();\n    if (response.granted || cameraStatus.granted) {\n      const result = await ImagePicker.launchCameraAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images\n      });\n      if (!result.canceled) {\n        setMessage('');\n        setPhotoSelected({\n          id: userData.userName + date + data.id + currentSection,\n          contentImage: result.assets[0],\n          date\n        });\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera is required. Please enable it in your phone's settings.\"\n      );\n    }\n  }\n\n  async function selectPhoto() {\n    const date = new Date().toISOString();\n    const response = await requestImagePickerPermission();\n    if (response.granted || imagePickerStatus.granted) {\n      const result = await ImagePicker.launchImageLibraryAsync({\n        allowsEditing: false\n      });\n      if (!result.canceled) {\n        setMessage('');\n        setPhotoSelected({\n          id: userData.userName + date + data.id + currentSection,\n          contentImage: result.assets[0],\n          date\n        });\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera roll is required. Please enable it in your phone's settings.\"\n      );\n    }\n  }\n\n  function deleteTheMessage(messageToDelete) {\n    if (messageToDelete.user === userData.userName) {\n      socket.emit('deleteMyMessage', messageToDelete);\n      setMessageList(\n        messageList.filter((mess) => !isEqualTo(mess, messageToDelete))\n      );\n      Toast.show('Message Deleted', {\n        duration: Toast.durations.SHORT,\n        opacity: 0.7,\n        position: Toast.positions.CENTER,\n        backgroundColor: 'grey',\n        shadow: false\n      });\n    }\n  }\n\n  async function sendNewMessage() {\n    setHardDisableSend(true); // basically a semaphore lol\n    if (message !== '') {\n      const newMessage = {\n        message,\n        date: new Date().toISOString(),\n        user: userData.userName,\n        isUnsent: true\n      };\n      setMessageList([...messageList].concat(newMessage));\n      delete newMessage.isUnsent;\n      socket.emit('newMessageClient', newMessage);\n      setMessage('');\n    }\n    if (photoSelected.id !== null) {\n      const { date } = photoSelected;\n      setMessageList(\n        [...messageList].concat({\n          isImage: true,\n          isUnsent: true,\n          message: photoSelected.contentImage.uri,\n          user: userData.userName,\n          date\n        })\n      );\n\n      const photo = photoSelected;\n      setPhotoSelected({ date: null, id: null, contentImage: null });\n\n      const formdata = new FormData();\n      formdata.append(\n        'picture',\n        JSON.stringify({\n          // @ts-ignore\n          uri: photo.contentImage.uri,\n          name: 'picture',\n          type: 'image/jpg'\n        }).substring(1, -1)\n      );\n      formdata.append('id', photo.id);\n      formdata.append('date', date);\n      const res = await fetch(`${base_URL}/chatRooms/uploadImage`, {\n        method: 'POST',\n        redirect: 'follow',\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        },\n        body: formdata\n      });\n      if (res.ok) {\n        const newMessage = {\n          date,\n          user: userData.userName,\n          message: photo.id\n        };\n        socket.emit('imageMessageClient', newMessage);\n      }\n    }\n    setHardDisableSend(false);\n  }\n\n  function handleLeaveChat() {\n    addOrRemoveUser({\n      userKey,\n      chatRoomId: data.id,\n      userName: userData.userName\n    })\n      .then(() => navigation.goBack())\n      .catch(() => {\n        setShowUserList(false);\n        Toast.show('Error leaving chat, try again later');\n      });\n  }\n\n  function deletionAlert(messageToDelete) {\n    if (messageToDelete.user === userData.userName) {\n      Alert.alert(\n        'Delete Message',\n        'This action cannot be undone',\n        [\n          {\n            text: 'Confirm',\n            onPress: () => {\n              deleteTheMessage(messageToDelete);\n            }\n          },\n          {\n            text: 'Cancel',\n            style: 'cancel'\n          }\n        ],\n        { cancelable: true }\n      );\n    }\n  }\n\n  const renderItem = ({ item }) => (\n    <TouchableOpacity\n      disabled={item?.isUnsent}\n      onLongPress={() => deletionAlert(item)}\n      style={{\n        opacity: item?.isUnsent ? 0.4 : 1,\n        flexDirection: 'row',\n        marginVertical: 5,\n        minHeight: item.isImage ? windowHeight * 0.25 : undefined,\n        width: '100%'\n      }}\n    >\n      <Text style={{ paddingRight: 10, fontWeight: 'bold' }}>{item.user}:</Text>\n      {item.isImage ? (\n        <Image\n          source={{ uri: item.message }}\n          style={{ flex: 1, resizeMode: 'contain' }}\n        />\n      ) : (\n        <Text style={{ flex: 1, flexWrap: 'wrap' }}>{item.message}</Text>\n      )}\n    </TouchableOpacity>\n  );\n  const windowHeight = Dimensions.get('screen').height;\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <KeyboardAvoidingView style={{ flex: 1 }}>\n        <View\n          style={[\n            styles.messagingScreen,\n            { paddingVertical: 5, paddingHorizontal: 10 }\n          ]}\n        >\n          {isCustomRoom && (\n            <ModalContainer\n              backDropVisible={showUserList}\n              setBackDropVisible={setShowUserList}\n              title=\"Users\"\n              children={\n                <ScrollView style={{ flex: 1, width: '80%' }}>\n                  {data.userList.toSorted().map((userName) => (\n                    <Layout\n                      style={{\n                        flexDirection: 'row',\n                        marginBottom: 15,\n                        justifyContent: 'space-between'\n                      }}\n                    >\n                      <Text\n                        style={{\n                          fontSize: 17\n                        }}\n                      >\n                        {userName}\n                      </Text>\n                      <Layout style={{ flexDirection: 'row' }}>\n                        {userName !== userData.userName && (\n                          <TouchableOpacity\n                            onPress={() => {\n                              let body = {};\n                              if (isUserBlocked(userName)) {\n                                body = {\n                                  unblockUser: userName\n                                };\n                              } else {\n                                body = {\n                                  blockUser: userName\n                                };\n                              }\n                              editUser({\n                                userKey,\n                                userName: userData.userName,\n                                fields: JSON.stringify(body)\n                              })\n                                .unwrap()\n                                .then((response) => {\n                                  const newUserData = response.userData;\n                                  Toast.show(\n                                    isUserBlocked(userName, newUserData)\n                                      ? 'User Blocked'\n                                      : 'User un-Blocked',\n                                    {\n                                      duration: Toast.durations.LONG,\n                                      opacity: 0.7,\n                                      position: Toast.positions.CENTER,\n                                      backgroundColor: 'black',\n                                      shadow: false\n                                    }\n                                  );\n                                  setShowUserList(false);\n                                })\n                                .catch((error) => console.warn(error));\n                            }}\n                          >\n                            {isUserBlocked(userName) ? (\n                              <Ionicons\n                                name=\"add-circle\"\n                                size={25}\n                                color=\"black\"\n                              />\n                            ) : (\n                              <Ionicons\n                                name=\"remove-circle\"\n                                size={25}\n                                color=\"black\"\n                              />\n                            )}\n                          </TouchableOpacity>\n                        )}\n                      </Layout>\n                    </Layout>\n                  ))}\n                  <Layout\n                    style={{\n                      backgroundColor: 'transparent',\n                      alignContent: 'center'\n                    }}\n                  >\n                    <Button title=\"Leave Chat\" onPress={handleLeaveChat} />\n                  </Layout>\n                </ScrollView>\n              }\n            />\n          )}\n          {messageList.length > 0 ? (\n            <View style={{ flex: 1 }}>\n              {showSearch && (\n                <SearchBar\n                  searchTerm={filter}\n                  onChangeText={setFilter}\n                  inputProps={{ autoCorrect: false }}\n                  placeholder=\"Search\"\n                />\n              )}\n              <FlatList\n                style={{}}\n                data={\n                  filter === ''\n                    ? [...messageList].reverse()\n                    : [...filteredMessageList].reverse()\n                }\n                renderItem={renderItem}\n                keyExtractor={(item) => item?.date + item?.user}\n                inverted\n              />\n            </View>\n          ) : failedConnection ? (\n            <TouchableOpacity\n              onPress={() => {\n                setFailedConnection(false);\n                setRetryNumber(retryNumber + 1);\n              }}\n            >\n              <Text style={{ marginTop: '10%', textAlign: 'center' }}>\n                Connection Failed\n                {'\\n'}\n                Press to Reload\n              </Text>\n            </TouchableOpacity>\n          ) : loaded ? (\n            <Text style={{ textAlign: 'center' }}>No chats yet :/</Text>\n          ) : (\n            <View style={{ marginTop: '20%' }}>\n              <Loader />\n            </View>\n          )}\n        </View>\n\n        <View style={styles.messagingInputContainer}>\n          {!keyboardShown && (\n            <TouchableOpacity\n              onPress={activateCamera}\n              disabled={\n                hardDisableSend ||\n                !loaded ||\n                messageList.some((msg) => msg.isUnsent)\n              }\n              style={{\n                alignSelf: 'center',\n                paddingRight: 5\n              }}\n            >\n              <FontAwesome5\n                name=\"camera\"\n                size={20}\n                color={\n                  !hardDisableSend &&\n                  loaded &&\n                  !messageList.some((msg) => msg.isUnsent)\n                    ? 'black'\n                    : 'gray'\n                }\n              />\n            </TouchableOpacity>\n          )}\n          {!photoSelected.contentImage ? (\n            <View style={styles.messagingInput}>\n              <TextInput\n                placeholder=\"Message\"\n                placeholderTextColor=\"gray\"\n                editable={loaded}\n                value={message}\n                multiline\n                onChangeText={(value) => setMessage(value)}\n              />\n            </View>\n          ) : (\n            <View\n              style={{\n                ...styles.messagingInput,\n                paddingHorizontal: 10,\n                height: 150\n              }}\n            >\n              <Image\n                source={{ uri: photoSelected.contentImage?.uri }}\n                style={{ flex: 1, borderRadius: 10 }}\n              />\n              <TouchableOpacity\n                onPress={() => {\n                  setPhotoSelected({\n                    id: null,\n                    contentImage: null,\n                    date: null\n                  });\n                }}\n                style={{ position: 'absolute', marginLeft: 15, marginTop: 10 }}\n              >\n                <FontAwesome5\n                  name=\"times\"\n                  size={25}\n                  color=\"#ff2e2e\"\n                  style={{}}\n                />\n              </TouchableOpacity>\n            </View>\n          )}\n          {!keyboardShown && Platform.OS !== 'web' && (\n            <TouchableOpacity\n              onPress={selectPhoto}\n              disabled={\n                hardDisableSend ||\n                !loaded ||\n                messageList.some((msg) => msg.isUnsent)\n              }\n              style={{\n                width: '15%',\n                alignSelf: 'center',\n                paddingRight: 10,\n                alignItems: 'center',\n                justifyContent: 'center'\n              }}\n            >\n              <FontAwesome5\n                name=\"image\"\n                size={30}\n                color={\n                  !hardDisableSend &&\n                  loaded &&\n                  !messageList.some((msg) => msg.isUnsent)\n                    ? 'black'\n                    : 'gray'\n                }\n              />\n            </TouchableOpacity>\n          )}\n          <TouchableOpacity\n            style={{\n              ...styles.messagingButtonContainer,\n              backgroundColor:\n                !hardDisableSend &&\n                loaded &&\n                !messageList.some((msg) => msg.isUnsent)\n                  ? '#a245ee'\n                  : 'rgba(162,69,238,0.34)'\n            }}\n            onPress={sendNewMessage}\n            disabled={\n              hardDisableSend ||\n              !loaded ||\n              messageList.some((msg) => msg.isUnsent)\n            }\n          >\n            <View>\n              <Text style={{ color: '#f2f0f1', fontSize: 15 }}>Send</Text>\n            </View>\n          </TouchableOpacity>\n        </View>\n      </KeyboardAvoidingView>\n    </SafeAreaView>\n  );\n}\n\nconst styles = {\n  messagingScreen: {\n    flex: 1\n  },\n  messagingInputContainer: {\n    width: '100%',\n    backgroundColor: 'white',\n    paddingVertical: 15,\n    paddingHorizontal: 15,\n    justifyContent: 'center',\n    flexDirection: 'row'\n  },\n  messagingInput: {\n    borderWidth: 1,\n    padding: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginHorizontal: 10,\n    borderRadius: 20\n  },\n  messagingButtonContainer: {\n    width: '20%',\n    alignSelf: 'center',\n    height: 40,\n    borderRadius: 3,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n};\n","import {\n  Autocomplete,\n  AutocompleteItem,\n  Input,\n  Layout\n} from '@ui-kitten/components';\nimport { Button, Platform, Text, TouchableOpacity } from 'react-native';\nimport { useEffect, useState } from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport { useAppSelector } from '../../app/hooks';\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { base_URL } from '../notifications/constants';\nimport { useCreateChatRoomMutation } from '../api/usersApi';\nimport { showToast } from '../../functions';\n\nexport default function CreateChatRoom() {\n  const isWeb = Platform.OS === 'web';\n  const [isDisabled, setIsDisabled] = useState(true);\n  const [nameOfChatRoom, setNameOfChatRoom] = useState('');\n  const navigation = useNavigation();\n  const [createChatRoom] = useCreateChatRoomMutation();\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [recipients, setRecipients] = useState([]);\n  const [names, setNames] = useState([]); // filtered list of names\n  const [users, setUsers] = useState([]); // clean list of users\n  const [value, setValue] = useState(''); // typed name\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: 'bold',\n      textAlign: 'center',\n      width: '100%',\n      color: darkMode ? 'rgb(255,255,255)' : 'rgb(0,0,0)'\n    },\n    backdrop: {\n      backgroundColor: darkMode ? 'rgba(141,141,141,0.5)' : 'rgba(0, 0, 0, 0.5)'\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15\n    }\n  };\n\n  useEffect(() => {\n    setIsDisabled(nameOfChatRoom.length === 0 || recipients.length === 0);\n  }, [nameOfChatRoom, recipients]);\n\n  useEffect(() => {\n    fetch(`${base_URL}/users/userNamesAndNames`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        let userList = await data.json();\n        userList = userList.filter((user) => {\n          return user;\n        });\n        setNames(\n          userList.map((user) => {\n            if (user) {\n              return `${user.realName} (${user.userName})`;\n            }\n          })\n        );\n        setUsers(userList);\n      }\n    });\n  }, []);\n\n  const onChangeText = (query) => {\n    setNames(\n      freshNames().filter(\n        (name) =>\n          name?.toLowerCase().includes(query.toLowerCase()) ||\n          userNameContainsString(name, query)\n      )\n    );\n    setValue(query);\n  };\n\n  function freshNames() {\n    return users.map((user) => {\n      if (user) {\n        return `${user.realName} (${user.userName})`;\n      }\n    });\n  }\n\n  const userNameContainsString = (name, query) => {\n    const user = users.find(\n      (auser) =>\n        auser?.userName.toLowerCase().includes(query.toLowerCase()) &&\n        auser?.realName === name\n    );\n    return user !== undefined;\n  };\n\n  function findUserNameFromName(name) {\n    const firstPar = name.indexOf('(');\n    const secondPar = name.indexOf(')');\n    return name.slice(firstPar + 1, secondPar);\n  }\n\n  function handleAddValue() {\n    const nameToAdd = findUserNameFromName(value);\n    if (!recipients.includes(nameToAdd)) {\n      setRecipients(recipients.concat([nameToAdd]));\n    }\n    setValue('');\n  }\n\n  return (\n    <Layout\n      style={{\n        width: isWeb ? '30%' : '90%',\n        alignItems: isWeb ? undefined : 'center',\n        backgroundColor: 'transparent',\n        marginLeft: isWeb ? 15 : undefined\n      }}\n    >\n      <Layout\n        style={{\n          marginTop: 20,\n          marginLeft: isWeb ? undefined : 20,\n          flexDirection: 'row',\n          backgroundColor: 'transparent'\n        }}\n      >\n        <Input\n          style={{ minWidth: '100%' }}\n          label=\"Chatroom Name\"\n          onChangeText={setNameOfChatRoom}\n          value={nameOfChatRoom}\n        />\n      </Layout>\n      <Layout\n        style={{\n          marginVertical: 20,\n          marginLeft: isWeb ? undefined : 30,\n          flexDirection: 'row',\n          backgroundColor: 'transparent'\n        }}\n      >\n        <Input\n          style={{ minWidth: '85%' }}\n          placeholder=\"Added Users\"\n          disabled\n          value={recipients.join(', ')}\n        />\n        <Layout style={{ alignSelf: 'center', backgroundColor: 'transparent' }}>\n          <Button color=\"red\" onPress={() => setRecipients([])} title=\"Clear\" />\n        </Layout>\n      </Layout>\n      <Layout\n        style={{\n          flexDirection: 'row',\n          marginTop: 10,\n          marginLeft: isWeb ? undefined : 10,\n          backgroundColor: 'transparent'\n        }}\n      >\n        <Autocomplete\n          style={{ minWidth: '85%' }}\n          value={value}\n          placeholder=\"Add User\"\n          onChangeText={onChangeText}\n          onSelect={(index) => setValue(names[index])}\n        >\n          {names.map((user, index) => {\n            return <AutocompleteItem title={user} key={index} />;\n          })}\n        </Autocomplete>\n        <Layout style={{ alignSelf: 'center', backgroundColor: 'transparent' }}>\n          <Button color=\"blue\" onPress={() => handleAddValue()} title=\"Add\" />\n        </Layout>\n      </Layout>\n      <TouchableOpacity\n        disabled={isDisabled}\n        onPress={() => {\n          createChatRoom({ userKey, recipients, nameOfChatRoom })\n            .unwrap()\n            .then((payload) => {\n              showToast('Chatroom Created');\n              navigation.goBack();\n            })\n            .catch((e) => {\n              showToast('Error, please try again later');\n              console.log(e);\n            });\n        }}\n        style={{\n          marginTop: 30,\n          alignItems: 'center',\n          justifyContent: 'center',\n          paddingVertical: 12,\n          paddingHorizontal: 32,\n          borderRadius: 4,\n          elevation: 3,\n          backgroundColor: isDisabled ? 'rgba(227,39,39,0.49)' : '#e32727'\n        }}\n      >\n        <Text\n          style={{\n            fontSize: 16,\n            lineHeight: 21,\n            fontWeight: 'bold',\n            letterSpacing: 0.25,\n            color: 'white'\n          }}\n        >\n          Create Chat Room\n        </Text>\n      </TouchableOpacity>\n    </Layout>\n  );\n}\n","import { FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport { useFocusEffect, useIsFocused } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout, List, Select, SelectItem, Text } from '@ui-kitten/components';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport {\n  Image,\n  RefreshControl,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity\n} from 'react-native';\nimport { render } from 'react-dom';\nimport {\n  useGetChatRoomsMutation,\n  useGetCollegeListQuery,\n  usersApiSlice\n} from '../api/usersApi';\n\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey,\n  setIsGuest\n} from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport ModalContainer from '../../components/ModalContainer';\nimport { CurrentTermLabel } from '../classPages/ClassesList';\nimport SelectTerm from '../classPages/SelectTerm';\nimport SingleChatRoom from './singleChatPage/SingleChatRoom';\nimport UserNameMultiSelectionDropDown from '../../components/UserNameMultiSelectionDropDown';\nimport CreateChatRoom from './CreateChatRoom';\n\nconst ChatRoomsNavigator = createNativeStackNavigator();\n\nexport default function ChatsRoomNavigation({ navigation }) {\n  const isGuest = useAppSelector(selectIsGuest);\n  const [showCreateChatModal, setShowCreateChatModal] = useState(false);\n  const [recipients, setRecipients] = useState([]);\n  const darkMode = useAppSelector(selectDarkMode);\n  const navigationHeader = (navigation) => (\n    <Layout\n      style={{\n        width: '100%',\n        justifyContent: 'space-between',\n        flexDirection: 'row',\n        alignItems: 'center',\n        flex: 1,\n        backgroundColor: 'transparent'\n      }}\n    >\n      <Layout\n        style={{\n          paddingBottom: 5,\n          flexDirection: 'row',\n          alignContent: 'center',\n          flex: 1,\n          backgroundColor: 'transparent'\n        }}\n      >\n        <Image\n          style={{\n            height: 28,\n            width: 28\n          }}\n          source={require('../../../assets/logos/app-logo-transparent.png')}\n        />\n        <Text\n          style={{\n            paddingTop: 3,\n            paddingLeft: 10,\n            fontSize: 20,\n            fontWeight: '500',\n            color: darkMode ? '#fff' : '#000'\n          }}\n        >\n          Chats\n        </Text>\n      </Layout>\n      <Layout\n        style={{\n          alignSelf: 'flex-end',\n          paddingRight: 40,\n          paddingBottom: 10,\n          flexDirection: 'row',\n          backgroundColor: 'transparent'\n        }}\n      />\n    </Layout>\n  );\n\n  return (\n    <ChatRoomsNavigator.Navigator initialRouteName=\"Chats\">\n      <ChatRoomsNavigator.Screen\n        options={({ navigation }) => ({\n          title: 'Chats',\n          headerTitle: () => {\n            return navigationHeader(navigation);\n          },\n          headerRight: () => {\n            return (\n              <Layout style={{ marginRight: 20 }}>\n                {!isGuest && (\n                  <TouchableOpacity\n                    onPress={() => {\n                      navigation.navigate('CreateChatRoom');\n                    }}\n                  >\n                    <FontAwesome5\n                      size={24}\n                      name=\"plus\"\n                      color={darkMode ? 'white' : 'black'}\n                    />\n                  </TouchableOpacity>\n                )}\n              </Layout>\n            );\n          }\n        })}\n        name=\"Chats\"\n        component={Chats}\n      />\n      <ChatRoomsNavigator.Screen\n        name=\"SingleChatRoom\"\n        component={SingleChatRoom}\n        options={{ headerTitle: '' }}\n      />\n      <ChatRoomsNavigator.Screen\n        name=\"CreateChatRoom\"\n        component={CreateChatRoom}\n        options={{ headerTitle: 'Create Chat Room' }}\n      />\n      <ChatRoomsNavigator.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: 'Select Term',\n          headerShown: false,\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n    </ChatRoomsNavigator.Navigator>\n  );\n}\n\nfunction Chats({ navigation }) {\n  const [getChatRooms] = useGetChatRoomsMutation();\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const isGuest = useAppSelector(selectIsGuest);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [refreshing, setRefreshing] = useState(false);\n  const [isMoving, setIsMoving] = useState(false);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n  const [availableChats, setAvailableChats] = useState([]);\n  const { data: userData } =\n    usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n\n  function generateChatRooms() {\n    getChatRooms({ userKey })\n      .unwrap()\n      .then(async (payload) => {\n        const realPayload = JSON.parse(JSON.stringify(payload));\n        const chats = [];\n        if (userData.permissionLevel === 'admin') {\n          chats.push({\n            title: 'Admin Chatroom',\n            lastModifiedDate: '',\n            id: 'admin'\n          });\n        }\n        try {\n          for (const section of Object.entries(userData.addedClasses.classes)) {\n            if (section[0] === currentSection) {\n              for (const course of Object.values(section[1])) {\n                chats.push({\n                  title: course[0],\n                  lastModifiedDate: '',\n                  id: course[0].replace(' ', '')\n                });\n              }\n            }\n          }\n        } catch (e) {\n          console.warn(e.message);\n          setRefreshing(false);\n        }\n        setAvailableChats(chats.concat(realPayload.reverse()));\n        setTimeout(() => {\n          setRefreshing(false);\n        }, 300);\n      })\n      .catch((error) => {\n        console.warn(error);\n        setRefreshing(false);\n      });\n  }\n\n  useEffect(() => {\n    setRefreshing(true);\n    generateChatRooms();\n  }, [useIsFocused, currentSection]);\n\n  useFocusEffect(() => {\n    setRefreshing(true);\n    generateChatRooms();\n  });\n\n  const onRefresh = useCallback(() => {\n    setRefreshing(true);\n    generateChatRooms();\n  }, []);\n\n  const renderItem = (item) => {\n    return (\n      <Layout key={item?.id}>\n        <ScrollView>\n          <TouchableOpacity\n            style={{\n              alignItems: 'center',\n              alignSelf: 'center',\n              width: '95%',\n              borderRadius: 10,\n              marginLeft: 5,\n              marginRight: 5,\n              marginTop: 10\n            }}\n            onPress={() => {\n              if (isGuest) {\n                setShowGuestModal(true);\n              } else {\n                navigation.navigate('SingleChatRoom', {\n                  data: item\n                });\n              }\n            }}\n            key={item?.id}\n          >\n            <Layout\n              style={{\n                alignItems: 'center',\n                alignSelf: 'center',\n                width: '95%',\n                height: 75,\n                borderRadius: 10,\n                backgroundColor: darkMode ? '#333333' : '#ebebeb',\n                shadowColor: '#000',\n                shadowOffset: { width: 0, height: 1 },\n                shadowOpacity: 0.2,\n                shadowRadius: 2,\n                elevation: 1,\n                marginLeft: 5,\n                marginRight: 5,\n                marginTop: 10,\n                justifyContent: 'center'\n              }}\n            >\n              <Text\n                style={{\n                  fontWeight: 'bold',\n                  fontSize: 20\n                }}\n              >\n                {item?.title}\n              </Text>\n              {item?.lastModifiedDate ? (\n                <Text style={{ fontStyle: 'italic', fontSize: 12 }}>\n                  {item?.lastModifiedDate}\n                </Text>\n              ) : null}\n            </Layout>\n          </TouchableOpacity>\n        </ScrollView>\n        {showGuestModal && (\n          <ModalContainer\n            title=\"Wait!\"\n            children={\n              <Text style={{ paddingHorizontal: 30 }}>\n                This feature is locked to our Guest Users. Please create a free\n                account with us to take advantage this feature.\n              </Text>\n            }\n            backDropVisible={showGuestModal}\n            setBackDropVisible={setShowGuestModal}\n          />\n        )}\n      </Layout>\n    );\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <CurrentTermLabel\n        navigation={navigation}\n        currentSection={currentSection}\n        style={{ marginTop: 20, marginLeft: 20 }}\n      />\n      {availableChats.length === 0 ? (\n        <Layout style={{ alignItems: 'center' }}>\n          <Text\n            style={{\n              paddingTop: '25%',\n              paddingBottom: 10,\n              textAlign: 'center'\n            }}\n          >\n            No Available Chat Rooms\n          </Text>\n          <TouchableOpacity\n            onPress={() => {\n              onRefresh();\n            }}\n          >\n            <FontAwesome size={25} color=\"#1E90FF\" name=\"rotate-right\" />\n          </TouchableOpacity>\n        </Layout>\n      ) : null}\n      <ScrollView\n        refreshControl={\n          <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n        }\n      >\n        {availableChats.map((chat) => {\n          return renderItem(chat);\n        })}\n      </ScrollView>\n    </Layout>\n  );\n}\n\nconst sponsorPageStyles = StyleSheet.create({\n  container: {\n    flex: 1\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  description: {\n    flex: 1,\n    margin: 10,\n    borderRadius: 5,\n    width: '95%',\n    padding: 10\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n});\n\nconst myStyles = StyleSheet.create({\n  inputBig: {\n    height: 200,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3\n  },\n  timeButton: {\n    width: 100,\n    height: 50,\n    marginHorizontal: 40,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 4\n  },\n  timeText: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  actualTimeText: {\n    fontSize: 13,\n    lineHeight: 18,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  timeStyle: {\n    flex: 0.3,\n    borderWidth: 2,\n    borderLeftColor: 'white'\n  }\n});\n\nconst listingStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  cardContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  containerForNotifications: {\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  text: {\n    flex: 1,\n    fontSize: 20,\n    textAlign: 'center',\n    marginTop: 5,\n    marginBottom: 5\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 10\n  }\n});\n","import { TouchableOpacity } from '@gorhom/bottom-sheet';\nimport { Button, Card, Layout, Modal, Text } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport { Platform, ScrollView, StyleSheet } from 'react-native';\n\nimport { selectDarkMode } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport ExportModalClass from '../classPages/SingleClassPage/exportModalClass';\n\nexport default function SingleClassPage({ selectedClass }) {\n  const [showModal, setShowModal] = useState(false);\n  const darkMode = useAppSelector(selectDarkMode);\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const backgroundColor = darkMode\n    ? { backgroundColor: '#1F1F1F' }\n    : { backgroundColor: '#F5F5F5' };\n\n  function buildTimeString(time) {\n    if (!time.startTime || time.startTime === '' || time.startTime === null) {\n      return 'closed';\n    }\n    return `${convertTo12HourTime(time.startTime)} - ${convertTo12HourTime(\n      time.endTime\n    )}\\n`;\n  }\n\n  function convertTo12HourTime(time) {\n    if (time.length !== 5) {\n      time = `0${time}`;\n    }\n    let hours = time.slice(0, 2);\n    const minutes = time.slice(3, 5);\n    let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n    hours %= 12;\n    if (hours === 0) {\n      hours = 12;\n      ampm = 'pm';\n    }\n    return `${hours}:${minutes}${ampm}`;\n  }\n\n  const averageGradeMSGModal = (\n    <Modal\n      visible={showModal}\n      backdropStyle={styles.backdrop}\n      style={{ width: '75%' }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={{ fontSize: 15, paddingTop: 5, paddingBottom: 10 }}>\n          The Athena Network collects and aggregates the data anonymously\n          submitted by the Course Review process and calculates what the average\n          student's experience in this course will look like. Given that it is\n          based on voluntarily submitted data, this information is to be used as\n          a reference only. Please consult your advisor before making any\n          impactful decisions.\n        </Text>\n        <Button onPress={() => setShowModal(false)}>Dismiss</Button>\n      </Card>\n    </Modal>\n  );\n\n  if (!selectedClass?.times) {\n    return null;\n  }\n\n  return (\n    <ScrollView style={backgroundColor}>\n      <Layout style={[{ alignItems: 'center' }, backgroundColor]}>\n        {Platform.OS === 'web' && (\n          <ExportModalClass classData={selectedClass} />\n        )}\n        <Text style={styles.title}>{selectedClass.courseName}</Text>\n        <Text style={{ paddingTop: 30 }}>{selectedClass.masterCourseCode}</Text>\n\n        <Text style={styles.subtitle}>\n          {`${selectedClass.courseTerm} \\u2022 credits: ${\n            filters.isHMC\n              ? selectedClass.creditWeightHM\n              : selectedClass.creditWeight\n          }`}\n        </Text>\n        {selectedClass.timeSpentOutOfClass && (\n          <Layout\n            style={[\n              {\n                flexDirection: 'row',\n                alignItems: 'flex-start',\n                paddingRight: 5\n              },\n              backgroundColor\n            ]}\n          >\n            <Text style={styles.subtitle}>Time Spent Per Week</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>\n              : {selectedClass.timeSpentOutOfClass} hours\n            </Text>\n          </Layout>\n        )}\n        {selectedClass.averageGrade && (\n          <Layout\n            style={[\n              {\n                flexDirection: 'row',\n                alignItems: 'flex-start',\n                paddingRight: 5\n              },\n              backgroundColor\n            ]}\n          >\n            <Text style={styles.subtitle}>Average Grade</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>:{selectedClass.averageGrade}</Text>\n          </Layout>\n        )}\n        {selectedClass.difficulty && (\n          <Layout\n            style={[\n              {\n                flexDirection: 'row',\n                alignItems: 'flex-start',\n                paddingRight: 5\n              },\n              backgroundColor\n            ]}\n          >\n            <Text style={styles.subtitle}>Estimated Difficulty</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>\n              : {selectedClass.difficulty} / 5\n            </Text>\n          </Layout>\n        )}\n        {selectedClass.rating && (\n          <Layout\n            style={[\n              {\n                flexDirection: 'row',\n                alignItems: 'flex-start',\n                paddingRight: 5\n              },\n              backgroundColor\n            ]}\n          >\n            <Text style={styles.subtitle}>Average Rating</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>:{selectedClass.rating} / 5</Text>\n          </Layout>\n        )}\n      </Layout>\n      <Layout style={backgroundColor}>\n        <Text style={styles.courseDescription}>{selectedClass.summary}</Text>\n      </Layout>\n      <Layout style={{ ...backgroundColor, ...styles.boxed }}>\n        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n          Other Stated Prerequisites:\n        </Text>\n        <Text style={{ fontSize: 15 }}>\n          {selectedClass.prerequisites !== ''\n            ? selectedClass.prerequisites\n            : 'none'}\n        </Text>\n\n        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n          Other Stated Corequisites:\n        </Text>\n        <Text style={{ fontSize: 15 }}>\n          {selectedClass.corequisites !== ''\n            ? selectedClass.corequisites\n            : 'none'}\n        </Text>\n\n        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n          Number of PERMs:\n        </Text>\n        <Text style={{ fontSize: 15 }}>\n          {selectedClass.permCount ? selectedClass.permCount.toString() : '0'}\n        </Text>\n      </Layout>\n      <Layout style={[{ alignItems: 'flex-end' }, backgroundColor]}>\n        {(selectedClass.timeSpentOutOfClass ||\n          selectedClass.averageGrade ||\n          selectedClass.difficulty ||\n          selectedClass.rating) && (\n          <TouchableOpacity onPress={() => setShowModal(!showModal)}>\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.disclaimer}>How Do We Estimate This?</Text>\n            </Layout>\n          </TouchableOpacity>\n        )}\n      </Layout>\n      <Layout style={backgroundColor}>\n        {selectedClass.times.length > 0 && (\n          <Layout style={backgroundColor}>\n            <Text style={styles.subHeader}>Sections</Text>\n            <Layout style={[styles.section, backgroundColor]}>\n              <Text style={styles.headerText}>Course Code</Text>\n              <Text style={styles.headerText}>Seats</Text>\n              <Text style={styles.headerText}>Professor</Text>\n              <Text style={styles.headerText}>Time</Text>\n              <Text style={styles.headerText}>Location</Text>\n            </Layout>\n          </Layout>\n        )}\n        {selectedClass.times.flatMap((time) => {\n          return time.courseSchedule.map((schedule) => {\n            return (\n              <Layout\n                key={schedule.courseCode}\n                style={{ backgroundColor, ...styles.section }}\n              >\n                <Text style={styles.sectionText}>{time.courseCode}</Text>\n                <Text style={styles.sectionText}>\n                  {time.seatsFilled} /{time.seatsFilled + time.seatsAvailable}\n                </Text>\n                <Text style={styles.sectionText}>{time.professorName}</Text>\n                <Text style={styles.sectionText}>\n                  {buildTimeString(time)}\n                  {'\\n'}\n                  {schedule.daysOfTheWeek.join(', ')}\n                </Text>\n                <Text style={styles.sectionText}>\n                  {schedule.classLocation ? time.classLocation : 'TBD'}\n                </Text>\n              </Layout>\n            );\n          });\n        })}\n        {averageGradeMSGModal}\n      </Layout>\n      <Text style={styles.subHeader}>Reviews</Text>\n      {selectedClass.reviews.length === 0 ? (\n        <Text style={{ alignSelf: 'center', marginBottom: 10 }}>\n          No Reviews yet\n        </Text>\n      ) : (\n        selectedClass.reviews.map((review, index) => (\n          <Card key={index} disabled>\n            <Text>{`${review.text}\\n\\nPosted: ${review.date}`}</Text>\n            {review.professor && (\n              <Text>{`Taught By: ${review.professor}`}</Text>\n            )}\n          </Card>\n        ))\n      )}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  subtitle: {\n    fontSize: 16\n  },\n  courseOpen: {\n    backgroundColor: 'green',\n    color: '#fff',\n    padding: 5,\n    marginRight: 10\n  },\n  courseClosed: {\n    backgroundColor: 'red',\n    color: '#fff',\n    padding: 5,\n    borderRadius: 5\n  },\n  header: {\n    alignItems: 'center'\n  },\n  details: {\n    flexDirection: 'row',\n    padding: 10,\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  courseDescription: {\n    paddingRight: 20,\n    paddingLeft: 20,\n    paddingTop: 10,\n    paddingBottom: 5,\n    fontSize: 17\n  },\n  BodyContainer: {\n    borderTopWidth: 1,\n    borderTopColor: 'black',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-evenly',\n    padding: 10,\n    paddingTop: 20,\n    paddingBottom: 20\n  },\n  boxed: {\n    alignItems: 'center',\n    margin: 8,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 7\n  },\n  documentStyle: {\n    width: 150,\n    height: 190,\n    paddingTop: 100\n  },\n  imageLabel: {\n    fontSize: 12,\n    color: 'black',\n    padding: 10,\n    textAlign: 'center'\n  },\n  schedule: {\n    paddingLeft: 20,\n    paddingTop: 10\n  },\n  graphImage: {\n    width: '100%',\n    aspectRatio: 1,\n    resizeMode: 'contain'\n  },\n  grade: {\n    fontSize: 50,\n    fontWeight: 'bold',\n    color: 'green'\n  },\n  reviewText: {\n    fontSize: 16,\n    fontStyle: 'italic'\n  },\n  reviewBox: {\n    width: '95%',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: 'black',\n    borderRadius: 5,\n    marginBottom: 10\n  },\n  section: {\n    flexDirection: 'row',\n    paddingLeft: 5,\n    borderBottomWidth: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  headerText: {\n    fontWeight: 'bold',\n    fontSize: 13,\n    flex: 1\n  },\n  sectionText: {\n    flex: 1\n  },\n  disclaimer: {\n    fontSize: 14,\n    fontStyle: 'italic'\n  },\n  backdrop: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  containerDrop: {\n    height: 42,\n    margin: 12,\n    borderWidth: 1\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  subHeader: {\n    fontSize: 20,\n    paddingLeft: 20,\n    paddingBottom: 20,\n    paddingTop: 20,\n    fontWeight: 'bold'\n  }\n});\n","import { FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Button, Input, Layout, List, Text } from '@ui-kitten/components';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport {\n  Alert,\n  Dimensions,\n  KeyboardAvoidingView,\n  Platform,\n  SafeAreaView,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View\n} from 'react-native';\nimport { SwipeRow } from 'react-native-swipe-list-view';\n\nimport { HeaderBackButton } from '@react-navigation/elements';\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport BackButton from '../../components/BackButton';\nimport { base_URL } from './constants';\n\nimport ModalContainer from '../../components/ModalContainer';\nimport UserNameSelectionDropDown from '../../components/UserNameSelectionDropDown';\nimport { useGetCurrentSectionQuery } from '../api/classPagesApi';\nimport { selectClassesList } from '../classPages/classPagesSlice';\nimport SingleClassPage from './notificationSinglePage';\nimport CalendarRender from '../calendar/CalendarRender';\nimport Header from '../../components/Header';\n\nconst NotificationHomePage = createNativeStackNavigator();\n\nexport default function NotificationsNavigation({ navigation }) {\n  const [notifications, setNotifications] = useState([]);\n  const [selectedIndex, setSelectedIndex] = React.useState([]);\n  const [hasChosen, setHasChosen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [isOpen, setIsOpen] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const isGuest = useAppSelector(selectIsGuest);\n\n  useEffect(() => {\n    refreshNotifications();\n    fetch(`${base_URL}/users/getUserNameList`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const newUsers = (await data.json()).map((userName) => {\n          return {\n            label: userName,\n            id: userName\n          };\n        });\n        setUsers(newUsers);\n      }\n    });\n  }, []);\n  async function refreshNotifications() {\n    fetch(`${base_URL}/users/getNotifications`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then((res) => {\n      res.text().then((notifications) => {\n        notifications = JSON.parse(notifications);\n        // @ts-ignore\n        setNotifications(notifications);\n      });\n    });\n  }\n  async function sendNotification(bodyTosend) {\n    await fetch(`${base_URL}/users/sendNotification`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      },\n      body: JSON.stringify(bodyTosend)\n    });\n  }\n  function createNotificationButton() {\n    navigation.navigate('CreateNotification');\n  }\n  function clearNotifications() {\n    fetch(`${base_URL}/users/clearNotifications`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(() => {\n      refreshNotifications();\n    });\n  }\n  const navigationHeader = (navigation) => (\n    <Layout\n      style={{\n        width: '100%',\n        justifyContent: 'space-between',\n        flexDirection: 'row',\n        backgroundColor: 'transparent'\n      }}\n    >\n      {Platform.OS === 'ios' && <BackButton navigation={navigation} />}\n\n      <Layout\n        style={{\n          paddingBottom: 5,\n          flexDirection: 'row',\n          alignItems: 'center',\n          backgroundColor: 'transparent'\n        }}\n      >\n        {/* <Image\n          style={{\n            height: 28,\n            width: 28,\n          }}\n          source={require('../../../assets/logos/app-logo.png')}\n        /> */}\n        <Text\n          style={{\n            paddingTop: 3,\n            fontSize: 20,\n            fontWeight: '500',\n            color: darkMode ? '#fff' : '#000'\n          }}\n        >\n          Notifications\n        </Text>\n      </Layout>\n      <Layout\n        style={{\n          alignItems: 'flex-end',\n          paddingRight: 40,\n          paddingBottom: 10,\n          flexDirection: 'row',\n          backgroundColor: 'transparent'\n        }}\n      >\n        <TouchableOpacity\n          style={{\n            paddingLeft: 20,\n            marginRight: Platform.OS == 'android' ? 50 : 0\n          }}\n          onPress={() => {\n            if (isGuest) {\n              setShowGuestModal(true);\n            } else {\n              createNotificationButton();\n            }\n          }}\n        >\n          <FontAwesome5 size={25} color=\"#1E90FF\" name=\"plus\" />\n        </TouchableOpacity>\n        {showGuestModal && (\n          <ModalContainer\n            title=\"Wait!\"\n            children={\n              <Text style={{ paddingHorizontal: 30 }}>\n                This feature is locked to our Guest Users. Please create a free\n                account with us to take advantage this feature.\n              </Text>\n            }\n            backDropVisible={showGuestModal}\n            setBackDropVisible={setShowGuestModal}\n          />\n        )}\n        {/* <TouchableOpacity\n\n          onPress={() => {\n            Alert.alert(\n              'Caution',\n              'Are you sure you want to clear your notifications?\\nThis action cannot be undone.',\n              [\n                {\n                  text: 'No',\n                  style: 'cancel',\n                },\n                {\n                  text: 'Yes',\n                  onPress: async () => {\n                    clearNotifications();\n                  },\n                },\n              ]\n            );\n          }}>\n          <FontAwesome5 size={25} color={'#d71717'} name=\"times\" />\n        </TouchableOpacity>\n        /* <TouchableOpacity\n          style={{ paddingLeft: 20 }}\n          onPress={() => {\n            refreshNotifications();\n          }}>\n          <FontAwesome size={25} color={'#1E90FF'} name=\"rotate-right\" />\n        </TouchableOpacity> */}\n      </Layout>\n    </Layout>\n  );\n  function Notifications({ navigation }) {\n    const [refreshing, setRefreshing] = useState(false);\n    const [isMoving, setIsMoving] = useState(false);\n\n    const onRefresh = useCallback(() => {\n      setRefreshing(true);\n      refreshNotifications().then(() => {\n        setRefreshing(false);\n      });\n    }, []);\n    async function handleOnLeftSwipe(postId) {\n      const newNotifications = notifications.map((not) => {\n        if (not._id !== postId) {\n          return not;\n        }\n      });\n      setNotifications(newNotifications);\n      const res = await fetch(`${base_URL}/users/removeNotification`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        },\n        body: JSON.stringify({\n          id: postId\n        }),\n        redirect: 'follow'\n      });\n      if (res.ok) {\n        refreshNotifications();\n      } else {\n        console.warn(await res.json());\n      }\n      setIsOpen(false);\n      setIsMoving(false);\n    }\n\n    const renderItem = ({ item: notification }) => {\n      return (\n        <Layout>\n          {notification && (\n            // @ts-ignore\n            <SwipeRow\n              disableRightSwipe\n              onSwipeValueChange={(status) => {\n                if (status.value < -Dimensions.get('window').width * (1 / 3)) {\n                  if (!isOpen) {\n                    setIsOpen(true);\n                    handleOnLeftSwipe(notification._id);\n                  }\n                } else if (status.value < -5) {\n                  setIsMoving(true);\n                } else {\n                  setIsMoving(false);\n                }\n              }}\n              useNativeDriver\n            >\n              <Layout\n                style={{\n                  alignItems: 'flex-end',\n                  justifyContent: 'center',\n                  alignSelf: 'center',\n                  width: '95%',\n                  height: 75,\n                  borderRadius: 11,\n                  backgroundColor: '#ce0f0f',\n                  marginLeft: 5,\n                  paddingRight: 20,\n                  marginRight: 5,\n                  marginTop: 10\n                }}\n              >\n                <Text style={{ color: '#fff' }}>Delete</Text>\n              </Layout>\n              <TouchableWithoutFeedback\n                style={{\n                  alignItems: 'center',\n                  alignSelf: 'center',\n                  width: '95%',\n                  height: 75,\n                  borderRadius: 10,\n                  marginLeft: 5,\n                  marginRight: 5,\n                  marginTop: 10\n                }}\n                onPress={() => {\n                  navigation.navigate('SingleNotification', {\n                    data: notification\n                  });\n                }}\n                key={notification?._id}\n              >\n                <Layout\n                  style={{\n                    alignItems: 'center',\n                    alignSelf: 'center',\n                    width: '95%',\n                    height: 75,\n                    borderRadius: 10,\n                    backgroundColor: darkMode ? '#333333' : '#ebebeb',\n                    shadowColor: '#000',\n                    shadowOffset: { width: 0, height: 1 },\n                    shadowOpacity: 0.2,\n                    shadowRadius: 2,\n                    elevation: 1,\n                    marginLeft: 5,\n                    marginRight: 5,\n                    marginTop: 10\n                  }}\n                >\n                  <Text\n                    style={{\n                      paddingTop: 5,\n                      fontWeight: 'bold',\n                      fontSize: 20\n                    }}\n                  >\n                    {notification?.title}\n                  </Text>\n                  <Text style={{}}>\n                    From:\n                    {notification?.from}\n                  </Text>\n                  {notification?.creationDate ? (\n                    <Text style={{ fontStyle: 'italic', fontSize: 12 }}>\n                      {notification?.creationDate}\n                    </Text>\n                  ) : null}\n                </Layout>\n              </TouchableWithoutFeedback>\n            </SwipeRow>\n          )}\n        </Layout>\n      );\n    };\n\n    return (\n      <Layout style={{ flex: 1 }}>\n        {notifications.length === 0 ? (\n          <Layout style={{ alignItems: 'center' }}>\n            <Text\n              style={{\n                paddingTop: '25%',\n                paddingBottom: 10,\n                textAlign: 'center'\n              }}\n            >\n              No New Notifications\n            </Text>\n            <TouchableOpacity\n              onPress={() => {\n                refreshNotifications();\n              }}\n            >\n              <FontAwesome size={25} color=\"#1E90FF\" name=\"rotate-right\" />\n            </TouchableOpacity>\n          </Layout>\n        ) : null}\n        <List\n          style={{ backgroundColor: 'transparent' }}\n          contentContainerStyle={{ flex: 1 }}\n          data={notifications}\n          scrollEnabled={!isMoving}\n          renderItem={renderItem}\n          onRefresh={refreshNotifications}\n          refreshing={refreshing}\n        />\n      </Layout>\n    );\n  }\n\n  function getDateText(text) {\n    const spaceIndex = text.indexOf(' ');\n    const first = text.substring(0, spaceIndex);\n    const second = text.substring(spaceIndex + 1);\n    return `${second} |  ${first}`;\n  }\n\n  function SingleNotification({\n    route: {\n      params: { data }\n    }\n  }) {\n    navigation = useNavigation();\n    const { data: currentSection } = useGetCurrentSectionQuery();\n\n    if (data.isSchedule) {\n      return (\n        <CalendarRender\n          route={{\n            params: {\n              overrideData: JSON.parse(data.message)\n            }\n          }}\n        />\n      );\n    }\n    if (data.isCourseData) {\n      const allClassData = useAppSelector(selectClassesList);\n      const courseSimpleData = JSON.parse(data.message);\n      if (courseSimpleData.courseTerm === currentSection) {\n        return (\n          <SingleClassPage\n            selectedClass={allClassData[courseSimpleData.masterCourseCode]}\n          />\n        );\n      }\n      Alert.alert('This course contains outdated information');\n      navigation.goBack();\n      return null;\n    }\n    return (\n      <KeyboardAvoidingView\n        style={{ flex: 1 }}\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      >\n        <ScrollView contentContainerStyle={{ flex: 1 }}>\n          <Layout style={sponsorPageStyles.container}>\n            <Layout\n              style={{ width: '100%', alignItems: 'center', marginTop: 20 }}\n            >\n              <Text style={sponsorPageStyles.title}>{data.title}</Text>\n            </Layout>\n\n            {data.from && (\n              <Layout style={sponsorPageStyles.address}>\n                <Layout style={{ flexDirection: 'row' }}>\n                  <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n                    From:\n                  </Text>\n                  <Text style={{ fontSize: 15 }}>{data.from}</Text>\n                </Layout>\n                <Layout style={{ flexDirection: 'row' }}>\n                  <Text style={{ fontSize: 15 }}>\n                    {getDateText(data.creationDate)}\n                  </Text>\n                </Layout>\n              </Layout>\n            )}\n            <Layout style={sponsorPageStyles.description}>\n              <Text>{data.message}</Text>\n            </Layout>\n            {data.repliable && (\n              <TouchableOpacity\n                onPress={() => {\n                  // TODO: reply\n                }}\n                style={myStyles.button}\n              >\n                <Text style={myStyles.text}>Reply</Text>\n              </TouchableOpacity>\n            )}\n          </Layout>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    );\n  }\n  function CreateNotification({ navigation }) {\n    const [body, setBody] = useState({});\n    const [done, setDone] = useState(false);\n    const [recipient, setRecipient] = useState(null);\n    const [hasChosen, setHasChosen] = useState(false);\n\n    useEffect(() => {\n      changeValue(hasChosen ? [recipient] : null, 'recipients');\n    }, [recipient, hasChosen]);\n\n    function checkForDone(tempBody) {\n      if (tempBody.recipients && tempBody.title && tempBody.text) {\n        setDone(true);\n      } else {\n        setDone(false);\n      }\n    }\n\n    const changeValue = (theValue, valueToChange) => {\n      const newBody = body;\n      for (const aspect in newBody) {\n        if (\n          newBody[aspect] === null ||\n          newBody[aspect] === undefined ||\n          newBody[aspect] === ''\n        ) {\n          delete newBody[aspect];\n        }\n      }\n      if (theValue !== undefined) {\n        newBody[valueToChange] = theValue;\n      } else if (newBody[valueToChange]) {\n        delete newBody[valueToChange];\n      }\n      checkForDone(newBody);\n      setBody(newBody);\n    };\n\n    function renderInputFields() {\n      const renderHeader = () => {\n        return (\n          <Layout style={{ flexDirection: 'row' }}>\n            <Text\n              style={{\n                fontSize: 15,\n                paddingLeft: 12,\n                paddingBottom: 5,\n                paddingTop: 5,\n                alignContent: 'center',\n                fontWeight: 'bold'\n              }}\n            >\n              Send Message\n            </Text>\n          </Layout>\n        );\n      };\n      const final = [];\n      final.push(\n        <View\n          style={{\n            height: 50,\n            margin: 12,\n            padding: 10\n          }}\n        >\n          {UserNameSelectionDropDown({\n            setHasChosen,\n            setRecipient,\n            placeholder: true\n          })}\n        </View>\n      );\n      final.push(\n        <Input\n          autoCapitalize=\"words\"\n          onChangeText={(theValue) => changeValue(theValue, 'title')}\n          style={myStyles.input}\n          placeholderTextColor=\"gray\"\n          placeholder=\"Title\"\n        />\n      );\n      final.push(\n        <Input\n          autoCapitalize=\"sentences\"\n          onChangeText={(theValue) => changeValue(theValue, 'text')}\n          style={myStyles.inputBig}\n          multiline\n          textStyle={{ minHeight: 150 }}\n          placeholderTextColor=\"gray\"\n          placeholder=\"Body\"\n        />\n      );\n\n      return (\n        <Layout style={{ flex: 1 }}>\n          {renderHeader()}\n          {final}\n        </Layout>\n      );\n    }\n    return (\n      <SafeAreaView style={{ flex: 1 }}>\n        <KeyboardAvoidingView\n          style={{ flex: 1 }}\n          behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n        >\n          <ScrollView contentContainerStyle={{ flex: 1 }}>\n            <Layout style={sponsorPageStyles.container}>\n              <Layout style={sponsorPageStyles.description}>\n                {renderInputFields()}\n                <Button\n                  disabled={!done}\n                  onPress={async () => {\n                    await sendNotification(body);\n                    navigation.navigate('Notifications');\n                  }}\n                >\n                  <Text style={myStyles.text}>Send Message</Text>\n                </Button>\n              </Layout>\n            </Layout>\n          </ScrollView>\n        </KeyboardAvoidingView>\n      </SafeAreaView>\n    );\n  }\n  return (\n    <NotificationHomePage.Navigator initialRouteName=\"Notifications & Messages\">\n      <NotificationHomePage.Screen\n        options={({ navigation }) => ({\n          header: () => (\n            <Layout>\n              <Header\n                title=\"\"\n                accessoryLeft={\n                  <Layout\n                    style={{ flexDirection: 'row', alignItems: 'center' }}\n                  >\n                    <HeaderBackButton\n                      onPress={navigation.goBack}\n                      label=\"Back\"\n                      labelVisible={Platform.OS === 'ios'}\n                    />\n                    <Text\n                      style={{\n                        marginLeft: Platform.OS === 'web' ? undefined : 50,\n                        paddingTop: 3,\n                        fontSize: 20,\n                        fontWeight: '500',\n                        color: darkMode ? '#fff' : '#000'\n                      }}\n                    >\n                      Notifications\n                    </Text>\n                  </Layout>\n                }\n                accessoryRight={\n                  <Layout>\n                    <TouchableOpacity\n                      style={{\n                        paddingLeft: 20,\n                        marginRight: Platform.OS == 'android' ? 50 : 0\n                      }}\n                      onPress={() => {\n                        if (isGuest) {\n                          setShowGuestModal(true);\n                        } else {\n                          createNotificationButton();\n                        }\n                      }}\n                    >\n                      <FontAwesome5 size={25} color=\"#1E90FF\" name=\"plus\" />\n                    </TouchableOpacity>\n                    {showGuestModal && (\n                      <ModalContainer\n                        title=\"Wait!\"\n                        children={\n                          <Text style={{ paddingHorizontal: 30 }}>\n                            This feature is locked to our Guest Users. Please\n                            create a free account with us to take advantage this\n                            feature.\n                          </Text>\n                        }\n                        backDropVisible={showGuestModal}\n                        setBackDropVisible={setShowGuestModal}\n                      />\n                    )}\n                  </Layout>\n                }\n              />\n            </Layout>\n          )\n        })}\n        name=\"Notifications\"\n        component={Notifications}\n      />\n      <NotificationHomePage.Screen\n        name=\"SingleNotification\"\n        component={SingleNotification}\n        options={{ headerTitle: '' }}\n      />\n      <NotificationHomePage.Screen\n        name=\"CreateNotification\"\n        component={CreateNotification}\n        options={{ headerTitle: '' }}\n      />\n    </NotificationHomePage.Navigator>\n  );\n}\n\nfunction convertTo12HourTime(time) {\n  if (time.length !== 5) {\n    time = `0${time}`;\n  }\n  let hours = time.slice(0, 2);\n  const minutes = time.slice(3, 5);\n  let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n  hours %= 12;\n  if (hours === 0) {\n    hours = 12;\n    ampm = 'pm';\n  }\n  return `${hours}:${minutes}${ampm}`;\n}\n\nfunction getMinutesDiff(startTime, endTime) {\n  if (endTime > startTime) {\n    return (endTime - startTime) * 0.7;\n  }\n  if (startTime === endTime) {\n    return 0;\n  }\n  return (startTime - endTime) * -0.7;\n}\n\nconst sponsorPageStyles = StyleSheet.create({\n  container: {\n    flex: 1\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  description: {\n    flex: 1,\n    margin: 10,\n    borderRadius: 5,\n    width: '95%',\n    padding: 10\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n});\n\nconst myStyles = StyleSheet.create({\n  inputBig: {\n    height: 200,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3\n  },\n  timeButton: {\n    width: 100,\n    height: 50,\n    marginHorizontal: 40,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 4\n  },\n  timeText: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  actualTimeText: {\n    fontSize: 13,\n    lineHeight: 18,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  timeStyle: {\n    flex: 0.3,\n    borderWidth: 2,\n    borderLeftColor: 'white'\n  }\n});\n\nconst listingStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  cardContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  containerForNotifications: {\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  text: {\n    flex: 1,\n    fontSize: 20,\n    textAlign: 'center',\n    marginTop: 5,\n    marginBottom: 5\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 10\n  }\n});\n","import { Input, Layout, Spinner, Text } from '@ui-kitten/components';\nimport { TouchableWithoutFeedback } from '@ui-kitten/components/devsupport';\nimport { useState } from 'react';\nimport {\n  Keyboard,\n  KeyboardAvoidingView,\n  Platform,\n  TouchableOpacity\n} from 'react-native';\n\nimport { selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport WrapItems from '../../components/WrapItems';\nimport { useEditUserMutation, useGetUserInfoQuery } from '../api/usersApi';\n\nfunction EditProfileHeader({ navigation, saveChanges }) {\n  return (\n    <Layout\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        margin: 20,\n        marginTop: Platform.OS !== 'ios' ? 40 : 20\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          navigation.goBack();\n        }}\n      >\n        <Text>Cancel</Text>\n      </TouchableOpacity>\n      <Text category=\"s1\">Edit Profile</Text>\n      <TouchableOpacity onPress={saveChanges}>\n        <Text>Save</Text>\n      </TouchableOpacity>\n    </Layout>\n  );\n}\n\nexport default function EditUser({ navigation }) {\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n\n  const inputs = [\n    {\n      placeholder: '*******',\n      label: 'password',\n      name: 'password'\n    },\n    {\n      placeholder: userData.realFirstName,\n      label: 'First Name',\n      name: 'realFirstName'\n    },\n    {\n      placeholder: userData.realLastName,\n      label: 'Last Name',\n      name: 'realLastName'\n    },\n    {\n      placeholder: userData.profileDescription,\n      label: 'Profile Description',\n      name: 'profileDescription',\n      propOptions: { multiline: true, textStyle: { minHeight: 64 } }\n    },\n    {\n      placeholder: userData.linkedin,\n      label: 'LinkedIn',\n      name: 'linkedin'\n    },\n    {\n      placeholder: userData.major,\n      label: 'Major',\n      name: 'major'\n    }\n  ];\n\n  const [fields, setFields] = useState(\n    Object.fromEntries(inputs.map((input) => [input.name, '']))\n  );\n  const [editUser, { isLoading }] = useEditUserMutation();\n\n  const saveChanges = async () => {\n    const changedFields = Object.entries(fields).filter(\n      ([_, value]) => value !== ''\n    );\n\n    try {\n      if (changedFields.length > 0) {\n        await editUser({\n          userKey,\n          userName: userData.userName,\n          fields: Object.fromEntries(changedFields)\n        }).unwrap();\n      }\n\n      navigation.goBack();\n    } catch (err) {\n      console.warn('Error editing user', err);\n    }\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      {isLoading ? (\n        <Layout\n          style={{\n            flex: 1,\n            backgroundColor: 'transparent',\n            position: 'absolute',\n            top: '30%',\n            right: '50%',\n            zIndex: 1\n          }}\n        >\n          <Spinner size=\"medium\" />\n        </Layout>\n      ) : null}\n\n      <EditProfileHeader navigation={navigation} saveChanges={saveChanges} />\n      <KeyboardAvoidingView\n        style={{ flex: 1 }}\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      >\n        <TouchableWithoutFeedback\n          style={{ flex: 1 }}\n          onPress={Keyboard.dismiss}\n        >\n          <WrapItems\n            style={{ marginVertical: 20 }}\n            childStyle={{ marginHorizontal: 40, marginVertical: 10 }}\n          >\n            {inputs.map(({ placeholder, label, name, propOptions }) => (\n              <Input\n                key={name}\n                placeholder={placeholder}\n                label={label}\n                onChangeText={(text) => setFields({ ...fields, [name]: text })}\n                {...propOptions}\n              />\n            ))}\n          </WrapItems>\n        </TouchableWithoutFeedback>\n      </KeyboardAvoidingView>\n    </Layout>\n  );\n}\n","import { Button, Divider, Layout, Text, Toggle } from '@ui-kitten/components';\nimport Constants from 'expo-constants';\nimport React, { useEffect, useState } from 'react';\nimport { useColorScheme } from 'react-native';\n\nimport {\n  deviceDarkModeSet,\n  reset as resetAppData,\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey,\n  useDeviceColorSchemeSet\n} from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport ModalContainer from '../../components/ModalContainer';\nimport WrapItems from '../../components/WrapItems';\nimport { apiSlice } from '../api/apiSlice';\nimport {\n  useDeleteAccountMutation,\n  useEditUserMutation,\n  useGetUserInfoQuery\n} from '../api/usersApi';\nimport { reset as resetClassPages } from '../classPages/classPagesSlice';\nimport { reset as resetDiscover } from '../discover/discoverSlice';\nimport { base_URL } from '../../constants/admin';\nimport { UserData } from '../../app/types';\n\nexport default function SettingsPage({ navigation }) {\n  const [settingsDisabled, setSettingsDisabled] = useState(false);\n  const [editUser] = useEditUserMutation();\n  const darkMode = useAppSelector(selectDarkMode);\n  const useDeviceColorScheme = useAppSelector(\n    (state) => state.appData.secure.useDeviceColorScheme\n  );\n  const userKey = useAppSelector(selectUserKey);\n  const isGuest = useAppSelector(selectIsGuest);\n  const colorScheme = useColorScheme();\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const dispatch = useAppDispatch();\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [deleteAccount, { isLoading }] = useDeleteAccountMutation();\n\n  const currentVersion =\n    Constants?.manifest2?.extra?.expoClient?.version ??\n    Constants?.manifest?.version;\n\n  const logOut = () => {\n    dispatch(resetClassPages());\n    dispatch(resetDiscover());\n    dispatch(resetAppData());\n    dispatch(apiSlice.util.resetApiState());\n  };\n\n  const handleDeleteAccount = async () => {\n    try {\n      await deleteAccount({ userKey, userName: userData.userName }).unwrap();\n      logOut();\n    } catch (e) {\n      console.warn('Error deleting account: ', e);\n    }\n  };\n\n  const handleUseDeviceSettingToggled = (checked: boolean) => {\n    dispatch(useDeviceColorSchemeSet(checked));\n    if (checked) {\n      dispatch(deviceDarkModeSet(colorScheme === 'dark'));\n    }\n  };\n\n  const handleDarkModeToggled = (checked: boolean) => {\n    dispatch(useDeviceColorSchemeSet(false));\n    dispatch(deviceDarkModeSet(checked));\n  };\n\n  function handleSettingsChange(settingName, value) {\n    setSettingsDisabled(true);\n    const body = {\n      settings: {}\n    };\n    body.settings[settingName] = value;\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify(body)\n    })\n      .unwrap()\n      .then(() => setSettingsDisabled(false))\n      .catch((e) => {\n        setSettingsDisabled(false);\n        console.log(e.message);\n      });\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <Layout\n        style={{\n          flexDirection: 'row',\n          marginHorizontal: 20,\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          flex: 1\n        }}\n      >\n        <Layout>\n          <Text category=\"h2\">\n            {userData?.realFirstName} {userData?.realLastName}\n          </Text>\n          <Text category=\"h6\" status=\"success\">\n            @{userData?.userName}\n          </Text>\n        </Layout>\n        <Layout>\n          <Button\n            onPress={() => {\n              if (isGuest) {\n                setShowGuestModal(true);\n              } else {\n                navigation.navigate('EditUser');\n              }\n            }}\n          >\n            Edit\n          </Button>\n        </Layout>\n      </Layout>\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is locked to our Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          }\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n\n      <Divider />\n\n      <Layout\n        style={{\n          flex: 5,\n          justifyContent: 'space-between',\n          marginHorizontal: 20\n        }}\n      >\n        <Layout>\n          <Text category=\"h6\" style={{ textAlign: 'center', marginTop: 20 }}>\n            Dark Mode\n          </Text>\n          <Layout\n            style={{\n              marginTop: 20,\n              flexDirection: 'row',\n              justifyContent: 'space-between'\n            }}\n          >\n            <Text>Use Device Setting</Text>\n            <Toggle\n              onChange={(checked) => handleUseDeviceSettingToggled(checked)}\n              checked={useDeviceColorScheme}\n            />\n          </Layout>\n          <Layout\n            style={{\n              marginTop: 20,\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n              opacity: useDeviceColorScheme ? 0.4 : 1\n            }}\n          >\n            <Text>Dark Mode</Text>\n            <Toggle\n              onChange={(checked) => handleDarkModeToggled(checked)}\n              checked={darkMode}\n            />\n          </Layout>\n\n          <Text category=\"h6\" style={{ textAlign: 'center', marginTop: 20 }}>\n            Push Notifications\n          </Text>\n          {userData.permissionLevel === 'admin' && (\n            <Layout\n              style={{\n                marginTop: 20,\n                flexDirection: 'row',\n                justifyContent: 'space-between'\n              }}\n            >\n              <Text>New Review Notification</Text>\n              <Toggle\n                disabled={settingsDisabled}\n                onChange={(checked) =>\n                  handleSettingsChange('newReview', checked)\n                }\n                checked={userData.settings.newReview}\n              />\n            </Layout>\n          )}\n          <Layout\n            style={{\n              marginTop: 20,\n              flexDirection: 'row',\n              justifyContent: 'space-between'\n            }}\n          >\n            <Text>Alert Notifications</Text>\n            <Toggle\n              disabled={settingsDisabled}\n              onChange={(checked) =>\n                handleSettingsChange('alertNotifications', checked)\n              }\n              checked={userData.settings.alertNotifications}\n            />\n          </Layout>\n\n          <Layout\n            style={{\n              marginTop: 20,\n              flexDirection: 'row',\n              justifyContent: 'space-between'\n            }}\n          >\n            <Text>Chat Notifications</Text>\n            <Toggle\n              disabled={settingsDisabled}\n              onChange={(checked) =>\n                handleSettingsChange('chatNotifications', checked)\n              }\n              checked={userData.settings.chatNotifications}\n            />\n          </Layout>\n        </Layout>\n\n        <WrapItems\n          childStyle={{ marginVertical: 3 }}\n          style={{ alignItems: 'center', marginBottom: 10 }}\n        >\n          <Button onPress={logOut} status=\"warning\" appearance=\"outline\">\n            Log Out\n          </Button>\n          <Button\n            onPress={handleDeleteAccount}\n            status=\"danger\"\n            appearance=\"ghost\"\n          >\n            Delete Account\n          </Button>\n          <Text>{currentVersion ? `Version ${currentVersion}` : ''}</Text>\n        </WrapItems>\n      </Layout>\n    </Layout>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { useTheme } from '@ui-kitten/components';\n\nimport { selectDarkMode } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport BackButton from '../../components/BackButton';\nimport EditUser from './EditUser';\nimport SettingsPage from './SettingsPage';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Settings() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerStyle: {\n          backgroundColor: darkMode ? theme['color-basic-800'] : '#fff'\n        }\n      }}\n    >\n      <Stack.Screen\n        name=\"SettingsPage\"\n        component={SettingsPage}\n        options={({ navigation }) => ({\n          title: 'Settings',\n          headerLeft: (props) => (\n            <BackButton navigation={navigation} {...props} />\n          )\n        })}\n      />\n      <Stack.Group screenOptions={{ presentation: 'modal' }}>\n        <Stack.Screen\n          name=\"EditUser\"\n          component={EditUser}\n          options={{ headerShown: false }}\n        />\n      </Stack.Group>\n    </Stack.Navigator>\n  );\n}\n","import { Feather, FontAwesome5 } from '@expo/vector-icons';\nimport { Button, useTheme } from '@ui-kitten/components';\nimport React from 'react';\nimport { ScrollView, View, Text } from 'react-native';\n\nexport default function Menu({ menuItems, setMenuItems }) {\n  const theme = useTheme();\n\n  return (\n    <View style={{ marginVertical: 10 }}>\n      <ScrollView\n        showsHorizontalScrollIndicator={false}\n        horizontal\n        style={{ flexDirection: 'row' }}\n      >\n        {Object.entries(menuItems).map(([name, value]: any[], index) => {\n          if (!value.selected) {\n            return (\n              <Button\n                onPress={() => {\n                  setMenuItems({\n                    ...menuItems,\n                    [name]: { selected: !value.selected }\n                  });\n                }}\n                status={value.selected ? 'info' : 'primary'}\n                style={{\n                  height: 45,\n                  marginHorizontal: 10,\n                  borderRadius: 20,\n                  backgroundColor: `rgba(${theme['color-success-500']}, ${\n                    1 - 0.03 * index\n                  })`,\n                  borderColor: `rgba(${theme['color-success-500']}, ${\n                    1 - 0.03 * index\n                  })`\n                }}\n                key={index}\n              >\n                <View\n                  style={{ alignItems: 'center', justifyContent: 'center' }}\n                >\n                  <Text style={{ color: 'white' }}>\n                    {name}\n                    {value.selected && (\n                      <Text>\n                        {`    `}\n                        <Feather name=\"x\" size={15} />\n                      </Text>\n                    )}\n                  </Text>\n                </View>\n              </Button>\n            );\n          }\n        })}\n      </ScrollView>\n      <ScrollView\n        showsHorizontalScrollIndicator={false}\n        horizontal\n        style={{ flexDirection: 'row', marginTop: 3, marginLeft: 8 }}\n      >\n        {Object.entries(menuItems).map(([name, value]: any[], index) => {\n          if (value.selected) {\n            return (\n              <Button\n                accessoryRight={\n                  <FontAwesome5 name=\"times\" size={14} color=\"white\" />\n                }\n                onPress={() => {\n                  setMenuItems({\n                    ...menuItems,\n                    [name]: { selected: !value.selected }\n                  });\n                }}\n                style={{\n                  height: 45,\n                  marginHorizontal: 2,\n                  borderRadius: 20,\n                  backgroundColor: theme['color-success-500'],\n                  borderColor: theme['color-success-500']\n                }}\n                key={index}\n              >\n                <View\n                  style={{ alignItems: 'center', justifyContent: 'center' }}\n                >\n                  <Text style={{ color: 'white' }}>{name}</Text>\n                </View>\n              </Button>\n            );\n          }\n        })}\n      </ScrollView>\n    </View>\n  );\n}\n","import { apiSlice } from './apiSlice';\n\nexport const sponsorsApiSlice = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    refreshSponsors: builder.query({\n      query: (userKey) => ({\n        url: '/sponsors',\n        headers: {\n          userKey\n        }\n      }),\n      transformResponse: (sponsors: any[]) => {\n        sponsors = sponsors.sort((a, b) => {\n          const textA = a.sponsorName.toUpperCase();\n          const textB = b.sponsorName.toUpperCase();\n          return textA < textB ? 1 : textA > textB ? -1 : 0;\n        });\n\n        return [\n          sponsors.find((sponsor) => sponsor.sponsorName === 'Big Mo\\'s'),\n          ...sponsors.filter((sponsor) => sponsor.sponsorName !== 'Big Mo\\'s')\n        ];\n      }\n    }),\n    postSponsorVisit: builder.mutation({\n      query: ({ userKey, sponsorId }) => ({\n        url: '/analytics/sponsor/ping',\n        method: 'POST',\n        headers: {\n          userKey\n        },\n        body: {\n          sponsorId\n        },\n        responseHandler: (response) => response.text()\n      })\n    })\n  })\n});\n\nexport const { useLazyRefreshSponsorsQuery, usePostSponsorVisitMutation } = sponsorsApiSlice;\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { Layout, useTheme } from '@ui-kitten/components';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport React, { useEffect, useState } from 'react';\nimport {\n  Dimensions,\n  Image,\n  Linking,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View\n} from 'react-native';\n\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport Menu from '../../components/Menu';\nimport {\n  useLazyRefreshSponsorsQuery,\n  usePostSponsorVisitMutation\n} from '../api/sponsorsApi';\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport function SponsorPage({\n  route: {\n    params: { data }\n  }\n}) {\n  const isDarkMode = useAppSelector(selectDarkMode);\n  const sponsorPageStyles = StyleSheet.create({\n    container: {\n      flex: 1\n    },\n    header: {\n      marginTop: 20,\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%'\n    },\n    address: {\n      color: isDarkMode ? 'white' : 'black',\n      alignItems: 'center',\n      margin: 10,\n      borderColor: 'black',\n      borderWidth: 1,\n      padding: 10\n    },\n    video: {\n      marginTop: 20,\n      display: 'flex',\n      justifyContent: 'flex-start'\n    },\n    title: {\n      color: isDarkMode ? 'white' : 'black',\n      fontSize: 26,\n      marginLeft: 10\n    },\n    subtitle: {\n      color: isDarkMode ? 'white' : 'black',\n      fontSize: 14,\n      justifyContent: 'center'\n    },\n    logo: {\n      width: '100%',\n      height: 100\n    },\n    description: {\n      borderWidth: 1,\n      margin: 10,\n      borderColor: '#F1E4B5',\n      borderRadius: 5,\n      width: '95%',\n      padding: 10\n      // backgroundColor: '#F9F9F9',\n    },\n    couponContainer: {\n      width: '100%',\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginTop: 20,\n      marginBottom: 20\n    },\n    coupon: {\n      width: 400,\n      height: 267\n    },\n    imageGallery: {\n      justifyContent: 'center',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      margin: 10,\n      marginBottom: 0\n    },\n    imageStyle: {\n      width: 150,\n      height: 150,\n      paddingTop: 100,\n      margin: 5\n    },\n    headerText: {\n      color: isDarkMode ? 'white' : 'black',\n      fontSize: 20,\n      fontWeight: 'bold'\n    }\n  });\n  const [imageIndex, setImageIndex] = useState(0);\n  const [visible, setIsVisible] = useState(false);\n  const [canOpenLink, setCanOpenLink] = useState(false);\n\n  const [postSponsorVisitQuery] = usePostSponsorVisitMutation();\n\n  const userKey = useAppSelector(selectUserKey);\n\n  const videoLinkArray = data.videoLink && data.videoLink.split('/');\n  const videoLink = data.videoLink && videoLinkArray[videoLinkArray.length - 1];\n\n  function getSubtitle() {\n    if (data.phoneNumber && data.email) {\n      return `${data.phoneNumber} \\u2022 ${data.email}`;\n    }\n    if (data.phoneNumber) {\n      return data.phoneNumber;\n    }\n    if (data.email) {\n      return data.email;\n    }\n    return null;\n  }\n\n  const postSponsorVisit = async () => {\n    try {\n      await postSponsorVisitQuery({ userKey, sponsorId: data._id }).unwrap();\n    } catch (e) {\n      console.warn('Error posting sponsor visit: ', e);\n    }\n  };\n\n  useEffect(() => {\n    const funct = async () => {\n      setCanOpenLink(await Linking.canOpenURL(data.website));\n      postSponsorVisit();\n    };\n    funct();\n  }, []);\n\n  function renderWebsiteLink() {\n    if (canOpenLink) {\n      return (\n        <View>\n          <TouchableOpacity\n            onPress={() => {\n              Linking.openURL(data.website);\n            }}\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'center'\n            }}\n          >\n            <Text\n              style={{\n                fontSize: 15,\n                color: isDarkMode ? '#6b7ee5' : '#4b5dc7',\n                paddingRight: 5\n              }}\n            >\n              Check Out Our Website!\n            </Text>\n            <FontAwesome5 name=\"link\" size={15} color=\"#4b5dc7\" />\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    return null;\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <ScrollView>\n        <Layout style={sponsorPageStyles.container}>\n          <View style={sponsorPageStyles.header}>\n            <Image\n              resizeMode=\"contain\"\n              style={sponsorPageStyles.logo}\n              source={{ uri: data.logo }}\n            />\n          </View>\n          <View\n            style={{ width: '100%', display: 'flex', alignItems: 'center' }}\n          >\n            <Text style={sponsorPageStyles.title}>{data.sponsorName}</Text>\n            <Text style={sponsorPageStyles.subtitle}>{getSubtitle()}</Text>\n          </View>\n\n          {data.location && (\n            <View style={sponsorPageStyles.address}>\n              <Text\n                style={{ fontSize: 18, color: isDarkMode ? 'white' : 'black' }}\n              >\n                {data.location}\n              </Text>\n            </View>\n          )}\n\n          <View\n            style={{ width: '100%', display: 'flex', alignItems: 'center' }}\n          >\n            {renderWebsiteLink()}\n          </View>\n\n          <Layout style={sponsorPageStyles.description}>\n            <Text\n              style={{ fontSize: 17, color: isDarkMode ? 'white' : 'black' }}\n            >\n              {data.description}\n            </Text>\n          </Layout>\n          <View\n            style={{\n              width: '100%',\n              alignSelf: 'flex-start',\n              marginLeft: 20,\n              borderBottomColor: '#F1E4B5',\n              borderBottomWidth: 2,\n              paddingBottom: 5\n            }}\n          >\n            <Text style={sponsorPageStyles.headerText}>Image Gallery</Text>\n          </View>\n\n          <View style={sponsorPageStyles.imageGallery}>\n            {data.images.map((img, index) => {\n              return (\n                <TouchableOpacity\n                  onPress={() => {\n                    setImageIndex(index);\n                    setIsVisible(true);\n                  }}\n                >\n                  <Image\n                    style={sponsorPageStyles.imageStyle}\n                    source={{ uri: img }}\n                  />\n                </TouchableOpacity>\n              );\n            })}\n          </View>\n\n          {data.coupons[0] && (\n            <Layout style={sponsorPageStyles.couponContainer}>\n              <Image\n                resizeMode=\"contain\"\n                source={require('../../../assets/sponsorPage/coupon.png')}\n                style={sponsorPageStyles.coupon}\n              />\n              <Text\n                style={{\n                  position: 'absolute',\n                  fontSize: 30,\n                  textAlign: 'center',\n                  justifyContent: 'center',\n                  width: '75%',\n                  paddingBottom: 20,\n                  paddingRight: 7\n                }}\n              >\n                {data.coupons[0].couponDescription}\n              </Text>\n              <Text\n                style={{ fontSize: 15, color: isDarkMode ? 'white' : 'black' }}\n              >\n                Show this coupon at the store to redeem.\n              </Text>\n            </Layout>\n          )}\n\n          <View\n            style={{\n              width: '100%',\n              alignSelf: 'flex-start',\n              marginLeft: 20,\n              borderBottomColor: '#F1E4B5',\n              borderBottomWidth: 2,\n              paddingBottom: 5\n            }}\n          >\n            <Text style={sponsorPageStyles.headerText}>Hours</Text>\n          </View>\n          <View\n            style={{\n              justifyContent: 'center',\n              alignSelf: 'center',\n              marginLeft: 25,\n              marginBottom: 50\n            }}\n          >\n            {data.hours.map((day, i) => {\n              return (\n                <Layout\n                  key={i}\n                  style={{\n                    justifyContent: 'space-between',\n                    flexDirection: 'row',\n                    width: '100%'\n                  }}\n                >\n                  <Text\n                    style={{\n                      marginTop: 10,\n                      color: isDarkMode ? 'white' : 'black'\n                    }}\n                  >\n                    {day.dayOfTheWeek}:\n                  </Text>\n                  <Text\n                    style={{\n                      alignSelf: 'flex-end',\n                      paddingRight: 30,\n                      marginTop: 10,\n                      color: isDarkMode ? 'white' : 'black'\n                    }}\n                  >\n                    {buildTimeString(day)}\n                  </Text>\n                </Layout>\n              );\n            })}\n          </View>\n        </Layout>\n      </ScrollView>\n    </Layout>\n  );\n}\n\nfunction buildTimeString(time) {\n  if (!time.openTime || time.openTime === '' || time.openTime === null) {\n    return 'closed';\n  }\n  return `${convertTo12HourTime(time.openTime)} - ${convertTo12HourTime(\n    time.closeTime\n  )}`;\n}\n\nfunction convertTo12HourTime(time) {\n  if (time.length !== 5) {\n    time = `0${time}`;\n  }\n  let hours = time.slice(0, 2);\n  const minutes = time.slice(3, 5);\n  let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n  hours %= 12;\n  if (hours === 0) {\n    hours = 12;\n    ampm = 'pm';\n  }\n  return `${hours}:${minutes}${ampm}`;\n}\n\nexport function SponsorsList({ navigation }) {\n  const theme = useTheme();\n  const isDarkMode = useAppSelector(selectDarkMode);\n  const [sponsorFilters, setSponsorFilters] = useState({});\n  const [gotSponsors, setGotSponsors] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const [refreshSponsorsQuery, { data: sponsors }] =\n    useLazyRefreshSponsorsQuery();\n\n  if (!gotSponsors) {\n    setGotSponsors(true);\n    refreshSponsors();\n  }\n\n  useEffect(() => {\n    if (sponsors?.length > 0) {\n      getFilters();\n    }\n  }, [sponsors]);\n\n  async function refreshSponsors() {\n    try {\n      await refreshSponsorsQuery(userKey).unwrap();\n    } catch (e) {\n      console.warn('Error refreshing sponsors: ', e);\n    }\n  }\n\n  function getFilters() {\n    let tabNames = [];\n    const final = [];\n    for (const sponsor of sponsors) {\n      if (sponsor.tags !== undefined) {\n        for (const name of sponsor.tags) {\n          if (!tabNames.includes(name)) {\n            tabNames.push(name);\n          }\n        }\n      }\n    }\n    tabNames = tabNames.sort();\n\n    // Puts 'Other' at the end\n    const temp = tabNames.includes('Other')\n      ? tabNames.findIndex((item) => item === 'Other')\n      : -1;\n    if (temp !== -1) {\n      tabNames.splice(temp, 1);\n    }\n    tabNames.push('Other');\n\n    const tempFilters = {};\n    for (const name of tabNames) {\n      tempFilters[name] = {\n        selected: false\n      };\n    }\n    setSponsorFilters(tempFilters);\n  }\n\n  function renderSponsorsBasedOnFilters() {\n    let shouldLimitPrint = false;\n    for (const filterName in sponsorFilters) {\n      if (sponsorFilters[filterName].selected) {\n        shouldLimitPrint = true;\n        break;\n      }\n    }\n    if (!shouldLimitPrint) {\n      return getTheSponsors(sponsors || [], navigation);\n    }\n    const sponsorsToSend = [];\n    for (const filterName in sponsorFilters) {\n      if (sponsorFilters[filterName].selected) {\n        for (const sponsor of sponsors) {\n          if (sponsor.tags.includes(filterName)) {\n            sponsorsToSend.push(sponsor);\n          }\n        }\n      }\n    }\n    return getTheSponsors(sponsorsToSend || [], navigation);\n  }\n\n  return (\n    <LinearGradient\n      colors={\n        isDarkMode\n          ? [theme['color-basic-1100'], theme['color-basic-1100']]\n          : [theme['color-primary-500'], theme['color-success-500']]\n      }\n      style={{\n        width: '100%',\n        margin: 0,\n        alignItems: 'center',\n        flex: 1\n      }}\n      start={{ x: 0, y: 0 }}\n      end={{ x: 1, y: 0.4 }}\n    >\n      <Layout style={{ flex: 1 }}>\n        <Menu\n          setMenuItems={setSponsorFilters}\n          menuItems={Object.keys(sponsorFilters).length > 0}\n        />\n        <ScrollView\n          showsVerticalScrollIndicator={false}\n          contentContainerStyle={{ alignItems: 'center' }}\n        >\n          {sponsors?.length === 0 ? (\n            <Text>Nothing to see here</Text>\n          ) : (\n            renderSponsorsBasedOnFilters()\n          )}\n        </ScrollView>\n      </Layout>\n    </LinearGradient>\n  );\n}\n\nfunction getTheSponsors(sponsors, navigation) {\n  const isDarkMode = useAppSelector(selectDarkMode);\n  const listingStyles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#fff',\n      alignItems: 'center'\n    },\n    cardContainer: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      width: '100%',\n      maxWidth: windowWidth / 2,\n      height: 130,\n      backgroundColor: isDarkMode ? '#464646' : '#fff',\n      borderRadius: 10,\n      borderWidth: 1,\n      borderColor: isDarkMode ? '#818181' : '#ddd',\n      borderBottomWidth: isDarkMode ? 1 : 0,\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 2 },\n      shadowOpacity: 0.2,\n      shadowRadius: 2,\n      elevation: 1,\n      marginLeft: 5,\n      marginRight: 5,\n      marginTop: 10\n    },\n    text: {\n      flex: 1,\n      color: isDarkMode ? 'white' : 'black',\n      fontSize: 20,\n      textAlign: 'center',\n      marginTop: 5,\n      marginBottom: 5\n    },\n    image: {\n      width: 120,\n      height: 120,\n      marginLeft: 10,\n      borderRadius: 10\n    }\n  });\n  if (sponsors.length === 0) {\n    return;\n  }\n  const final = [];\n  const starredFinal = [];\n  for (const sponsor of sponsors) {\n    if (sponsor.coupons && sponsor.coupons.length > 0) {\n      starredFinal.push(\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate('SponsorPage', { data: sponsor });\n          }}\n          style={listingStyles.cardContainer}\n          key={sponsor._id}\n        >\n          {sponsor.coupons?.length ? (\n            <FontAwesome5\n              name=\"star\"\n              color=\"gold\"\n              style={{\n                alignSelf: 'flex-start',\n                top: 5,\n                left: 5\n              }}\n            />\n          ) : null}\n\n          <View style={{ flex: 1 }}>\n            <Image\n              resizeMode=\"contain\"\n              style={listingStyles.image}\n              source={{ uri: sponsor.logo }}\n            />\n          </View>\n\n          <Text style={listingStyles.text}>{sponsor.sponsorName}</Text>\n        </TouchableOpacity>\n      );\n    } else {\n      final.push(\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate('SponsorPage', { data: sponsor });\n          }}\n          style={listingStyles.cardContainer}\n          key={sponsor._id}\n        >\n          {sponsor.coupons?.length ? (\n            <FontAwesome5\n              name=\"star\"\n              color=\"gold\"\n              style={{\n                position: 'absolute',\n                alignSelf: 'flex-start',\n                top: 5,\n                left: 5\n              }}\n            />\n          ) : null}\n\n          <View style={{ flex: 1 }}>\n            <Image\n              resizeMode=\"contain\"\n              style={listingStyles.image}\n              source={{ uri: sponsor.logo }}\n            />\n          </View>\n\n          <Text style={listingStyles.text}>{sponsor.sponsorName}</Text>\n        </TouchableOpacity>\n      );\n    }\n  }\n  for (const object of final) {\n    starredFinal.push(object);\n  }\n  return starredFinal;\n}\n","export const departments = [\n  'AFRI',\n  'AMST',\n  'ANTH',\n  'ARBC',\n  'ARBT',\n  'ARCN',\n  'ARHI',\n  'ART',\n  'ASAM',\n  'ASIA',\n  'ASTR',\n  'BIOL',\n  'CASA',\n  'CGH',\n  'CGS',\n  'CHEM',\n  'CHIN',\n  'CHLT',\n  'CHNT',\n  'CHST',\n  'CLAS',\n  'CLES',\n  'COGS',\n  'CORE',\n  'CREA',\n  'CSCI',\n  'CSMT',\n  'DANC',\n  'DS',\n  'EA',\n  'ECON',\n  'EDUC',\n  'ENGL',\n  'ENGR',\n  'ENTR',\n  'EURO',\n  'FGSS',\n  'FHS',\n  'FREN',\n  'FS',\n  'FWS',\n  'GEOG',\n  'GEOL',\n  'GERM',\n  'GLAS',\n  'GOVT',\n  'GREK',\n  'GRMT',\n  'GWS',\n  'HIST',\n  'HMSC',\n  'HSA',\n  'HUM',\n  'ID',\n  'IR',\n  'ITAL',\n  'JAPN',\n  'JPNT',\n  'KORE',\n  'KRNT',\n  'LAMS',\n  'LAS',\n  'LAST',\n  'LATN',\n  'LEAD',\n  'LGCS',\n  'LGST',\n  'LIT',\n  'MATH',\n  'MCBI',\n  'MCSI',\n  'MES',\n  'MLLC',\n  'MOBI',\n  'MS',\n  'MSL',\n  'MUS',\n  'NEUR',\n  'ORST',\n  'PE',\n  'PHIL',\n  'PHYS',\n  'POLI',\n  'PONT',\n  'PORT',\n  'POST',\n  'PPA',\n  'PPE',\n  'PSYC',\n  'RLIT',\n  'RLST',\n  'RUSS',\n  'RUST',\n  'SCI',\n  'SOC',\n  'SPAN',\n  'SPCH',\n  'STS',\n  'TEST',\n  'THEA',\n  'THES',\n  'WRIT'\n];\n","import {\n  Autocomplete,\n  AutocompleteItem,\n  Button,\n  Card,\n  Input,\n  Layout,\n  Text\n} from '@ui-kitten/components';\nimport { useCallback, useEffect, useState } from 'react';\nimport { Keyboard, TouchableWithoutFeedback } from 'react-native';\n\nimport synonyms from './synonyms.json';\nimport { useAppDispatch, useAppSelector } from '../../../app/hooks';\nimport WrapItems from '../../../components/WrapItems';\nimport { departments } from '../../../constants/electiveGenerator';\nimport { showToast } from '../../../functions';\nimport {\n  electiveGeneratorSelected,\n  selectClassesList,\n  suggestedClassesUpdated\n} from '../classPagesSlice';\n\nexport default function ElectiveGenerator({ navigation }: any) {\n  const dispatch = useAppDispatch();\n  const [departmentQuery, setDepartmentQuery] = useState('');\n  const [departmentOptions, setDepartmentOptions] = useState(departments);\n  const [description, setDescription] = useState('');\n\n  const classes = useAppSelector(selectClassesList);\n\n  const getClassesByDepartment = useCallback((department: string) => {\n    if (department === 'All Departments') return Object.entries(classes);\n    return Object.entries(classes).filter(([key, _]) => {\n      const classDepartment = key.split(' ')[0];\n      return classDepartment === department;\n    });\n  }, []);\n\n  useEffect(() => {\n    dispatch(electiveGeneratorSelected());\n  }, []);\n\n  const onChangeDepartmentText = useCallback((query: string): void => {\n    setDepartmentQuery(query);\n    setDepartmentOptions(\n      departments.filter((department) =>\n        department.includes(query.toUpperCase())\n      )\n    );\n  }, []);\n\n  const onSubmit = () => {\n    Keyboard.dismiss();\n    if (!departmentQuery || !description) {\n      showToast('Please fill out all fields', 'red');\n      return;\n    }\n    const cleanedDescription = description\n      .toLowerCase()\n      .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, '')\n      .replace(/\\s{2,}/g, ' ');\n    const classesByDepartment = getClassesByDepartment(departmentQuery);\n    // Compare text in user input to class descriptions and return top 5 matches\n    classesByDepartment.sort((a, b) => {\n      const aWords = getWords(`${a[1].summary} ${a[1].courseName}`);\n      const bWords = getWords(`${b[1].summary} ${b[1].courseName}`);\n\n      const aMatches = aWords.filter((word) =>\n        cleanedDescription.includes(word)\n      );\n      const bMatches = bWords.filter((word) =>\n        cleanedDescription.includes(word)\n      );\n      return bMatches.length - aMatches.length;\n    });\n\n    const matches = Object.fromEntries(classesByDepartment.slice(0, 5));\n    dispatch(suggestedClassesUpdated(matches));\n    navigation.goBack();\n    showToast('Suggested classes updated!', 'green');\n  };\n\n  // Helper functions\n  const getWords = (text: string) => {\n    const wordList = text\n      .toLowerCase()\n      .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, '')\n      .replace(/\\s{2,}/g, ' ')\n      .split(' ');\n\n    let wordListWithSynonyms = [];\n\n    for (const word of wordList) {\n      if (synonyms[word]) {\n        wordListWithSynonyms.push(word);\n        wordListWithSynonyms = wordListWithSynonyms.concat(synonyms[word]);\n      }\n    }\n\n    return wordListWithSynonyms;\n  };\n\n  return (\n    <TouchableWithoutFeedback onPress={Keyboard.dismiss} style={{ flex: 1 }}>\n      <Layout style={{ flex: 1 }}>\n        <WrapItems childStyle={{ margin: 20 }}>\n          <Card activeOpacity={1} disabled>\n            <Text category=\"s1\" style={{ textAlign: 'center' }}>\n              Choose a department and write a description about what inspires\n              you.\n              {`\\n\\n`}\n              Then let our powerful AI choose the best electives for you!\n            </Text>\n          </Card>\n          <Autocomplete\n            label=\"Department\"\n            onSelect={(index) => setDepartmentQuery(departmentOptions[index])}\n            onChangeText={onChangeDepartmentText}\n            value={departmentQuery}\n          >\n            {departmentOptions.map((option) => (\n              <AutocompleteItem title={option} key={option} />\n            ))}\n          </Autocomplete>\n          <Input\n            label=\"Description\"\n            multiline\n            textStyle={{ minHeight: 100 }}\n            value={description}\n            onChangeText={(text) => setDescription(text)}\n          />\n          <Button onPress={onSubmit}>Submit</Button>\n        </WrapItems>\n      </Layout>\n    </TouchableWithoutFeedback>\n  );\n}\n","import { FontAwesome5, Foundation, Ionicons } from '@expo/vector-icons';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout, Text, useTheme } from '@ui-kitten/components';\nimport React, { useEffect, useState } from 'react';\nimport { Image, Platform, TouchableOpacity } from 'react-native';\n\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport Header from '../../components/Header';\nimport NotificationsNavigation from '../notifications/Notifications';\nimport { base_URL } from '../notifications/constants';\nimport Settings from '../settings/index';\nimport { SponsorPage, SponsorsList } from '../sponsors/SponsorsList';\nimport ClassesList from './ClassesList';\nimport ElectiveGenerator from './ElectiveGenerator';\nimport SelectTerm from './SelectTerm';\nimport SingleClassPage from './SingleClassPage/index';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function SearchClasses({ navigation }) {\n  const theme = useTheme();\n  const hasSelectedElectiveGenerator = useAppSelector(\n    (state) => state.appData.classPages.hasSelectedElectiveGen\n  );\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [numberOfNotifications, setNumberOfNotifications] = useState(0);\n\n  function refreshNotifications() {\n    fetch(`${base_URL}/users/getNotifications`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then((res) => {\n      res.text().then((notifications) => {\n        notifications = JSON.parse(notifications);\n        setNumberOfNotifications(notifications.length);\n      });\n    });\n  }\n\n  useEffect(() => {\n    refreshNotifications();\n    setInterval(() => {\n      refreshNotifications();\n    }, 60000); // refresh every minute\n  }, []);\n\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28\n      }}\n      source={require('../../../assets/logos/app-logo-transparent.png')}\n    />\n  );\n\n  const accessoryRight = (\n    <Layout\n      style={{\n        flexDirection: 'row',\n        width: 120,\n        justifyContent: 'space-between'\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('ElectiveGenerator');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        {hasSelectedElectiveGenerator ? (\n          <FontAwesome5\n            name=\"brain\"\n            size={23}\n            color={\n              darkMode ? theme['color-basic-200'] : theme['color-basic-800']\n            }\n          />\n        ) : (\n          <Foundation\n            name=\"burst-new\"\n            size={30}\n            color={theme['color-warning-500']}\n          />\n        )}\n      </TouchableOpacity>\n\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('SponsorsList');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        <FontAwesome5\n          name=\"shopping-bag\"\n          size={23}\n          color={darkMode ? theme['color-basic-200'] : theme['color-basic-800']}\n        />\n      </TouchableOpacity>\n\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('Settings');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        <Ionicons\n          name=\"settings\"\n          size={23}\n          color={darkMode ? theme['color-basic-200'] : theme['color-basic-800']}\n        />\n      </TouchableOpacity>\n\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('NotificationsPage');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        <FontAwesome5\n          name=\"bell\"\n          size={23}\n          color={darkMode ? theme['color-basic-200'] : theme['color-basic-800']}\n        />\n        {numberOfNotifications > 0 ? (\n          <Layout\n            style={{\n              position: 'absolute',\n              backgroundColor: darkMode ? 'red' : '#fff',\n              borderRadius: 10,\n              paddingHorizontal: 3,\n              right: -7,\n              top: -3\n            }}\n          >\n            <Text>{numberOfNotifications}</Text>\n          </Layout>\n        ) : null}\n      </TouchableOpacity>\n    </Layout>\n  );\n\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"ClassesList\"\n        component={ClassesList}\n        options={{\n          header: () => (\n            <Layout style={{ paddingBottom: 10 }}>\n              <Header\n                accessoryLeft={accessoryLeft}\n                accessoryRight={accessoryRight}\n                title=\"Athena\"\n              />\n            </Layout>\n          ),\n          title: 'Class Pages'\n        }}\n      />\n      <Stack.Screen\n        name=\"Settings\"\n        component={Settings}\n        options={{\n          headerShown: false\n        }}\n      />\n      <Stack.Group screenOptions={{ headerTitle: 'Sponsors' }}>\n        <Stack.Screen\n          name=\"SponsorsList\"\n          component={SponsorsList}\n          options={{ title: 'Sponsors' }}\n        />\n        <Stack.Screen\n          name=\"SponsorPage\"\n          component={SponsorPage}\n          options={{ title: 'Sponsors' }}\n        />\n      </Stack.Group>\n      <Stack.Screen\n        name=\"NotificationsPage\"\n        component={NotificationsNavigation}\n        options={{ headerShown: false, title: 'Notifications' }}\n      />\n      <Stack.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: 'Select Term',\n          headerShown: false,\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n      <Stack.Screen\n        name=\"ElectiveGenerator\"\n        component={ElectiveGenerator}\n        options={{\n          title: 'Elective Generator',\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n      {Platform.OS === 'web' && (\n        <Stack.Screen\n          name=\"SingleClassPage\"\n          component={SingleClassPage}\n          options={{\n            headerShown: false,\n            title: 'ClassPages'\n          }}\n        />\n      )}\n    </Stack.Navigator>\n  );\n}\n","import { Feather, FontAwesome } from '@expo/vector-icons';\nimport { Input, Layout, Text } from '@ui-kitten/components';\nimport * as ImagePicker from 'expo-image-picker';\nimport React from 'react';\nimport {\n  Alert,\n  Dimensions,\n  Image,\n  Platform,\n  TouchableOpacity\n} from 'react-native';\nimport Toast from 'react-native-root-toast';\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function CreateImage({\n  discoverPostInputs,\n  setDiscoverPostInputs,\n  TagInput,\n  showTitle = true\n}) {\n  const [imagePickerStatus, requestImagePickerPermission] =\n    ImagePicker.useMediaLibraryPermissions();\n  const [cameraStatus, requestCameraPermission] =\n    ImagePicker.useCameraPermissions();\n\n  const onPressCamera = async () => {\n    const response = await requestCameraPermission();\n    if (response.granted || cameraStatus.granted) {\n      const result = await ImagePicker.launchCameraAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images\n      });\n      if (!result.canceled) {\n        setDiscoverPostInputs({\n          ...discoverPostInputs,\n          contentImage: result.assets[0]\n        });\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera is required. Please enable it in your phone's settings.\"\n      );\n    }\n  };\n\n  const pickImage = async () => {\n    const response = await requestImagePickerPermission();\n    if (response.granted || imagePickerStatus.granted) {\n      const result = await ImagePicker.launchImageLibraryAsync({\n        allowsEditing: false\n      });\n      if (!result.canceled) {\n        setDiscoverPostInputs({\n          ...discoverPostInputs,\n          contentImage: result.assets[0]\n        });\n\n        if (Platform.OS === 'android') {\n          Toast.show(\"Don't worry if the image seems blurry on the sides.\", {\n            duration: Toast.durations.LONG,\n            opacity: 1,\n            position: -100,\n            backgroundColor: 'grey',\n            shadow: false\n          });\n        }\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera roll is required. Please enable it in your phone's settings.\"\n      );\n    }\n  };\n\n  const Title = (\n    <Layout\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'space-evenly',\n        alignItems: 'center',\n        marginTop: 15\n      }}\n    >\n      <Input\n        label=\"Title\"\n        placeholder=\"Post Title\"\n        value={discoverPostInputs?.title ? discoverPostInputs.title : ''}\n        style={{ flex: 5 }}\n        onChangeText={(newText) => {\n          setDiscoverPostInputs({\n            ...discoverPostInputs,\n            title: newText\n          });\n        }}\n      />\n    </Layout>\n  );\n\n  let imagePicker = <></>;\n\n  if (discoverPostInputs?.contentImage) {\n    // Image Preview\n    imagePicker = (\n      <Layout\n        level=\"2\"\n        style={{\n          height: 300,\n          marginVertical: 10,\n          borderRadius: 10,\n          shadowColor: '#000',\n          shadowOffset: {\n            width: 0,\n            height: 5\n          },\n          shadowOpacity: 0.34,\n          shadowRadius: 6.27,\n\n          elevation: 10\n        }}\n      >\n        <TouchableOpacity\n          onPress={() => {\n            setDiscoverPostInputs(null);\n          }}\n          style={{\n            position: 'absolute',\n            right: 10,\n            top: 5,\n            zIndex: 1\n          }}\n        >\n          <Feather name=\"x-circle\" size={30} color=\"grey\" />\n        </TouchableOpacity>\n\n        <Image\n          source={{\n            uri: discoverPostInputs.contentImage.uri\n          }}\n          style={{\n            borderRadius: 5,\n            width: '100%',\n            height: '100%',\n            resizeMode: 'contain'\n          }}\n        />\n      </Layout>\n    );\n  } else {\n    // Image Picker\n    imagePicker = (\n      <Layout style={{ flexDirection: 'row' }}>\n        <TouchableOpacity\n          onPress={() => {\n            pickImage();\n          }}\n          style={{\n            height: 80,\n            justifyContent: 'center',\n            alignItems: 'center',\n            flex: 1,\n            paddingVertical: 8,\n            flexDirection: 'row'\n          }}\n        >\n          <Layout\n            level=\"2\"\n            style={{\n              flex: 1,\n              flexDirection: 'row',\n              height: '100%',\n              marginHorizontal: 10,\n              paddingVertical: 15,\n              paddingHorizontal: 5,\n              borderRadius: 8,\n              alignItems: 'center',\n              justifyContent: 'space-around'\n            }}\n          >\n            <FontAwesome name=\"image\" size={25} color=\"grey\" />\n            <Text>Select Image</Text>\n          </Layout>\n        </TouchableOpacity>\n        <TouchableOpacity\n          onPress={onPressCamera}\n          style={{\n            height: 80,\n            justifyContent: 'center',\n            alignItems: 'center',\n            flex: 1,\n            paddingVertical: 8,\n            flexDirection: 'row'\n          }}\n        >\n          <Layout\n            level=\"2\"\n            style={{\n              flex: 1,\n              flexDirection: 'row',\n              height: '100%',\n              marginHorizontal: 10,\n              paddingVertical: 15,\n              paddingHorizontal: 5,\n              borderRadius: 8,\n              alignItems: 'center',\n              justifyContent: 'space-around'\n            }}\n          >\n            <FontAwesome name=\"camera\" size={25} color=\"grey\" />\n            <Text>Use Camera</Text>\n          </Layout>\n        </TouchableOpacity>\n      </Layout>\n    );\n  }\n\n  return (\n    <>\n      {showTitle && Title}\n      {TagInput()}\n      {imagePicker}\n    </>\n  );\n}\n","import { AntDesign } from '@expo/vector-icons';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport {\n  Button,\n  Datepicker,\n  Divider,\n  Input,\n  Layout,\n  NativeDateService,\n  Text\n} from '@ui-kitten/components';\nimport { useMemo, useState } from 'react';\nimport { Platform } from 'react-native';\n\nimport WrapItems from '../../../components/WrapItems';\nimport CreateImage from './CreateImagePost';\n\nexport default function CreateEvent({\n  discoverPostInputs,\n  setDiscoverPostInputs,\n  TagInput,\n  startTime,\n  setStartTime,\n  endTime,\n  setEndTime,\n  date,\n  setDate\n}) {\n  // Needed because Android date picker uses a modal\n  const [showTimePickerAndroid, setShowTimePickerAndroid] = useState(false);\n\n  const formatDateService = new NativeDateService('en', {\n    format: 'MM/DD/YYYY'\n  });\n  const timePickerOptions = useMemo(\n    () => ({\n      'Start Time': { time: startTime, setTime: setStartTime },\n      'End Time': { time: endTime, setTime: setEndTime }\n    }),\n    [startTime, setStartTime, endTime, setEndTime]\n  );\n\n  const formatAMPM = (date: Date) => {\n    let hours = date.getHours();\n    let minutes = date.getMinutes() as any;\n    const ampm = hours >= 12 ? 'pm' : 'am';\n    hours %= 12;\n    hours = hours || 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? `0${minutes}` : minutes;\n    const strTime = `${hours}:${minutes} ${ampm}`;\n    return strTime;\n  };\n\n  const Title = (\n    <Layout\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'space-evenly',\n        alignItems: 'center',\n        marginTop: 15\n      }}\n    >\n      <Input\n        label=\"Title\"\n        placeholder=\"Post Title\"\n        value={discoverPostInputs?.title ? discoverPostInputs.title : ''}\n        style={{ flex: 5 }}\n        onChangeText={(newText) => {\n          setDiscoverPostInputs({\n            ...discoverPostInputs,\n            title: newText\n          });\n        }}\n      />\n    </Layout>\n  );\n\n  function TimePicker() {\n    if (Platform.OS === 'android') {\n      return (\n        <Layout\n          style={{\n            flexDirection: 'row',\n            justifyContent: 'space-around'\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: 'center' }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n                <Button\n                  onPress={() => {\n                    setShowTimePickerAndroid(true);\n                  }}\n                >\n                  {formatAMPM(time)}\n                </Button>\n                {showTimePickerAndroid && (\n                  <DateTimePicker\n                    mode=\"time\"\n                    onChange={(change, date) => {\n                      setTime(date);\n                      setShowTimePickerAndroid(false);\n                    }}\n                    value={time}\n                  />\n                )}\n              </Layout>\n            )\n          )}\n        </Layout>\n      );\n    }\n    if (Platform.OS === 'ios') {\n      return (\n        <Layout\n          style={{\n            flexDirection: 'row',\n            justifyContent: 'space-around'\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: 'center' }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n\n                <DateTimePicker\n                  mode=\"time\"\n                  onChange={(change, date) => {\n                    setTime(date);\n                  }}\n                  value={time}\n                />\n              </Layout>\n            )\n          )}\n        </Layout>\n      );\n    }\n  }\n\n  if (Platform.OS === 'web') {\n    return (\n      <Text>\n        Creating Event Posts is not supported on the web. Download the app on\n        the App Store or Play Store to make an Event Post.\n      </Text>\n    );\n  }\n\n  return (\n    <Layout>\n      <WrapItems childStyle={{ marginVertical: 10 }}>\n        {Title}\n        <Input\n          label=\"Location\"\n          placeholder=\"Ex: North Dorm, HMC\"\n          value={discoverPostInputs?.location}\n          onChangeText={(newText) => {\n            setDiscoverPostInputs({\n              ...discoverPostInputs,\n              location: newText\n            });\n          }}\n        />\n        <Datepicker\n          label=\"Date\"\n          dateService={formatDateService}\n          onSelect={(nextDate) => setDate(nextDate)}\n          date={date}\n          placement=\"top\"\n        />\n        <TimePicker />\n        <Layout style={{ padding: 6 }}>\n          <Divider />\n          <AntDesign name=\"caretdown\" style={{ position: 'absolute' }} />\n          <AntDesign\n            name=\"caretdown\"\n            style={{ position: 'absolute', right: 0 }}\n          />\n          <Layout\n            style={{ position: 'absolute', right: '44%', marginBottom: 6 }}\n          >\n            <Text appearance=\"hint\">Optional</Text>\n          </Layout>\n        </Layout>\n\n        <Layout>\n          <Input\n            label=\"Link\"\n            placeholder=\"www.example.com\"\n            style={{ marginBottom: 10 }}\n            value={\n              discoverPostInputs?.contentUrl\n                ? discoverPostInputs.contentUrl\n                : ''\n            }\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                contentUrl: newText\n              });\n            }}\n          />\n          <Input\n            label=\"Host\"\n            placeholder=\"Ex: John Doe\"\n            style={{ marginBottom: 5 }}\n            value={discoverPostInputs?.host}\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                host: newText\n              });\n            }}\n          />\n\n          <Input\n            label=\"Description\"\n            multiline\n            placeholder=\"Describe the event...\"\n            style={{ marginVertical: 10 }}\n            value={discoverPostInputs?.description}\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                description: newText\n              });\n            }}\n          />\n\n          <CreateImage\n            showTitle={false}\n            {...{ discoverPostInputs, setDiscoverPostInputs, TagInput }}\n          />\n        </Layout>\n      </WrapItems>\n    </Layout>\n  );\n}\n","import { createEntityAdapter } from '@reduxjs/toolkit';\n\nimport { apiSlice } from './apiSlice';\nimport { DiscoverPost } from '../../app/types';\nimport { DISCOVER_LIST_PAGE_SIZE } from '../../constants/discover';\n\ntype getPostsArgs = {\n  userKey: string;\n  userName: string;\n  pageNumber?: number;\n  tag?: string;\n  searchTerm?: string;\n  sponsor?: boolean;\n};\n\nconst postsAdapter = createEntityAdapter<DiscoverPost>({\n  selectId: (post: DiscoverPost) => post._id\n});\n\n// Helper Functions\n\nconst tranformComments = (comments, userName) => comments.map((comment) => ({\n  ...comment,\n  numLikes: comment.likes.length,\n  hasLiked: comment.likes.includes(userName)\n}));\n\nexport const discoverApiSlice = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    getDiscoverPosts: builder.query<any, getPostsArgs>({\n      keepUnusedDataFor: 6000,\n      query: ({\n        userKey, pageNumber, tag, searchTerm, sponsor = true\n      }) => ({\n        url: `/discover/getPosts`,\n        headers: {\n          userKey\n        },\n        params: {\n          tag,\n          searchTerm,\n          pageNumber,\n          sponsor,\n          pageLength: DISCOVER_LIST_PAGE_SIZE\n        }\n      }),\n      transformResponse: (response: DiscoverPost[], _, { userName }) => {\n        // Return Post To State Using Adapters\n        return postsAdapter.addMany(\n          postsAdapter.getInitialState({\n            hasMorePages: response.length > 0\n          }),\n          // TODO: Refactoring likes and comments. Should maybe be done in backend\n          response.map((post) => ({\n            ...post,\n            numLikes: post.likes.length,\n            hasLiked: post.likes.includes(userName),\n            comments: tranformComments(post.comments, userName)\n          }))\n        );\n      },\n      async onQueryStarted(\n        {\n          userKey, pageNumber, userName, searchTerm, tag, sponsor\n        },\n        { queryFulfilled, dispatch }\n      ) {\n        if (!pageNumber) {\n          return;\n        }\n        const { data } = await queryFulfilled;\n\n        if (data?.ids?.length > 0) {\n          // Add Posts On Current Request To Page 1\n          dispatch(\n            discoverApiSlice.util.updateQueryData(\n              'getDiscoverPosts',\n              {\n                userKey,\n                pageNumber: 1,\n                userName,\n                searchTerm,\n                tag,\n                sponsor\n              },\n              (draft) => {\n                postsAdapter.addMany(draft, postsSelectors.selectAll(data));\n              }\n            )\n          );\n\n          if (pageNumber > 1) {\n            // Remove Cached Data From State Since We Already Added It To Page 1\n            dispatch(\n              discoverApiSlice.util.updateQueryData(\n                'getDiscoverPosts',\n                {\n                  userKey,\n                  pageNumber,\n                  userName,\n                  searchTerm,\n                  tag,\n                  sponsor\n                },\n                (draft) => {\n                  draft = postsAdapter.getInitialState();\n                }\n              )\n            );\n          }\n        } else {\n          // No More Pages To Load\n          dispatch(\n            discoverApiSlice.util.updateQueryData(\n              'getDiscoverPosts',\n              {\n                userKey,\n                pageNumber: 1,\n                userName,\n                searchTerm,\n                tag,\n                sponsor\n              },\n              (draft) => {\n                draft.hasMorePages = false;\n              }\n            )\n          );\n        }\n      }\n    }),\n\n    createDiscoverPost: builder.mutation({\n      query: ({\n        userKey,\n        title,\n        type,\n        content,\n        tags,\n        status,\n        emoji,\n        postBody,\n        pinned\n      }) => {\n        if (type === 'contentImage' || type === 'contentEvent') {\n          return {\n            url: '/discover/addPost',\n            method: 'POST',\n            headers: { userKey },\n            body: postBody\n          };\n        }\n        return {\n          url: '/discover/addPost',\n          method: 'POST',\n          headers: { userKey },\n          body: {\n            title,\n            type,\n            [type]: content,\n            tags,\n            status,\n            emoji,\n            pinned\n          }\n        };\n      },\n      async onQueryStarted(\n        { userKey, userName },\n        { dispatch, queryFulfilled }\n      ) {\n        try {\n          const { data: newPost } = await queryFulfilled;\n\n          // Add New Post To State\n          dispatch(\n            discoverApiSlice.util.updateQueryData(\n              'getDiscoverPosts',\n              { userKey, userName, pageNumber: 1 },\n              (draft) => {\n                postsAdapter.addOne(draft, {\n                  ...newPost,\n                  numLikes: 0,\n                  hasLiked: false\n                });\n              }\n            )\n          );\n        } catch (e) {\n          console.warn('Error Adding Post To State', e);\n        }\n      }\n    }),\n    deleteDiscoverPost: builder.mutation({\n      query: ({\n        userKey, _id, userName, title\n      }) => ({\n        url: '/discover/deletePost',\n        method: 'DELETE',\n        headers: { userKey },\n        body: {\n          _id,\n          userName,\n          title\n        },\n        responseHandler: (response) => response.text()\n      }),\n      async onQueryStarted(\n        {\n          userKey, _id, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled }\n      ) {\n        if (searchTerm || tag) {\n          var searchPatchResult = dispatch(\n            discoverApiSlice.util.updateQueryData(\n              'getDiscoverPosts',\n              {\n                userKey,\n                userName,\n                pageNumber: 1,\n                searchTerm,\n                tag\n              },\n              (draft) => {\n                postsAdapter.removeOne(draft, _id);\n              }\n            )\n          );\n        }\n\n        const patchResult = dispatch(\n          discoverApiSlice.util.updateQueryData(\n            'getDiscoverPosts',\n            { userKey, userName, pageNumber: 1 },\n            (draft) => {\n              postsAdapter.removeOne(draft, _id);\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n          if (searchPatchResult) {\n            searchPatchResult.undo();\n          }\n        }\n      }\n    }),\n\n    getPostById: builder.query({\n      query: ({ userKey, postId }) => ({\n        url: `/discover/getPostById`,\n        headers: {\n          userKey\n        },\n        params: {\n          id: postId\n        }\n      }),\n      async onQueryStarted(\n        {\n          userKey, postId, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled }\n      ) {\n        // Replace Post In State With Updated Post\n\n        try {\n          const { data: updatedPost } = await queryFulfilled;\n          const updateFunction = (draft) => {\n            postsAdapter.updateOne(draft, {\n              id: postId,\n              changes: {\n                ...updatedPost,\n                numLikes: updatedPost.likes.length,\n                hasLiked: updatedPost.likes.includes(userName),\n                comments: tranformComments(updatedPost.comments, userName)\n              }\n            });\n          };\n          dispatch(\n            discoverApiSlice.util.updateQueryData(\n              'getDiscoverPosts',\n              {\n                userKey,\n                userName,\n                pageNumber: 1\n              },\n              updateFunction\n            )\n          );\n          if (searchTerm || tag) {\n            dispatch(\n              discoverApiSlice.util.updateQueryData(\n                'getDiscoverPosts',\n                {\n                  userKey,\n                  userName,\n                  pageNumber: 1,\n                  searchTerm,\n                  tag\n                },\n                updateFunction\n              )\n            );\n          }\n        } catch (e) {\n          console.warn('Error Updating Post In State', e);\n        }\n      }\n    }),\n\n    likePost: builder.mutation({\n      query: ({\n        userKey, _id, title, postAuthor\n      }) => ({\n        url: '/discover/like',\n        method: 'PATCH',\n        headers: { userKey },\n        body: {\n          _id,\n          title,\n          userName: postAuthor\n        },\n        responseHandler: (response) => response.text()\n      }),\n      async onQueryStarted(\n        {\n          userKey, _id, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled }\n      ) {\n        const updateFunction = (draft) => {\n          const post = postsSelectors.selectById(draft, _id);\n          // Use updateOne to update the post with the given ID\n          postsAdapter.updateOne(draft, {\n            id: _id,\n            changes: {\n              numLikes: post.hasLiked ? post.numLikes - 1 : post.numLikes + 1,\n              hasLiked: !post.hasLiked\n            }\n          });\n        };\n\n        if (searchTerm || tag) {\n          var searchPatchResult = dispatch(\n            discoverApiSlice.util.updateQueryData(\n              'getDiscoverPosts',\n              {\n                userKey,\n                pageNumber: 1,\n                userName,\n                searchTerm,\n                tag\n              },\n              updateFunction\n            )\n          );\n        }\n        const patchResult = dispatch(\n          discoverApiSlice.util.updateQueryData(\n            'getDiscoverPosts',\n            { userKey, pageNumber: 1, userName },\n            updateFunction\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          if (searchPatchResult) {\n            searchPatchResult.undo();\n          }\n          patchResult.undo();\n        }\n      }\n    }),\n\n    addComment: builder.mutation({\n      query: ({ userKey, _id, text }) => ({\n        url: '/discover/addComment',\n        method: 'POST',\n        headers: { userKey },\n        body: {\n          _id,\n          text\n        },\n        responseHandler: (response) => response.text()\n      }),\n\n      async onQueryStarted(\n        {\n          userKey, _id, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled }\n      ) {\n        try {\n          await queryFulfilled;\n\n          // Call getPostById to update the post in state\n          dispatch(\n            discoverApiSlice.endpoints.getPostById.initiate({\n              userKey,\n              postId: _id,\n              userName,\n              searchTerm,\n              tag\n            })\n          );\n        } catch (e) {\n          console.warn('Error Adding Comment To State', e);\n        }\n      }\n    }),\n\n    likeComment: builder.mutation({\n      query: ({ userKey, postId, commentId }) => ({\n        url: '/discover/likeComment',\n        method: 'PATCH',\n        headers: { userKey },\n        body: {\n          postId,\n          commentId\n        },\n        responseHandler: (response) => response.text()\n      }),\n      async onQueryStarted(\n        {\n          userKey, postId, commentId, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled }\n      ) {\n        const updateFunction = (draft) => {\n          const post = postsSelectors.selectById(draft, postId);\n          // Use updateOne to update the post with the given ID\n          postsAdapter.updateOne(draft, {\n            id: postId,\n            changes: {\n              comments: post.comments.map((comment) => {\n                if (comment._id === commentId) {\n                  return {\n                    ...comment,\n                    numLikes: comment.hasLiked\n                      ? comment.numLikes - 1\n                      : comment.numLikes + 1,\n                    hasLiked: !comment.hasLiked\n                  };\n                }\n                return comment;\n              })\n            }\n          });\n        };\n        if (searchTerm || tag) {\n          var searchPatchResult = dispatch(\n            discoverApiSlice.util.updateQueryData(\n              'getDiscoverPosts',\n              {\n                userKey,\n                pageNumber: 1,\n                userName,\n                searchTerm,\n                tag\n              },\n              updateFunction\n            )\n          );\n        }\n\n        const patchResult = dispatch(\n          discoverApiSlice.util.updateQueryData(\n            'getDiscoverPosts',\n            { userKey, userName, pageNumber: 1 },\n            updateFunction\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n          if (searchPatchResult) {\n            searchPatchResult.undo();\n          }\n        }\n      }\n    }),\n\n    deleteComment: builder.mutation({\n      query: ({ userKey, postId, commentId }) => ({\n        url: '/discover/deleteComment',\n        method: 'DELETE',\n        headers: { userKey },\n        body: {\n          postId,\n          commentId\n        },\n        responseHandler: (response) => response.text()\n      }),\n      async onQueryStarted(\n        {\n          userKey, postId, commentId, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled }\n      ) {\n        const updateFunction = (draft) => {\n          const post = postsSelectors.selectById(draft, postId);\n          // Use updateOne to update the post with the given ID\n          postsAdapter.updateOne(draft, {\n            id: postId,\n            changes: {\n              comments: post.comments.filter(\n                (comment) => comment._id !== commentId\n              )\n            }\n          });\n        };\n        const patchResult = dispatch(\n          discoverApiSlice.util.updateQueryData(\n            'getDiscoverPosts',\n            {\n              userKey,\n              userName,\n              pageNumber: 1\n            },\n            updateFunction\n          )\n        );\n\n        if (searchTerm || tag) {\n          var searchPatchResult = dispatch(\n            discoverApiSlice.util.updateQueryData(\n              'getDiscoverPosts',\n              {\n                userKey,\n                userName,\n                pageNumber: 1\n              },\n              updateFunction\n            )\n          );\n        }\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n          if (searchPatchResult) {\n            searchPatchResult.undo();\n          }\n        }\n      }\n    })\n  })\n});\n\nconst postsSelectors = postsAdapter.getSelectors();\n\nexport { postsAdapter, postsSelectors };\n\nexport const {\n  useLazyGetDiscoverPostsQuery,\n  useCreateDiscoverPostMutation,\n  useDeleteDiscoverPostMutation,\n  useLikePostMutation,\n  useAddCommentMutation,\n  useLazyGetPostByIdQuery,\n  useLikeCommentMutation,\n  useDeleteCommentMutation\n} = discoverApiSlice;\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport {\n  Text,\n  Input,\n  Select,\n  SelectItem,\n  IndexPath,\n  Layout,\n  Button,\n  Spinner,\n  useTheme,\n  CheckBox,\n  Divider\n} from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport {\n  StyleSheet,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  Keyboard,\n  ScrollView,\n  KeyboardAvoidingView,\n  Platform\n} from 'react-native';\nimport Toast from 'react-native-root-toast';\n\nimport CreateEventPost from './CreateEventPost';\nimport CreateImage from './CreateImagePost';\nimport { selectDarkMode } from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport {\n  tagIndices,\n  adminTagIndices,\n  postOptions\n} from '../../../constants/discover';\nimport { showToast } from '../../../functions';\nimport { useCreateDiscoverPostMutation } from '../../api/discoverApi';\nimport { usersApiSlice } from '../../api/usersApi';\n\nexport function OptionalText() {\n  return (\n    <Text\n      style={{\n        alignSelf: 'flex-end',\n        marginRight: 5,\n        color: 'grey',\n        fontSize: 11\n      }}\n    >\n      Optional\n    </Text>\n  );\n}\n\nexport default function CreatePost() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector((state) => state.appData.secure.userKey);\n  const {\n    data: { userName, permissionLevel }\n  } = usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n  const [discoverPostInputs, setDiscoverPostInputs] = useState(null);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [date, setDate] = useState(new Date());\n  const [selectedTagIndex, setSelectedTagIndex] = useState<IndexPath[]>([]);\n  const [selectedPostTypeIndex, setSelectedPostTypeIndex] = useState(\n    new IndexPath(0)\n  );\n  const [error, setError] = useState(null);\n  const [isEmojiShown, setIsEmojiShown] = useState(false);\n\n  const [createDiscoverPost, { isLoading }] = useCreateDiscoverPostMutation();\n\n  const tagArray = permissionLevel === 'admin' ? adminTagIndices : tagIndices;\n\n  const submitEvent = async (tags: string[]) => {\n    // Validate date and time\n    if (date < new Date()) {\n      setError('Date must be in the future');\n      return;\n    }\n\n    if (startTime > endTime) {\n      setError('Start time must be before end time');\n      return;\n    }\n\n    const formdata = new FormData();\n    formdata.append('type', 'contentEvent');\n    formdata.append('title', discoverPostInputs.title);\n    formdata.append('location', discoverPostInputs.location);\n    formdata.append('date', date.toISOString());\n    formdata.append('startTime', startTime.toISOString());\n    formdata.append('endTime', endTime.toISOString());\n\n    // Optional fields\n    if (discoverPostInputs.contentUrl)\n      formdata.append('contentUrl', discoverPostInputs.contentUrl);\n    if (discoverPostInputs.host)\n      formdata.append('host', discoverPostInputs.host);\n    if (discoverPostInputs.description)\n      formdata.append('contentText', discoverPostInputs.description);\n    if (discoverPostInputs.contentImage) {\n      formdata.append('picture', {\n        uri: discoverPostInputs.contentImage.uri,\n        name: 'discoverImage',\n        type: 'image/jpg'\n      } as any);\n    }\n\n    tags.forEach((tag) => {\n      formdata.append('tags', tag);\n    });\n\n    try {\n      await createDiscoverPost({\n        type: 'contentEvent',\n        userKey,\n        userName,\n        postBody: formdata\n      }).unwrap();\n\n      showToast('Posted Successfully!', theme['color-success-500']);\n\n      setDiscoverPostInputs(null);\n      setSelectedTagIndex([]);\n      setError(null);\n    } catch (e) {\n      console.warn(\"Couldn't post image\", e);\n      showToast('Post failed to send.', theme['color-warning-500']);\n    }\n  };\n\n  const submitImage = async (tags: string[]) => {\n    const formdata = new FormData();\n    formdata.append('title', discoverPostInputs.title);\n    formdata.append('type', 'contentImage');\n    formdata.append('picture', {\n      uri: discoverPostInputs.contentImage.uri,\n      name: 'discoverImage',\n      type: 'image/jpg'\n    } as any);\n    tags.forEach((tag) => {\n      formdata.append('tags', tag);\n    });\n\n    try {\n      await createDiscoverPost({\n        type: 'contentImage',\n        userKey,\n        userName,\n        postBody: formdata\n      }).unwrap();\n\n      showToast('Posted Successfully!', theme['color-success-500']);\n\n      setDiscoverPostInputs(null);\n      setSelectedTagIndex([]);\n      setError(null);\n    } catch (e) {\n      console.warn(\"Couldn't post image\", e);\n      showToast('Post failed to send.', theme['color-warning-500']);\n    }\n  };\n\n  const onSubmit = async () => {\n    //\n    // Validate Input\n    //\n    if (\n      (selectedPostTypeIndex.row === 1 &&\n        (!discoverPostInputs ||\n          !discoverPostInputs.title ||\n          !discoverPostInputs.contentText)) ||\n      (selectedPostTypeIndex.row === 2 &&\n        (!discoverPostInputs ||\n          !discoverPostInputs.title ||\n          !discoverPostInputs.contentUrl)) ||\n      (selectedPostTypeIndex.row === 0 &&\n        (!discoverPostInputs ||\n          !discoverPostInputs.title ||\n          !discoverPostInputs.contentImage)) ||\n      (selectedPostTypeIndex.row === 3 &&\n        (!discoverPostInputs ||\n          !discoverPostInputs.title ||\n          !discoverPostInputs.location ||\n          !date ||\n          !startTime ||\n          !endTime))\n    ) {\n      console.warn('onsubmit error', discoverPostInputs);\n      setError('Please Fill in All Fields');\n      return;\n    }\n\n    //\n    // Submit Post\n    //\n\n    const tags = selectedTagIndex.map((index) => tagArray[index.row]);\n\n    // Special Case for Image Post\n    if (selectedPostTypeIndex.row === 0) {\n      submitImage(tags);\n      return;\n    }\n\n    // Special Case for Event Post\n    if (selectedPostTypeIndex.row === 3) {\n      submitEvent(tags);\n      return;\n    }\n\n    let type = '';\n    if (selectedPostTypeIndex.row === 1) {\n      type = 'contentText';\n    } else if (selectedPostTypeIndex.row === 2) {\n      type = 'contentUrl';\n    }\n    try {\n      await createDiscoverPost({\n        type,\n        userKey,\n        userName,\n        tags,\n        content: discoverPostInputs[type],\n        title: discoverPostInputs.title,\n        emoji: discoverPostInputs.emoji\n      }).unwrap();\n\n      const toast = Toast.show('Posted Successfully!', {\n        duration: Toast.durations.LONG,\n        opacity: 1,\n        position: -100,\n        backgroundColor: theme['color-success-500'],\n        shadow: false\n      });\n\n      setTimeout(() => {\n        Toast.hide(toast);\n      }, 7000);\n\n      setDiscoverPostInputs(null);\n      setSelectedTagIndex([]);\n      setError(null);\n    } catch (e) {\n      const toast = Toast.show('Post failed to send.', {\n        duration: Toast.durations.LONG,\n        opacity: 1,\n        position: -100,\n        backgroundColor: theme['color-warning-500'],\n        shadow: false\n      });\n\n      setTimeout(() => {\n        Toast.hide(toast);\n      }, 4000);\n    }\n  };\n\n  function TagInput() {\n    const groupedData = selectedTagIndex.map((index) => {\n      return tagArray[index.row];\n    });\n    return (\n      <Layout>\n        <Select\n          label=\"Tags\"\n          multiSelect\n          value={groupedData.join(', ')}\n          placeholder=\"Select Tags\"\n          selectedIndex={selectedTagIndex}\n          onSelect={(index: IndexPath[]) => {\n            setSelectedTagIndex(index);\n          }}\n          style={styles.input}\n        >\n          {tagArray.map((title, i) => (\n            <SelectItem title={title} key={i} />\n          ))}\n        </Select>\n        <OptionalText />\n      </Layout>\n    );\n  }\n\n  const renderPostOptions = () => {\n    // Text\n    if (selectedPostTypeIndex.row === 1) {\n      return (\n        <>\n          <Layout\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-evenly',\n              alignItems: 'center',\n              marginTop: 15\n            }}\n          >\n            {/* <EmojiToggle /> */}\n\n            <Input\n              placeholder=\"Post Title\"\n              onFocus={() => {\n                setIsEmojiShown(false);\n              }}\n              value={discoverPostInputs?.title ? discoverPostInputs.title : ''}\n              style={{ ...styles.input, flex: 5 }}\n              onChangeText={(newText) => {\n                setDiscoverPostInputs({\n                  ...discoverPostInputs,\n                  title: newText\n                });\n              }}\n            />\n          </Layout>\n          {TagInput()}\n          <Input\n            multiline\n            placeholder=\"Post Body\"\n            onFocus={() => {\n              setIsEmojiShown(false);\n            }}\n            textStyle={{ minHeight: 100 }}\n            style={{ ...styles.input, alignSelf: 'center', width: '100%' }}\n            value={\n              discoverPostInputs?.contentText\n                ? discoverPostInputs.contentText\n                : ''\n            }\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                contentText: newText\n              });\n            }}\n          />\n        </>\n      );\n    }\n    if (selectedPostTypeIndex.row === 2) {\n      // LINK\n      return (\n        <>\n          <Layout\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-evenly',\n              alignItems: 'center',\n              marginTop: 15\n            }}\n          >\n            {/* <EmojiToggle /> */}\n            <Input\n              placeholder=\"Post Title\"\n              onFocus={() => {\n                setIsEmojiShown(false);\n              }}\n              value={discoverPostInputs?.title ? discoverPostInputs.title : ''}\n              style={{ ...styles.input, flex: 5 }}\n              onChangeText={(newText) => {\n                setDiscoverPostInputs({\n                  ...discoverPostInputs,\n                  title: newText\n                });\n              }}\n            />\n          </Layout>\n\n          <Input\n            placeholder=\"Post Link\"\n            style={styles.input}\n            onFocus={() => {\n              setIsEmojiShown(false);\n            }}\n            value={\n              discoverPostInputs?.contentUrl\n                ? discoverPostInputs.contentUrl\n                : ''\n            }\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                contentUrl: newText\n              });\n            }}\n          />\n          {/* {PostTypeInput} */}\n          {TagInput()}\n        </>\n      );\n    }\n    if (selectedPostTypeIndex.row === 0) {\n      // IMAGE\n      return (\n        <CreateImage\n          discoverPostInputs={discoverPostInputs}\n          setDiscoverPostInputs={setDiscoverPostInputs}\n          TagInput={TagInput}\n        />\n      );\n    }\n    if (selectedPostTypeIndex.row === 3) {\n      // EVENT\n      return (\n        <CreateEventPost\n          discoverPostInputs={discoverPostInputs}\n          setDiscoverPostInputs={setDiscoverPostInputs}\n          TagInput={TagInput}\n          startTime={startTime}\n          setStartTime={setStartTime}\n          endTime={endTime}\n          setEndTime={setEndTime}\n          date={date}\n          setDate={setDate}\n        />\n      );\n    }\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <KeyboardAvoidingView\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n        style={{ flex: 1 }}\n      >\n        <ScrollView style={{ flex: 1 }}>\n          <TouchableWithoutFeedback\n            style={{ flex: 1 }}\n            onPress={() => {\n              Keyboard.dismiss();\n            }}\n          >\n            <Layout\n              style={{ flex: 1, marginBottom: 100, marginHorizontal: 16 }}\n            >\n              <Select\n                status=\"success\"\n                label=\"Select Post Type\"\n                value={postOptions[selectedPostTypeIndex.row]}\n                selectedIndex={selectedPostTypeIndex}\n                onSelect={(index: IndexPath) => {\n                  setSelectedPostTypeIndex(index);\n                  setSelectedTagIndex([]);\n                  setDiscoverPostInputs(null);\n                  setError(null);\n                  setIsEmojiShown(false);\n                }}\n                style={styles.input}\n              >\n                <SelectItem\n                  title=\"Image Post\"\n                  accessoryLeft={\n                    <FontAwesome5\n                      name=\"image\"\n                      size={17}\n                      color={darkMode ? '#fff' : '#000'}\n                    />\n                  }\n                />\n                <SelectItem\n                  title=\"Text Post\"\n                  accessoryLeft={\n                    <FontAwesome5\n                      name=\"file-alt\"\n                      size={17}\n                      color={darkMode ? '#fff' : '#000'}\n                    />\n                  }\n                />\n                <SelectItem\n                  title=\"Link\"\n                  accessoryLeft={\n                    <FontAwesome5\n                      name=\"link\"\n                      size={17}\n                      color={darkMode ? '#fff' : '#000'}\n                    />\n                  }\n                />\n                <SelectItem\n                  title=\"Event\"\n                  accessoryLeft={\n                    <FontAwesome5\n                      name=\"calendar-alt\"\n                      size={17}\n                      color={darkMode ? '#fff' : '#000'}\n                    />\n                  }\n                />\n              </Select>\n\n              <Divider />\n              {renderPostOptions()}\n              {error && (\n                <Layout>\n                  <Text\n                    style={{\n                      textAlign: 'center',\n                      color: 'red',\n                      fontStyle: 'italic'\n                    }}\n                  >\n                    {error}\n                  </Text>\n                </Layout>\n              )}\n              {!isEmojiShown && (\n                <Button\n                  style={styles.input}\n                  onPress={onSubmit}\n                  disabled={isLoading}\n                >\n                  Submit\n                </Button>\n              )}\n            </Layout>\n          </TouchableWithoutFeedback>\n        </ScrollView>\n      </KeyboardAvoidingView>\n      {isLoading && (\n        <Layout\n          style={{\n            justifyContent: 'center',\n            alignItems: 'center',\n            width: '100%',\n            height: '100%',\n            position: 'absolute',\n            backgroundColor: 'black',\n            flex: 1,\n            opacity: 0.3\n          }}\n        >\n          <Spinner size=\"medium\" />\n        </Layout>\n      )}\n    </Layout>\n  );\n}\n\nconst styles = StyleSheet.create({\n  input: {\n    marginVertical: 5\n  }\n});\n","import { FontAwesome } from '@expo/vector-icons';\nimport { Layout, Text, useTheme } from '@ui-kitten/components';\nimport React from 'react';\nimport { TouchableOpacity, Platform, UIManager } from 'react-native';\n\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport withPreventDoubleClick from '../../components/withPreventDoubleClick';\nimport {\n  discoverApiSlice,\n  postsAdapter,\n  postsSelectors,\n  useLikePostMutation\n} from '../api/discoverApi';\nimport { usersApiSlice } from '../api/usersApi';\n\nconst DebounceTouchable = withPreventDoubleClick(TouchableOpacity, 600);\n\nexport default function BottomBar({\n  tags,\n  _id,\n  commentIconShown = true,\n  searchTerm = undefined,\n  searchedTag = undefined\n}) {\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const theme = useTheme();\n\n  const { data: userData } =\n    usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n  const [likePost] = useLikePostMutation();\n\n  const post = discoverApiSlice.endpoints.getDiscoverPosts.useQueryState(\n    {\n      pageNumber: 1,\n      userKey,\n      userName: userData.userName,\n      searchTerm,\n      tag: searchedTag\n    },\n    {\n      selectFromResult: (result) =>\n        postsSelectors.selectById(\n          result.data ?? postsAdapter.getInitialState(),\n          _id\n        )\n    }\n  );\n\n  const onPressLike = async () => {\n    if (!post) return;\n    try {\n      await likePost({\n        userKey,\n        _id,\n        title: post.title,\n        postAuthor: post.userName,\n        userName: userData.userName,\n        searchTerm,\n        tag: searchedTag\n      }).unwrap();\n    } catch (error) {\n      console.warn('Error liking post:', error);\n    }\n  };\n\n  return (\n    <Layout\n      style={{\n        width: '100%',\n        flexDirection: 'row',\n        paddingVertical: 5,\n        paddingHorizontal: 15\n      }}\n    >\n      <Layout\n        style={{\n          flexDirection: 'row',\n          flexWrap: 'wrap',\n          flex: 6\n        }}\n      >\n        {/* tags */}\n        {tags.map((tag: string, index: number) => (\n          <Layout\n            key={index}\n            level=\"3\"\n            style={{\n              padding: 5,\n              borderRadius: 5,\n              marginRight: 5,\n              marginTop: 2\n            }}\n          >\n            <Text style={{ fontSize: 12 }}>{tag}</Text>\n          </Layout>\n        ))}\n      </Layout>\n\n      {/* Icons */}\n      <Layout\n        style={{\n          flexDirection: 'row',\n          flex: 2,\n          justifyContent: 'space-evenly',\n          alignItems: 'center'\n        }}\n      >\n        <FontAwesome\n          style={{ flex: 2, opacity: commentIconShown ? 1 : 0 }}\n          name=\"comments-o\"\n          size={20}\n          color={darkMode ? '#fff' : '#000'}\n        />\n        {/* Likes */}\n        {/* @ts-ignore */}\n        <DebounceTouchable\n          style={{\n            flexDirection: 'row',\n            flex: 3,\n            justifyContent: 'space-evenly',\n            alignItems: 'center'\n          }}\n          onPress={onPressLike}\n        >\n          <Text\n            style={{\n              fontSize: 15,\n              paddingTop: 1\n            }}\n          >\n            {post?.numLikes}\n          </Text>\n          <FontAwesome\n            style={{ alignSelf: 'center' }}\n            size={17}\n            color={\n              post?.hasLiked\n                ? theme['color-primary-500']\n                : darkMode\n                ? '#fff'\n                : '#000'\n            }\n            name={post?.hasLiked ? 'heart' : 'heart-o'}\n          />\n        </DebounceTouchable>\n      </Layout>\n      {/* @ts-ignore */}\n    </Layout>\n  );\n}\n","import { debounce } from 'lodash';\nimport React from 'react';\n\nexport default function withPreventDoubleClick(WrappedComponent, time = 300) {\n  class PreventDoubleClick extends React.PureComponent {\n    debouncedOnPress = () => {\n      this.props.onPress && this.props.onPress();\n    };\n\n    onPress = debounce(this.debouncedOnPress, time, {\n      leading: true,\n      trailing: false\n    });\n\n    render() {\n      return <WrappedComponent {...this.props} onPress={this.onPress} />;\n    }\n  }\n\n  PreventDoubleClick.displayName = `withPreventDoubleClick(${\n    WrappedComponent.displayName || WrappedComponent.name\n  })`;\n  return PreventDoubleClick;\n}\n","import React from 'react';\nimport { TouchableWithoutFeedback } from 'react-native';\n\nexport default class DoubleTap extends React.Component {\n  static defaultProps = {\n    delay: 300,\n    onDoubleTap: () => {},\n    children: null\n  };\n\n  lastTap = null;\n\n  // https://gist.github.com/brunotavares/3c9a373ba5cd1b4ff28b\n  handleDoubleTap = () => {\n    const now = Date.now();\n    if (this.lastTap && now - this.lastTap < this.props.delay) {\n      this.props.onDoubleTap();\n    } else {\n      this.lastTap = now;\n    }\n  };\n\n  render() {\n    return (\n      <TouchableWithoutFeedback onPress={this.handleDoubleTap}>\n        {this.props.children}\n      </TouchableWithoutFeedback>\n    );\n  }\n}\n","import { FontAwesome } from '@expo/vector-icons';\nimport { useTheme } from '@ui-kitten/components';\nimport { forwardRef, useImperativeHandle, useRef, useState } from 'react';\nimport { Animated, Easing } from 'react-native';\n\nexport default forwardRef(\n  ({ style, iconStyle }: { style: object; iconStyle?: object }, ref) => {\n    useImperativeHandle(ref, () => ({\n      animate\n    }));\n\n    const opacityAnim = useRef(new Animated.Value(0)).current;\n    const scaleAnim = useRef(new Animated.Value(1)).current;\n    const [heartRotation, setHeartRotation] = useState('0deg');\n\n    const pickRandomDegree = () => {\n      const options = ['0deg', '15deg', '-15deg'];\n      return options[Math.floor(Math.random() * options.length)];\n    };\n\n    const animate = () => {\n      // animation: shrink quickly with bounce, opacity 0 - 1. Stop for a moment. Increase in size. Opacity 1-0\n      setHeartRotation(pickRandomDegree());\n\n      scaleAnim.setValue(1);\n      opacityAnim.setValue(0);\n\n      Animated.parallel([\n        Animated.sequence([\n          Animated.timing(opacityAnim, {\n            toValue: 1,\n            duration: 200,\n            useNativeDriver: true\n          }),\n          Animated.timing(opacityAnim, {\n            toValue: 1,\n            duration: 300,\n            useNativeDriver: true\n          }),\n          Animated.timing(opacityAnim, {\n            toValue: 0,\n            duration: 100,\n            useNativeDriver: true\n          })\n        ]),\n        ,\n        Animated.sequence([\n          Animated.timing(scaleAnim, {\n            toValue: 0.8,\n            easing: Easing.bounce,\n            duration: 200,\n            useNativeDriver: true\n          }),\n          Animated.timing(scaleAnim, {\n            toValue: 0.8,\n            duration: 300,\n            useNativeDriver: true\n          }),\n          Animated.timing(scaleAnim, {\n            toValue: 1.2,\n            duration: 100,\n            useNativeDriver: true\n          })\n        ])\n      ]).start();\n    };\n\n    return (\n      <Animated.View\n        style={{\n          ...style,\n          opacity: opacityAnim,\n          transform: [{ scale: scaleAnim }]\n        }}\n      >\n        <FontAwesome\n          name=\"heart\"\n          size={110}\n          style={{ transform: [{ rotate: heartRotation }], ...iconStyle }}\n        />\n      </Animated.View>\n    );\n  }\n);\n","import { Layout, useTheme } from '@ui-kitten/components';\nimport { useRef } from 'react';\nimport { Image, useWindowDimensions } from 'react-native';\n\nimport { selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport DoubleTap from '../../components/DoubleTap';\nimport DoubleTapHeart from '../../components/DoubleTapHeart';\nimport { MAX_WIDTH_WEB } from '../../constants/discover';\nimport { getImageUrl } from '../../functions';\nimport { useLikePostMutation } from '../api/discoverApi';\n\nexport default function ImageComponent({ imageId, hasLiked, apiInfo }) {\n  const theme = useTheme();\n  const [likePost] = useLikePostMutation();\n  const userKey = useAppSelector(selectUserKey);\n  const likeRef = useRef(null);\n  const windowWidth = useWindowDimensions().width;\n\n  const handlePressLike = async () => {\n    likeRef.current?.animate();\n\n    if (hasLiked) {\n      return;\n    }\n    try {\n      await likePost({\n        userKey,\n        tag: apiInfo.searchedTag,\n        ...apiInfo\n      }).unwrap();\n    } catch (error) {\n      console.warn('Error liking post:', error);\n    }\n  };\n\n  return (\n    <DoubleTap delay={1200} onDoubleTap={handlePressLike}>\n      <Layout style={{ flex: 1, alignItems: 'center' }}>\n        <Image\n          source={{\n            uri: getImageUrl(imageId)\n          }}\n          style={{\n            borderRadius: 5,\n            width: windowWidth * 0.9,\n            height: windowWidth * 0.9,\n            maxHeight: MAX_WIDTH_WEB,\n            maxWidth: MAX_WIDTH_WEB,\n            marginBottom: 10,\n            resizeMode: 'contain'\n          }}\n        />\n        <DoubleTapHeart\n          style={{\n            position: 'absolute',\n            top: '35%',\n            right: '30%',\n            shadowColor: '#000',\n            shadowOffset: {\n              width: 0,\n              height: 3\n            },\n            shadowOpacity: 0.29,\n            shadowRadius: 4.65,\n\n            elevation: 7\n          }}\n          ref={likeRef}\n          iconStyle={{ color: theme['color-primary-500'] }}\n        />\n      </Layout>\n    </DoubleTap>\n  );\n}\n","import { A } from '@expo/html-elements';\nimport { Divider, Layout, Text } from '@ui-kitten/components';\nimport { useMemo } from 'react';\nimport { Dimensions } from 'react-native';\n\nimport { MAX_WIDTH_WEB } from '../../constants/discover';\nimport { FormatDate, FormatTimeRange } from '../../functions';\nimport ImageComponent from './ImageComponent';\n\nconst windowWidth = Dimensions.get('window').width;\n\ninterface EventCardProps {\n  title: string;\n  location: string;\n  date: string;\n  startTime: string;\n  endTime: string;\n  _id: string;\n  postAuthor: string;\n  userName: string;\n  hasLiked: boolean;\n  searchTerm?: string;\n  searchedTag?: string;\n  tags?: string[];\n  contentURL?: string;\n  contentText?: string;\n  contentImage?: string;\n  host?: string;\n  truncated?: boolean;\n}\n\nexport default function EventBody({\n  title,\n  location,\n  date,\n  startTime,\n  endTime,\n  contentURL,\n  contentText,\n  contentImage,\n  host,\n  hasLiked,\n  _id,\n  searchTerm,\n  searchedTag,\n  postAuthor,\n  userName,\n  truncated = true\n}: EventCardProps) {\n  const eventInfo = useMemo(\n    () => [\n      {\n        title: 'Location',\n        value: location\n      },\n      {\n        title: 'Date',\n        value: FormatDate(date)\n      },\n      {\n        title: 'Time',\n        value: FormatTimeRange(startTime, endTime)\n      },\n      {\n        title: 'Host',\n        value: host\n      },\n      {\n        title: 'Description',\n        value: contentText\n      }\n    ],\n    [location, date, startTime, endTime, host, contentURL, contentText]\n  );\n\n  const renderUrl = (link: string) => {\n    return (\n      <Layout\n        style={{\n          flexDirection: 'row',\n          width: windowWidth * 0.9,\n          maxWidth: MAX_WIDTH_WEB,\n          paddingVertical: 5\n        }}\n      >\n        <Text category=\"s1\">Link: </Text>\n        {truncated ? (\n          <Text category=\"p1\">\n            {link.length > 30 ? `${link.slice(0, 30)}...` : link}\n          </Text>\n        ) : (\n          <A>\n            <Text>{link}</Text>\n          </A>\n        )}\n      </Layout>\n    );\n  };\n\n  return (\n    <Layout style={{ flex: 1, alignItems: 'center' }}>\n      {contentImage ? (\n        <ImageComponent\n          apiInfo={{\n            _id,\n            title,\n            postAuthor,\n            userName,\n            searchTerm,\n            searchedTag\n          }}\n          imageId={contentImage}\n          hasLiked={hasLiked}\n        />\n      ) : (\n        <Divider />\n      )}\n\n      {/* Event Info  */}\n      {eventInfo.map((info, index) => {\n        if (info.value) {\n          return (\n            <Layout\n              key={index}\n              style={{\n                flexDirection: 'row',\n                width: windowWidth * 0.9,\n                maxWidth: MAX_WIDTH_WEB,\n                paddingVertical: 5\n              }}\n            >\n              <Text category=\"s1\">\n                {info.title}\n                {`: `}\n                <Text category=\"p1\">\n                  {truncated\n                    ? info.value.length > 30\n                      ? `${info.value.slice(0, 30)}...`\n                      : info.value\n                    : info.value}\n                </Text>\n              </Text>\n            </Layout>\n          );\n        }\n      })}\n\n      {contentURL ? renderUrl(contentURL) : null}\n    </Layout>\n  );\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { useIsFocused } from '@react-navigation/native';\nimport { Layout, Text } from '@ui-kitten/components';\nimport React, { useEffect, useState } from 'react';\nimport { Dimensions, TouchableOpacity } from 'react-native';\nimport Toast from 'react-native-root-toast';\n\nimport { selectDarkMode, selectUserKey } from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport { MAX_WIDTH_WEB } from '../../../constants/discover';\nimport { useEditUserMutation, useGetUserInfoQuery } from '../../api/usersApi';\nimport BottomBar from '../BottomBar';\nimport EventBody from '../EventBody';\n\nconst windowWidth = Dimensions.get('window').width;\n\ninterface EventCardProps {\n  title: string;\n  location: string;\n  date: string;\n  startTime: string;\n  endTime: string;\n  pinnedIcon: JSX.Element;\n  _id: string;\n  postAuthor: string;\n  userName: string;\n  hasLiked: boolean;\n  navigation: any;\n  searchTerm?: string;\n  searchedTag?: string;\n  tags?: string[];\n  contentURL?: string;\n  contentText?: string;\n  contentImage?: string;\n  host?: string;\n}\n\nexport default function EventCard({\n  title,\n  location,\n  date,\n  startTime,\n  endTime,\n  pinnedIcon,\n  tags,\n  contentURL,\n  contentText,\n  contentImage,\n  host,\n  hasLiked,\n  _id,\n  searchTerm,\n  searchedTag,\n  postAuthor,\n  userName,\n  navigation\n}: EventCardProps) {\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(useAppSelector(selectUserKey));\n  const [eventPopUp, setEventPopUp] = useState(false);\n  const [isAdded, setIsAdded] = useState(false);\n  const [editUser] = useEditUserMutation();\n\n  useEffect(() => {\n    setIsAdded(\n      userData.customEvents.some((customEvent) => {\n        return (\n          customEvent.name === title &&\n          customEvent.startTime == startTime &&\n          customEvent.endTime == endTime &&\n          customEvent.date == date\n        );\n      })\n    );\n  }, [useIsFocused()]); // this forces just the button component to re-render when the focus changes\n\n  function handleEventSyncWithServer(isAdd: boolean) {\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify(\n        isAdd\n          ? {\n              addCustomEvent: {\n                name: title,\n                startTime: new Date(startTime).toTimeString().slice(0, 5),\n                endTime: new Date(endTime).toTimeString().slice(0, 5),\n                days: [],\n                date\n              }\n            }\n          : {\n              removeCustomEvent: {\n                name: title,\n                startTime: new Date(startTime).toTimeString().slice(0, 5),\n                endTime: new Date(endTime).toTimeString().slice(0, 5),\n                days: [],\n                date\n              }\n            }\n      )\n    })\n      .unwrap()\n      .then(async () => {\n        setIsAdded(isAdd);\n      })\n      .catch(() => {\n        Toast.show('Failed to add event.\\nPlease try again later', {\n          duration: Toast.durations.LONG,\n          opacity: 1,\n          position: -100,\n          backgroundColor: 'grey',\n          shadow: false\n        });\n      });\n  }\n\n  function toggleAdditionOfEvent() {\n    handleEventSyncWithServer(!isAdded);\n  }\n\n  return (\n    <Layout>\n      {pinnedIcon}\n      <Layout style={{ flex: 1, alignItems: 'center' }}>\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate('SinglePost', { _id, searchTerm, searchedTag });\n          }}\n          activeOpacity={0.9}\n          style={{\n            flex: 1,\n            alignItems: 'center',\n            paddingVertical: 10\n          }}\n        >\n          <Layout\n            style={{\n              width: windowWidth * 0.9,\n              maxWidth: MAX_WIDTH_WEB,\n              paddingVertical: 10,\n              flexDirection: 'row'\n            }}\n          >\n            <Text style={{ fontSize: 20 }}>{title}</Text>\n            <TouchableOpacity\n              style={{ alignSelf: 'flex-end', marginLeft: 'auto' }}\n              onPress={() => {\n                toggleAdditionOfEvent();\n              }}\n            >\n              <FontAwesome5\n                name={isAdded ? 'times' : 'plus'}\n                size={23}\n                color={darkMode ? 'white' : 'black'}\n              />\n            </TouchableOpacity>\n          </Layout>\n\n          <EventBody\n            contentURL={contentURL}\n            contentText={contentText}\n            contentImage={contentImage}\n            host={host}\n            title={title}\n            location={location}\n            date={date}\n            startTime={startTime}\n            endTime={endTime}\n            _id={_id}\n            postAuthor={postAuthor}\n            userName={userName}\n            hasLiked={hasLiked}\n          />\n\n          <BottomBar\n            tags={tags}\n            _id={_id}\n            searchTerm={searchTerm}\n            searchedTag={searchedTag}\n          />\n        </TouchableOpacity>\n      </Layout>\n    </Layout>\n  );\n}\n","import { Layout, Text } from '@ui-kitten/components';\nimport { Dimensions, TouchableOpacity } from 'react-native';\n\nimport { MAX_WIDTH_WEB } from '../../../constants/discover';\nimport BottomBar from '../BottomBar';\nimport ImageComponent from '../ImageComponent';\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function ImageCard({\n  title,\n  _id,\n  navigation,\n  imageId,\n  tags,\n  postAuthor,\n  userName,\n  searchTerm,\n  searchedTag,\n  pinnedIcon,\n  hasLiked\n}) {\n  return (\n    <Layout>\n      {pinnedIcon}\n      <Layout style={{ flex: 1, alignItems: 'center' }}>\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate('SinglePost', { _id, searchTerm, searchedTag });\n          }}\n          activeOpacity={0.9}\n          style={{\n            flex: 1,\n            alignItems: 'center',\n            paddingVertical: 10\n          }}\n        >\n          <Layout\n            style={{\n              width: windowWidth * 0.9,\n              maxWidth: MAX_WIDTH_WEB,\n              paddingVertical: 10\n            }}\n          >\n            <Text style={{ fontSize: 20, marginLeft: 15 }}>{title}</Text>\n          </Layout>\n          <ImageComponent\n            apiInfo={{\n              _id,\n              title,\n              postAuthor,\n              userName,\n              searchTerm,\n              searchedTag\n            }}\n            imageId={imageId}\n            hasLiked={hasLiked}\n          />\n\n          <BottomBar\n            tags={tags}\n            _id={_id}\n            searchTerm={searchTerm}\n            searchedTag={searchedTag}\n          />\n        </TouchableOpacity>\n      </Layout>\n    </Layout>\n  );\n}\n","import { Layout, Text } from '@ui-kitten/components';\nimport { useState } from 'react';\nimport {\n  Dimensions,\n  Image,\n  ImageBackground,\n  Platform,\n  TouchableHighlight\n} from 'react-native';\n\nimport becomeSponsor from '../../../../assets/sponsorPage/become-sponsor.png';\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function SponsorCard({ data, navigation }) {\n  const [imageLink, setImageLink] = useState({ uri: data.logo });\n  const webWidth = Dimensions.get('window').width * 0.3;\n  const hasCoupon = !!data.coupons[0];\n\n  return (\n    <TouchableHighlight\n      style={{ flex: 1 }}\n      onPress={() => {\n        if (hasCoupon) {\n          navigation.navigate('SponsorPageDiscover', { data });\n        }\n      }}\n    >\n      <Layout style={{ flex: 1 }}>\n        <Text category=\"label\" style={{ marginLeft: 20 }}>\n          Ad\n        </Text>\n\n        <Layout\n          style={{\n            flexDirection: 'row',\n            justifyContent: 'space-between'\n          }}\n        >\n          <Layout\n            style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\n          >\n            <Image\n              source={imageLink}\n              onError={() => {\n                setImageLink(becomeSponsor);\n              }}\n              style={{\n                height: hasCoupon\n                  ? Platform.OS === 'web'\n                    ? 200\n                    : windowWidth / 2 - 20\n                  : Platform.OS === 'web'\n                  ? 200\n                  : windowWidth * 0.8,\n                width: hasCoupon\n                  ? Platform.OS === 'web'\n                    ? '20%'\n                    : windowWidth / 2 - 20\n                  : Platform.OS === 'web'\n                  ? '20%'\n                  : windowWidth * 0.8,\n                resizeMode: 'contain'\n              }}\n            />\n            {imageLink?.uri && <Text>{data.sponsorName}</Text>}\n          </Layout>\n\n          {data.coupons[0] && imageLink?.uri && (\n            <Layout style={{ flex: 1, alignItems: 'center' }}>\n              <ImageBackground\n                resizeMode=\"contain\"\n                source={require('../../../../assets/sponsorPage/coupon.png')}\n                style={{\n                  width: windowWidth / 2 - 20,\n                  height: 200,\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                }}\n              >\n                <Text\n                  style={{\n                    fontSize: 13,\n                    paddingBottom: 7,\n                    paddingRight: 7,\n                    marginHorizontal: 25\n                  }}\n                >\n                  {data.coupons[0].couponDescription}\n                </Text>\n              </ImageBackground>\n            </Layout>\n          )}\n        </Layout>\n      </Layout>\n    </TouchableHighlight>\n  );\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { Layout, ListItem, Text } from '@ui-kitten/components';\nimport { TouchableHighlight } from 'react-native';\n\nimport BottomBar from '../BottomBar';\n\nexport default function TextCard({\n  navigation,\n  tags,\n  title,\n  body,\n  emoji,\n  _id,\n  searchTerm,\n  searchedTag,\n  pinnedIcon,\n  isUrl = false\n}) {\n  const renderTextBody = () => {\n    const text = body;\n\n    if (text.indexOf('\\n') > 10 && text.indexOf('\\n') < 50) {\n      return `${text.split('\\n')[0]}...`;\n    }\n    if (text.length > 50) {\n      return `${text.substring(0, 50)}...`;\n    }\n    return text;\n  };\n\n  const renderUrl = () => {\n    return (\n      <Text style={{ color: 'grey' }}>\n        <FontAwesome5 name=\"link\" />\n        {` `}\n        {body.length > 30 ? `${body.slice(0, 30)}...` : body}\n      </Text>\n    );\n  };\n\n  return (\n    <TouchableHighlight\n      onPress={() => {\n        navigation.navigate('SinglePost', { _id, searchTerm, searchedTag });\n      }}\n    >\n      <Layout>\n        {pinnedIcon}\n\n        <ListItem\n          disabled\n          accessoryLeft={() => (\n            <Text style={{ fontSize: 35, marginRight: 15 }}>{emoji}</Text>\n          )}\n          style={{\n            paddingLeft: 15,\n            paddingTop: 25,\n            paddingBottom: 0\n          }}\n          title={() => (\n            <Text style={{ fontSize: 20, paddingBottom: 5 }}>{title}</Text>\n          )}\n          description={() => (\n            <Text style={{ color: 'grey' }}>\n              {isUrl ? renderUrl() : renderTextBody()}\n            </Text>\n          )}\n        />\n\n        <BottomBar\n          tags={tags}\n          _id={_id}\n          searchTerm={searchTerm}\n          searchedTag={searchedTag}\n        />\n      </Layout>\n    </TouchableHighlight>\n  );\n}\n","import { FontAwesome5, MaterialIcons } from '@expo/vector-icons';\nimport {\n  Button,\n  Divider,\n  Icon,\n  Layout,\n  List,\n  ListItem,\n  Spinner,\n  Text,\n  useTheme\n} from '@ui-kitten/components';\nimport { useEffect, useRef } from 'react';\nimport { Keyboard, Platform } from 'react-native';\n\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport { DiscoverPost } from '../../app/types';\nimport {\n  discoverApiSlice,\n  postsAdapter,\n  postsSelectors,\n  useLazyGetDiscoverPostsQuery\n} from '../api/discoverApi';\nimport { usersApiSlice } from '../api/usersApi';\nimport EventCard from './Cards/EventCard';\nimport ImageCard from './Cards/ImageCard';\nimport SponsorCard from './Cards/SponsorCard';\nimport TextCard from './Cards/TextCard';\n\nexport default function PostsList({\n  navigation,\n  tag,\n  searchTerm,\n  recentSearches,\n  handleRemoveRecentSearch,\n  handleClickRecentSearch\n}: {\n  navigation: any;\n  tag?: string;\n  searchTerm?: string;\n  recentSearches?: string[];\n  sponsor?: boolean;\n  handleRemoveRecentSearch?: (searchTerm: string) => void;\n  handleClickRecentSearch?: (searchTerm: string) => void;\n  route?: { params: { sponsor: boolean } };\n}) {\n  const theme = useTheme();\n  const userKey = useAppSelector(selectUserKey);\n\n  const {\n    data: { userName }\n  } = usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n\n  const pageNumber = useRef(0);\n  const [fetchPosts, { isFetching, isLoading, isError }] =\n    useLazyGetDiscoverPostsQuery();\n\n  const { posts, hasMorePages } =\n    discoverApiSlice.endpoints.getDiscoverPosts.useQueryState(\n      {\n        pageNumber: 1,\n        userKey,\n        userName,\n        tag,\n        searchTerm\n      },\n      {\n        selectFromResult: (result) => {\n          return {\n            hasMorePages: result.data?.hasMorePages,\n            posts: postsSelectors.selectAll(\n              result.data ?? postsAdapter.getInitialState()\n            )\n          };\n        }\n      }\n    );\n\n  const fetchFirstPage = async () => {\n    pageNumber.current = 1;\n    await fetchPosts({\n      userKey,\n      pageNumber: pageNumber.current,\n      userName,\n      tag,\n      searchTerm\n      // sponsor,\n    });\n  };\n\n  const fetchMorePosts = async () => {\n    if (!hasMorePages || isFetching) return;\n    pageNumber.current++;\n    await fetchPosts({\n      userKey,\n      pageNumber: pageNumber.current,\n      userName,\n      tag,\n      searchTerm\n      // sponsor,\n    });\n  };\n\n  useEffect(() => {\n    fetchFirstPage();\n  }, [searchTerm, tag]);\n\n  const PinIcon = (\n    <Layout\n      style={{\n        flexDirection: 'row',\n        marginBottom: 0,\n        marginTop: 10,\n        marginLeft: 10\n      }}\n    >\n      <MaterialIcons\n        name=\"push-pin\"\n        size={20}\n        color={theme['color-primary-500']}\n      />\n      <Text style={{ color: theme['color-primary-500'] }}>pinned</Text>\n    </Layout>\n  );\n\n  // Render Content\n\n  const renderItem = ({ item }: { item: DiscoverPost }) => {\n    const commonProps = {\n      title: item.title,\n      tags: item.tags,\n      _id: item._id,\n      postAuthor: item.userName,\n      navigation,\n      key: item._id,\n      searchTerm,\n      searchedTag: tag,\n      pinnedIcon: item.pinned ? PinIcon : null\n    };\n\n    if (item.isSponsor) {\n      const sponsorProps = JSON.parse(item.contentText);\n      return <SponsorCard data={sponsorProps} navigation={navigation} />;\n    }\n\n    switch (item.type) {\n      case 'contentText':\n        return (\n          <TextCard\n            {...commonProps}\n            body={item.contentText}\n            emoji={item.emoji}\n            isUrl={false}\n          />\n        );\n      case 'contentUrl':\n        return (\n          <TextCard\n            {...commonProps}\n            body={item.contentUrl}\n            emoji={item.emoji}\n            isUrl\n          />\n        );\n      case 'contentImage':\n        return (\n          <ImageCard\n            {...commonProps}\n            hasLiked={item.hasLiked}\n            imageId={item.contentImage}\n            postAuthor={item.userName}\n            userName={userName}\n          />\n        );\n      case 'contentEvent':\n        return (\n          <EventCard\n            location={item.location}\n            date={item.date}\n            startTime={item.startTime}\n            postAuthor={item.userName}\n            userName={userName}\n            contentURL={item.contentUrl}\n            contentText={item.contentText}\n            contentImage={item.contentImage}\n            endTime={item.endTime}\n            hasLiked={item.hasLiked}\n            host={item.host}\n            {...commonProps}\n          />\n        );\n\n      default:\n        console.warn('Tried to load an unknown post type:', item?.type);\n        return null;\n    }\n  };\n\n  const renderRecentSearch = ({ item }: { item: string }) => {\n    return (\n      <ListItem\n        onPress={() => {\n          handleClickRecentSearch(item);\n          Keyboard.dismiss();\n        }}\n        style={{\n          paddingVertical: 10,\n          marginVertical: 0,\n          backgroundColor: 'transparent'\n        }}\n        title={item}\n        accessoryLeft={() => (\n          <Icon\n            name=\"clock\"\n            style={{\n              height: 20,\n              color: theme['color-basic-400'],\n              marginHorizontal: 10\n            }}\n          />\n        )}\n        accessoryRight={(props) => (\n          <Button\n            appearance=\"ghost\"\n            onPress={() => handleRemoveRecentSearch(item)}\n            accessoryLeft={<Icon {...props} name=\"x\" pack=\"feather\" />}\n          />\n        )}\n      />\n    );\n  };\n\n  function FooterSpinner() {\n    if (isFetching) {\n      return (\n        <Layout style={{ alignItems: 'center', paddingVertical: 10 }}>\n          <Spinner />\n        </Layout>\n      );\n    }\n  }\n\n  let content = <></>;\n  if (isLoading) {\n    content = (\n      <Layout style={{ marginTop: 20, alignItems: 'center' }}>\n        <Spinner />\n      </Layout>\n    );\n  } else if (isError) {\n    content = (\n      <Layout style={{ alignItems: 'center', marginTop: 20 }}>\n        <FontAwesome5\n          name=\"exclamation\"\n          size={50}\n          color={theme['color-danger-500']}\n        />\n        <Text style={{ textAlign: 'center', fontSize: 20 }}>\n          Error loading posts\n        </Text>\n      </Layout>\n    );\n  } else if (posts.length === 0) {\n    content = (\n      <Layout style={{ alignItems: 'center', marginTop: 20 }}>\n        <FontAwesome5\n          name=\"sad-tear\"\n          size={50}\n          color={theme['color-danger-500']}\n        />\n        <Text style={{ textAlign: 'center', fontSize: 20 }}>\n          No posts found\n        </Text>\n      </Layout>\n    );\n  } else if (searchTerm === '' && tag === '') {\n    if (recentSearches?.length > 0) {\n      content = (\n        <Layout style={{ flex: 1 }}>\n          <List\n            keyboardShouldPersistTaps=\"handled\"\n            ListHeaderComponent={() => (\n              <Text\n                status=\"success\"\n                style={{ fontStyle: 'italic', marginLeft: 20 }}\n              >\n                Recent Searches\n              </Text>\n            )}\n            data={Array.from(recentSearches)}\n            renderItem={renderRecentSearch}\n          />\n        </Layout>\n      );\n    } else {\n      content = (\n        <Layout style={{ flex: 1 }}>\n          <Layout style={{ marginTop: 30, justifyContent: 'center' }}>\n            <Text style={{ textAlign: 'center', fontSize: 20 }}>\n              Search for posts\n            </Text>\n            <Text\n              style={{\n                textAlign: 'center',\n                fontSize: 16,\n                color: theme['color-basic-500']\n              }}\n            >\n              Search by title, tag, or college\n            </Text>\n          </Layout>\n        </Layout>\n      );\n    }\n  } else {\n    content =\n      Platform.OS === 'web' ? (\n        <List\n          contentContainerStyle={{\n            width: '100%',\n            maxWidth: 720,\n            alignSelf: 'center',\n            paddingHorizontal: 10,\n            backgroundColor: 'transparent'\n          }}\n          onRefresh={fetchFirstPage}\n          refreshing={isLoading}\n          data={posts}\n          keyExtractor={(item) => item._id}\n          renderItem={renderItem}\n          onEndReachedThreshold={0.5}\n          onEndReached={fetchMorePosts}\n          ListFooterComponent={FooterSpinner}\n          ItemSeparatorComponent={null}\n        />\n      ) : (\n        <Layout style={{ flex: 1 }}>\n          <List\n            contentContainerStyle={{ width: '100%' }}\n            onRefresh={fetchFirstPage}\n            refreshing={isLoading}\n            data={posts}\n            keyExtractor={(item) => item._id}\n            renderItem={renderItem}\n            onEndReachedThreshold={0.5}\n            onEndReached={fetchMorePosts}\n            ListFooterComponent={FooterSpinner}\n            showsVerticalScrollIndicator={false}\n            ItemSeparatorComponent={Divider}\n          />\n        </Layout>\n      );\n  }\n\n  return <Layout style={{ flex: 1 }}>{content}</Layout>;\n}\n","import { Input, Layout, useTheme } from '@ui-kitten/components';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useEffect, useRef, useState } from 'react';\n\nimport PostsList from './PostsList';\nimport {\n  selectSearchTerm,\n  selectSubmittedSearchTerm,\n  searchTermChanged,\n  searchTermSubmitted,\n  selectTag,\n  selectRecentSearches,\n  recentSearchTermRemoved,\n  recentSearchTermSelected\n} from './discoverSlice';\nimport { selectDarkMode } from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport Header from '../../components/Header';\nimport SearchBar from '../../components/SearchBar';\nimport { CurrentTermLabel } from '../classPages/ClassesList';\n\nexport default function SearchPage({ navigation }) {\n  const dispatch = useAppDispatch();\n\n  const searchTerm = useAppSelector(selectSearchTerm);\n  const tag = useAppSelector(selectTag);\n  const submittedSearchTerm = useAppSelector(selectSubmittedSearchTerm);\n  const recentSearches = useAppSelector(selectRecentSearches);\n\n  const inputRef = useRef<Input>(null);\n\n  const darkMode = useAppSelector(selectDarkMode);\n  const theme = useTheme();\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  const onSubmitEditing = async () => {\n    dispatch(searchTermSubmitted(searchTerm));\n  };\n\n  const onChangeText = (text: string) => {\n    dispatch(searchTermChanged(text));\n  };\n\n  const handleRemoveRecentSearch = (searchTerm: string) => {\n    dispatch(recentSearchTermRemoved(searchTerm));\n  };\n\n  const handleClickRecentSearch = (searchTerm: string) => {\n    dispatch(recentSearchTermSelected(searchTerm));\n  };\n\n  let searchBarBackgroundColor = '';\n  if (darkMode) {\n    searchBarBackgroundColor = theme['color-basic-800'];\n  } else {\n    searchBarBackgroundColor = theme['color-basic-100'];\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <Layout level=\"2\" style={{ paddingBottom: 15 }}>\n        <Header\n          level=\"2\"\n          center={\n            <Layout\n              level=\"2\"\n              style={{ flex: 1, backgroundColor: 'transparent' }}\n            >\n              <SearchBar\n                inputRef={inputRef}\n                inputStyle={{\n                  opacity: 1,\n                  backgroundColor: searchBarBackgroundColor\n                }}\n                searchTerm={searchTerm}\n                onChangeText={onChangeText}\n                onSubmitEditing={onSubmitEditing}\n                placeholder=\"Search Posts...\"\n                cancelButtonAction={() => navigation.goBack()}\n                cancelButtonStatus=\"basic\"\n                alwaysShowCancelButton\n              />\n            </Layout>\n          }\n          title=\"\"\n        />\n      </Layout>\n      <PostsList\n        navigation={navigation}\n        tag={tag}\n        searchTerm={submittedSearchTerm}\n        recentSearches={recentSearches}\n        handleRemoveRecentSearch={handleRemoveRecentSearch}\n        handleClickRecentSearch={handleClickRecentSearch}\n        sponsor\n      />\n    </Layout>\n  );\n}\n","import { Card, Modal, Text, Button } from '@ui-kitten/components';\nimport { StyleSheet } from 'react-native';\n\nexport default function DisabledFieldModal({ setShowModal }) {\n  return (\n    <Modal\n      visible\n      backdropStyle={myStyles.backdrop}\n      style={{ width: '75%' }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={{ fontSize: 15, paddingTop: 5, paddingBottom: 10 }}>\n          Sorry, we are experiencing technical difficulties and this\n          functionality is currently undergoing maintenance. Please try again\n          later.\n        </Text>\n        <Button\n          onPress={() => {\n            setShowModal(false);\n          }}\n        >\n          Dismiss\n        </Button>\n      </Card>\n    </Modal>\n  );\n}\n\nconst myStyles = StyleSheet.create({\n  backdrop: {\n    backgroundColor: 'rgba(0, 0, 0, 0.65)'\n  }\n});\n","import { Layout, Spinner } from '@ui-kitten/components';\n\nexport default function FullPageSpinner({ opacity = 0.4 }) {\n  return (\n    <Layout\n      style={{\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n        backgroundColor: 'black',\n        flex: 1,\n        opacity,\n        zIndex: 100\n      }}\n    >\n      <Spinner size=\"large\" />\n    </Layout>\n  );\n}\n","import { FontAwesome } from '@expo/vector-icons';\nimport { Layout, Text, useTheme } from '@ui-kitten/components';\nimport { useState } from 'react';\nimport { TouchableOpacity, Alert } from 'react-native';\n\nimport { selectDarkMode, selectUserKey } from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport { stringToEmoji } from '../../../functions';\nimport {\n  useDeleteCommentMutation,\n  useLikeCommentMutation\n} from '../../api/discoverApi';\n\nexport default function Comment({\n  body,\n  postId,\n  commentId,\n  isOwnComment,\n  userName,\n  numLikes,\n  hasLiked,\n  searchTerm,\n  searchedTag\n}) {\n  const theme = useTheme();\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [likeComment] = useLikeCommentMutation();\n  const [deleteComment] = useDeleteCommentMutation();\n\n  const handleLikeComment = async () => {\n    try {\n      await likeComment({\n        commentId,\n        postId,\n        userKey,\n        userName,\n        searchTerm,\n        tag: searchedTag\n      }).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't like comment\", error);\n    }\n  };\n\n  const handleDeleteComment = () => {\n    try {\n      deleteComment({\n        commentId,\n        postId,\n        userKey,\n        userName,\n        searchTerm,\n        tag: searchedTag\n      }).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't delete comment\", error);\n    }\n  };\n\n  return (\n    <TouchableOpacity\n      style={{ flexDirection: 'row', marginVertical: 10, marginHorizontal: 15 }}\n      onPress={() => setIsExpanded(!isExpanded)}\n      onLongPress={() => {\n        if (isOwnComment) {\n          Alert.alert('', body, [\n            {\n              text: 'Cancel',\n              style: 'cancel'\n            },\n            {\n              text: 'Delete',\n              onPress: handleDeleteComment\n            }\n          ]);\n        }\n      }}\n    >\n      <Layout\n        style={{\n          height: '100%',\n          flexDirection: 'row',\n          flex: 11\n        }}\n      >\n        <Layout\n          style={{\n            borderRadius: 100,\n            width: 35,\n            height: 35,\n            marginRight: 10,\n            backgroundColor: darkMode\n              ? theme['color-basic-600']\n              : theme['color-basic-300'],\n            justifyContent: 'center',\n            alignItems: 'center'\n          }}\n        >\n          <Text style={{ fontSize: 15 }}>{stringToEmoji(body)}</Text>\n        </Layout>\n\n        <Text style={{ fontWeight: 'normal', flex: 1, paddingTop: 7 }}>\n          {`  `}\n          {isExpanded || body.length <= 50 ? body : `${body.slice(0, 50)}...`}\n        </Text>\n      </Layout>\n\n      <TouchableOpacity\n        style={{\n          flexDirection: 'row',\n          alignSelf: 'center',\n          alignItems: 'center'\n        }}\n        onPress={handleLikeComment}\n      >\n        <Text style={{ padding: 5, fontSize: 15 }}>{numLikes}</Text>\n        <FontAwesome\n          size={15}\n          color={\n            hasLiked ? theme['color-primary-500'] : theme['color-basic-400']\n          }\n          name=\"heart\"\n        />\n      </TouchableOpacity>\n    </TouchableOpacity>\n  );\n}\n","import { A } from '@expo/html-elements';\nimport { Input, Text } from '@ui-kitten/components';\nimport { Dimensions } from 'react-native';\n\nimport { selectDarkMode } from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport { validURL } from '../../../functions';\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function SinglePostBody({ type, body, handleLikePost }) {\n  const darkMode = useAppSelector(selectDarkMode);\n\n  if (type === 'contentText') {\n    return (\n      <Input\n        scrollEnabled={false}\n        multiline\n        disabled\n        value={body}\n        style={{\n          backgroundColor: 'transparent',\n          borderWidth: 0\n        }}\n        textStyle={{ color: darkMode ? 'white' : 'black' }}\n      />\n    );\n  }\n  if (type === 'contentUrl') {\n    if (validURL(body)) {\n      return (\n        <A style={{ color: 'blue' }} href={body}>\n          {body}\n        </A>\n      );\n    }\n    return <Text>{body}</Text>;\n  }\n  return <></>;\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport {\n  Button,\n  Card,\n  Divider,\n  Input,\n  Layout,\n  List,\n  Text,\n  useTheme\n} from '@ui-kitten/components';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useEffect, useState } from 'react';\nimport { Keyboard, TouchableOpacity } from 'react-native';\n\nimport { selectDarkMode, selectUserKey } from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport DisabledFieldModal from '../../../components/DisabledOptionModal';\nimport FullPageSpinner from '../../../components/FullPageSpinner';\nimport { MAX_WIDTH_WEB } from '../../../constants/discover';\nimport { stringToEmoji } from '../../../functions';\nimport {\n  discoverApiSlice,\n  postsAdapter,\n  postsSelectors,\n  useAddCommentMutation,\n  useDeleteDiscoverPostMutation,\n  useLazyGetPostByIdQuery,\n  useLikePostMutation\n} from '../../api/discoverApi';\nimport { usersApiSlice } from '../../api/usersApi';\nimport BottomBar from '../BottomBar';\nimport ImageComponent from '../ImageComponent';\nimport Comment from './Comment';\nimport SinglePostBody from './SinglePostBody';\n\nexport default function SinglePost({\n  route: {\n    params: { _id, searchTerm, searchedTag }\n  },\n  navigation\n}) {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const [showModal, setShowModal] = useState(false);\n  const [comment, setComment] = useState('');\n  const [inputFocused, setInputFocused] = useState(false);\n\n  const [likePost] = useLikePostMutation();\n  const [refreshPost, { isLoading: refreshPostLoading }] =\n    useLazyGetPostByIdQuery();\n  const [addComment, { isLoading: addCommentLoading }] =\n    useAddCommentMutation();\n  const [deletePost, { isLoading: deletePostLoading }] =\n    useDeleteDiscoverPostMutation();\n  const { data: userData } =\n    usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n  const post = discoverApiSlice.endpoints.getDiscoverPosts.useQueryState(\n    { pageNumber: 1, userKey, userName: userData.userName },\n    {\n      selectFromResult: (result) =>\n        postsSelectors.selectById(\n          result.data ?? postsAdapter.getInitialState(),\n          _id\n        )\n    }\n  );\n\n  useEffect(() => {\n    if (!post) navigation.goBack();\n  }, [post]);\n\n  const handleRefreshPost = async () => {\n    try {\n      await refreshPost({\n        postId: _id,\n        userKey,\n        userName: userData.userName,\n        searchTerm,\n        tag: searchedTag\n      }).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't refresh post\", error);\n    }\n  };\n\n  const handleDeletePost = async () => {\n    try {\n      await deletePost({\n        _id,\n        userKey,\n        userName: userData.userName,\n        title: post.title,\n        searchTerm,\n        tag: searchedTag\n      }).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't delete post\", error);\n    }\n  };\n\n  const handleSubmitComment = async () => {\n    try {\n      await addComment({\n        _id,\n        userKey,\n        userName: userData.userName,\n        text: comment,\n        searchTerm,\n        tag: searchedTag\n      }).unwrap();\n      setComment('');\n      setInputFocused(false);\n      Keyboard.dismiss();\n    } catch (e) {\n      console.warn('Error submitting comment', e);\n    }\n  };\n\n  const handlePressLike = async () => {\n    try {\n      await likePost({\n        userKey,\n        _id,\n        title: post.title,\n        postAuthor: post.userName,\n        userName: userData.userName,\n        searchTerm,\n        tag: searchedTag\n      }).unwrap();\n    } catch (error) {\n      console.warn('Error liking post:', error);\n    }\n  };\n\n  let body = <></>;\n  if (post?.type === 'contentImage') {\n    body = (\n      <ImageComponent\n        apiInfo={{\n          userKey,\n          _id,\n          title: post.title,\n          postAuthor: post.userName,\n          userName: userData.userName,\n          searchTerm,\n          searchedTag\n        }}\n        hasLiked={post.hasLiked}\n        imageId={post.contentImage}\n      />\n    );\n  } else if (post?.type === 'contentText' || post?.type === 'contentUrl') {\n    body = (\n      <SinglePostBody\n        handleLikePost={handlePressLike}\n        type={post.type}\n        body={post.contentText || post.contentUrl}\n      />\n    );\n  }\n\n  function TopContent() {\n    return (\n      <Layout style={{ maxWidth: MAX_WIDTH_WEB, alignSelf: 'center' }}>\n        <Card\n          disabled\n          style={{ margin: 8, borderWidth: 0 }}\n          header={\n            <Layout>\n              <Text style={{ fontWeight: 'bold', fontSize: 20 }}>\n                {post.title}\n              </Text>\n            </Layout>\n          }\n          footer={\n            <Layout style={{ margin: 0, padding: 0 }}>\n              <BottomBar\n                commentIconShown={false}\n                tags={post.tags}\n                _id={post._id}\n              />\n            </Layout>\n          }\n        >\n          {body}\n        </Card>\n        {post.userName === userData.userName ? (\n          <Layout style={{ flexDirection: 'row', width: '100%' }}>\n            <Button\n              status=\"danger\"\n              style={{ margin: 8, flex: 1 }}\n              onPress={handleDeletePost}\n            >\n              Delete Post\n            </Button>\n            {/* <Button style={{ margin: 8, flex: 1 }} disabled>\n              Edit Post\n            </Button> */}\n          </Layout>\n        ) : null}\n\n        <Card disabled style={{ borderWidth: 0 }}>\n          <Text\n            style={{\n              fontWeight: '600'\n            }}\n          >\n            {`Comments (${post.comments.length})`}\n          </Text>\n        </Card>\n      </Layout>\n    );\n  }\n\n  if (!post) {\n    return null;\n  }\n\n  return (\n    <LinearGradient\n      colors={\n        darkMode\n          ? [theme['color-basic-1100'], theme['color-basic-1100']]\n          : [theme['color-primary-500'], theme['color-success-500']]\n      }\n      style={{\n        width: '100%',\n        margin: 0,\n        alignItems: 'center',\n        flex: 1\n      }}\n      start={{ x: 0, y: 0 }}\n      end={{ x: 1, y: 0.4 }}\n    >\n      <Layout style={{ flex: 1 }}>\n        {showModal && <DisabledFieldModal setShowModal={setShowModal} />}\n        {/* Render Comments */}\n        <List\n          onRefresh={handleRefreshPost}\n          showsVerticalScrollIndicator={false}\n          refreshing={refreshPostLoading}\n          ListHeaderComponent={TopContent}\n          contentContainerStyle={{\n            marginHorizontal: 10,\n            maxWidth: 700,\n            alignSelf: 'center'\n          }}\n          style={{ backgroundColor: 'transparent' }}\n          data={post.comments}\n          ItemSeparatorComponent={Divider}\n          renderItem={({ item }) => (\n            <Comment\n              body={item.text}\n              postId={post._id}\n              commentId={item._id}\n              numLikes={item.numLikes}\n              hasLiked={item.hasLiked}\n              userName={userData.userName}\n              isOwnComment={item.userName === userData.userName}\n              searchTerm={searchTerm}\n              searchedTag={searchedTag}\n            />\n          )}\n          keyExtractor={(comment) => {\n            return comment._id;\n          }}\n        />\n        <Layout\n          style={{\n            flexDirection: 'row',\n            alignItems: 'center',\n            height: 55,\n            bottom: 0,\n            width: '100%',\n            paddingVertical: 10,\n            paddingRight: 10,\n            borderColor: darkMode\n              ? theme['color-basic-500']\n              : theme['color-basic-300'],\n            borderTopWidth: 1\n          }}\n        >\n          <Layout\n            style={{\n              flex: 1,\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}\n          >\n            <Layout\n              style={{\n                borderRadius: 100,\n                width: 35,\n                height: 35,\n                backgroundColor: darkMode\n                  ? theme['color-basic-600']\n                  : theme['color-basic-300'],\n                justifyContent: 'center',\n                alignItems: 'center'\n              }}\n            >\n              <Text style={{ fontSize: 15 }}>\n                {stringToEmoji(userData.userName)}\n              </Text>\n            </Layout>\n          </Layout>\n\n          <Input\n            accessoryRight={\n              inputFocused ? (\n                <TouchableOpacity onPress={handleSubmitComment}>\n                  <FontAwesome5\n                    name=\"arrow-alt-circle-right\"\n                    size={22}\n                    color={theme['color-primary-500']}\n                  />\n                </TouchableOpacity>\n              ) : null\n            }\n            style={{ flex: 7 }}\n            placeholder=\"Add a comment...\"\n            onFocus={() => setInputFocused(true)}\n            onBlur={() => setInputFocused(false)}\n            value={comment}\n            onChangeText={(text) => setComment(text)}\n            onSubmitEditing={handleSubmitComment}\n          />\n        </Layout>\n        {(deletePostLoading || addCommentLoading) && <FullPageSpinner />}\n      </Layout>\n    </LinearGradient>\n  );\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout, Text, useTheme } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport {\n  Image,\n  Platform,\n  TouchableOpacity,\n  TouchableWithoutFeedback\n} from 'react-native';\n\nimport { selectDarkMode } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport Header from '../../components/Header';\nimport SearchBar from '../../components/SearchBar';\nimport { SponsorPage } from '../sponsors/SponsorsList';\nimport CreatePost from './CreatePost/CreatePost';\nimport PostsList from './PostsList';\nimport SearchPage from './SearchPage';\nimport SinglePost from './SinglePost/SinglePostPage';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Discover({ navigation }) {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const accessoryRight = (\n    <TouchableOpacity onPress={() => navigation.navigate('CreatePost')}>\n      <FontAwesome5 name=\"plus\" size={23} color={theme['color-primary-500']} />\n    </TouchableOpacity>\n  );\n\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28\n      }}\n      source={require('../../../assets/logos/app-logo-transparent.png')}\n    />\n  );\n\n  let searchBarBackgroundColor = '';\n  if (darkMode) {\n    searchBarBackgroundColor = theme['color-basic-800'];\n  } else {\n    searchBarBackgroundColor = theme['color-basic-100'];\n  }\n\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"PostsList\"\n        initialParams={{ sponsor: true }}\n        component={PostsList}\n        options={{\n          title: 'Discover',\n          header: () => (\n            <Layout level=\"2\" style={{ paddingBottom: 15 }}>\n              <Header\n                level=\"2\"\n                title=\"Discover\"\n                accessoryLeft={accessoryLeft}\n                accessoryRight={accessoryRight}\n                center={\n                  <Layout level=\"2\" style={{ flex: 1, marginHorizontal: 10 }}>\n                    {Platform.OS === 'ios' ? (\n                      <SearchBar\n                        inputStyle={{\n                          opacity: 0.8,\n                          backgroundColor: searchBarBackgroundColor\n                        }}\n                        searchTerm={searchTerm}\n                        onChangeText={setSearchTerm}\n                        placeholder=\"Search Posts...\"\n                        inputProps={{\n                          disabled: true,\n                          onPressIn: () => {\n                            navigation.navigate('SearchPage');\n                          },\n\n                          onBlur: () => {\n                            navigation.goBack();\n                          }\n                        }}\n                      />\n                    ) : (\n                      <Layout\n                        style={{\n                          minHeight: 35,\n                          paddingLeft: 15,\n                          borderRadius: 20,\n                          flex: 1,\n                          borderWidth: 1,\n                          borderColor: darkMode\n                            ? theme['color-basic-500']\n                            : theme['color-basic-100'],\n                          justifyContent: 'center'\n                        }}\n                      >\n                        <TouchableWithoutFeedback\n                          onPress={() => {\n                            navigation.navigate('SearchPage');\n                          }}\n                        >\n                          <Text\n                            style={{\n                              color: theme['color-basic-400'],\n                              fontSize: 14\n                            }}\n                          >\n                            Search Posts...\n                          </Text>\n                        </TouchableWithoutFeedback>\n                      </Layout>\n                    )}\n                  </Layout>\n                }\n              />\n            </Layout>\n          )\n        }}\n      />\n      <Stack.Screen\n        name=\"CreatePost\"\n        component={CreatePost}\n        options={{ headerTitle: 'Create a Post' }}\n      />\n      <Stack.Screen\n        name=\"SinglePost\"\n        component={SinglePost}\n        options={{\n          headerTitle: '',\n          title: 'Discover'\n        }}\n      />\n      <Stack.Screen\n        name=\"SearchPage\"\n        component={SearchPage}\n        options={{ headerShown: false, animation: 'fade', title: 'Discover' }}\n      />\n      <Stack.Screen\n        name=\"SponsorPageDiscover\"\n        component={SponsorPage}\n        options={{ headerTitle: '', title: 'Discover' }}\n      />\n    </Stack.Navigator>\n  );\n}\n","export default {\n  'color-basic-100': '#FFFFFF',\n  'color-basic-200': '#F5F5F5',\n  'color-basic-300': '#D4D4D4',\n  'color-basic-400': '#B3B3B3',\n  'color-basic-500': '#808080',\n  'color-basic-600': '#4A4A4A',\n  'color-basic-700': '#383838',\n  'color-basic-800': '#292929',\n  'color-basic-900': '#1F1F1F',\n  'color-basic-1000': '#141414',\n  'color-basic-1100': '#000000',\n  'color-primary-100': '#FFE0D8',\n  'color-primary-200': '#FFBBB2',\n  'color-primary-300': '#FF8E8B',\n  'color-primary-400': '#FF6F78',\n  'color-primary-500': '#FF3F5E',\n  'color-primary-600': '#DB2E5A',\n  'color-primary-700': '#B71F54',\n  'color-primary-800': '#93144C',\n  'color-primary-900': '#7A0C47',\n  'color-success-100': '#FBD4F0',\n  'color-success-200': '#F8ABE8',\n  'color-success-300': '#EA7EDC',\n  'color-success-400': '#D55AD0',\n  'color-success-500': '#b42bba',\n  'color-success-600': '#8F1F9F',\n  'color-success-700': '#6E1585',\n  'color-success-800': '#500D6B',\n  'color-success-900': '#3A0859',\n  'color-info-100': '#CDFDFE',\n  'color-info-200': '#9CF4FE',\n  'color-info-300': '#6AE4FC',\n  'color-info-400': '#45D0FA',\n  'color-info-500': '#09B0F7',\n  'color-info-600': '#0689D4',\n  'color-info-700': '#0466B1',\n  'color-info-800': '#02498F',\n  'color-info-900': '#013476',\n  'color-warning-100': '#FFF6CC',\n  'color-warning-200': '#FFEA99',\n  'color-warning-300': '#FFDC66',\n  'color-warning-400': '#FFCD3F',\n  'color-warning-500': '#FFB600',\n  'color-warning-600': '#DB9600',\n  'color-warning-700': '#B77800',\n  'color-warning-800': '#935C00',\n  'color-warning-900': '#7A4800',\n  'color-danger-100': '#FEE5DE',\n  'color-danger-200': '#FEC6BE',\n  'color-danger-300': '#FEA09D',\n  'color-danger-400': '#FD858D',\n  'color-danger-500': '#FC5D77',\n  'color-danger-600': '#D8436A',\n  'color-danger-700': '#B52E5E',\n  'color-danger-800': '#921D51',\n  'color-danger-900': '#781149',\n  'color-grey-800': '#1F1F1F',\n  'color-grey-700': '#2F2F2F',\n  'color-grey-600': '#3F3F3F',\n  'color-grey-500': '#4F4F4F',\n  'color-grey-400': '#5F5F5F',\n  'color-grey-300': '#6F6F6F',\n  'color-grey-200': '#7F7F7F',\n  'color-grey-100': '#8F8F8F',\n  'color-grey-50': '#9F9F9F'\n};\n","import { Feather } from '@expo/vector-icons';\nimport React from 'react';\nimport { StyleSheet } from 'react-native';\n\nexport default {\n  name: 'feather',\n  icons: createIconsMap()\n};\n\nfunction createIconsMap() {\n  return new Proxy(\n    {},\n    {\n      get(target, name) {\n        return IconProvider(name);\n      }\n    }\n  );\n}\n\nconst IconProvider = (name) => ({\n  toReactElement: (props) => FeatherIcon({ name, ...props })\n});\n\nfunction FeatherIcon({ name, style }) {\n  const { height, tintColor, ...iconStyle } = StyleSheet.flatten(style);\n  return (\n    <Feather name={name} size={height} color={tintColor} style={iconStyle} />\n  );\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport React from 'react';\nimport { StyleSheet } from 'react-native';\n\nexport default {\n  name: 'fontAwesome',\n  icons: createIconsMap()\n};\n\nfunction createIconsMap() {\n  return new Proxy(\n    {},\n    {\n      get(target, name) {\n        return IconProvider(name);\n      }\n    }\n  );\n}\n\nconst IconProvider = (name) => ({\n  toReactElement: (props) => FontAwesomeIcon({ name, ...props })\n});\n\nfunction FontAwesomeIcon({ name, style }) {\n  const { height, tintColor, ...iconStyle } = StyleSheet.flatten(style);\n  return (\n    <FontAwesome5\n      name={name}\n      size={height}\n      color={tintColor}\n      style={iconStyle}\n    />\n  );\n}\n","import * as eva from '@eva-design/eva';\nimport { Ionicons } from '@expo/vector-icons';\nimport { BottomSheetModalProvider } from '@gorhom/bottom-sheet';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\n\nimport {\n  DarkTheme,\n  DefaultTheme,\n  NavigationContainer\n} from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport {\n  ApplicationProvider,\n  IconRegistry,\n  Layout,\n  Text,\n  useTheme\n} from '@ui-kitten/components';\nimport Constants from 'expo-constants';\nimport { isDevice } from 'expo-device';\nimport * as Linking from 'expo-linking';\nimport { Subscription } from 'expo-modules-core';\nimport * as Notifications from 'expo-notifications';\nimport * as ExpoSplashScreen from 'expo-splash-screen';\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useEffect, useRef, useState } from 'react';\nimport {\n  Alert,\n  Platform,\n  useColorScheme,\n  useWindowDimensions\n} from 'react-native';\nimport { GestureHandlerRootView } from 'react-native-gesture-handler';\nimport { RootSiblingParent } from 'react-native-root-siblings';\nimport { Provider } from 'react-redux';\nimport { persistStore } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport {\n  cacheReset,\n  deviceDarkModeSet,\n  mobileSiteSet,\n  reset as resetAppData,\n  selectDarkMode,\n  selectUserKey,\n  userKeyUpdated\n} from './src/app/appDataSlice';\nimport { store } from './src/app/store';\nimport {\n  apiSlice,\n  useLazyGetCurrentVersionQuery\n} from './src/features/api/apiSlice';\nimport {\n  availableSectionsListUpdated,\n  currentSectionUpdated,\n  isHMCUpdated,\n  reset as resetClassPages\n} from './src/features/classPages/classPagesSlice';\nimport { reset as resetDiscover } from './src/features/discover/discoverSlice';\n\nimport { useAppDispatch, useAppSelector } from './src/app/hooks';\nimport WebSplashScreen from './src/components/WebSplashScreen';\nimport AdminPanel from './src/features/adminPanel';\nimport {\n  useLazyGetAllClassesQuery,\n  useLazyGetAllSectionsQuery\n} from './src/features/api/classPagesApi';\nimport {\n  useAddExpoPushTokenMutation,\n  useGetUserInfoQuery,\n  useLazyGetUserInfoQuery,\n  useTrackLoginMutation\n} from './src/features/api/usersApi';\nimport Auth from './src/features/authentication';\nimport Calendar from './src/features/calendar';\nimport ChatsRoomNavigation from './src/features/chats/ChatRooms';\nimport ClassPages from './src/features/classPages';\nimport CombinedClassPages from './src/features/combinedCalender';\nimport Discover from './src/features/discover';\nimport { versionCompare } from './src/functions';\nimport Theme from './src/theme/custom-theme';\nimport FeatherIconsPack from './src/theme/feather-icons';\nimport FontAwesomeIconsPack from './src/theme/font-awesome-icons';\n\nconst persistor = persistStore(store);\nconst Stack = createNativeStackNavigator();\nconst Tab = createBottomTabNavigator();\nExpoSplashScreen.preventAutoHideAsync();\n\nNotifications.setNotificationHandler({\n  handleNotification: async () => ({\n    shouldShowAlert: false,\n    shouldPlaySound: false,\n    shouldSetBadge: false\n  })\n});\n\nconst registerForPushNotificationsAsync = async () => {\n  let token: string;\n  if (isDevice && Platform.OS !== 'web') {\n    const { status: existingStatus } =\n      await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    if (existingStatus !== 'granted') {\n      const { status } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== 'granted') {\n      alert('Failed to get push token for push notification!');\n      return;\n    }\n    token = (await Notifications.getExpoPushTokenAsync()).data;\n  }\n\n  if (Platform.OS === 'android') {\n    Notifications.setNotificationChannelAsync('default', {\n      name: 'default',\n      importance: Notifications.AndroidImportance.MAX,\n      vibrationPattern: [0, 250, 250, 250],\n      lightColor: '#FF231F7C'\n    });\n  }\n\n  return token;\n};\n\nexport default function Entry() {\n  return (\n    <Provider store={store}>\n      <PersistGate persistor={persistor}>\n        <RootSiblingParent>\n          <GestureHandlerRootView style={{ flex: 1 }}>\n            <BottomSheetModalProvider>\n              <App />\n            </BottomSheetModalProvider>\n          </GestureHandlerRootView>\n        </RootSiblingParent>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nfunction App() {\n  const colorScheme = useColorScheme();\n  const dispatch = useAppDispatch();\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const useDeviceColorScheme = useAppSelector(\n    (state) => state.appData.secure.useDeviceColorScheme\n  );\n  const localCurrentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n  const isCacheReset = useAppSelector(\n    (state) => state.appData.secure.isCacheReset\n  );\n  const [isReady, setIsReady] = useState(false);\n  const [trackLogin] = useTrackLoginMutation();\n  const [getAllSections] = useLazyGetAllSectionsQuery();\n  const [getAllClasses] = useLazyGetAllClassesQuery();\n  const [getCurrentVersion] = useLazyGetCurrentVersionQuery();\n  const [getUserInfo, { data: userData, isError }] = useLazyGetUserInfoQuery();\n  const [addExpoPushToken] = useAddExpoPushTokenMutation();\n  const windowWidth = useWindowDimensions().width;\n\n  const [notification, setNotification] =\n    useState<Notifications.Notification>(null);\n  const notificationListener = useRef<Subscription>();\n  const responseListener = useRef();\n\n  const linking = {\n    prefixes: [Linking.createURL('/'), 'https://www.joinathena.net']\n  };\n\n  useEffect(() => {\n    const prepare = async () => {\n      try {\n        const fetchedCurrentSection = await getAllSections().unwrap();\n\n        if (!isCacheReset) {\n          dispatch(resetClassPages());\n          dispatch(resetDiscover());\n          dispatch(resetAppData());\n          dispatch(apiSlice.util.resetApiState());\n          dispatch(cacheReset());\n        }\n\n        // Check for user key\n        if (userKey) {\n          const fetchedUserData = await getUserInfo(userKey).unwrap();\n          await trackLogin(userKey);\n\n          // Notfication token setup\n          try {\n            const expoPushToken = await registerForPushNotificationsAsync();\n            if (expoPushToken) {\n              await addExpoPushToken({\n                userKey,\n                expoPushToken,\n                userName: fetchedUserData.userName\n              }).unwrap();\n            }\n          } catch (e) {\n            console.warn('Failed to set up expo push token', e);\n          }\n\n          dispatch(\n            availableSectionsListUpdated(fetchedCurrentSection.availableTerms)\n          );\n          dispatch(isHMCUpdated(fetchedUserData.email.includes('hmc.edu')));\n\n          // Check for current section and update class list if outdated\n          if (\n            Platform.OS === 'web' ||\n            fetchedCurrentSection.currentTerm !== localCurrentSection\n          ) {\n            dispatch(currentSectionUpdated(fetchedCurrentSection.currentTerm));\n            try {\n              getAllClasses({\n                userKey,\n                collegeName: fetchedUserData.collegeName,\n                courseTerm: fetchedCurrentSection.currentTerm\n              }).unwrap();\n            } catch (e) {\n              console.warn('Section is outdated: could not fetch classes', e);\n            }\n          }\n        }\n\n        notificationListener.current =\n          Notifications.addNotificationReceivedListener((notification) => {\n            setNotification(notification);\n          });\n\n        checkForUpdates();\n      } catch (e) {\n        dispatch(userKeyUpdated('')); // Clear userKey if login fails\n        console.warn('Login Fail', e);\n      } finally {\n        setIsReady(true);\n        await ExpoSplashScreen.hideAsync();\n      }\n    };\n    prepare();\n\n    return () => {\n      if (notificationListener.current) {\n        Notifications.removeNotificationSubscription(\n          notificationListener.current\n        );\n      }\n\n      if (responseListener.current) {\n        Notifications.removeNotificationSubscription(responseListener.current);\n      }\n    };\n  }, [userKey]);\n\n  useEffect(() => {\n    if (useDeviceColorScheme) {\n      dispatch(deviceDarkModeSet(colorScheme === 'dark'));\n    }\n  }, [colorScheme]);\n\n  useEffect(() => {\n    dispatch(mobileSiteSet(windowWidth < 768));\n  }, [windowWidth]);\n\n  const checkForUpdates = async () => {\n    try {\n      // Check for current version\n      const currentVersion =\n        Constants?.manifest2?.extra?.expoClient?.version ??\n        Constants?.manifest?.version;\n\n      const res = await getCurrentVersion().unwrap();\n      const currentFrontEndVersion =\n        res?.currentFrontEndVersion.currentFrontEndVersion;\n\n      if (\n        Platform.OS !== 'web' &&\n        currentVersion &&\n        versionCompare(currentFrontEndVersion, currentVersion) > 0\n      ) {\n        Alert.alert('There is a new version available!', '', [\n          {\n            text:\n              Platform.OS === 'android'\n                ? 'Update on the Play Store'\n                : 'Update on the App Store',\n            onPress: () =>\n              Linking.openURL(\n                Platform.OS === 'android'\n                  ? 'market://details?id=com.theathenanetwork.app'\n                  : 'https://apps.apple.com/us/app/athena-network/id1628317342'\n              )\n          },\n          {\n            text: 'Cancel',\n            style: 'cancel'\n          }\n        ]);\n      }\n    } catch (e) {\n      console.warn('Update check failed', e);\n    }\n  };\n\n  if (!isReady) {\n    if (Platform.OS === 'web') {\n      return <WebSplashScreen />;\n    }\n    return null;\n  }\n\n  return (\n    <NavigationContainer\n      documentTitle={{\n        formatter: (options, route) =>\n          `${options?.title ? options?.title + ' -' : ''} Athena Network`\n      }}\n      theme={darkMode ? DarkTheme : DefaultTheme}\n      // linking={linking}\n      // fallback={<WebSplashScreen />}\n    >\n      <ApplicationProvider\n        {...eva}\n        theme={{ ...(darkMode ? eva.dark : eva.light), ...Theme }}\n      >\n        <StatusBar style={darkMode ? 'light' : 'dark'} />\n        <IconRegistry icons={[FontAwesomeIconsPack, FeatherIconsPack]} />\n\n        <Layout style={{ flex: 1, overflow: 'hidden' }}>\n          <Stack.Navigator screenOptions={{ headerShown: false }}>\n            {userData && !isError ? (\n              <Stack.Screen name=\"Tabs\" component={TabsPage} />\n            ) : (\n              <Stack.Screen name=\"Auth\" component={Auth} />\n            )}\n          </Stack.Navigator>\n        </Layout>\n      </ApplicationProvider>\n    </NavigationContainer>\n  );\n}\n\nfunction TabsPage() {\n  const theme = useTheme();\n  const isMobile = useAppSelector((state) => state.appData.secure.isMobile);\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const [isDev] = useState(!!__DEV__);\n\n  return (\n    <Tab.Navigator\n      initialRouteName={'ClassPages'}\n      screenOptions={({ route }) => ({\n        tabBarHideOnKeyboard: Platform.OS === 'android',\n        tabBarIcon: ({ focused }) => {\n          // Create type for icon name\n          type IoniconsIconName = React.ComponentProps<typeof Ionicons>['name'];\n          let iconName: IoniconsIconName = 'ios-home';\n\n          if (route.name === 'ClassPages') {\n            iconName = focused ? 'book' : 'book-outline';\n          } else if (route.name === 'Discover') {\n            iconName = focused ? 'compass' : 'compass-outline';\n          } else if (route.name === 'Calendar') {\n            iconName = focused ? 'calendar' : 'calendar-outline';\n          } else if (route.name === 'ChatsRoomNavigation') {\n            iconName = focused ? 'chatbubbles' : 'chatbubbles-outline';\n          }\n\n          return (\n            <Ionicons\n              name={iconName}\n              size={25}\n              color={\n                focused ? theme['color-primary-500'] : theme['color-basic-500']\n              }\n            />\n          );\n        },\n        tabBarStyle: { paddingTop: 5 },\n        headerShown: false,\n        lazy: true\n      })}\n    >\n      {/* {isMobile ? ( */}\n        <>\n          <Tab.Screen\n            name=\"ClassPages\"\n            component={ClassPages}\n            options={{\n              tabBarLabel: () => (\n                <Text\n                  style={{\n                    margin: isMobile ? 0 : 15,\n                    fontSize: 12\n                  }}\n                >\n                  Class Pages\n                </Text>\n              )\n            }}\n          />\n          <Tab.Screen\n            name=\"Calendar\"\n            component={Calendar}\n            options={{\n              tabBarLabel: () => (\n                <Text\n                  style={{\n                    margin: isMobile ? undefined : 15,\n                    fontSize: 12\n                  }}\n                >\n                  Calendar\n                </Text>\n              )\n            }}\n          />\n        </>\n      {/* ) : (\n        <Tab.Screen\n          name=\"ClassPages2\"\n          component={CombinedClassPages}\n          options={{\n            tabBarLabel: () => (\n              <Text\n                style={{\n                  margin: isMobile ? undefined : 15,\n                  fontSize: 12\n                }}\n              >\n                Class Pages\n              </Text>\n            ),\n            title: 'Class Pages'\n          }}\n        />\n      )} */}\n      <Tab.Screen\n        name=\"ChatsRoomNavigation\"\n        component={ChatsRoomNavigation}\n        options={{\n          tabBarLabel: () => (\n            <Text\n              style={{\n                margin: isMobile ? undefined : 15,\n                fontSize: 12\n              }}\n            >\n              Chats\n            </Text>\n          )\n        }}\n      />\n      <Tab.Screen\n        name=\"Discover\"\n        component={Discover}\n        options={{\n          tabBarLabel: () => (\n            <Text\n              style={{\n                margin: isMobile ? undefined : 15,\n                fontSize: 12\n              }}\n            >\n              Discover\n            </Text>\n          )\n        }}\n      />\n      {userData?.permissionLevel === 'admin' && (\n        <Tab.Screen\n          name=\"Admin\"\n          component={AdminPanel}\n          options={{\n            unmountOnBlur: false,\n            tabBarLabel: () => (\n              <Text\n                style={{\n                  margin: isMobile ? undefined : 15,\n                  fontSize: 12\n                }}\n              >\n                Admin\n              </Text>\n            )\n          }}\n        />\n      )}\n    </Tab.Navigator>\n  );\n}\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n"],"sourceRoot":""}