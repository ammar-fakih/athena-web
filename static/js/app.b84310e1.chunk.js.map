{"version":3,"sources":["assets/logos/app-logo-transparent.png","assets/sponsorPage/coupon.png","assets/sponsorPage/become-sponsor.png","assets/logos/owl-black-text.png","assets/logos/owl-white-text.png","node_modules/moment/locale sync /^/.//.*$","assets/logos/splash-logo.png","assets/logos/app-logo.png","src/app/SecureStorage.ts","src/app/appDataSlice.ts","src/features/calendar/calendarSlice.ts","src/features/api/apiSlice.ts","src/features/api/usersApi.ts","src/features/api/classPagesApi.ts","src/features/classPages/classPagesSlice.ts","src/features/discover/discoverSlice.ts","src/app/storage.ts","src/app/store.ts","src/features/authentication/ForgotPassword/EnterCodePage.tsx","src/features/authentication/ForgotPassword/EnterEmailPage.tsx","src/features/authentication/ForgotPassword/index.tsx","src/app/hooks.ts","src/features/authentication/Login.tsx","src/constants/admin.ts","src/features/authentication/Signup/SignupForm.tsx","src/features/authentication/Signup/VerifyEmail.tsx","src/components/BackButton.tsx","src/features/authentication/Signup/index.tsx","src/features/authentication/index.tsx","src/features/discover/CreatePost/CreateImagePost.tsx","src/components/WrapItems.tsx","src/features/discover/CreatePost/CreateEventPost.tsx","src/constants/discover.ts","src/functions.ts","src/features/api/discoverApi.ts","src/features/discover/CreatePost/CreatePost.tsx","src/features/discover/BottomBar.tsx","src/components/withPreventDoubleClick.tsx","src/components/DoubleTap.tsx","src/components/DoubleTapHeart.tsx","src/features/discover/ImageComponent.tsx","src/features/discover/EventBody.tsx","src/features/discover/Cards/EventCard.tsx","src/features/discover/Cards/ImageCard.tsx","src/features/discover/Cards/SponsorCard.tsx","src/features/discover/Cards/TextCard.tsx","src/features/discover/PostsList.tsx","src/components/Header.tsx","src/components/SearchBar.tsx","src/features/discover/SearchPage.tsx","src/features/discover/SinglePost/Comment.tsx","src/features/discover/SinglePost/SinglePostBody.tsx","src/components/DisabledOptionModal.tsx","src/components/FullPageSpinner.tsx","src/features/discover/SinglePost/SinglePostPage.tsx","src/components/Menu.tsx","src/features/api/sponsorsApi.ts","src/features/sponsors/SponsorsList.tsx","src/features/discover/index.tsx","src/features/calendar/CalendarFunctions.ts","src/features/calendar/ScheduledItem.tsx","src/features/calendar/customEvent.tsx","src/components/ModalContainer.tsx","src/features/notifications/constants.tsx","src/components/UserNameSelectionDropDown.tsx","src/features/classPages/SingleClassPage/exportModalClass.tsx","src/constants/map.ts","src/features/classPages/SingleClassPage/InfoPage.tsx","src/constants/classPages.ts","src/features/classPages/SingleClassPage/PostReview.tsx","src/features/classPages/SingleClassPage/index.tsx","src/features/classPages/AddedClasses.tsx","src/features/classPages/ClassListItemItem.tsx","src/features/classPages/ClassListItem.tsx","src/features/classPages/FilterClasses.tsx","src/components/Message.tsx","src/features/classPages/ClassesList.tsx","src/features/calendar/CalendarPage.tsx","src/features/calendar/CreateCustomEvent.tsx","src/features/calendar/exportModal.tsx","src/features/classPages/SelectTerm.tsx","src/features/calendar/index.tsx","src/constants/electiveGenerator.ts","src/features/classPages/ElectiveGenerator/index.tsx","src/features/notifications/notificationSinglePage.tsx","src/features/notifications/Notifications.tsx","src/features/settings/EditUser.tsx","src/features/settings/SettingsPage.tsx","src/features/settings/index.tsx","src/features/classPages/index.tsx","src/theme/custom-theme.ts","src/theme/font-awesome-icons.tsx","src/theme/feather-icons.tsx","src/features/adminPanel/adminPanel.tsx","src/features/adminPanel/index.tsx","src/components/WebSplashScreen.tsx","src/features/chats/singleChatPage/SingleChatRoom.native.tsx","src/features/chats/ChatRooms.tsx","App.tsx","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","defaultReplacer","key","replaceCharacter","replace","initialState","userKey","isGuest","isMobile","darkMode","useDeviceColorScheme","appDataSlice","createSlice","name","reducers","reset","userKeyUpdated","state","action","payload","setIsGuest","deviceDarkModeSet","useDeviceColorSchemeSet","deleteAllAppData","mobileSiteSet","extraReducers","selectDarkMode","appData","secure","selectUserKey","selectIsGuest","actions","isThreeDay","calendarSlice","isThreeDaySet","apiSlice","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getCurrentVersion","query","useLazyGetCurrentVersionQuery","usersApiSlice","injectEndpoints","overrideExisting","getUserInfo","providesTags","url","headers","transformErrorResponse","response","status","error","transformResponse","classes","rest","addedClasses","length","courseCode","courseTerm","school","split","masterCourseCode","slice","join","push","console","warn","login","mutation","userName","password","params","trackLogin","method","responseHandler","text","deleteAccount","editUser","invalidatesTags","body","fields","getCollegeList","signupUser","verifySignup","resetPassword","email","addExpoPushToken","expoPushToken","useTrackLoginMutation","useGetUserInfoQuery","useLazyGetUserInfoQuery","useLoginMutation","useDeleteAccountMutation","useEditUserMutation","useGetCollegeListQuery","useSignupUserMutation","useVerifySignupMutation","useResetPasswordMutation","useAddExpoPushTokenMutation","classPagesApi","getAllClasses","pageNumber","collegeName","getRatingFromReviews","reviews","totalAverage","counter","review","rating","toFixed","getDifficultyFromReviews","difficulty","fromEntries","entries","value","sort","getCurrentSection","currentTerm","getAllSections","addClass","classesToAdd","onQueryStarted","dispatch","queryFulfilled","patchResult","util","updateQueryData","draft","undo","addMultipleClasses","courseCodePairs","courseCodePair","removeClass","classesToRemove","filter","classCode","isAllowedToReview","sendReview","useGetCurrentSectionQuery","useGetAllClassesQuery","useAddClassMutation","useAddMultipleClassesMutation","useRemoveClassMutation","useIsAllowedToReviewQuery","useSendReviewMutation","useLazyGetAllClassesQuery","useLazyGetAllSectionsQuery","filteredClasses","renderedClasses","currentSection","availableSections","selectedClass","searchTerm","page","isHMC","filters","colleges","HM","CM","PO","PZ","SC","hasSelectedElectiveGen","suggestedClasses","classPagesSlice","currentSectionUpdated","availableSectionsListUpdated","endOfListReached","resetClasses","caseReducers","searchResultsFiltered","suggestedClassesUpdated","suggestedClassesDimissed","electiveGeneratorSelected","classSelected","selectedClassCleared","filtersSaved","isHMCUpdated","filtersReset","newResultsArray","collegeAbr","substring","college","isCollegeFiltered","searchTermUpdated","matchDepartmentName","searchCourseCode","findSearchTermShortcuts","searchTerms","courseName","times","filterBySearchTerm","newResultsObject","addMatcher","matchFulfilled","searchPhrase","match","p1","p2","p3","p4","p5","padStart","coursePhrase","professorName","trim","includes","toUpperCase","selectClassesList","classPages","submittedSearchTerm","tag","recentSearches","discoverSlice","searchTermSubmitted","unshift","searchTermChanged","recentSearchTermSelected","tagSelected","recentSearchTermRemoved","term","selectSearchTerm","discover","selectSubmittedSearchTerm","selectTag","selectRecentSearches","SecureStorage","options","replacer","getItem","SecureStore","setItem","removeItem","createSecureStorage","securePersistConfig","storage","Platform","OS","AsyncStorage","cpPersistConfig","ExpoFileSystemStorage","whitelist","discoverPersistConfig","rootReducer","combineReducers","persistReducer","classPagesReducer","appDataReducer","discoverReducer","calendar","calendarReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","immutableCheck","concat","EnterCodePage","navigation","style","flex","alignItems","justifyContent","margin","category","onPress","index","routes","EnterEmailPage","useState","setEmail","inputRef","useRef","isLoading","isError","netInfo","useNetInfo","useEffect","current","focus","onSubmit","isConnected","unwrap","navigate","alert","paddingTop","autoCapitalize","placeholder","ref","onChangeText","onSubmitEditing","Keyboard","dismiss","color","disabled","accessoryRight","Stack","createNativeStackNavigator","ForgotPassword","Navigator","screenOptions","headerShown","Screen","component","useAppDispatch","useDispatch","useAppSelector","useSelector","LightModeLogo","require","DarkModeLogo","Login","setUserName","setPassword","loginError","setLoginError","passwordRef","React","handleLogin","NetInfo","fetch","allSections","availableTerms","then","guestLogin","TouchableWithoutFeedback","KeyboardAvoidingView","styles","container","behavior","Image","source","logo","inputView","autoComplete","TextInput","placeholderTextColor","keyboardType","blurOnSubmit","secureTextEntry","TouchableOpacity","forgot_button","position","backgroundColor","loginBtn","width","borderRadius","height","marginTop","maxWidth","level","signupBtn","StyleSheet","create","title","fontSize","fontWeight","textAlign","image","marginBottom","flexDirection","marginLeft","marginRight","borderColor","borderWidth","guestButton","alignSelf","base_URL","Manager","randomizationFactor","addTrailingSlash","autoConnect","Signup","realFirstName","setRealFirstName","realLastName","setRealLastName","major","setMajor","IndexPath","selectedIndex","setSelectedIndex","simplifiedSignup","setSimplifiedSignUp","humanReadableCollegeName","userCollege","setUserCollege","collegeList","data","signupLoading","firstNameInputRef","lastNameInputRef","passwordInputRef","majorInputRef","handleSubmitButton","validateInput","log","JSON","stringify","ok","json","message","responseUnwrapped","goBack","SectionStyle","labelSection","label","inputStyle","underlineColorAndroid","defaultValue","returnKeyType","containerDrop","onFocus","onSelect","newObject","row","ScrollView","zIndex","top","left","paddingVertical","paddingHorizontal","checked","onChange","nextChecked","buttonStyle","buttonTextStyle","paddingLeft","paddingRight","errorTextStyle","successTextStyle","padding","input","button","buttonText","minHeight","minWidth","VerifyEmail","verificationCode","setVerificationCode","verifyCode","getUserInfoLoading","handleVerifyCodeButton","description","BackButton","props","HeaderBackButton","labelVisible","theme","useTheme","headerStyle","headerLeft","SignupForm","Auth","Dimensions","get","CreateImage","discoverPostInputs","setDiscoverPostInputs","TagInput","showTitle","ImagePicker","imagePickerStatus","requestImagePickerPermission","cameraStatus","requestCameraPermission","onPressCamera","granted","result","mediaTypes","Images","canceled","contentImage","assets","Alert","pickImage","allowsEditing","Toast","show","duration","durations","LONG","opacity","shadow","Title","newText","imagePicker","marginVertical","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","right","Feather","size","uri","resizeMode","marginHorizontal","FontAwesome","WrapItems","childStyle","children","LayoutProps","Children","child","CreateEvent","startTime","setStartTime","endTime","setEndTime","date","setDate","showTimePickerAndroid","setShowTimePickerAndroid","formatDateService","NativeDateService","format","timePickerOptions","useMemo","time","setTime","formatAMPM","hours","getHours","minutes","getMinutes","ampm","location","dateService","nextDate","placement","i","mode","change","AntDesign","appearance","contentUrl","host","multiline","tagIndices","adminTagIndices","postOptions","EMOJI_LIST","getImageUrl","imageId","IMAGE_BUCKET_URL","stringToEmoji","str","dec","charCodeAt","showToast","FormatTimeRange","start","end","startDate","Date","endDate","weekDayNumberToName","0","1","2","3","4","5","6","FormatDate","newDate","weekDay","getDay","month","getMonth","day","getDate","postsAdapter","createEntityAdapter","selectId","post","_id","tranformComments","comments","comment","numLikes","likes","hasLiked","discoverApiSlice","getDiscoverPosts","keepUnusedDataFor","sponsor","pageLength","_","addMany","getInitialState","hasMorePages","ids","postsSelectors","selectAll","createDiscoverPost","type","content","tags","emoji","postBody","pinned","newPost","addOne","deleteDiscoverPost","searchPatchResult","removeOne","getPostById","postId","updatedPost","updateFunction","updateOne","changes","likePost","postAuthor","selectById","addComment","initiate","likeComment","commentId","deleteComment","getSelectors","useLazyGetDiscoverPostsQuery","useCreateDiscoverPostMutation","useDeleteDiscoverPostMutation","useLikePostMutation","useAddCommentMutation","useLazyGetPostByIdQuery","useLikeCommentMutation","useDeleteCommentMutation","OptionalText","CreatePost","useQueryState","permissionLevel","selectedTagIndex","setSelectedTagIndex","selectedPostTypeIndex","setSelectedPostTypeIndex","setError","isEmojiShown","setIsEmojiShown","tagArray","submitEvent","formdata","FormData","append","toISOString","forEach","submitImage","contentText","toast","setTimeout","hide","groupedData","multiSelect","accessoryLeft","FontAwesome5","textStyle","fontStyle","DebounceTouchable","WrappedComponent","PreventDoubleClick","debouncedOnPress","debounce","leading","trailing","this","PureComponent","displayName","withPreventDoubleClick","BottomBar","commentIconShown","undefined","searchedTag","userData","selectFromResult","onPressLike","flexWrap","DoubleTap","lastTap","handleDoubleTap","now","delay","onDoubleTap","Component","defaultProps","forwardRef","iconStyle","useImperativeHandle","animate","opacityAnim","Animated","Value","scaleAnim","heartRotation","setHeartRotation","Math","floor","random","pickRandomDegree","setValue","parallel","sequence","timing","toValue","useNativeDriver","easing","Easing","bounce","View","transform","scale","rotate","windowWidth","ImageComponent","apiInfo","likeRef","handlePressLike","maxHeight","DoubleTapHeart","EventBody","link","contentURL","truncated","eventInfo","info","EventCard","pinnedIcon","isAdded","setIsAdded","toggleAdditionOfEvent","isAdd","addCustomEvent","toTimeString","days","removeCustomEvent","catch","customEvents","some","customEvent","useIsFocused","activeOpacity","ImageCard","SponsorCard","imageLink","setImageLink","hasCoupon","coupons","TouchableHighlight","onError","becomeSponsor","sponsorName","ImageBackground","paddingBottom","couponDescription","TextCard","isUrl","renderTextBody","indexOf","PostsList","handleRemoveRecentSearch","handleClickRecentSearch","route","fetchPosts","isFetching","posts","fetchFirstPage","fetchMorePosts","PinIcon","MaterialIcons","renderItem","item","commonProps","isSponsor","sponsorProps","parse","FooterSpinner","keyboardShouldPersistTaps","ListHeaderComponent","Array","from","pack","LinearGradient","colors","x","y","contentContainerStyle","onRefresh","refreshing","keyExtractor","onEndReachedThreshold","onEndReached","ListFooterComponent","showsVerticalScrollIndicator","ItemSeparatorComponent","Divider","Header","center","Constants","statusBarHeight","SearchBar","inputProps","cancelButtonAction","cancelButtonStatus","alwaysShowCancelButton","selected","setSelected","LayoutAnimation","configureNext","onBlur","autoCorrect","SearchPage","searchBarBackgroundColor","Comment","isOwnComment","isExpanded","setIsExpanded","handleLikeComment","handleDeleteComment","onLongPress","SinglePostBody","handleLikePost","scrollEnabled","RegExp","test","href","DisabledFieldModal","setShowModal","visible","backdropStyle","myStyles","backdrop","onBackdropPress","FullPageSpinner","SinglePost","showModal","setComment","inputFocused","setInputFocused","refreshPost","refreshPostLoading","addCommentLoading","deletePost","deletePostLoading","handleRefreshPost","handleDeletePost","handleSubmitComment","header","footer","bottom","borderTopWidth","Menu","menuItems","setMenuItems","showsHorizontalScrollIndicator","horizontal","Text","sponsorsApiSlice","refreshSponsors","sponsors","a","b","textA","textB","find","postSponsorVisit","sponsorId","useLazyRefreshSponsorsQuery","usePostSponsorVisitMutation","SponsorPage","isDarkMode","sponsorPageStyles","address","video","display","subtitle","couponContainer","coupon","imageGallery","imageStyle","headerText","setImageIndex","setIsVisible","canOpenLink","setCanOpenLink","postSponsorVisitQuery","videoLinkArray","videoLink","Linking","canOpenURL","website","funct","phoneNumber","openURL","borderBottomColor","borderBottomWidth","images","img","dayOfTheWeek","buildTimeString","openTime","convertTo12HourTime","closeTime","Number","parseInt","SponsorsList","sponsorFilters","setSponsorFilters","gotSponsors","setGotSponsors","refreshSponsorsQuery","tabNames","temp","findIndex","splice","tempFilters","getFilters","shouldLimitPrint","filterName","getTheSponsors","sponsorsToSend","renderSponsorsBasedOnFilters","listingStyles","cardContainer","final","starredFinal","object","Discover","setSearchTerm","initialParams","onPressIn","headerTitle","animation","CalendarFunctions","string","charIndex","toString","getColor","minuteHeight","allClassData","masterClassInfo","meetingTime","handleClassSelected","calendarFun","universalHeight","startHour","startMinute","endHour","endMinute","stringToColour","getMinutesDiff","adjustsFontSizeToFit","numberOfLines","classLocation","renderCustomEvent","event","SHORT","removeEvent","cancelable","ModalContainer","backDropVisible","setBackDropVisible","backdropOpacity","isVisible","UserNameSelectionDropDown","setHasChosen","setRecipient","names","setNames","users","setUsers","modal","userList","user","realName","userNameContainsString","auser","toLowerCase","firstPar","secondPar","findUserNameFromName","option","renderEachDropItem","ExportModalClass","classData","showGuestModal","setShowGuestModal","renderModal","recipient","exportClass","recipients","isCourseData","Button","returnValue","locations","ClaremontColleges","Brackett","Edmunds","Honnold","Lincoln","Online","PAC","Pearsons","Stauffer","KSPC","TBD","removeNumbersAndSpaces","char","withStyles","eva","scrollViewRef","skip","professorReviewsObject","setProfessorReviewsObject","daysOfWeek","dark","light","isAllowedToReviewRes","getReviewsFromProfessor","lastName","res","courseSchedule","scrollTo","animated","averageGradeMSGModal","schedulePopup","setSchedulePopup","allTheChildren","setAllTheChildren","toggleSchedulePopUp","finalDays","realTime","daysOfTheWeek","addition","daysObject","daysActive","stringArrays","values","generateTable","creditWeightHM","creditWeight","timeSpentOutOfClass","lineHeight","averageGrade","courseDescription","summary","boxed","prerequisites","corequisites","disclaimer","subHeader","section","sectionText","seatsFilled","seatsAvailable","permCount","textDecorationLine","openMap","waypoints","provider","number","zoom","isAllowed","professor","getProfessorReviewsList","courseOpen","courseClosed","details","BodyContainer","borderTopColor","documentStyle","imageLabel","schedule","graphImage","aspectRatio","grade","reviewText","reviewBox","indentedInput","letterSpacing","NEW_REVIEW_FIELDS","mandatory","NewReview","setBody","handleReviewSubmitted","changeValue","theValue","valueToChange","newBody","aspect","inputBig","clearButtonMode","field","hasChosen","renderDropDown","alignContent","renderFilterParameters","renderTheFieldsNecessary","SingleClassPage","bottomSheetRef","InfoPage","PostReview","AddedClasses","handleRemoveClass","FlatList","ListEmptyComponent","Entypo","ClassListItemItem","handleAddClass","added","selectedAnim","dropDownItem","isAvailable","notAvailable","spring","speed","list__container","addedClassesContainer","borderTopRightRadius","borderBottomRightRadius","borderRightWidth","buttonContainer","dropDown","loadingMessage","loadingMessageRefresh","Item","menuOpen","setIsMenuOpen","inItem","property","update","springDamping","UIManager","setLayoutAnimationEnabledExperimental","addClassButton","FilterClasses","setFiltersMenuVisible","initialFilters","setColleges","onChangeIsHMC","onChangeFilterCollege","Message","CurrentTermLabel","ClassesList","setMenuOpen","addedClassesVisible","setAddedClassesVisible","filtersMenuVisible","listRef","setListRef","fetchUserInfo","getClasses","classListLoading","userInfoSuccess","isSuccess","fetchClasses","isClassAdded","handleRefresh","snapToIndex","handleMassImport","courseCodes","matchAll","reduce","accumulator","courseInfo","Presets","easeInEaseOut","onScroll","scrollEventThrottle","maxToRenderPerBatch","initialNumToRender","refreshControl","RefreshControl","tintColor","titleColor","scrollToOffset","offset","filteredColleges","c","renderFilteredCollegesList","CalendarPage","isWeb","threeDayWidth","fiveDayWidth","renderCustomEvents","elem","finalRender","eventIsThisDay","showThisWeek","dayString","dayOfWeek","adjustDays","getMs","seconds","dateOfEvent","currentDate","currentDayOfWeek","startOfWeek","valueOf","getSeconds","endOfWeek","renderDashes","renderClasses","getFullClassData","data2","topBar","startingOffset","snapToInterval","contentOffset","bounces","decelerationRate","nativeEvent","onMomentumScrollBegin","LogBox","ignoreAllLogs","CreateCustomEvent","showDots","setShowDots","useNavigation","dateToUse","selectedDate","setSelectedDate","isOneDay","setIsOneDay","allValuesPopulated","setAllValuesPopulated","daysArray","setDaysArray","eventTitle","setEventTitle","testID","finalArray","littleIndex","finalObject","at","calculateSelectedValues","newSelection","toggleValue","exportSchedule","convert","isSchedule","SelectTerm","userDataCache","startIndexValue","selectedSectionIndex","setSelectedSectionIndex","Calendar","leftComponent","MaterialCommunityIcons","rightComponent","trackBar","activeBackgroundColor","inActiveBackgroundColor","thumbButton","activeColor","inActiveColor","bool","gestureDirection","departments","ElectiveGenerator","departmentQuery","setDepartmentQuery","departmentOptions","setDepartmentOptions","setDescription","getClassesByDepartment","useCallback","department","onChangeDepartmentText","getWords","wordList","wordListWithSynonyms","word","synonyms","cleanedDescription","classesByDepartment","aWords","bWords","aMatches","matches","NotificationHomePage","NotificationsNavigation","notifications","setNotifications","isOpen","setIsOpen","refreshNotifications","bodyTosend","createNotificationButton","newUsers","getDateText","spaceIndex","first","initialRouteName","navigationHeader","setRefreshing","isMoving","setIsMoving","newNotifications","not","redirect","notification","disableRightSwipe","onSwipeValueChange","handleOnLeftSwipe","creationDate","listToRemove","jsonSchedule","thereIsAtLeastOne","courseSimpleData","repliable","done","setDone","tempBody","SafeAreaView","renderInputFields","sendNotification","course","timeButton","timeText","actualTimeText","timeStyle","borderLeftColor","containerForNotifications","EditProfileHeader","saveChanges","EditUser","inputs","profileDescription","propOptions","linkedin","setFields","changedFields","err","SettingsPage","colorScheme","useColorScheme","logOut","resetClassPages","resetDiscover","resetAppData","resetApiState","handleDeleteAccount","handleUseDeviceSettingToggled","handleDarkModeToggled","manifest2","extra","expoClient","version","Settings","Group","presentation","SearchClasses","hasSelectedElectiveGenerator","numberOfNotifications","setNumberOfNotifications","setInterval","Foundation","Ionicons","FontAwesomeIconsPack","icons","Proxy","target","IconProvider","toReactElement","flatten","FontAwesomeIcon","FeatherIconsPack","FeatherIcon","AdminHomePage","AdminHomeNavigation","adminCommands","setAdminCommands","getAdminCommands","adminURL","commands","filterObject","currentAdminCommandsStatus","finalCommandList","command","AdminCommand","setInfo","isFileUpload","setIsFileUpload","fileUploads","setFileUploads","setSponsors","setStatus","allFieldsFilled","setAllFieldsFilled","buttonPushed","setButtonPushed","checkForFieldsFilled","imageName","sendApiData","additionToUrl","paramOverride","apiType","newUrl","text2","trueFalseTemplate","boolValues","displayValue","changeEverything","renderStringArray","valuesToSend","tempFinal","miniField","newFieldForBody","changeStringValue","stringArray","eachOne","renderMultiSelectDropDown","isArray","cancelled","fileUploadTemplate","graphData","timeFrame","informationToShow","isDateGraph","dataToShow","labels","getDates","datasets","getData","verticalLabelRotation","fromZero","xLabelsOffset","segments","chartConfig","decimalPlaces","labelColor","propsForDots","r","strokeWidth","stroke","oneElement","renderOneCard","flexShrink","moment","tz","subtract","usersToday","instance","weekStart","weekEnd","usersMonth","monthStart","monthEnd","add","cardInfo","finalText","renderedActions","renderButtonForCard","parameter","showResponseData","imagesContainer","imageContainer","AdminStack","AdminPanel","WebSplashScreen","SingleChatRoom","setFilter","showSearch","setShowSearch","photoSelected","setPhotoSelected","keyboardShown","setKeyboardShown","retryNumber","setRetryNumber","failedConnection","setFailedConnection","hardDisableSend","setHardDisableSend","setMessage","filteredMessageList","setFilteredMessageList","loaded","setLoaded","messageList","setMessageList","socket","io","auth","addMessage","messageToAdd","myMessage","mess","isEqualTo","isUnsent","message1","message2","newMessage","emit","isImage","photo","deletionAlert","messageToDelete","positions","CENTER","deleteTheMessage","ignoreLogs","showListener","addListener","hideListener","remove","setOptions","headerRight","connect","timer","off","disconnect","close","on","clearTimeout","array","msg","windowHeight","messagingScreen","reverse","inverted","messagingInputContainer","messagingInput","editable","messagingButtonContainer","ChatRoomsNavigator","ChatsRoomNavigation","Chats","availableChats","setAvailableChats","generateChatRooms","chats","lastModifiedDate","refreshAvailableChats","persistor","persistStore","Tab","createBottomTabNavigator","ExpoSplashScreen","Notifications","handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","registerForPushNotificationsAsync","token","isDevice","existingStatus","finalStatus","importance","MAX","vibrationPattern","lightColor","App","localCurrentSection","isReady","setIsReady","setNotification","notificationListener","responseListener","prepare","fetchedCurrentSection","fetchedUserData","checkForUpdates","currentVersion","currentFrontEndVersion","v1","v2","lexicographical","zeroExtend","v1parts","v2parts","isValidPart","every","NaN","versionCompare","NavigationContainer","documentTitle","formatter","DarkTheme","DefaultTheme","Theme","StatusBar","TabsPage","isDev","tabBarHideOnKeyboard","tabBarIcon","focused","iconName","tabBarStyle","tabBarItemStyle","lazy","ClassPages","unmountOnBlur","tabBarLabel","registerRootComponent"],"mappings":"yEAAAA,EAAOC,QAAU,IAA0B,kD,85x/LCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,4C,8ECA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3C,IAAIC,EAAM,CACT,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,QAAS,IACT,WAAY,IACZ,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,gBAAiB,IACjB,aAAc,IACd,gBAAiB,IACjB,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,WAAY,IACZ,cAAe,IACf,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,YAAa,IACb,eAAgB,IAChB,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,QAAS,IACT,WAAY,IACZ,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,QAAS,IACT,WAAY,IACZ,OAAQ,IACR,UAAW,IACX,QAAS,IACT,WAAY,IACZ,QAAS,IACT,aAAc,IACd,gBAAiB,IACjB,WAAY,IACZ,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,YAAa,IACb,eAAgB,IAChB,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,gBAAiB,IACjB,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,KAIf,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBN,EAAOC,QAAUE,EACjBA,EAAeE,GAAK,K,oBCnSpBL,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,8ZCa3C,SAASc,EAAgBC,EAAaC,GACpC,OAAOD,EAAIE,QAAQ,kBAAmBD,GCCxC,IAAME,EAA6B,CACjCC,QAAS,GACTC,SAAS,EACTC,UAAU,EACVC,UAAU,EACVC,sBAAsB,GAGXC,EAAeC,sBAAY,CACtCC,KAAM,UACNR,eACAS,SAAU,CACRC,MAAO,kBAAMV,GACbW,eAAgB,SAACC,EAAOC,GACtBD,EAAMX,QAAUY,EAAOC,SAEzBC,WAAY,SAACH,EAAOC,GAClBD,EAAMV,QAAUW,EAAOC,SAEzBE,kBAAmB,SAACJ,EAAOC,GACzBD,EAAMR,SAAWS,EAAOC,SAE1BG,wBAAyB,SAACL,EAAOC,GAC/BD,EAAMP,qBAAuBQ,EAAOC,SAEtCI,iBAAkB,SAACN,GACjBA,EAAMX,QAAU,GAChBW,EAAMV,SAAU,EAChBU,EAAMR,UAAW,GAEnBe,cAAe,SAACP,EAAOC,GACrBD,EAAMT,SAAWU,EAAOC,UAG5BM,cAAe,eAIJC,EAAiB,SAACT,GAAgB,OAAKA,EAAMU,QAAQC,OAAOnB,UAE5DoB,EAAgB,SAACZ,GAAgB,OAAKA,EAAMU,QAAQC,OAAOtB,SAE3DwB,EAAgB,SAACb,GAAgB,OAAKA,EAAMU,QAAQC,OAAOrB,SAKjE,EAQHI,EAAaoB,QAPff,EAAc,EAAdA,eACAI,GAAU,EAAVA,WAEAL,IADgB,EAAhBQ,iBACK,EAALR,OACAM,GAAiB,EAAjBA,kBACAC,GAAuB,EAAvBA,wBACAE,GAAa,EAAbA,cAGab,KAAoB,QCjE7BN,GAA8B,CAClC2B,YAAY,GAGDC,GAAgBrB,sBAAY,CACvCC,KAAM,WACNR,gBACAS,SAAU,CACRC,MAAO,SAACE,GAAK,OAAcZ,IAC3B6B,cAAe,SAACjB,EAAOC,GACrBD,EAAMe,WAAad,EAAOC,YAKzB,GAAiCc,GAAcF,QAAhCG,IAAF,GAALnB,MAAoB,GAAbmB,eAEPD,MAAqB,Q,mBCtBvBE,GAAWC,qBAAU,CAChCC,YAAa,MACbC,UAAWC,0BAAe,CACxBC,QAEI,0CAENC,SAAU,CAAC,OAAQ,SACnBC,UAAW,SAACC,GAAO,MAAM,CACvBC,kBAAmBD,EAAQE,MAAiB,CAC1CA,MAAO,iBAAM,uCAKJC,GAAkCX,GAAlCW,8B,kQCVR,IAAMC,GAAgBZ,GAASa,gBAAgB,CACpDC,kBAAkB,EAClBP,UAAW,SAACC,GAAO,MAAM,CACvBO,YAAaP,EAAQE,MAAM,CACzBM,aAAc,CAAC,QACfN,MAAO,SAACvC,GAAe,MAAM,CAC3B8C,IAAK,YACLC,QAAS,CACP/C,aAGJgD,uBAAwB,SAACC,GACvB,OAAwB,MAApBA,EAASC,OACJ,CAAEC,MAAO,gBAEXF,GAETG,kBAAmB,YAA2B,IAAxBC,EAAO,EAAPA,QAAYC,EAAI,WAC9BC,EAAe,CACnBC,OAAQ,EACRH,QAAS,IAGX,IACE,aAAyCA,EAAS,CAAC,IAAtCI,EAAU,EAAVA,WAAYC,EAAU,EAAVA,WACnBC,EAASF,EAAWG,MAAM,KAE9BD,GADAA,EAASA,EAAOA,EAAOH,OAAS,GAAGI,MAAM,MACzBD,EAAOH,OAAS,GAChC,IAAMK,EAAsBJ,EAAWG,MAAM,KAAKE,MAAM,EAAG,GAAGC,KAAK,KAAI,IAAIJ,EACvED,KAAcH,EAAaF,QACzBQ,KAAoBN,EAAaF,QAAQK,GAC3CH,EAAaF,QAAQK,GAAYG,GAAkBG,KACjDP,GAGFF,EAAaF,QAAQK,GAAYG,GAAoB,CACnDJ,GAIJF,EAAaF,QAAQK,GAAW,OAC7BG,EAAmB,CAACJ,IAIzBF,EAAaC,UAEf,MAAOnE,GACP4E,QAAQC,KAAK,gCAAiC7E,GAGhD,O,mWAAO,CAAP,CAASkE,gBAAiBD,MAG9Ba,MAAO9B,EAAQ+B,SAAS,CACtB7B,MAAO,gBAAG8B,EAAQ,EAARA,SAAUC,EAAQ,EAARA,SAAUrE,EAAO,EAAPA,QAAO,MAAQ,CAC3C6C,IAAI,eACJyB,OAAQtE,EACJ,CACAoE,WACAC,WACArE,WAEA,CACAoE,WACAC,gBAIRE,WAAYnC,EAAQ+B,SAAS,CAC3B7B,MAAO,SAACvC,GAAO,MAAM,CACnB8C,IAAI,6BACJ2B,OAAQ,OACR1B,QAAS,CACP/C,WAEF0E,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,YAG5CC,cAAevC,EAAQ+B,SAAS,CAC9B7B,MAAO,YAAoB,MAAQ,CACjCO,IAAK,SACL2B,OAAQ,SACR1B,QAAS,CACP/C,QAJa,EAAPA,SAMRuE,OAAQ,CACNF,SAPuB,EAARA,cAWrBQ,SAAUxC,EAAQ+B,SAAS,CACzBU,gBAAiB,CAAC,QAClBvC,MAAO,gBAAGvC,EAAO,EAAPA,QAAyB,MAAQ,CACzC8C,IAAI,UADqB,EAARuB,SAEjBI,OAAQ,QACR1B,QAAS,CACP,eAAgB,mBAChB/C,WAEF+E,KAPiC,EAANC,WAU/BC,eAAgB5C,EAAQE,MAAiB,CACvCA,MAAO,iBAAM,gCAEf2C,WAAY7C,EAAQ+B,SAAS,CAC3B7B,MAAO,SAACwC,GAAI,MAAM,CAChBjC,IAAK,SACL2B,OAAQ,OACRM,OACAL,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,YAG5CQ,aAAc9C,EAAQ+B,SAAS,CAC7B7B,MAAO,SAAChD,GAAI,MAAM,CAChBuD,IAAK,sBACL2B,OAAQ,OACRM,KAAM,CAAExF,YAGZ6F,cAAe/C,EAAQ+B,SAAS,CAC9B7B,MAAO,SAAC8C,GAAK,MAAM,CACjBvC,IAAK,wBACLyB,OAAQ,CACNc,SAEFX,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,YAG5CW,iBAAkBjD,EAAQ+B,SAAS,CACjC7B,MAAO,gBAAG8B,EAAQ,EAARA,SAAUkB,EAAa,EAAbA,cAAsB,MAAQ,CAChDzC,IAAI,yBAA0BuB,EAC9BI,OAAQ,QACR1B,QAAS,CACP/C,QAJsC,EAAPA,SAMjC+E,KAAM,CACJQ,yBAQRC,GAWE/C,GAXF+C,sBACAC,GAUEhD,GAVFgD,oBACAC,GASEjD,GATFiD,wBACAC,GAQElD,GARFkD,iBACAC,GAOEnD,GAPFmD,yBACAC,GAMEpD,GANFoD,oBACAC,GAKErD,GALFqD,uBACAC,GAIEtD,GAJFsD,sBACAC,GAGEvD,GAHFuD,wBACAC,GAEExD,GAFFwD,yBACAC,GACEzD,GADFyD,4B,qkBC/JK,IAAMC,GAAgBtE,GAASa,gBAAgB,CACpDC,kBAAkB,EAClBP,UAAW,SAACC,GAAO,MAAM,CACvB+D,cAAe/D,EAAQE,MAAM,CAC3BA,MAAO,gBACLvC,EAAO,EAAPA,QAASqG,EAAU,EAAVA,WAAY3C,EAAU,EAAVA,WAAuB,MACvC,CACLZ,IAAI,4BAFwC,EAAXwD,YAGjCvD,QAAS,CACP/C,WAEFuE,OAAQ,CACN8B,aACA3C,gBAGJN,kBAAmB,SAACH,GAClB,IAAMsD,EAAuB,SAACC,GAC5B,GAAuB,IAAnBA,EAAQhD,OACV,OAAO,KAET,IAAIiD,EAAe,EACfC,EAAU,EACd,IAAK,IAAMC,KAAUH,EACfG,EAAOC,SACTH,GAAgBE,EAAOC,OACvBF,KAGJ,OAAIA,EAAU,GACJD,EAAeC,GAASG,QAAQ,GAEnC,MAIHC,EAA2B,SAACN,GAChC,GAAuB,IAAnBA,EAAQhD,OACV,OAAO,KAET,IAAIiD,EAAe,EACfC,EAAU,EACd,IAAK,IAAMC,KAAUH,EACfG,EAAOI,aACTN,GAAgBE,EAAOI,WACvBL,KAGJ,OAAIA,EAAU,GACJD,EAAeC,GAASG,QAAQ,GAEnC,MAIT,OAAOpH,OAAOuH,YACZvH,OAAOwH,QAAQhE,GAAUnE,KAAI,YAAmB,IAAD,WAAhBc,EAAG,KAAEsH,EAAK,KACvC,MAAO,CACLtH,EAAI,SAECsH,GAAK,IACRV,QAASU,EAAMV,QAAQW,OACvBP,OAAQL,EAAqBW,EAAMV,SACnCO,WAAYD,EAAyBI,EAAMV,mBAOvDY,kBAAmB/E,EAAQE,MAAoB,CAC7CA,MAAO,iBAAM,2BACba,kBAAmB,SAACH,GAAiC,OAAKA,EAASoE,eAErEC,eAAgBjF,EAAQE,MAAiC,CACvDA,MAAO,iBAAM,6BAEfgF,SAAUlF,EAAQ+B,SAAS,CACzB7B,MAAO,gBACLvC,EAAO,EAAPA,QAASyD,EAAU,EAAVA,WAAYC,EAAU,EAAVA,WAAoB,MACpC,CACLZ,IAAI,UAFqC,EAARuB,SAGjCI,OAAQ,QACR1B,QAAS,CACP/C,WAEF+E,KAAM,CACJyC,aAAc,CAAC,CAAE/D,aAAYC,kBAG3B+D,eAAc,qCAKjB,IAHCzH,EAAO,EAAPA,QAASyD,EAAU,EAAVA,WAAYI,EAAgB,EAAhBA,iBAAkBH,EAAU,EAAVA,WAEvCgE,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAENC,EAAcF,EAClBjF,GAAcoF,KAAKC,gBACjB,cACA9H,GACA,SAAC+H,GACOrE,KAAcqE,EAAMxE,aAAaF,QAKnCQ,KAAoBkE,EAAMxE,aAAaF,QAAQK,GAMjDqE,EAAMxE,aAAaF,QAAQK,GAAYG,GAAkBG,KACvDP,GALFsE,EAAMxE,aAAaF,QAAQK,GAAYG,GAAoB,CACzDJ,GAPFsE,EAAMxE,aAAaF,QAAQK,GAAW,OACnCG,EAAmB,CAACJ,IAazBsE,EAAMxE,aAAaC,aAKzB,UACQmE,EACN,SACAC,EAAYI,WAEf,qDApCmB,KAsCtBC,mBAAoB5F,EAAQ+B,SAW1B,CACA7B,MAAO,gBACLvC,EAAO,EAAPA,QAASkI,EAAe,EAAfA,gBAAiBxE,EAAU,EAAVA,WAAoB,MACzC,CACLZ,IAAI,UAF0C,EAARuB,SAGtCI,OAAQ,QACR1B,QAAS,CACP/C,WAEF+E,KAAM,CACJyC,aAAcU,EAAgBpJ,KAAI,SAACqJ,GAAc,MAAM,CACrD1E,WAAY0E,EAAe1E,WAC3BC,oBAIA+D,eAAc,qCAGjB,IAFCzH,EAAO,EAAPA,QAASkI,EAAe,EAAfA,gBAAiBxE,EAAU,EAAVA,WAC1BgE,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAENC,EAAcF,EAClBjF,GAAcoF,KAAKC,gBACjB,cACA9H,GACA,SAAC+H,GACC,aAA+CG,EAAiB,CAAC,IAApDrE,EAAgB,EAAhBA,iBAAkBJ,EAAU,EAAVA,WACvBC,KAAcqE,EAAMxE,aAAaF,QAKnCQ,KAAoBkE,EAAMxE,aAAaF,QAAQK,GAMjDqE,EAAMxE,aAAaF,QAAQK,GAAYG,GAAkBG,KACvDP,GALFsE,EAAMxE,aAAaF,QAAQK,GAAYG,GAAoB,CACzDJ,GAPFsE,EAAMxE,aAAaF,QAAQK,GAAW,OACnCG,EAAmB,CAACJ,IAazBsE,EAAMxE,aAAaC,cAM3B,UACQmE,EACN,SACAC,EAAYI,WAEf,qDApCmB,KAsCtBI,YAAa/F,EAAQ+B,SAAS,CAC5B7B,MAAO,gBACLvC,EAAO,EAAPA,QAASyD,EAAU,EAAVA,WAAYC,EAAU,EAAVA,WAAoB,MACpC,CACLZ,IAAI,UAFqC,EAARuB,SAGjCI,OAAQ,QACR1B,QAAS,CACP/C,WAEF+E,KAAM,CACJsD,gBAAiB,CAAC,CAAE5E,aAAYC,kBAG9B+D,eAAc,qCAKjB,IAHCzH,EAAO,EAAPA,QAASyD,EAAU,EAAVA,WAAYI,EAAgB,EAAhBA,iBAAkBH,EAAU,EAAVA,WAEvCgE,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAENC,EAAcF,EAClBjF,GAAcoF,KAAKC,gBACjB,cACA9H,GACA,SAAC+H,GACCA,EAAMxE,aAAaF,QAAQK,GAAYG,GAAoBkE,EAAMxE,aAAaF,QAAQK,GAAYG,GAAkByE,QAClH,SAACC,GAAS,OAAKA,IAAc9E,KAE/BsE,EAAMxE,aAAaC,aAKzB,UACQmE,EACN,SACAC,EAAYI,WAEf,qDAxBmB,KA0BtBQ,kBAAmBnG,EAAQE,MAAM,CAC/BA,MAAO,YAA4B,MAAQ,CACzCO,IAAK,2BACL2B,OAAQ,MACRF,OAAQ,CACNV,iBAJsB,EAAhBA,kBAMRd,QAAS,CACP/C,QAP+B,EAAPA,aAW9ByI,WAAYpG,EAAQ+B,SAAS,CAC3B7B,MAAO,YAAgB,MAAQ,CAC7BO,IAAK,sBACL2B,OAAQ,QACR1B,QAAS,CACP/C,QAJa,EAAPA,SAMR+E,KANqB,EAAJA,KAOjBL,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,gBAQ9C+D,IAQEvC,GATFwC,sBASExC,GARFuC,2BACAE,GAOEzC,GAPFyC,oBACAC,GAME1C,GANF0C,8BACAC,GAKE3C,GALF2C,uBACAC,GAIE5C,GAJF4C,0BACAC,GAGE7C,GAHF6C,sBACAC,GAEE9C,GAFF8C,0BACAC,GACE/C,GADF+C,2B,qkBCxPF,IAAMnJ,GAAgC,CACpCsD,QAAS,GACT8F,gBAAiB,GACjBC,gBAAiB,GACjBC,eAAgB,GAChBC,kBAAmB,GACnBC,cAAe,GACfC,WAAY,GACZC,KAAM,EACNC,OAAO,EACPC,QAAS,CACPC,SAAU,CACRC,IAAI,EAAMC,IAAI,EAAMC,IAAI,EAAMC,IAAI,EAAMC,IAAI,IAGhDC,wBAAwB,EACxBC,iBAAkB,IAGPC,GAAkB9J,sBAAY,CACzCC,KAAM,aACNR,gBACAS,SAAU,CACRC,MAAO,kBAAMV,IACbsK,sBAAuB,SAAC1J,EAAOC,GAC7BD,EAAM0I,eAAiBzI,EAAOC,SAEhCyJ,6BAA8B,SAAC3J,EAAOC,GACpCD,EAAM2I,kBAAoB1I,EAAOC,SAEnC0J,iBAAkB,SAAC5J,GACjBA,EAAM8I,QAERe,aAAc,SAAC7J,GACbA,EAAM8I,KAAO,EACb9I,EAAM6I,WAAa,GAEnBY,GAAgBK,aAAaC,sBAAsB/J,IAErDgK,wBAAyB,SACvBhK,EACAC,GAEAD,EAAMwJ,iBAAmBvJ,EAAOC,SAElC+J,yBAA0B,SAACjK,GACzBA,EAAMwJ,iBAAmB,IAE3BU,0BAA2B,SAAClK,GAC1BA,EAAMuJ,wBAAyB,GAEjCY,cAAe,SAACnK,EAAOC,GACrBD,EAAM4I,cAAgB5I,EAAM0C,QAAQzC,EAAOC,UAE7CkK,qBAAsB,SAACpK,GACrBA,EAAM4I,cAAgB,IAExByB,aAAc,SAACrK,EAAOC,GACpBD,EAAMgJ,QAAU/I,EAAOC,QACvBuJ,GAAgBK,aAAaC,sBAAsB/J,IAErDsK,aAAc,SAACtK,EAAOC,GACpBD,EAAM+I,MAAQ9I,EAAOC,SAEvBqK,aAAc,SAACvK,GACbA,EAAMgJ,QAAU5J,GAAa4J,QAE7BS,GAAgBK,aAAaC,sBAAsB/J,IAErD+J,sBAAuB,SAAC/J,GAEtB,IAAIwK,EAAkB1L,OAAOwH,QAAQtG,EAAM0C,SAE3C8H,EAAkBA,EAAgB7C,QAAO,YAA4B,IAAD,WAAzBzE,EAAgB,KACnDuH,GADsD,KACzCvH,EAAiBwH,UAClCxH,EAAiBL,OAAS,EAC1BK,EAAiBL,SAGnB,aAA2C/D,OAAOwH,QAChDtG,EAAMgJ,QAAQC,UACb,CAAC,IAAD,WAFS0B,EAAO,KAAEC,EAAiB,KAGpC,GAAIH,IAAeE,EACjB,OAAOC,MAKb5K,EAAMwI,gBAAkB1J,OAAOuH,YAAYmE,GAC3CxK,EAAMyI,gBAAe,MAAQzI,EAAMwI,kBAErCqC,kBAAmB,SAAC7K,EAAOC,GACzB,IAAIuK,EAAkB1L,OAAOwH,QAAQtG,EAAMwI,iBAI3C,GAHAxI,EAAM6I,WAAa5I,EAAOC,QAC1BF,EAAM8I,KAAO,EAEY,KAArB9I,EAAM6I,WACRY,GAAgBK,aAAaD,aAAa7J,OACrC,CACL,IAAM6I,EAAaiC,GAAoB9K,EAAM6I,YAGvCkC,EAAmBC,GAAwBnC,GAE3CoC,EAAcpC,EAAW5F,MAAM,KAErCuH,EAAkBA,EAAgB7C,QAChC,2BAAG,cAAIuD,EAAU,EAAVA,WAAYC,EAAK,EAALA,MAAOjI,EAAgB,EAAhBA,iBAAgB,OAAQkI,GAChDF,EACAC,EACAjI,EACA6H,EACAA,IAAqB/K,EAAM6I,WAAaoC,EAAc,OAI1D,IAAMI,EAAmBvM,OAAOuH,YAAYmE,GAE5CxK,EAAMyI,gBAAe,MAAQ4C,MAInC7K,cAAe,SAACkB,GACdA,EAAQ4J,WACN9F,GAAc/D,UAAUgE,cAAc8F,gBACtC,SAACvL,EAAM,GAAkB,IAAfE,EAAO,EAAPA,QACRF,EAAM0C,QAAUxC,EAChBF,EAAMyI,gBAAkBvI,QAQ1B8K,GAA0B,SAACQ,GAC/B,OAAOA,EACJrM,QAAQ,uBAAuB,SAACsM,EAAOC,EAAIC,GAAE,cAAaA,KAC1DxM,QACC,kCACA,SAACsM,EAAOC,EAAIC,EAAIC,EAAIC,EAAIC,GAAE,cAAaA,KAExC3M,QAAQ,wBAAwB,SAACsM,EAAOC,EAAIC,GAAE,cAAaA,KAC3DxM,QAEC,oBACA,SAACsM,EAAOC,EAAIC,GAAE,OAAKD,EAAKC,EAAGI,SAAS,EAAG,SAKvCjB,GAAsB,SAACU,GAC3B,OAAOA,EACJrM,QAAQ,sBAAuB,QAC/BA,QAAQ,iBAAkB,QAC1BA,QAAQ,aAAc,SAGrBiM,GAAqB,SACzBF,EACAC,EACAjI,EACA6H,EACAE,GACI,IAAD,EACGe,EAAkB9I,EAAgB,IAAIgI,EAAU,KAC5C,OAAR,EAAAC,EAAM,KAAN,EAAUc,cAAgBd,EAAM,GAAGc,cAAgB,IAIrD,GACE/I,EACGgJ,OACA/M,QAAQ,OAAQ,KAChBgN,SAASpB,EAAiBqB,cAAcF,OAAO/M,QAAQ,OAAQ,MAElE,OAAO,EAIT,IAAK,IAAM0J,KAAcoC,EACvB,IACGe,EACEI,cACAF,OACA/M,QAAQ,OAAQ,KAChBgN,SAAStD,EAAWuD,cAAcF,OAAO/M,QAAQ,OAAQ,MAE5D,OAAO,EAIX,OAAO8L,EAAYpI,OAAS,GASjBwJ,GAAoB,SAACrM,GAAgB,OAAKA,EAAMU,QAAQ4L,WAAW5J,SAKzE,GAeH+G,GAAgB3I,QAdlB4I,GAAqB,GAArBA,sBACAE,GAAgB,GAAhBA,iBACAiB,GAAiB,GAAjBA,kBACAhB,GAAY,GAAZA,aACAM,GAAa,GAAbA,cAEArK,IADoB,GAApBsK,qBACK,GAALtK,OACAuK,GAAY,GAAZA,aACAE,GAAY,GAAZA,aACAD,GAAY,GAAZA,aACAX,GAA4B,GAA5BA,6BACAO,GAAyB,GAAzBA,0BACAF,GAAuB,GAAvBA,wBACAC,GAAwB,GAAxBA,yBAGaR,MAAuB,QC3OhCrK,GAA8B,CAClCyJ,WAAY,GACZ0D,oBAAqB,GACrBC,IAAK,GACLC,eAAgB,IAGLC,GAAgB/M,sBAAY,CACvCC,KAAM,WACNR,gBACAS,SAAU,CACRC,MAAO,kBAAMV,IACbuN,oBAAqB,SAAC3M,EAAOC,GAC3BD,EAAMuM,oBAAsBtM,EAAOC,QAC/BD,EAAOC,UAAYF,EAAMyM,eAAeN,SAASlM,EAAOC,UAC1DF,EAAMyM,eAAeG,QAAQ3M,EAAOC,UAGxC2M,kBAAmB,SAAC7M,EAAOC,GACzBD,EAAM6I,WAAa5I,EAAOC,QACH,KAAnBD,EAAOC,UACTF,EAAMuM,oBAAsB,KAGhCO,yBAA0B,SAAC9M,EAAOC,GAChCD,EAAM6I,WAAa5I,EAAOC,QAC1BF,EAAMuM,oBAAsBtM,EAAOC,SAErC6M,YAAa,SAAC/M,EAAOC,GACnBD,EAAMwM,IAAMvM,EAAOC,SAErB8M,wBAAyB,SAAChN,EAAOC,GAC/BD,EAAMyM,eAAiBzM,EAAMyM,eAAe9E,QAC1C,SAACsF,GAAI,OAAKA,IAAShN,EAAOC,eAM3B,GAOHwM,GAAc5L,QANhBhB,GAAK,GAALA,MACA+M,GAAiB,GAAjBA,kBACAF,GAAmB,GAAnBA,oBAEAG,IADW,GAAXC,YACwB,GAAxBD,0BACAE,GAAuB,GAAvBA,wBAGWE,GAAmB,SAAClN,GAAgB,OAAKA,EAAMU,QAAQyM,SAAStE,YAChEuE,GAA4B,SAACpN,GAAgB,OAAKA,EAAMU,QAAQyM,SAASZ,qBACzEc,GAAY,SAACrN,GAAgB,OAAKA,EAAMU,QAAQyM,SAASX,KACzDc,GAAuB,SAACtN,GAAgB,OAAKA,EAAMU,QAAQyM,SAASV,gBAElEC,MAAqB,QC/C9Ba,GRfS,WAAiD,IAApBC,EAAY,uDAAG,GACnDtO,EAAmBsO,EAAQtO,kBAAoB,IAC/CuO,EAAWD,EAAQC,UAAYzO,EAErC,MAAO,CACL0O,QAAS,SAACzO,GAAW,OAAK0O,eAAyBF,EAASxO,EAAKC,GAAmBsO,IACpFI,QAAS,SAAC3O,EAAasH,GAAa,OAAKoH,eAAyBF,EAASxO,EAAKC,GAAmBqH,EAAOiH,IAC1GK,WAAY,SAAC5O,GAAW,OAAK0O,kBAA4BF,EAASxO,EAAKC,GAAmBsO,KQQxEM,GAEhBC,GAAsB,CAC1B9O,IAAK,SACL+O,QAAyB,QAAhBC,UAASC,GAAeC,UAAeZ,IAI5Ca,GAAkB,CACtBnP,IAAK,aACL+O,QAAyB,YAAhBC,UAASC,GAAmBG,UAAwBF,UAC7DG,UACkB,QAAhBL,UAASC,GACL,CAAC,iBAAkB,UAAW,0BAC9B,CAAC,UAAW,iBAAkB,QAAS,2BAGzCK,GAAwB,CAC5BtP,IAAK,WACL+O,QAAyB,YAAhBC,UAASC,GAAmBG,UAAwBF,UAC7DG,UAAW,CAAC,mBAIDE,GAAcC,0BAAgB,CACzCnC,WAAYoC,yBAAeN,GAAiBO,IAC5ChO,OAAQ+N,yBAAeX,GAAqBa,IAC5CzB,SAAUuB,yBAAeH,GAAuBM,IAChDC,SAAUC,KChCCC,GAAQC,yBAAe,CAClCC,QAAQ,KACNxO,QAAS8N,IACRtN,GAASE,YAAcF,GAASgO,SAEnCC,WAAY,SAACC,GAAoB,OAAKA,EAAqB,CACzDC,mBAAmB,EACnBC,gBAAgB,IACfC,OAAOrO,GAASiO,e,QCnBN,SAASK,GAAc,GAAiB,IAAfC,EAAU,EAAVA,WACtC,OACE,gBAAC,SAAM,CAACC,MAAO,CAAEC,KAAM,EAAGC,WAAY,SAAUC,eAAgB,UAAW,UACzE,eAAC,OAAI,CACHH,MAAO,CACLI,OAAQ,IAEVC,SAAS,KAAI,SACd,6FAID,eAAC,SAAM,CACLL,MAAO,CAAEI,OAAQ,IACjBE,QAAS,WACPP,EAAW3P,MAAM,CAAEmQ,MAAO,EAAGC,OAAQ,CAAC,CAAEtQ,KAAM,aAC9C,SACH,qB,uBCVQ,SAASuQ,GAAe,GAAiB,IAAfV,EAAU,EAAVA,WACvC,EAA0BW,mBAAS,IAAG,WAA/B1L,EAAK,KAAE2L,EAAQ,KAChBC,EAAWC,iBAAc,MAC/B,EAAgDjL,KAA0B,WAAnEb,EAAa,YAAI+L,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAC7BC,EAAUC,wBAEhBC,qBAAU,WACJN,EAASO,SAASP,EAASO,QAAQC,UACtC,CAACR,EAASO,UAEb,IAAME,EAAQ,sBAAG,YACf,GAAKL,EAAQM,YAKb,UACQvM,EAAcC,GAAOuM,SAC3BxB,EAAWyB,SAAS,iBACpB,MAAOxS,GACP4E,QAAQC,KAAK,yCAA0C7E,QARvDyS,MAAM,qDAUT,kBAZa,mCAcd,OACE,gBAAC,SAAM,CAACzB,MAAO,CAAEC,KAAM,EAAGyB,WAAY,GAAIxB,WAAY,UAAW,UAC/D,eAAC,OAAI,CAACF,MAAO,CAAEI,OAAQ,IAAMC,SAAS,KAAI,SAAC,oCAI3C,eAAC,QAAK,CACJsB,eAAe,OACfC,YAAY,QACZC,IAAKjB,EACLZ,MAAO,CAAEI,OAAQ,IACjB0B,aAAcnB,EACd9J,MAAO7B,EACP+M,gBAAiBC,WAASC,UAE3BlB,GACC,eAAC,OAAI,CAACf,MAAO,CAAEkC,MAAO,OAAQ,SAAC,gCAEjC,eAAC,SAAM,CACLlC,MAAO,CAAEI,OAAQ,IACjBE,QAASe,EACTc,SAAUrB,EACVsB,eAAgB,kBAAOtB,EAAY,eAAC,UAAO,CAACjO,OAAO,UAAa,MAAM,SACvE,cCnDP,IAAMwP,GAAQC,oBAEC,SAASC,KACtB,OACE,gBAACF,GAAMG,UAAS,CACdC,cAAe,CACbC,aAAa,GACb,UAEF,eAACL,GAAMM,OAAM,CAACzS,KAAK,iBAAiB0S,UAAWnC,KAC/C,eAAC4B,GAAMM,OAAM,CAACzS,KAAK,gBAAgB0S,UAAW9C,Q,iDCVvC+C,GAAoCC,cACpCC,GAAkDC,cC2BzDC,GAAgBC,EAAQ,KACxBC,GAAeD,EAAQ,KAEd,SAASE,GAAM,GAAiB,IAAfrD,EAAU,EAAVA,WAC9B,EAAgCW,mBAAS,IAAG,WAArC1M,EAAQ,KAAEqP,EAAW,KAC5B,EAAgC3C,mBAAS,IAAG,WAArCzM,EAAQ,KAAEqP,EAAW,KAC5B,EAAoC5C,mBAAS,IAAG,WAAzC6C,EAAU,KAAEC,EAAa,KAEhC,EAA+BlO,KAAkB,WAA1CxB,EAAK,KAAIgN,EAAS,KAATA,UAChB,EAAsBzL,KAAf9C,EAAwC,SAA7B,GAClB,EAAqB4C,KAAdhB,EAAqC,SAA3B,GACjB,EAAyB0E,KAAlB5B,EAA8C,SAAhC,GACfnH,EAAWiT,GAAehS,GAE1BsG,EAAWwL,KAEXY,EAAcC,IAAM7C,OAAO,MAE3B8C,EAAW,sBAAG,YAKlB,GAJA3B,WAASC,iBAGa2B,WAAQC,SACjBvC,YAMb,GAAKtN,EAEE,GAAKC,EAGV,IACE,IAAQtE,SAAkBmE,EAAM,CAC9BE,WACAC,aACCsN,UAHK5R,QAKR0H,EAAShH,EAAeV,IACxB0H,EAAS5G,IAAW,IAGpB,IAAMqT,QAAoB7M,IAAiBsK,SAE3ClK,EAAS2C,GAAsB8J,EAAY9M,cAC3CK,EAAS4C,GAA6B6J,EAAYC,iBAGlDxR,EAAY5C,GACT4R,SACAyC,KAAK,uBACE7P,EAAWxE,OAIrB0T,EAAY,IACZC,EAAY,IACZE,EAAc,IACd,MAAOxU,GACPwU,EAAc,gCACd5P,QAAQd,MAAM,oBAAqB9D,QA9BrCwU,EAAc,gCAFdA,EAAc,gCANdA,EAAc,6BAyCjB,kBA/CgB,mCAiDXS,EAAU,sBAAG,YAKjB,GAJAjC,WAASC,iBAGa2B,WAAQC,SACjBvC,YAKb,IACE,IAAQ3R,SAAkBmE,EAAM,CAC9BE,SAAU,GACVC,SAAU,GACVrE,SAAS,IACR2R,UAJK5R,QAMR0H,EAAShH,EAAeV,IACxB0H,EAAS5G,IAAW,IAGpB8B,EAAY5C,GACT4R,SACAyC,KAAK,uBACE7P,EAAWxE,OAIrB0T,EAAY,IACZC,EAAY,IACZE,EAAc,IACd,MAAOxU,GACPwU,EAAc,gCACd5P,QAAQd,MAAM,oBAAqB9D,QA3BnCwU,EAAc,6BA6BjB,kBAnCe,mCAqChB,OACE,eAACU,GAAA,QAAwB,CACvBlE,MAAO,CAAEC,KAAM,GACfK,QAAS,WACP0B,WAASC,WACT,SAEF,eAACkC,GAAA,QAAoB,CACnBnE,MAAOoE,GAAOC,UACdC,SAA0B,QAAhB/F,UAASC,GAAe,UAAY,SAAS,SAEvD,gBAAC,SAAM,CACLwB,MAAO,CACLC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAChB,UAEDrQ,EACC,eAACyU,GAAA,QAAK,CAACC,OAAQrB,GAAcnD,MAAOoE,GAAOK,OAE3C,eAACF,GAAA,QAAK,CAACC,OAAQvB,GAAejD,MAAOoE,GAAOK,OAG9C,eAAC,SAAM,CAACzE,MAAOoE,GAAOM,UAAU,SAC9B,eAAC,QAAK,CACJ/C,eAAe,OACf9O,OAAO,UACP8R,aAAa,WACb3E,MAAOoE,GAAOQ,UACdhD,YAAY,mBACZiD,qBAAqB,QACrBC,aAAa,gBACbhD,aAAc,SAAC9N,GAAQ,OAAKqP,EAAYrP,IACxC6C,MAAO7C,EACP+N,gBAAiB,kBAAM0B,EAAYtC,QAAQC,SAC3C2D,cAAc,MAGlB,eAAC,SAAM,CAAC/E,MAAOoE,GAAOM,UAAU,SAC9B,eAAC,QAAK,CACJ1E,MAAOoE,GAAOQ,UACdD,aAAa,WACb/C,YAAY,WACZiD,qBAAqB,QACrBG,iBAAe,EACflD,aAAc,SAAC7N,GAAQ,OAAKqP,EAAYrP,IACxC4C,MAAO5C,EACP4N,IAAK4B,MAGT,eAACwB,GAAA,QAAgB,CACf3E,QAAS,WACPP,EAAWyB,SAAS,mBACpB,SAEF,eAAC,OAAI,CAACxB,MAAOoE,GAAOc,cAAc,SAAC,uBAEpCpE,EACC,eAAC,SAAM,CACLd,MAAO,CAAEmF,SAAU,WAAYC,gBAAiB,eAAgB,SAEhE,eAAC,UAAO,MAER,KAEJ,eAACH,GAAA,QAAgB,CACfjF,MAAOoE,GAAOiB,SACd/E,QAAS,WACPqD,KACA,SAEF,eAAC,OAAI,CAAC3D,MAAO,CAAEkC,MAAO,QAAS,SAAC,YAElC,eAAC+C,GAAA,QAAgB,CACfjF,MAAO,CACLsF,MAAO,MACPC,aAAc,GACdC,OAAQ,GACRtF,WAAY,SACZC,eAAgB,SAChBsF,UAAW,GACXL,gBAAiBtV,EAAW,UAAY,kBACxC4V,SAAU,KAEZpF,QAAS,WACP2D,KACA,SAEF,eAAC,OAAI,CAACjE,MAAO,CAAEkC,MAAO,QAAS,SAAC,mBAElC,eAAC,OAAI,CAAClC,MAAOoE,GAAOtR,MAAM,SAAEyQ,IAC5B,eAAC0B,GAAA,QAAgB,CACfjF,MAAO,CAAEsF,MAAO,QAChBhF,QAAS,WACPP,EAAWyB,SAAS,WACpB,SAEF,eAAC,SAAM,CAACmE,MAAM,IAAI3F,MAAOoE,GAAOwB,UAAU,SACxC,eAAC,OAAI,UAAC,uBASpB,IAAMxB,GAASyB,WAAWC,OAAO,CAC/BzB,UAAW,CACTpE,KAAM,GAER8F,MAAO,CACLC,SAAU,GACVC,WAAY,OACZC,UAAW,UAEbC,MAAO,CACLC,aAAc,IAGhB1B,UAAW,CACT2B,cAAe,MACfb,OAAQ,GACRC,UAAW,GACXa,WAAY,GACZC,YAAa,GACbnG,OAAQ,IAGVwE,UAAW,CACTQ,gBAAiB,UACjBoB,YAAa,UACbtE,MAAO,OACPuE,YAAa,EACblB,aAAc,GACdD,MAAO,OACPI,SAAU,KAGZR,cAAe,CACbM,OAAQ,GACRY,aAAc,IAGhBf,SAAU,CACRC,MAAO,MACPC,aAAc,GACdC,OAAQ,GACRtF,WAAY,SACZC,eAAgB,SAChBsF,UAAW,GACXL,gBAAiB,UACjBM,SAAU,KAEZgB,YAAa,CACXpB,MAAO,MACPC,aAAc,GACdC,OAAQ,GACRtF,WAAY,SACZC,eAAgB,SAChBsF,UAAW,IAEbG,UAAW,CACTH,UAAW,GACXH,MAAO,OACPE,OAAQ,GACRtF,WAAY,SACZyG,UAAW,SACXxG,eAAgB,SAChBuF,SAAU,KAEZ5S,MAAO,CACLoP,MAAO,MACP8D,SAAU,IAEZvB,KAAM,CACJa,MAAO,IACPE,OAAQ,IACRY,aAAc,M,mBC1TLQ,GAAW,wCAED,IAAIC,WAAQD,GAAU,CAC3CE,oBAAqB,GACrBC,kBAAkB,EAClBC,aAAa,ICgTAC,OA1Rf,SAAgB,GAAiB,IAAflH,EAAU,EAAVA,WAChB,EAA0CW,mBAAS,IAAG,WAA/CwG,EAAa,KAAEC,EAAgB,KACtC,EAAwCzG,mBAAS,IAAG,WAA7C0G,EAAY,KAAEC,EAAe,KACpC,EAA0B3G,mBAAS,IAAG,WAA/B1L,EAAK,KAAE2L,EAAQ,KACtB,EAAgCD,mBAAS,IAAG,WAArCzM,EAAQ,KAAEqP,EAAW,KAC5B,EAA0B5C,mBAAS,IAAG,WAA/B4G,EAAK,KAAEC,EAAQ,KAChBlQ,EAAWwL,KACjB,EAA0CnC,mBAAS,IAAI8G,YAAU,IAAG,WAA7DC,EAAa,KAAEC,EAAgB,KACtC,EAAgDhH,oBAAS,GAAM,WAAxDiH,EAAgB,KAAEC,EAAmB,KAC5C,EAAsClH,mBAAS,CAC7CzK,YAAa,GACb4R,yBAA0B,OAC1B,WAHKC,EAAW,KAAEC,EAAc,KAKpBC,EAAgBvS,KAAtBwS,KACR,EAAmDvS,KAAuB,WAA1CwS,GAAf,KAA4B,KAAxBpH,WAEfqH,EAAoBtH,mBACpBuH,EAAmBvH,mBACnBwH,EAAmBxH,mBACnByH,EAAgBzH,mBAqChB0H,EAAkB,sBAAG,YACzB,GApCoB,WACpB,IAAKZ,EAAkB,CACrB,IAAKT,EAEH,OADAzF,MAAM,2BACC,EAET,IAAK2F,EAEH,OADA3F,MAAM,0BACC,EAGT,IAAKqG,EAAY7R,YAEf,OADAwL,MAAM,6BACC,EAGT,IAAK6F,EAEH,OADA7F,MAAM,sBACC,EAIX,OAAKzM,IAKAf,IACHwN,MAAM,yBACC,IANPA,MAAM,sBACC,GAYL+G,GACF,IACE,IAAM9T,EAAO,CACXM,QACAf,WACAiT,gBACAE,eACAnR,YAAa6R,EAAY7R,YACzBqR,SAGF1T,QAAQ6U,IAAIC,KAAKC,UAAUjU,IAK3B,IAAM9B,QAAiBiR,MAAS+C,GAAQ,6BAA8B,CACpExS,OAAQ,OACR1B,QAAS,CACP,eAAgB,oBAElBgC,KAAMgU,KAAKC,UAAUjU,KAEvB,IAAI9B,EAASgW,GAKX,KAAK,UAAWhW,EAASiW,QAAQC,QAJjC,IAAMC,QAA0BnW,EAASiW,OACzCxR,EAAShH,EAAe0Y,EAAkB9U,WAC1C8L,EAAWiJ,SAIb,MAAOha,GACP4E,QAAQC,KAAK,iBAAkB7E,EAAE8Z,aAGtC,kBAnCuB,mCAqElBnU,EAAS,GA8Gf,OA7GAA,EAAOhB,KACL,gBAAC,SAAM,WACL,gBAAC,SAAM,CAACqM,MAAOoE,GAAO6E,aAAa,UACjC,eAAC,SAAM,CAACjJ,MAAOoE,GAAO8E,aAAa,SACjC,eAAC,OAAI,CAAClJ,MAAOoE,GAAO+E,MAAM,SAAC,YAE7B,eAAC,QAAK,CACJnJ,MAAOoE,GAAOgF,WACdtH,aAAc,SAAC9M,GAAK,OAAK2L,EAAS3L,IAClCqU,sBAAsB,QACtBzH,YAAY,cACZiD,qBAAqB,UACrByE,aAAa,GACb3H,eAAe,OACf4H,cAAc,OACdxH,gBAAiB,kBAAOsG,EAAiBlH,QAAUkH,EAAiBlH,QAAQC,QAAU,MACtF2D,cAAc,OAGlB,gBAAC,SAAM,CAAC/E,MAAOoE,GAAO6E,aAAa,UACjC,eAAC,SAAM,CAACjJ,MAAOoE,GAAO8E,aAAa,SACjC,eAAC,OAAI,CAAClJ,MAAOoE,GAAO+E,MAAM,SAAC,eAE7B,eAAC,QAAK,CACJnJ,MAAOoE,GAAOgF,WACdtH,aAAc,SAAC7N,GAAQ,OAAKqP,EAAYrP,IACxCoV,sBAAsB,QACtBzH,YAAY,iBACZiD,qBAAqB,UACrByE,aAAa,GACbzH,IAAKwG,EACLkB,cAAc,OACdvE,iBAAe,EACfjD,gBAAiB,kBAAOoG,EAAkBhH,QAAUgH,EAAkBhH,QAAQC,QAAU,MACxF2D,cAAc,SAjCR,MAuCT4C,GACHhT,EAAOhB,KACL,gBAAC,SAAM,WACL,gBAAC,SAAM,CAACqM,MAAOoE,GAAO6E,aAAa,UACjC,eAAC,SAAM,CAACjJ,MAAOoE,GAAO8E,aAAa,SACjC,eAAC,OAAI,CAAClJ,MAAOoE,GAAO+E,MAAM,SAAC,iBAE7B,eAAC,QAAK,CACJnJ,MAAOoE,GAAOgF,WACdtH,aAAcqF,EACdtF,IAAKsG,EACLkB,sBAAsB,QACtBzH,YAAY,mBACZiD,qBAAqB,UACrByE,aAAa,GACb3H,eAAe,YACf4H,cAAc,OACdxH,gBAAiB,kBAAuB,MAAhBqG,KAAkBjH,QACtCiH,EAAiBjH,QAAQC,QACzB,MACJ2D,cAAc,OAIlB,gBAAC,SAAM,CAAC/E,MAAOoE,GAAO6E,aAAa,UACjC,eAAC,SAAM,CAACjJ,MAAOoE,GAAO8E,aAAa,SACjC,eAAC,OAAI,CAAClJ,MAAOoE,GAAO+E,MAAM,SAAC,gBAE7B,eAAC,QAAK,CACJnJ,MAAOoE,GAAOgF,WACdtH,aAAcuF,EACdgC,sBAAsB,QACtBzH,YAAY,kBACZiD,qBAAqB,UACrByE,aAAa,GACbzH,IAAKuG,EACLzG,eAAe,YACf4H,cAAc,OACdxH,gBAAiB,kBAAOuG,EAAcnH,QAAUmH,EAAcnH,QAAQC,QAAU,MAChF2D,cAAc,OAIlB,gBAAC,SAAM,CAAC/E,MAAOoE,GAAO6E,aAAa,UACjC,eAAC,SAAM,CAACjJ,MAAOoE,GAAO8E,aAAa,SACjC,eAAC,OAAI,CAAClJ,MAAOoE,GAAO+E,MAAM,SAAC,qBAE7B,eAAC,QAAK,CACJnJ,MAAOoE,GAAOgF,WACdtH,aAAcyF,EACd8B,sBAAsB,QACtBzH,YAAY,uBACZiD,qBAAqB,UACrByE,aAAa,GACbzH,IAAKyG,EACLvD,cAAY,OAIhB,gBAAC,SAAM,CAAC/E,MAAOoE,GAAO6E,aAAa,UACjC,eAAC,SAAM,CAACjJ,MAAOoE,GAAO8E,aAAa,SACjC,eAAC,OAAI,CAAClJ,MAAOoE,GAAO+E,MAAM,SAAC,mBA3HjC,eAAC,SAAM,CAACnJ,MAAOoE,GAAOoF,cAAc,SAClC,eAAC,SAAM,CACL5H,YAAY,mBACZ/K,MACGiR,EAAYD,yBAETC,EAAYD,yBADZ,YAGN4B,QAASzH,WAASC,QAClBwF,cAAeA,EACfiC,SApBN,SAAyBnJ,GACvBmH,EAAiBnH,GACjB,IAAMoJ,EAAY,CAChB1T,YAAa+R,EAAYzH,EAAMqJ,KAAKhb,GACpCiZ,yBAA0BG,EAAYzH,EAAMqJ,KAAKT,OAEnDpB,EAAe4B,IAce,SAEzB3B,GACIA,EAAYvZ,KAAI,SAACwM,EAASsF,GAAK,OAChC,eAAC,aAAU,CAACwF,MAAO9K,EAAQkO,OAAY5I,eAkDnC,MAqEd,eAAC,SAAM,CAACP,MAAO,CAAEC,KAAM,GAAI,SACzB,gBAAC4J,GAAA,QAAU,CAAC7J,MAAO,CAAEC,KAAM,GAAI,UAE5BiI,GACC,eAAC,SAAM,CACLlI,MAAO,CACLC,KAAM,EACNkF,SAAU,WACV2E,OAAQ,EACRC,IAAK,MACLC,KAAM,MACN5E,gBAAiB,eACjB,SAEF,eAAC,UAAO,MAIZ,eAAC,SAAM,CAACpF,MAAO,CAAEiK,gBAAiB,GAAIC,kBAAmB,IAAK,SAC5D,eAAC,WAAQ,CACPC,QAASxC,EACTyC,SAAU,SAACC,GAAW,OAAKzC,EAAoByC,IAAa,SAC7D,wBAKH,gBAAClG,GAAA,QAAoB,CACnBnE,MAAO,CAAEC,KAAM,GACfqE,SAA0B,QAAhB/F,UAASC,GAAe,UAAY,SAAS,UAEtD7J,EAED,eAACsQ,GAAA,QAAgB,CACfjF,MAAOoE,GAAOkG,YACdhK,QAASiI,EAAmB,SAE5B,eAAC,OAAI,CAACvI,MAAOoE,GAAOmG,gBAAgB,SAAC,wBAS3CnG,GAASyB,WAAWC,OAAO,CAC/BmD,aAAc,CACZ5C,cAAe,MACfb,OAAQ,GACRC,UAAW,GACXa,WAAY,GACZC,YAAa,GACbnG,OAAQ,IAEVkK,YAAa,CACXlF,gBAAiB,UACjBqB,YAAa,EACbvE,MAAO,UACPsE,YAAa,UACbhB,OAAQ,GACRtF,WAAY,SACZqF,aAAc,GACde,WAAY,GACZC,YAAa,GACbd,UAAW,GACXW,aAAc,IAEhBmE,gBAAiB,CACfrI,MAAO,UACP+H,gBAAiB,GACjBjE,SAAU,IAEZoD,WAAY,CACVnJ,KAAM,EACNuK,YAAa,GACbC,aAAc,GACdhE,YAAa,EACblB,aAAc,GACdiB,YAAa,WAEfkE,eAAgB,CACdxI,MAAO,MACPgE,UAAW,SACXF,SAAU,IAEZ2E,iBAAkB,CAChBzI,MAAO,QACPgE,UAAW,SACXF,SAAU,GACV4E,QAAS,IAEXzB,MAAO,CACLjD,UAAW,SACXF,SAAU,GACVwE,YAAa,GACbC,aAAc,IAEhBvB,aAAc,CACZ/I,eAAgB,UAElBkE,UAAW,CACTpE,KAAM,EACNC,WAAY,UAGd5L,KAAM,CACJ0R,SAAU,GACV5F,OAAQ,IAEVyK,MAAO,CACLvF,MAAO,MACPlF,OAAQ,GACRqG,YAAa,EACbD,YAAa,QACbjB,aAAc,GACdC,OAAQ,GACRoF,QAAS,IAEXE,OAAQ,CACNxF,MAAO,MACPlF,OAAQ,GACRF,WAAY,SACZkF,gBAAiB,UACjBI,OAAQ,GACRD,aAAc,GACdiB,YAAa,UACbrG,eAAgB,UAElB4K,WAAY,CACV5K,eAAgB,SAChBD,WAAY,SACZgC,MAAO,SAETsH,cAAe,CACbwB,UAAW,IACXC,SAAU,OCtYC,SAASC,KACtB,MAAgDxH,IAAMhD,SAAS,IAAG,WAA3DyK,EAAgB,KAAEC,EAAmB,KAC5C,EAAkCzV,KAAyB,WAApD0V,EAAU,KAAItK,EAAO,KAAPA,QACrB,EAAyD1L,KAAyB,WAA3E9C,EAAW,KAAe+Y,EAAkB,KAA7BxK,UAChBzJ,EAAWwL,KAEX0I,EAAsB,sBAAG,YAC7B,IACE,IAAQtX,SAAmBoX,EAAWF,GAAkB5J,UAAhDtN,SACRoD,EAAShH,EAAe4D,UAClB1B,EAAY0B,GAAUsN,SAC5B,MAAOzO,GACPc,QAAQC,KAAK,uBAAwBf,OAExC,kBAR2B,mCAU5B,OACE,gBAAC,SAAM,CAACkN,MAAOoE,GAAOC,UAAU,UAC9B,eAAC,OAAI,CAACrE,MAAOoE,GAAO9P,KAAK,SAAC,uGAIzBgX,GAAsB,eAAC,UAAO,IAC9BvK,GAAW,eAAC,OAAI,UAAC,yBAClB,eAAC,QAAK,CACJf,MAAOoE,GAAOyG,MACdjJ,YAAY,oBACZkD,aAAa,UACbhD,aAAc,SAACxN,GAAI,OAAK8W,EAAoB9W,MAE9C,eAAC2Q,GAAA,QAAgB,CAACjF,MAAOoE,GAAO0G,OAAQxK,QAASiL,EAAuB,SACtE,eAAC,OAAI,CAACvL,MAAOoE,GAAO2G,WAAW,SAAC,uBAMxC,IAAM3G,GAASyB,WAAWC,OAAO,CAC/BmD,aAAc,CACZ5C,cAAe,MACfb,OAAQ,GACRC,UAAW,GACXa,WAAY,GACZC,YAAa,GACbnG,OAAQ,IAEVkK,YAAa,CACXlF,gBAAiB,UACjBqB,YAAa,EACbvE,MAAO,UACPsE,YAAa,UACbhB,OAAQ,GACRtF,WAAY,SACZqF,aAAc,GACde,WAAY,GACZC,YAAa,GACbd,UAAW,GACXW,aAAc,IAEhBmE,gBAAiB,CACfrI,MAAO,UACP+H,gBAAiB,GACjBjE,SAAU,IAEZoD,WAAY,CACVnJ,KAAM,EACNiC,MAAO,QACPsI,YAAa,GACbC,aAAc,GACdhE,YAAa,EACblB,aAAc,GACdiB,YAAa,WAEfkE,eAAgB,CACdxI,MAAO,MACPgE,UAAW,SACXF,SAAU,IAEZ2E,iBAAkB,CAChBzI,MAAO,QACPgE,UAAW,SACXF,SAAU,GACV4E,QAAS,IAEXY,YAAa,CACXtJ,MAAO,QACPgE,UAAW,SACXF,SAAU,GACV4E,QAAS,IAEXzB,MAAO,CACLjH,MAAO,QACPgE,UAAW,SACXF,SAAU,GACVwE,YAAa,GACbC,aAAc,IAEhBvB,aAAc,CACZ/I,eAAgB,UAElBkE,UAAW,CACTpE,KAAM,EACNC,WAAY,UAGd5L,KAAM,CACJ0R,SAAU,GACV5F,OAAQ,IAEVyK,MAAO,CACLvF,MAAO,MACPlF,OAAQ,GACRqG,YAAa,EACbD,YAAa,QACbjB,aAAc,GACdC,OAAQ,GACRoF,QAAS,IAEXE,OAAQ,CACNxF,MAAO,MACPlF,OAAQ,GACRF,WAAY,SACZkF,gBAAiB,UACjBI,OAAQ,GACRD,aAAc,GACdiB,YAAa,UACbrG,eAAgB,UAElB4K,WAAY,CACV5K,eAAgB,SAChBD,WAAY,SACZgC,MAAO,SAETsH,cAAe,CACbwB,UAAW,IACXC,SAAU,O,imBCjJC,SAASQ,GAAW,GAA2B,IAAzB1L,EAAU,EAAVA,WAAe2L,EAAK,WACvD,OACE,eAACC,GAAA,QAAgB,SACXD,GAAK,IACTpL,QAASP,EAAWiJ,OACpBG,MAAM,OACNyC,aAA8B,QAAhBrN,UAASC,M,qkBCA7B,IAAM6D,GAAQC,oBAEC,SAAS2E,KACtB,IAAM4E,EAAQC,qBACRhc,EAAWiT,GAAehS,GAEhC,OACE,gBAAC,GAAMyR,UAAS,CACdC,cAAe,gBAAG1C,EAAU,EAAVA,WAAU,MAAQ,CAClCgM,YAAa,CACX3G,gBAAiBtV,EAAW+b,EAAM,mBAAqB,QAEzDG,WAAY,SAACN,GAAK,OAChB,eAACD,GAAU,SAAKC,GAAK,IAAE3L,WAAYA,QAEpC,UAEH,eAAC,GAAM4C,OAAM,CACXzS,KAAK,aACL0S,UAAWqJ,GACXnO,QAAS,CAAEiI,MAAO,YAEpB,eAAC,GAAMpD,OAAM,CACXzS,KAAK,cACL0S,UAAWsI,GACXpN,QAAS,CAAEiI,MAAO,qBCxB1B,IAAM1D,GAAQC,oBAEC,SAAS4J,KACtB,IAAML,EAAQC,qBACRhc,EAAWiT,GAAehS,GAEhC,OACE,gBAAC,GAAMyR,UAAS,CACdC,cAAe,CACbsJ,YAAa,CACX3G,gBAAiBtV,EAAW+b,EAAM,mBAAqB,SAEzD,UAEF,eAAC,GAAMlJ,OAAM,CACXzS,KAAK,QACL0S,UAAWQ,GACXtF,QAAS,CAAE4E,aAAa,KAE1B,eAAC,GAAMC,OAAM,CACXzS,KAAK,SACL0S,UAAWqE,GACXnJ,QAAS,CAAE4E,aAAa,KAE1B,eAAC,GAAMC,OAAM,CACXzS,KAAK,iBACL0S,UAAWL,GACXzE,QAAS,CAAEiI,MAAO,uB,wpBCxBNoG,UAAWC,IAAI,UAAU9G,MAE9B,SAAS+G,GAAY,GAKhC,IAJFC,EAAkB,EAAlBA,mBACAC,EAAqB,EAArBA,sBACAC,EAAQ,EAARA,SAAS,EAAD,EACRC,iBAAS,OAAO,EAEhB,EAA0DC,gCAAwC,WAA3FC,EAAiB,KAAEC,EAA4B,KACtD,EAAgDF,0BAAkC,WAA3EG,EAAY,KAAEC,EAAuB,KAEtCC,EAAa,sBAAG,YAEpB,UADuBD,KACVE,SAAWH,EAAaG,QAAS,CAC5C,IAAMC,QAAeP,qBAA8B,CACjDQ,WAAYR,oBAA6BS,SAEtCF,EAAOG,UACVb,EAAsB,SACjBD,GAAkB,IACrBe,aAAcJ,EAAOK,OAAO,WAIhCC,UAAM9L,MACJ,0FAGL,kBAjBkB,mCAmBb+L,EAAS,sBAAG,YAEhB,UADuBZ,KACVI,SAAWL,EAAkBK,QAAS,CACjD,IAAMC,QAAeP,2BAAoC,CACvDe,eAAe,IAEZR,EAAOG,WACVb,EAAsB,SACjBD,GAAkB,IACrBe,aAAcJ,EAAOK,OAAO,MAGV,YAAhB/O,UAASC,IACXkP,WAAMC,KAAK,sDAAuD,CAChEC,SAAUF,WAAMG,UAAUC,KAC1BC,QAAS,EACT5I,UAAW,IACXC,gBAAiB,OACjB4I,QAAQ,UAKdT,UAAM9L,MACJ,+FAGL,kBA3Bc,mCA6BTwM,EACJ,eAAC,SAAM,CACLjO,MAAO,CACLqG,cAAe,MACflG,eAAgB,eAChBD,WAAY,SACZuF,UAAW,IACX,SAEF,eAAC,QAAK,CACJ0D,MAAM,QACNvH,YAAY,aACZ/K,MAAyB,MAAlByV,KAAoBvG,MAAQuG,EAAmBvG,MAAQ,GAC9D/F,MAAO,CAAEC,KAAM,GACf6B,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBvG,MAAOmI,UAObC,EAAc,+BAkHlB,OA9GEA,EAFoB,MAAlB7B,KAAoBe,aAGpB,gBAAC,SAAM,CACL1H,MAAM,IACN3F,MAAO,CACLwF,OAAQ,IACR4I,eAAgB,GAChB7I,aAAc,GACd8I,YAAa,OACbC,aAAc,CACZhJ,MAAO,EACPE,OAAQ,GAEV+I,cAAe,IACfC,aAAc,KAEdC,UAAW,IACX,UAEF,eAACxJ,GAAA,QAAgB,CACf3E,QAAS,WACPiM,EAAsB,OAExBvM,MAAO,CACLmF,SAAU,WAAYuJ,MAAO,GAAI3E,IAAK,EAAGD,OAAQ,GACjD,SAEF,eAAC6E,GAAA,QAAO,CAACze,KAAK,WAAW0e,KAAM,GAAI1M,MAAM,WAG3C,eAACqC,GAAA,QAAK,CACJC,OAAQ,CACNqK,IAAKvC,EAAmBe,aAAawB,KAEvC7O,MAAO,CACLuF,aAAc,EACdD,MAAO,OACPE,OAAQ,OACRsJ,WAAY,gBAQlB,gBAAC,SAAM,CAAC9O,MAAO,CAAEqG,cAAe,OAAQ,UACtC,eAACpB,GAAA,QAAgB,CACf3E,QAAS,WACPkN,KAEFxN,MAAO,CACLwF,OAAQ,GACRrF,eAAgB,SAChBD,WAAY,SACZD,KAAM,EACNgK,gBAAiB,EACjB5D,cAAe,OACf,SAEF,gBAAC,SAAM,CACLV,MAAM,IACN3F,MAAO,CACLC,KAAM,EACNoG,cAAe,MACfb,OAAQ,OACRuJ,iBAAkB,GAClB9E,gBAAiB,GACjBC,kBAAmB,EACnB3E,aAAc,EACdrF,WAAY,SACZC,eAAgB,gBAChB,UAEF,eAAC6O,GAAA,QAAW,CAAC9e,KAAK,QAAQ0e,KAAM,GAAI1M,MAAM,SAC1C,eAAC,OAAI,UAAC,sBAGV,eAAC+C,GAAA,QAAgB,CACf3E,QAASyM,EACT/M,MAAO,CACLwF,OAAQ,GACRrF,eAAgB,SAChBD,WAAY,SACZD,KAAM,EACNgK,gBAAiB,EACjB5D,cAAe,OACf,SAEF,gBAAC,SAAM,CACLV,MAAM,IACN3F,MAAO,CACLC,KAAM,EACNoG,cAAe,MACfb,OAAQ,OACRuJ,iBAAkB,GAClB9E,gBAAiB,GACjBC,kBAAmB,EACnB3E,aAAc,EACdrF,WAAY,SACZC,eAAgB,gBAChB,UAEF,eAAC6O,GAAA,QAAW,CAAC9e,KAAK,SAAS0e,KAAM,GAAI1M,MAAM,SAC3C,eAAC,OAAI,UAAC,uBAQd,uCACGuK,GAAawB,EACbzB,IACA2B,K,smBCnNQ,SAASc,GAAU,GAA2C,IAAzCC,EAAU,EAAVA,WAAYC,EAAQ,EAARA,SAAaC,EAAW,WACtE,OACE,eAAC,SAAM,SAAKA,GAAW,aACpB1L,IAAM2L,SAAS5gB,IAAI0gB,GAAU,SAACG,GAAK,OAClC,eAAC,SAAM,CAACtP,MAAOkP,EAAW,SAAEI,U,qkBCYrB,SAASC,GAAY,GAUhC,IATFjD,EAAkB,EAAlBA,mBACAC,EAAqB,EAArBA,sBACAC,EAAQ,EAARA,SACAgD,EAAS,EAATA,UACAC,EAAY,EAAZA,aACAC,EAAO,EAAPA,QACAC,EAAU,EAAVA,WACAC,EAAI,EAAJA,KACAC,EAAO,EAAPA,QAGA,EAA0DnP,oBAAS,GAAM,WAAlEoP,EAAqB,KAAEC,EAAwB,KAEhDC,EAAoB,IAAIC,oBAAkB,KAAM,CACpDC,OAAQ,eAEJC,EAAoBC,mBACxB,iBAAO,CACL,aAAc,CAAEC,KAAMb,EAAWc,QAASb,GAC1C,WAAY,CAAEY,KAAMX,EAASY,QAASX,MAExC,CAACH,EAAWC,EAAcC,EAASC,IAG/BY,EAAa,SAACX,GAClB,IAAIY,EAAQZ,EAAKa,WACbC,EAAUd,EAAKe,aACbC,EAAOJ,GAAS,GAAK,KAAO,KAKlC,OAHAA,GADAA,GAAS,KACQ,IAEO,KADxBE,EAAUA,EAAU,GAAE,IAAOA,EAAYA,GACN,IAAIE,GAInC3C,EACJ,eAAC,SAAM,CACLjO,MAAO,CACLqG,cAAe,MACflG,eAAgB,eAChBD,WAAY,SACZuF,UAAW,IACX,SAEF,eAAC,QAAK,CACJ0D,MAAM,QACNvH,YAAY,aACZ/K,MAAyB,MAAlByV,KAAoBvG,MAAQuG,EAAmBvG,MAAQ,GAC9D/F,MAAO,CAAEC,KAAM,GACf6B,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBvG,MAAOmI,UA2EjB,MAAoB,QAAhB3P,UAASC,GAET,eAAC,OAAI,UAAC,6HAQR,eAAC,SAAM,UACL,gBAACyQ,GAAS,CAACC,WAAY,CAAEd,eAAgB,IAAK,UAC3CH,EACD,eAAC,QAAK,CACJ9E,MAAM,WACNvH,YAAY,sBACZ/K,MAAyB,MAAlByV,OAAkB,EAAlBA,EAAoBuE,SAC3B/O,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBuE,SAAU3C,QAIhB,eAAC,aAAU,CACT/E,MAAM,OACN2H,YAAad,EACbtG,SAAU,SAACqH,GAAQ,OAAKlB,EAAQkB,IAChCnB,KAAMA,EACNoB,UAAU,QAEZ,gBAnGN,WACE,MAAoB,YAAhBzS,UAASC,GAET,eAAC,SAAM,CACLwB,MAAO,CACLqG,cAAe,MACflG,eAAgB,gBAChB,SAED/Q,OAAOwH,QAAQuZ,GAAmB1hB,KACjC,WAA6BwiB,GAAC,eAA5B9H,EAAK,YAAIkH,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAAO,OACtB,gBAAC,SAAM,CAAStQ,MAAO,CAAEE,WAAY,UAAW,UAC9C,eAAC,OAAI,CAACG,SAAS,QAAQL,MAAO,CAAEoG,aAAc,GAAI,SAC/C+C,IAEH,eAAC,SAAM,CACL7I,QAAS,WACPyP,GAAyB,IACzB,SAEDQ,EAAWF,KAEbP,GACC,eAAC,WAAc,CACboB,KAAK,OACL9G,SAAU,SAAC+G,EAAQvB,GACjBU,EAAQV,GACRG,GAAyB,IAE3BlZ,MAAOwZ,MAlBAY,QA2BH,QAAhB1S,UAASC,GAET,eAAC,SAAM,CACLwB,MAAO,CACLqG,cAAe,MACflG,eAAgB,gBAChB,SAED/Q,OAAOwH,QAAQuZ,GAAmB1hB,KACjC,WAA6BwiB,GAAC,eAA5B9H,EAAK,YAAIkH,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAAO,OACtB,gBAAC,SAAM,CAAStQ,MAAO,CAAEE,WAAY,UAAW,UAC9C,eAAC,OAAI,CAACG,SAAS,QAAQL,MAAO,CAAEoG,aAAc,GAAI,SAC/C+C,IAGH,eAAC,WAAc,CACb+H,KAAK,OACL9G,SAAU,SAAC+G,EAAQvB,GACjBU,EAAQV,IAEV/Y,MAAOwZ,MAVEY,aAVvB,IA6De,IACX,gBAAC,SAAM,CAACjR,MAAO,CAAE4K,QAAS,GAAI,UAC5B,eAAC,UAAO,IACR,eAACwG,GAAA,QAAS,CAAClhB,KAAK,YAAY8P,MAAO,CAAEmF,SAAU,cAC/C,eAACiM,GAAA,QAAS,CACRlhB,KAAK,YACL8P,MAAO,CAAEmF,SAAU,WAAYuJ,MAAO,KAExC,eAAC,SAAM,CACL1O,MAAO,CAAEmF,SAAU,WAAYuJ,MAAO,MAAOtI,aAAc,GAAI,SAE/D,eAAC,OAAI,CAACiL,WAAW,OAAM,SAAC,kBAI5B,gBAAC,SAAM,WACL,eAAC,QAAK,CACJlI,MAAM,OACNvH,YAAY,kBACZ5B,MAAO,CAAEoG,aAAc,IACvBvP,MACoB,MAAlByV,KAAoBgF,WAChBhF,EAAmBgF,WACnB,GAENxP,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBgF,WAAYpD,QAIlB,eAAC,QAAK,CACJ/E,MAAM,OACNvH,YAAY,eACZ5B,MAAO,CAAEoG,aAAc,GACvBvP,MAAyB,MAAlByV,OAAkB,EAAlBA,EAAoBiF,KAC3BzP,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBiF,KAAMrD,QAKZ,eAAC,QAAK,CACJ/E,MAAM,cACNqI,WAAS,EACT5P,YAAY,wBACZ5B,MAAO,CAAEoO,eAAgB,IACzBvX,MAAyB,MAAlByV,OAAkB,EAAlBA,EAAoBd,YAC3B1J,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBd,YAAa0C,QAKnB,eAAC7B,GAAW,CACVI,WAAW,EACLH,qBAAoBC,wBAAuBC,qBC/OtD,IAEMiF,GAAa,CACxB,QACA,SACA,eACA,UACA,MACA,SACA,MACA,SACA,WAGWC,GAAkB,CAC7B,iBACA,QACA,SACA,eACA,UACA,MACA,SACA,MACA,SACA,WAKWC,GAAc,CAAC,aAAc,YAAa,OAAQ,SAIlDC,GAAa,CACxB,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,qEACA,qEACA,qEACA,eACA,mDACA,mDACA,mDACA,eACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,iCACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,SACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,OACA,OACA,SACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,4BCxxDK,SAASC,GAAYC,GAC1B,MAAUC,2EAAoBD,EAAO,OAsEhC,IAAME,GAAgB,SAACC,GAC5B,IAAKA,EACH,MAAO,GAGT,IADA,IAAIC,EAAM,EACDjB,EAAI,EAAGA,EAAIgB,EAAI9e,SAAU8d,EAChCiB,GAAOD,EAAIE,WAAWlB,IAAMA,EAG9B,OADcW,GAAWM,EAAMN,GAAWze,SAiBrC,SAASif,GAAUtJ,GAA4C,IAA3B1D,EAAe,uDAAG,OAC3DsI,WAAMC,KAAK7E,EAAS,CAClB8E,SAAUF,WAAMG,UAAUC,KAC1BC,QAAS,EACT5I,UAAW,IACXC,kBACA4I,QAAQ,IAKL,IAAMqE,GAAkB,SAACC,EAAeC,GAC7C,IAAMC,EAAY,IAAIC,KAAKH,GACrBI,EAAU,IAAID,KAAKF,GAQzB,OANmBC,EAAU/B,WAAa,IAAM,IAM5B,IALC+B,EAAU7B,cACb6B,EAAU/B,YAAc,GAAK,KAAO,MAIN,OAH/BiC,EAAQjC,WAAa,IAAM,IAGkB,IAF3CiC,EAAQ/B,cACX+B,EAAQjC,YAAc,GAAK,KAAO,OAI9CkC,GAAsB,CAC1BC,EAAG,SACHC,EAAG,SACHC,EAAG,UACHC,EAAG,YACHC,EAAG,WACHC,EAAG,SACHC,EAAG,YAGQC,GAAa,SAACvD,GACzB,IAAMwD,EAAU,IAAIX,KAAK7C,GAEnByD,EAAUD,EAAQE,SAClBC,EAAQH,EAAQI,WAAa,EAC7BC,EAAML,EAAQM,UACpB,OAAUf,GAAoBU,GAAQ,KAAKE,EAAK,IAAIE,G,qkBCjItD,IAAME,GAAeC,8BAAkC,CACrDC,SAAU,SAACC,GAAkB,OAAKA,EAAKC,OAKnCC,GAAmB,SAACC,EAAUjgB,GAAQ,OAAKigB,EAASxlB,KAAI,SAACylB,GAAO,gBACjEA,GAAO,IACVC,SAAUD,EAAQE,MAAMjhB,OACxBkhB,SAAUH,EAAQE,MAAM3X,SAASzI,SAGtBsgB,GAAmB9iB,GAASa,gBAAgB,CACvDC,kBAAkB,EAClBP,UAAW,SAACC,GAAO,MAAM,CACvBuiB,iBAAkBviB,EAAQE,MAAyB,CACjDsiB,kBAAmB,IACnBtiB,MAAO,gBACLvC,EAAO,EAAPA,QAASqG,EAAU,EAAVA,WAAY8G,EAAG,EAAHA,IAAK3D,EAAU,EAAVA,WAAW,EAAD,EAAEsb,QAAc,MAC/C,CACLhiB,IAAI,qBACJC,QAAS,CACP/C,WAEFuE,OAAQ,CACN4I,MACA3D,aACAnD,aACAye,aAV2C,OAAO,EAWlDC,WF5C6B,KE+CjC3hB,kBAAmB,SAACH,EAA0B+hB,EAAE,GAAmB,IAAhB3gB,EAAQ,EAARA,SAEjD,OAAO2f,GAAaiB,QAClBjB,GAAakB,gBAAgB,CAC3BC,aAAcliB,EAASO,OAAS,IAGlCP,EAASnE,KAAI,SAACqlB,GAAI,gBACbA,GAAI,IACPK,SAAUL,EAAKM,MAAMjhB,OACrBkhB,SAAUP,EAAKM,MAAM3X,SAASzI,GAC9BigB,SAAUD,GAAiBF,EAAKG,SAAUjgB,UAI1CoD,eAAc,qCAKjB,IAAD,EAHEzH,EAAO,EAAPA,QAASqG,EAAU,EAAVA,WAAYhC,EAAQ,EAARA,SAAUmF,EAAU,EAAVA,WAAY2D,EAAG,EAAHA,IAAK2X,EAAO,EAAPA,QAEhDnd,EAAc,EAAdA,eAAgBD,EAAQ,EAARA,SAElB,GAAKrB,EAAL,CAGA,IAAQiS,SAAe3Q,GAAf2Q,MAEA,MAAJA,GAAS,OAAL,EAAJA,EAAM8M,UAAF,EAAJ,EAAW5hB,QAAS,GAEtBkE,EACEid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UAASqG,WAAY,EAAGhC,WAAUmF,aAAY2D,MAAK2X,YAErD,SAAC/c,GACCic,GAAaiB,QAAQld,EAAOsd,GAAeC,UAAUhN,QAKvDjS,EAAa,GAEfqB,EACEid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UAASqG,aAAYhC,WAAUmF,aAAY2D,MAAK2X,YAElD,SAAC/c,GACSic,GAAakB,uBAO7Bxd,EACEid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UAASqG,WAAY,EAAGhC,WAAUmF,aAAY2D,MAAK2X,YAErD,SAAC/c,GACCA,EAAMod,cAAe,UAK9B,qDArDmB,KAwDtBI,mBAAoBljB,EAAQ+B,SAAS,CACnC7B,MAAO,YAUA,IAAD,EATJvC,EAAO,EAAPA,QACAoW,EAAK,EAALA,MACAoP,EAAI,EAAJA,KACAC,EAAO,EAAPA,QACAC,EAAI,EAAJA,KACAxiB,EAAM,EAANA,OACAyiB,EAAK,EAALA,MACAC,EAAQ,EAARA,SACAC,EAAM,EAANA,OAEA,MAAa,iBAATL,GAAoC,iBAATA,EACtB,CACL1iB,IAAK,oBACL2B,OAAQ,OACR1B,QAAS,CAAE/C,WACX+E,KAAM6gB,GAGH,CACL9iB,IAAK,oBACL2B,OAAQ,OACR1B,QAAS,CAAE/C,WACX+E,MAAI,GACFqR,QACAoP,QAAI,MACHA,EAAOC,GAAO,aACfC,GAAI,eACJxiB,GAAM,cACNyiB,GAAK,eACLE,GAAM,KAINpe,eAAc,qCAGjB,IAFCzH,EAAO,EAAPA,QAASqE,EAAQ,EAARA,SACTqD,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAEZ,IACE,IAAcme,SAAkBne,GAAxB2Q,KAGR5Q,EACEid,GAAiB9c,KAAKC,gBACpB,mBACA,CAAE9H,UAASqE,WAAUgC,WAAY,IACjC,SAAC0B,GACCic,GAAa+B,OAAOhe,EAAM,SACrB+d,GAAO,IACVtB,SAAU,EACVE,UAAU,SAKlB,MAAOrlB,GACP4E,QAAQC,KAAK,6BAA8B7E,OAE9C,qDAxBmB,KA0BtB2mB,mBAAoB3jB,EAAQ+B,SAAS,CACnC7B,MAAO,YACwB,MACxB,CACLO,IAAK,uBACL2B,OAAQ,SACR1B,QAAS,CAAE/C,QAJJ,EAAPA,SAKA+E,KAAM,CACJqf,IANU,EAAHA,IAOP/f,SAPoB,EAARA,SAQZ+R,MAR2B,EAALA,OAUxB1R,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,UAEpC8C,eAAc,qCAKjB,IAHCzH,EAAO,EAAPA,QAASokB,EAAG,EAAHA,IAAK/f,EAAQ,EAARA,SAAUmF,EAAU,EAAVA,WAAY2D,EAAG,EAAHA,IAEpCzF,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAEZ,GAAI6B,GAAc2D,EAChB,IAAI8Y,EAAoBve,EACtBid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UAASqE,WAAUgC,WAAY,EAAGmD,aAAY2D,QAEhD,SAACpF,GACCic,GAAakC,UAAUne,EAAOqc,OAMtC,IAAMxc,EAAcF,EAClBid,GAAiB9c,KAAKC,gBACpB,mBACA,CAAE9H,UAASqE,WAAUgC,WAAY,IACjC,SAAC0B,GACCic,GAAakC,UAAUne,EAAOqc,OAKpC,UACQzc,EACN,SACAC,EAAYI,OACRie,GACFA,EAAkBje,WAGvB,qDAtCmB,KAyCtBme,YAAa9jB,EAAQE,MAAM,CACzBA,MAAO,YAAkB,MAAQ,CAC/BO,IAAI,wBACJC,QAAS,CACP/C,QAHa,EAAPA,SAKRuE,OAAQ,CACNtF,GANqB,EAANmnB,UASb3e,eAAc,qCAKjB,IAHCzH,EAAO,EAAPA,QAASomB,EAAM,EAANA,OAAQ/hB,EAAQ,EAARA,SAAUmF,EAAU,EAAVA,WAAY2D,EAAG,EAAHA,IAEvCzF,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAIZ,IACE,IAAc0e,SAAsB1e,GAA5B2Q,KACFgO,EAAiB,SAACve,GACtBic,GAAauC,UAAUxe,EAAO,CAC5B9I,GAAImnB,EACJI,QAAQ,SACHH,GAAW,IACd7B,SAAU6B,EAAY5B,MAAMjhB,OAC5BkhB,SAAU2B,EAAY5B,MAAM3X,SAASzI,GACrCigB,SAAUD,GAAiBgC,EAAY/B,SAAUjgB,QAIvDqD,EACEid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UACAqE,WACAgC,WAAY,GAEdigB,KAGA9c,GAAc2D,IAChBzF,EACEid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UACAqE,WACAgC,WAAY,EACZmD,aACA2D,OAEFmZ,IAIN,MAAOjnB,GACP4E,QAAQC,KAAK,+BAAgC7E,OAEhD,qDAlDmB,KAqDtBonB,SAAUpkB,EAAQ+B,SAAS,CACzB7B,MAAO,YAC0B,MAC1B,CACLO,IAAK,iBACL2B,OAAQ,QACR1B,QAAS,CAAE/C,QAJJ,EAAPA,SAKA+E,KAAM,CACJqf,IANU,EAAHA,IAOPhO,MAPiB,EAALA,MAQZ/R,SAR6B,EAAVqiB,YAUrBhiB,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,UAEpC8C,eAAc,qCAKjB,IAHCzH,EAAO,EAAPA,QAASokB,EAAG,EAAHA,IAAK/f,EAAQ,EAARA,SAAUmF,EAAU,EAAVA,WAAY2D,EAAG,EAAHA,IAEpCzF,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAEN2e,EAAiB,SAACve,GACtB,IAAMoc,EAAOkB,GAAesB,WAAW5e,EAAOqc,GAE9CJ,GAAauC,UAAUxe,EAAO,CAC5B9I,GAAImlB,EACJoC,QAAS,CACPhC,SAAUL,EAAKO,SAAWP,EAAKK,SAAW,EAAIL,EAAKK,SAAW,EAC9DE,UAAWP,EAAKO,aAKtB,GAAIlb,GAAc2D,EAChB,IAAI8Y,EAAoBve,EACtBid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UAASqG,WAAY,EAAGhC,WAAUmF,aAAY2D,OAEhDmZ,IAIN,IAAM1e,EAAcF,EAClBid,GAAiB9c,KAAKC,gBACpB,mBACA,CAAE9H,UAASqG,WAAY,EAAGhC,YAC1BiiB,IAIJ,UACQ3e,EACN,SACIse,GACFA,EAAkBje,OAEpBJ,EAAYI,WAEf,qDA7CmB,KAgDtB4e,WAAYvkB,EAAQ+B,SAAS,CAC3B7B,MAAO,YAAqB,MAAQ,CAClCO,IAAK,uBACL2B,OAAQ,OACR1B,QAAS,CAAE/C,QAHI,EAAPA,SAIR+E,KAAM,CACJqf,IALkB,EAAHA,IAMfzf,KANwB,EAAJA,MAQtBD,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,UAGpC8C,eAAc,qCAKjB,IAHCzH,EAAO,EAAPA,QAASokB,EAAG,EAAHA,IAAK/f,EAAQ,EAARA,SAAUmF,EAAU,EAAVA,WAAY2D,EAAG,EAAHA,IAEpCzF,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAEZ,UACQA,EAGND,EACEid,GAAiBviB,UAAU+jB,YAAYU,SAAS,CAC9C7mB,UACAomB,OAAQhC,EACR/f,WACAmF,aACA2D,SAGJ,MAAO9N,GACP4E,QAAQC,KAAK,gCAAiC7E,OAEjD,qDAtBmB,KAyBtBynB,YAAazkB,EAAQ+B,SAAS,CAC5B7B,MAAO,YAA6B,MAAQ,CAC1CO,IAAK,wBACL2B,OAAQ,QACR1B,QAAS,CAAE/C,QAHI,EAAPA,SAIR+E,KAAM,CACJqhB,OALqB,EAANA,OAMfW,UANgC,EAATA,WAQzBriB,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,UAEpC8C,eAAc,qCAKjB,IAHCzH,EAAO,EAAPA,QAASomB,EAAM,EAANA,OAAQW,EAAS,EAATA,UAAW1iB,EAAQ,EAARA,SAAUmF,EAAU,EAAVA,WAAY2D,EAAG,EAAHA,IAElDzF,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAEN2e,EAAiB,SAACve,GACtB,IAAMoc,EAAOkB,GAAesB,WAAW5e,EAAOqe,GAE9CpC,GAAauC,UAAUxe,EAAO,CAC5B9I,GAAImnB,EACJI,QAAS,CACPlC,SAAUH,EAAKG,SAASxlB,KAAI,SAACylB,GAC3B,OAAIA,EAAQH,MAAQ2C,EACX,SACFxC,GAAO,IACVC,SAAUD,EAAQG,SACdH,EAAQC,SAAW,EACnBD,EAAQC,SAAW,EACvBE,UAAWH,EAAQG,WAGhBH,SAKf,GAAI/a,GAAc2D,EAChB,IAAI8Y,EAAoBve,EACtBid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UAASqG,WAAY,EAAGhC,WAAUmF,aAAY2D,OAEhDmZ,IAKN,IAAM1e,EAAcF,EAClBid,GAAiB9c,KAAKC,gBACpB,mBACA,CAAE9H,UAASqE,WAAUgC,WAAY,GACjCigB,IAIJ,UACQ3e,EACN,SACAC,EAAYI,OACRie,GACFA,EAAkBje,WAGvB,qDAvDmB,KA0DtBgf,cAAe3kB,EAAQ+B,SAAS,CAC9B7B,MAAO,YAA6B,MAAQ,CAC1CO,IAAK,0BACL2B,OAAQ,SACR1B,QAAS,CAAE/C,QAHI,EAAPA,SAIR+E,KAAM,CACJqhB,OALqB,EAANA,OAMfW,UANgC,EAATA,WAQzBriB,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,UAEpC8C,eAAc,qCAKjB,IAHCzH,EAAO,EAAPA,QAASomB,EAAM,EAANA,OAAQW,EAAS,EAATA,UAAW1iB,EAAQ,EAARA,SAAUmF,EAAU,EAAVA,WAAY2D,EAAG,EAAHA,IAElDzF,EAAQ,EAARA,SAAUC,EAAc,EAAdA,eAEN2e,EAAiB,SAACve,GACtB,IAAMoc,EAAOkB,GAAesB,WAAW5e,EAAOqe,GAE9CpC,GAAauC,UAAUxe,EAAO,CAC5B9I,GAAImnB,EACJI,QAAS,CACPlC,SAAUH,EAAKG,SAAShc,QACtB,SAACic,GAAO,OAAKA,EAAQH,MAAQ2C,SAK/Bnf,EAAcF,EAClBid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UACAqE,WACAgC,WAAY,GAEdigB,IAIJ,GAAI9c,GAAc2D,EAChB,IAAI8Y,EAAoBve,EACtBid,GAAiB9c,KAAKC,gBACpB,mBACA,CACE9H,UACAqE,WACAgC,WAAY,GAEdigB,IAKN,UACQ3e,EACN,SACAC,EAAYI,OACRie,GACFA,EAAkBje,WAGvB,qDApDmB,SAyDpBqd,GAAiBrB,GAAaiD,eAKlCC,GAQEvC,GARFuC,6BACAC,GAOExC,GAPFwC,8BACAC,GAMEzC,GANFyC,8BACAC,GAKE1C,GALF0C,oBACAC,GAIE3C,GAJF2C,sBACAC,GAGE5C,GAHF4C,wBACAC,GAEE7C,GAFF6C,uBACAC,GACE9C,GADF8C,yB,qkBC1fK,SAASC,KACd,OACE,eAAC,OAAI,CACHrX,MAAO,CACL2G,UAAW,WACXJ,YAAa,EACbrE,MAAO,OACP8D,SAAU,IACV,SACH,aAMU,SAASsR,KACtB,IAAMzL,EAAQC,qBACRhc,EAAWiT,GAAehS,GAC1BpB,EAAUoT,IAAe,SAACzS,GAAK,OAAKA,EAAMU,QAAQC,OAAOtB,WAGD,EAA1DyC,GAAcL,UAAUQ,YAAYglB,cAAc5nB,GADpDsY,KAAQjU,EAAQ,EAARA,SAAUwjB,EAAe,EAAfA,gBAEpB,EAAoD9W,mBAAS,MAAK,WAA3D4L,EAAkB,KAAEC,EAAqB,KAChD,EAAkC7L,mBAAS,IAAI+R,MAAO,WAA/CjD,EAAS,KAAEC,EAAY,KAC9B,EAA8B/O,mBAAS,IAAI+R,MAAO,WAA3C/C,EAAO,KAAEC,EAAU,KAC1B,EAAwBjP,mBAAS,IAAI+R,MAAO,WAArC7C,EAAI,KAAEC,EAAO,KACpB,EAAgDnP,mBAAsB,IAAG,WAAlE+W,EAAgB,KAAEC,EAAmB,KAC5C,EAA0DhX,mBACxD,IAAI8G,YAAU,IACf,WAFMmQ,EAAqB,KAAEC,EAAwB,KAGtD,EAA0BlX,mBAAS,MAAK,WAAjC5N,EAAK,KAAE+kB,EAAQ,KACtB,EAAwCnX,oBAAS,GAAM,WAAhDoX,EAAY,KAAEC,EAAe,KAEpC,EAA4CjB,KAA+B,WAApE5B,EAAkB,KAAIpU,EAAS,KAATA,UAEvBkX,EAA+B,UAApBR,EAA8B9F,GAAkBD,GAE3DwG,EAAW,sBAAG,UAAO5C,GAEzB,GAAIzF,EAAO,IAAI6C,KACboF,EAAS,mCAIX,GAAIrI,EAAYE,EACdmI,EAAS,0CADX,CAKA,IAAMK,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQ,gBACxBF,EAASE,OAAO,QAAS9L,EAAmBvG,OAC5CmS,EAASE,OAAO,WAAY9L,EAAmBuE,UAC/CqH,EAASE,OAAO,OAAQxI,EAAKyI,eAC7BH,EAASE,OAAO,YAAa5I,EAAU6I,eACvCH,EAASE,OAAO,UAAW1I,EAAQ2I,eAG/B/L,EAAmBgF,YAAY4G,EAASE,OAAO,aAAc9L,EAAmBgF,YAChFhF,EAAmBiF,MAAM2G,EAASE,OAAO,OAAQ9L,EAAmBiF,MACpEjF,EAAmBd,aAAa0M,EAASE,OAAO,cAAe9L,EAAmBd,aAClFc,EAAmBe,cACrB6K,EAASE,OAAO,UAAW,CACzBvJ,IAAKvC,EAAmBe,aAAawB,IACrC3e,KAAM,gBACNilB,KAAM,cAIVE,EAAKiD,SAAQ,SAACxb,GACZob,EAASE,OAAO,OAAQtb,MAG1B,UACQoY,EAAmB,CACvBC,KAAM,eACNxlB,UACAqE,WACAuhB,SAAU2C,IACT3W,SAEH6Q,GAAU,uBAAwBvG,EAAM,sBAExCU,EAAsB,MACtBmL,EAAoB,IACpBG,EAAS,MACT,MAAO7oB,GACP4E,QAAQC,KAAK,sBAAuB7E,GACpCojB,GAAU,uBAAwBvG,EAAM,2BAE3C,gBArDgB,sCAuDX0M,EAAW,sBAAG,UAAOlD,GACzB,IAAM6C,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAAS9L,EAAmBvG,OAC5CmS,EAASE,OAAO,OAAQ,gBACxBF,EAASE,OAAO,UAAW,CACzBvJ,IAAKvC,EAAmBe,aAAawB,IACrC3e,KAAM,gBACNilB,KAAM,cAERE,EAAKiD,SAAQ,SAACxb,GACZob,EAASE,OAAO,OAAQtb,MAG1B,UACQoY,EAAmB,CACvBC,KAAM,eACNxlB,UACAqE,WACAuhB,SAAU2C,IACT3W,SAEH6Q,GAAU,uBAAwBvG,EAAM,sBAExCU,EAAsB,MACtBmL,EAAoB,IACpBG,EAAS,MACT,MAAO7oB,GACP4E,QAAQC,KAAK,sBAAuB7E,GACpCojB,GAAU,uBAAwBvG,EAAM,0BAE3C,gBA9BgB,sCAgCXxK,EAAQ,sBAAG,YAIf,GACiC,IAA9BsW,EAAsB/N,OAChB0C,IACCA,EAAmBvG,QACnBuG,EAAmBkM,cACO,IAA9Bb,EAAsB/N,OACnB0C,IACCA,EAAmBvG,QACnBuG,EAAmBgF,aACO,IAA9BqG,EAAsB/N,OACnB0C,IACCA,EAAmBvG,QACnBuG,EAAmBe,eACO,IAA9BsK,EAAsB/N,OACnB0C,IACCA,EAAmBvG,QACnBuG,EAAmBuE,WACnBjB,IACAJ,IACAE,GAIR,OAFA9b,QAAQ6U,IAAI,iBAAkB6D,QAC9BuL,EAAS,6BAQX,IAAMxC,EAAOoC,EAAiBhpB,KAAI,SAAC8R,GAAK,OAAKyX,EAASzX,EAAMqJ,QAG5D,GAAkC,IAA9B+N,EAAsB/N,IAM1B,GAAkC,IAA9B+N,EAAsB/N,IAA1B,CAKA,IAAIuL,EAAO,GACuB,IAA9BwC,EAAsB/N,IACxBuL,EAAO,cACgC,IAA9BwC,EAAsB/N,MAC/BuL,EAAO,cAET,UACQD,EAAmB,CACvBC,OACAxlB,UACAqE,WACAqhB,OACAD,QAAS9I,EAAmB6I,GAC5BpP,MAAOuG,EAAmBvG,MAC1BuP,MAAOhJ,EAAmBgJ,QACzB/T,SAEH,IAAMkX,EAAQ/K,WAAMC,KAAK,uBAAwB,CAC/CC,SAAUF,WAAMG,UAAUC,KAC1BC,QAAS,EACT5I,UAAW,IACXC,gBAAiByG,EAAM,qBACvBmC,QAAQ,IAGV0K,YAAW,WACThL,WAAMiL,KAAKF,KACV,KAEHlM,EAAsB,MACtBmL,EAAoB,IACpBG,EAAS,MACT,MAAO7oB,GACP,IAAMypB,EAAQ/K,WAAMC,KAAK,uBAAwB,CAC/CC,SAAUF,WAAMG,UAAUC,KAC1BC,QAAS,EACT5I,UAAW,IACXC,gBAAiByG,EAAM,qBACvBmC,QAAQ,IAGV0K,YAAW,WACThL,WAAMiL,KAAKF,KACV,WA/CHR,EAAY5C,QANZkD,EAAYlD,MAuDf,kBA7Fa,mCA+Fd,SAAS7I,IACP,IAAMoM,EAAcnB,EAAiBhpB,KAAI,SAAC8R,GACxC,OAAOyX,EAASzX,EAAMqJ,QAExB,OACE,gBAAC,SAAM,WACL,eAAC,SAAM,CACLT,MAAM,OACN0P,aAAW,EACXhiB,MAAO+hB,EAAYllB,KAAK,MACxBkO,YAAY,cACZ6F,cAAegQ,EACf/N,SAAU,SAACnJ,GACTmX,EAAoBnX,IAEtBP,MAAOoE,GAAOyG,MAAM,SAEnBmN,EAASvpB,KAAI,SAACsX,EAAOkL,GAAC,OACrB,eAAC,aAAU,CAAClL,MAAOA,GAAYkL,QAGnC,eAACoG,GAAY,OAwInB,OACE,gBAAC,SAAM,CAACrX,MAAO,CAAEC,KAAM,GAAI,UACzB,eAACkE,GAAA,QAAoB,CACnBG,SAA0B,QAAhB/F,UAASC,GAAe,UAAY,SAC9CwB,MAAO,CAAEC,KAAM,GAAI,SAEnB,eAAC4J,GAAA,QAAU,CAAC7J,MAAO,CAAEC,KAAM,GAAI,SAC7B,eAACiE,GAAA,QAAwB,CACvBlE,MAAO,CAAEC,KAAM,GACfK,QAAS,WACP0B,WAASC,WACT,SAEF,gBAAC,SAAM,CACLjC,MAAO,CAAEC,KAAM,EAAGmG,aAAc,IAAK2I,iBAAkB,IAAK,UAE5D,gBAAC,SAAM,CACLlc,OAAO,UACPsW,MAAM,mBACNtS,MAAO8a,GAAYgG,EAAsB/N,KACzCnC,cAAekQ,EACfjO,SAAU,SAACnJ,GACTqX,EAAyBrX,GACzBmX,EAAoB,IACpBnL,EAAsB,MACtBsL,EAAS,MACTE,GAAgB,IAElB/X,MAAOoE,GAAOyG,MAAM,UAEpB,eAAC,aAAU,CACT9E,MAAM,aACN+S,cACE,eAACC,GAAA,QAAY,CACX7oB,KAAK,QACL0e,KAAM,GACN1M,MAAOpS,EAAW,OAAS,WAIjC,eAAC,aAAU,CACTiW,MAAM,YACN+S,cACE,eAACC,GAAA,QAAY,CACX7oB,KAAK,WACL0e,KAAM,GACN1M,MAAOpS,EAAW,OAAS,WAIjC,eAAC,aAAU,CACTiW,MAAM,OACN+S,cACE,eAACC,GAAA,QAAY,CACX7oB,KAAK,OACL0e,KAAM,GACN1M,MAAOpS,EAAW,OAAS,WAIjC,eAAC,aAAU,CACTiW,MAAM,QACN+S,cACE,eAACC,GAAA,QAAY,CACX7oB,KAAK,eACL0e,KAAM,GACN1M,MAAOpS,EAAW,OAAS,cAMnC,eAAC,UAAO,IAzMgB,IAA9B6nB,EAAsB/N,IAEtB,uCACE,eAAC,SAAM,CACL5J,MAAO,CACLqG,cAAe,MACflG,eAAgB,eAChBD,WAAY,SACZuF,UAAW,IACX,SAIF,eAAC,QAAK,CACJ7D,YAAY,aACZ6H,QAAS,WACPsO,GAAgB,IAElBlhB,MAAyB,MAAlByV,KAAoBvG,MAAQuG,EAAmBvG,MAAQ,GAC9D/F,MAAK,SAAOoE,GAAOyG,OAAK,IAAE5K,KAAM,IAChC6B,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBvG,MAAOmI,UAKd1B,IACD,eAAC,QAAK,CACJgF,WAAS,EACT5P,YAAY,YACZ6H,QAAS,WACPsO,GAAgB,IAElBiB,UAAW,CAAEhO,UAAW,KACxBhL,MAAK,SAAOoE,GAAOyG,OAAK,IAAElE,UAAW,SAAUrB,MAAO,SACtDzO,MACoB,MAAlByV,KAAoBkM,YAChBlM,EAAmBkM,YACnB,GAEN1W,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBkM,YAAatK,WAMW,IAA9ByJ,EAAsB/N,IAGxB,uCACE,eAAC,SAAM,CACL5J,MAAO,CACLqG,cAAe,MACflG,eAAgB,eAChBD,WAAY,SACZuF,UAAW,IACX,SAGF,eAAC,QAAK,CACJ7D,YAAY,aACZ6H,QAAS,WACPsO,GAAgB,IAElBlhB,MAAyB,MAAlByV,KAAoBvG,MAAQuG,EAAmBvG,MAAQ,GAC9D/F,MAAK,SAAOoE,GAAOyG,OAAK,IAAE5K,KAAM,IAChC6B,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBvG,MAAOmI,UAMf,eAAC,QAAK,CACJtM,YAAY,YACZ5B,MAAOoE,GAAOyG,MACdpB,QAAS,WACPsO,GAAgB,IAElBlhB,MACoB,MAAlByV,KAAoBgF,WAChBhF,EAAmBgF,WACnB,GAENxP,aAAc,SAACoM,GACb3B,EAAsB,SACjBD,GAAkB,IACrBgF,WAAYpD,QAKjB1B,OAG6B,IAA9BmL,EAAsB/N,IAGxB,eAACyC,GAAW,CACVC,mBAAoBA,EACpBC,sBAAuBA,EACvBC,SAAUA,IAGoB,IAA9BmL,EAAsB/N,IAGxB,eAAC2F,GAAe,CACdjD,mBAAoBA,EACpBC,sBAAuBA,EACvBC,SAAUA,EACVgD,UAAWA,EACXC,aAAcA,EACdC,QAASA,EACTC,WAAYA,EACZC,KAAMA,EACNC,QAASA,SAZb,EA4FS/c,GACC,eAAC,SAAM,UACL,eAAC,OAAI,CACHkN,MAAO,CACLkG,UAAW,SACXhE,MAAO,MACP+W,UAAW,UACX,SAEDnmB,OAILglB,GACA,eAAC,SAAM,CACL9X,MAAOoE,GAAOyG,MACdvK,QAASe,EACTc,SAAUrB,EAAU,SACrB,oBAQVA,GACC,eAAC,SAAM,CACLd,MAAO,CACLG,eAAgB,SAChBD,WAAY,SACZoF,MAAO,OACPE,OAAQ,OACRL,SAAU,WACVC,gBAAiB,QACjBnF,KAAM,EACN8N,QAAS,IACT,SAEF,eAAC,UAAO,CAACa,KAAK,gBAOxB,IAAMxK,GAASyB,WAAWC,OAAO,CAC/B+E,MAAO,CACLuD,eAAgB,K,8nCCzgBpB,IAAM8K,GCbS,SAAgCC,GAA+B,IAAb9I,EAAI,uDAAG,IAChE+I,EAAkB,0IAQnB,OARmB,oCACtBC,iBAAmB,WACjB,EAAK3N,MAAMpL,SAAW,EAAKoL,MAAMpL,WACjC,EAEFA,QAAUgZ,oBAAS,EAAKD,iBAAkBhJ,EAAM,CAC9CkJ,SAAS,EACTC,UAAU,IACV,EAID,OAJC,4BAEF,WACE,OAAO,eAACL,EAAgB,SAAKM,KAAK/N,OAAK,IAAEpL,QAASmZ,KAAKnZ,eACxD,EAZqB,CAASoD,IAAMgW,eAkBvC,OAHAN,EAAmBO,YAAW,2BAC5BR,EAAiBQ,aAAeR,EAAiBjpB,MAAI,IAEhDkpB,EDNiBQ,CAAuB3U,WAAkB,KAEpD,SAAS4U,GAAU,GAM9B,IALFxE,EAAI,EAAJA,KACAtB,EAAG,EAAHA,IAAI,EAAD,EACH+F,wBAAgB,OAAO,MACvB3gB,kBAAU,WAAG4gB,EAAS,MACtBC,mBAAW,WAAGD,EAAS,EAEjBpqB,EAAUoT,GAAe7R,GACzBpB,EAAWiT,GAAehS,GAC1B8a,EAAQC,qBAEAmO,EAAa7nB,GAAcL,UAAUQ,YAAYglB,cAAc5nB,GAArEsY,KACR,EAAmB+O,KAAZZ,EAAiC,SAAzB,GAETtC,EAAOQ,GAAiBviB,UAAUwiB,iBAAiBgD,cACvD,CACEvhB,WAAY,EACZrG,UACAqE,SAAUimB,EAASjmB,SACnBmF,aACA2D,IAAKkd,GAEP,CACEE,iBAAkB,SAACjN,GAAM,aAAK+H,GAAesB,WAChC,OAD0C,EACrDrJ,EAAOhF,MAAI,EAAI0L,GAAakB,kBAC5Bd,MAKAoG,EAAW,sBAAG,YAClB,GAAKrG,EACL,UACQsC,EAAS,CACbzmB,UACAokB,MACAhO,MAAO+N,EAAK/N,MACZsQ,WAAYvC,EAAK9f,SACjBA,SAAUimB,EAASjmB,SACnBmF,aACA2D,IAAKkd,IACJzY,SACH,MAAOzO,GACPc,QAAQ6U,IAAI,qBAAsB3V,OAErC,kBAfgB,mCAiBjB,OACE,gBAAC,SAAM,CACLkN,MAAO,CACLsF,MAAO,OACPe,cAAe,MACf4D,gBAAiB,EACjBC,kBAAmB,IACnB,UAEF,eAAC,SAAM,CACLlK,MAAO,CACLqG,cAAe,MACf+T,SAAU,OACVna,KAAM,GACN,SAGDoV,EAAK5mB,KAAI,SAACqO,EAAayD,GAAa,OACnC,eAAC,SAAM,CAELoF,MAAM,IACN3F,MAAO,CACL4K,QAAS,EACTrF,aAAc,EACdgB,YAAa,EACbd,UAAW,GACX,SAEF,eAAC,OAAI,CAACzF,MAAO,CAAEgG,SAAU,IAAK,SAAElJ,KAT3ByD,QAeX,gBAAC,SAAM,CACLP,MAAO,CACLqG,cAAe,MACfpG,KAAM,EACNE,eAAgB,eAChBD,WAAY,UACZ,UAEF,eAAC8O,GAAA,QAAW,CACVhP,MAAO,CAAEC,KAAM,EAAG8N,QAAS+L,EAAmB,EAAI,GAClD5pB,KAAK,aACL0e,KAAM,GACN1M,MAAOpS,EAAW,OAAS,SAI7B,gBAACopB,GAAiB,CAChBlZ,MAAO,CACLqG,cAAe,MACfpG,KAAM,EACNE,eAAgB,eAChBD,WAAY,UAEdI,QAAS6Z,EAAY,UAErB,eAAC,OAAI,CACHna,MAAO,CACLgG,SAAU,GACVtE,WAAY,GACZ,SAEG,MAAJoS,OAAI,EAAJA,EAAMK,WAET,eAACnF,GAAA,QAAW,CACVhP,MAAO,CAAE2G,UAAW,UACpBiI,KAAM,GACN1M,MACM,MAAJ4R,KAAMO,SACFxI,EAAM,qBACN/b,EACE,OACA,OAERI,KAAU,MAAJ4jB,KAAMO,SAAW,QAAU,qB,icE9InB,IAGLgG,GAAS,0IAiB1B,OAjB0B,oCAO5BC,QAAU,KAAK,EAGfC,gBAAkB,WAChB,IAAMC,EAAM/H,KAAK+H,MACb,EAAKF,SAAWE,EAAM,EAAKF,QAAU,EAAK5O,MAAM+O,MAClD,EAAK/O,MAAMgP,cAEX,EAAKJ,QAAUE,GAElB,EAQA,OARA,4BAED,WACE,OACE,eAACtW,GAAA,QAAwB,CAAC5D,QAASmZ,KAAKc,gBAAgB,SACrDd,KAAK/N,MAAMyD,eAGjB,EAzB2B,CAASzL,IAAMiX,WAAxBN,GACZO,aAAe,CACpBH,MAAO,IACPC,YAAa,aACbvL,SAAU,M,2lBCAC0L,6BACb,WAA8DhZ,GAAS,IAApE7B,EAAK,EAALA,MAAO8a,EAAS,EAATA,UACRC,8BAAoBlZ,GAAK,iBAAO,CAC9BmZ,cAGF,IAAMC,EAAcpa,iBAAO,IAAIqa,WAASC,MAAM,IAAIha,QAC5Cia,EAAYva,iBAAO,IAAIqa,WAASC,MAAM,IAAIha,QAChD,EAA0CT,mBAAS,QAAO,WAAnD2a,EAAa,KAAEC,EAAgB,KAOhCN,EAAU,WAEdM,EAPuB,WACvB,IAAMxd,EAAU,CAAC,OAAQ,QAAS,UAClC,OAAOA,EAAQyd,KAAKC,MAAMD,KAAKE,SAAW3d,EAAQ3K,SAKjCuoB,IAEjBN,EAAUO,SAAS,GACnBV,EAAYU,SAAS,GAErBT,WAASU,SAAS,CAChBV,WAASW,SAAS,CAChBX,WAASY,OAAOb,EAAa,CAC3Bc,QAAS,EACTnO,SAAU,IACVoO,iBAAiB,IAEnBd,WAASY,OAAOb,EAAa,CAC3Bc,QAAS,EACTnO,SAAU,IACVoO,iBAAiB,IAEnBd,WAASY,OAAOb,EAAa,CAC3Bc,QAAS,EACTnO,SAAU,IACVoO,iBAAiB,MAElB,CACHd,WAASW,SAAS,CAChBX,WAASY,OAAOV,EAAW,CACzBW,QAAS,GACTE,OAAQC,WAAOC,OACfvO,SAAU,IACVoO,iBAAiB,IAEnBd,WAASY,OAAOV,EAAW,CACzBW,QAAS,GACTnO,SAAU,IACVoO,iBAAiB,IAEnBd,WAASY,OAAOV,EAAW,CACzBW,QAAS,IACTnO,SAAU,IACVoO,iBAAiB,QAGpB1J,SAGL,OACE,eAAC4I,GAAA,QAASkB,KAAI,CACZpc,MAAK,SACAA,GAAK,IACR+N,QAASkN,EACToB,UAAW,CAAC,CAAEC,MAAOlB,MACrB,SAEF,eAACpM,GAAA,QAAW,CACV9e,KAAK,QACL0e,KAAM,IACN5O,MAAK,IAAIqc,UAAW,CAAC,CAAEE,OAAQlB,KAAqBP,U,+NCnE9D,IAAM0B,GAAcrQ,UAAWC,IAAI,UAAU9G,MAE9B,SAASmX,GAAe,GAAiC,IAA/B3K,EAAO,EAAPA,QAASuC,EAAQ,EAARA,SAAUqI,EAAO,EAAPA,QACpD7Q,EAAQC,qBACd,EAAmBkL,KAAZZ,EAAiC,SAAzB,GACTzmB,EAAUoT,GAAe7R,GACzByrB,EAAU9b,iBAAO,MAEjB+b,EAAe,sBAAG,YAAa,IAAD,EAGlC,GAFe,OAAf,EAAAD,EAAQxb,UAAR,EAAiB6Z,WAEb3G,EAGJ,UACQ+B,E,mWAAS,EACbzmB,UACAmN,IAAK4f,EAAQ1C,aACV0C,IACFnb,SACH,MAAOzO,GACPc,QAAQ6U,IAAI,qBAAsB3V,OAErC,kBAfoB,mCAiBrB,OACE,eAAC,GAAS,CAAC2nB,MAAO,KAAMC,YAAakC,EAAgB,SACnD,gBAAC,SAAM,CAAC5c,MAAO,CAAEC,KAAM,EAAGC,WAAY,UAAW,UAC/C,eAACqE,GAAA,QAAK,CACJC,OAAQ,CACNqK,IAAKgD,GAAYC,IAEnB9R,MAAO,CACLuF,aAAc,EACdD,MAAqB,GAAdkX,GACPhX,OAAsB,GAAdgX,GACRK,URrBiB,IQsBjBnX,SRtBiB,IQuBjBU,aAAc,GACd0I,WAAY,aAGhB,eAACgO,GAAc,CACb9c,MAAO,CACLmF,SAAU,WACV4E,IAAK,MACL2E,MAAO,MACPL,YAAa,OACbC,aAAc,CACZhJ,MAAO,EACPE,OAAQ,GAEV+I,cAAe,IACfC,aAAc,KAEdC,UAAW,GAEb5M,IAAK8a,EACL7B,UAAW,CAAE5Y,MAAO2J,EAAM,6BC3DpC,IAAM2Q,GAAcrQ,UAAWC,IAAI,UAAU9G,MAsB9B,SAASyX,GAAU,GAiBd,IA2BCC,EA3CnBjX,EAAK,EAALA,MACA8K,EAAQ,EAARA,SACAjB,EAAI,EAAJA,KACAJ,EAAS,EAATA,UACAE,EAAO,EAAPA,QACAuN,EAAU,EAAVA,WACAzE,EAAW,EAAXA,YACAnL,EAAY,EAAZA,aACAkE,EAAI,EAAJA,KACA8C,EAAQ,EAARA,SACAN,EAAG,EAAHA,IACA5a,EAAU,EAAVA,WACA6gB,EAAW,EAAXA,YACA3D,EAAU,EAAVA,WACAriB,EAAQ,EAARA,SAAS,EAAD,EACRkpB,iBAAS,OAAO,EAEVC,EAAY/M,mBAChB,iBAAM,CACJ,CACErK,MAAO,WACPlP,MAAOga,GAET,CACE9K,MAAO,OACPlP,MAAOsc,GAAWvD,IAEpB,CACE7J,MAAO,OACPlP,MAAOwb,GAAgB7C,EAAWE,IAEpC,CACE3J,MAAO,OACPlP,MAAO0a,GAET,CACExL,MAAO,cACPlP,MAAO2hB,MAGX,CAAC3H,EAAUjB,EAAMJ,EAAWE,EAAS6B,EAAM0L,EAAYzE,IA2BzD,OACE,gBAAC,SAAM,CAACxY,MAAO,CAAEC,KAAM,EAAGC,WAAY,UAAW,UAC9CmN,EACC,eAACoP,GAAc,CACbC,QAAS,CACP3I,MACAhO,QACAsQ,aACAriB,WACAmF,aACA6gB,eAEFlI,QAASzE,EACTgH,SAAUA,IAGZ,eAAC,UAAO,IAIT8I,EAAU1uB,KAAI,SAAC2uB,EAAM7c,GACpB,GAAI6c,EAAKvmB,MACP,OACE,eAAC,SAAM,CAELmJ,MAAO,CACLqG,cAAe,MACff,MAAqB,GAAdkX,GACP9W,STtGa,ISuGbuE,gBAAiB,GACjB,SAEF,gBAAC,OAAI,CAAC5J,SAAS,KAAI,UAChB+c,EAAKrX,MAAK,KAEX,eAAC,OAAI,CAAC1F,SAAS,KAAI,SAChB6c,GACGE,EAAKvmB,MAAM1D,OAAS,GACfiqB,EAAKvmB,MAAMpD,MAAM,EAAG,IAAG,MAE5B2pB,EAAKvmB,YAhBR0J,MAwBZ0c,GAxEcD,EAwESC,EAtExB,gBAAC,SAAM,CACLjd,MAAO,CACLqG,cAAe,MACff,MAAqB,GAAdkX,GACP9W,STxDmB,ISyDnBuE,gBAAiB,GACjB,UAEF,eAAC,OAAI,CAAC5J,SAAS,KAAI,SAAC,WACnB6c,EACC,eAAC,OAAI,CAAC7c,SAAS,KAAI,SAChB2c,EAAK7pB,OAAS,GAAQ6pB,EAAKvpB,MAAM,EAAG,IAAG,MAAQupB,IAGlD,eAAC,KAAC,UACA,eAAC,OAAI,UAAEA,UAuDyB,QCpI5C,IAAMR,GAAcrQ,UAAWC,IAAI,UAAU9G,MAuB9B,SAAS+X,GAAU,GAmBd,IAlBlBtX,EAAK,EAALA,MACA8K,EAAQ,EAARA,SACAjB,EAAI,EAAJA,KACAJ,EAAS,EAATA,UACAE,EAAO,EAAPA,QACA4N,EAAU,EAAVA,WACAjI,EAAI,EAAJA,KACA4H,EAAU,EAAVA,WACAzE,EAAW,EAAXA,YACAnL,EAAY,EAAZA,aACAkE,EAAI,EAAJA,KACA8C,EAAQ,EAARA,SACAN,EAAG,EAAHA,IACA5a,EAAU,EAAVA,WACA6gB,EAAW,EAAXA,YACA3D,EAAU,EAAVA,WACAriB,EAAQ,EAARA,SACA+L,EAAU,EAAVA,WAEMjQ,EAAWiT,GAAehS,GAC1BpB,EAAUoT,GAAe7R,GACjB+oB,EAAa7kB,GAAoB2N,GAAe7R,IAAtD+W,KACR,EAAoCvH,oBAAS,GAAM,WACnD,GADiB,KAAe,KACFA,oBAAS,IAAM,WAAtC6c,EAAO,KAAEC,EAAU,KAC1B,EAAmBhoB,KAAZhB,EAAiC,SAAzB,GAwDf,SAASipB,IAzCT,IAAmCC,KA0CNH,EAzC3B/oB,EAAS,CACP7E,UACAqE,SAAUimB,EAASjmB,SACnBW,OAAQ+T,KAAKC,UACX+U,EACI,CACAC,eAAgB,CACdztB,KAAM6V,EACNyJ,UAAW,IAAIiD,KAAKjD,GAAWoO,eAAenqB,MAAM,EAAG,GACvDic,QAAS,IAAI+C,KAAK/C,GAASkO,eAAenqB,MAAM,EAAG,GACnDoqB,KAAM,GACNjO,SAGF,CACAkO,kBAAmB,CACjB5tB,KAAM6V,EACNyJ,UAAW,IAAIiD,KAAKjD,GAAWoO,eAAenqB,MAAM,EAAG,GACvDic,QAAS,IAAI+C,KAAK/C,GAASkO,eAAenqB,MAAM,EAAG,GACnDoqB,KAAM,GACNjO,YAKPrO,SACAyC,KAAK,iBACJwZ,EAAWE,OAEZK,OAAM,WACLrQ,WAAMC,KAAK,+CAAgD,CACzDC,SAAUF,WAAMG,UAAUC,KAC1BC,QAAS,EACT5I,UAAW,IACXC,gBAAiB,OACjB4I,QAAQ,OAShB,OA1DA9M,qBAAU,WACRsc,EACEvD,EAAS+D,aAAaC,MAAK,SAACC,GAC1B,OACEA,EAAYhuB,OAAS6V,GAClBmY,EAAY1O,WAAaA,GACzB0O,EAAYxO,SAAWA,GACvBwO,EAAYtO,MAAQA,QAI5B,CAACuO,4BAgDF,gBAAC,SAAM,WACJb,EACD,eAAC,SAAM,CAACtd,MAAO,CAAEC,KAAM,EAAGC,WAAY,UAAW,SAC/C,gBAAC+E,GAAA,QAAgB,CACf3E,QAAS,WACPP,EAAWyB,SAAS,aAAc,CAAEuS,MAAK5a,aAAY6gB,iBAEvDoE,cAAe,GACfpe,MAAO,CACLC,KAAM,EACNC,WAAY,SACZ+J,gBAAiB,IACjB,UAEF,gBAAC,SAAM,CACLjK,MAAO,CACLsF,MAAqB,GAAdkX,GACP9W,SVpHe,IUqHfuE,gBAAiB,GACjB5D,cAAe,OACf,UAEF,eAAC,OAAI,CAACrG,MAAO,CAAEgG,SAAU,IAAK,SAAED,IAChC,eAACd,GAAA,QAAgB,CACfjF,MAAO,CAAE2G,UAAW,WAAYL,WAAY,QAC5ChG,QAAS,WACPmd,KACA,SAEF,eAAC1E,GAAA,QAAY,CACX7oB,KAAMqtB,EAAU,QAAU,OAC1B3O,KAAM,GACN1M,MAAOpS,EAAW,QAAU,eAKlC,eAACitB,GAAS,CACRE,WAAYA,EACZzE,YAAaA,EACbnL,aAAcA,EACdkE,KAAMA,EACNxL,MAAOA,EACP8K,SAAUA,EACVjB,KAAMA,EACNJ,UAAWA,EACXE,QAASA,EACTqE,IAAKA,EACLsC,WAAYA,EACZriB,SAAUA,EACVqgB,SAAUA,IAGZ,eAACwF,GAAS,CACRxE,KAAMA,EACNtB,IAAKA,EACL5a,WAAYA,EACZ6gB,YAAaA,YCzKzB,IAAMwC,GAAcrQ,UAAWC,IAAI,UAAU9G,MAE9B,SAAS+Y,GAAU,GAY9B,IAXFtY,EAAK,EAALA,MACAgO,EAAG,EAAHA,IACAhU,EAAU,EAAVA,WACA+R,EAAO,EAAPA,QACAuD,EAAI,EAAJA,KACAgB,EAAU,EAAVA,WACAriB,EAAQ,EAARA,SACAmF,EAAU,EAAVA,WACA6gB,EAAW,EAAXA,YACAsD,EAAU,EAAVA,WACAjJ,EAAQ,EAARA,SAEA,OACE,gBAAC,SAAM,WACJiJ,EACD,eAAC,SAAM,CAACtd,MAAO,CAAEC,KAAM,EAAGC,WAAY,UAAW,SAC/C,gBAAC+E,GAAA,QAAgB,CACf3E,QAAS,WACPP,EAAWyB,SAAS,aAAc,CAAEuS,MAAK5a,aAAY6gB,iBAEvDoE,cAAe,GACfpe,MAAO,CACLC,KAAM,EACNC,WAAY,SACZ+J,gBAAiB,IACjB,UAEF,eAAC,SAAM,CACLjK,MAAO,CACLsF,MAAqB,GAAdkX,GACP9W,SXpBe,IWqBfuE,gBAAiB,IACjB,SAEF,eAAC,OAAI,CAACjK,MAAO,CAAEgG,SAAU,IAAK,SAAED,MAElC,eAAC0W,GAAc,CACbC,QAAS,CACP3I,MACAhO,QACAsQ,aACAriB,WACAmF,aACA6gB,eAEFlI,QAASA,EACTuC,SAAUA,IAGZ,eAACwF,GAAS,CACRxE,KAAMA,EACNtB,IAAKA,EACL5a,WAAYA,EACZ6gB,YAAaA,Y,6CCvDnBwC,GAAcrQ,UAAWC,IAAI,UAAU9G,MAE9B,SAASgZ,GAAY,GAAuB,IAArBrW,EAAI,EAAJA,KAAMlI,EAAU,EAAVA,WAC1C,EAAkCW,mBAAS,CAAEmO,IAAK5G,EAAKxD,OAAO,WAAvD8Z,EAAS,KAAEC,EAAY,KAExBC,GADWtS,UAAWC,IAAI,UAAU9G,QACtB2C,EAAKyW,QAAQ,IAEjC,OACE,eAACC,GAAA,QAAkB,CACjB3e,MAAO,CAAEC,KAAM,GACfK,QAAS,WACHme,GACF1e,EAAWyB,SAAS,sBAAuB,CAAEyG,UAE/C,SAEF,gBAAC,SAAM,CAACjI,MAAO,CAAEC,KAAM,GAAI,UACzB,eAAC,OAAI,CAACI,SAAS,QAAQL,MAAO,CAAEsG,WAAY,IAAK,SAAC,OAIlD,gBAAC,SAAM,CACLtG,MAAO,CACLqG,cAAe,MACflG,eAAgB,iBAChB,UAEF,gBAAC,SAAM,CACLH,MAAO,CAAEC,KAAM,EAAGC,WAAY,SAAUC,eAAgB,UAAW,UAEnE,eAACoE,GAAA,QAAK,CACJC,OAAQ+Z,EACRK,QAAS,WACPJ,EAAaK,OAEf7e,MAAO,CACLwF,OAAQiZ,EACY,QAAhBlgB,UAASC,GACP,IACAge,GAAc,EAAI,GACJ,QAAhBje,UAASC,GACP,IACc,GAAdge,GACNlX,MAAOmZ,EACa,QAAhBlgB,UAASC,GACP,MACAge,GAAc,EAAI,GACJ,QAAhBje,UAASC,GACP,MACc,GAAdge,GACN1N,WAAY,cAGN,MAATyP,OAAS,EAATA,EAAW1P,MAAO,eAAC,OAAI,UAAE5G,EAAK6W,iBAGhC7W,EAAKyW,QAAQ,KAAe,MAATH,OAAS,EAATA,EAAW1P,MAC7B,eAAC,SAAM,CAAC7O,MAAO,CAAEC,KAAM,EAAGC,WAAY,UAAW,SAC/C,eAAC6e,GAAA,QAAe,CACdjQ,WAAW,UACXtK,OAAQtB,EAAQ,KAChBlD,MAAO,CACLsF,MAAOkX,GAAc,EAAI,GACzBhX,OAAQ,IACRtF,WAAY,SACZC,eAAgB,UAChB,SAEF,eAAC,OAAI,CACHH,MAAO,CACLgG,SAAU,GACVgZ,cAAe,EACfvU,aAAc,EACdsE,iBAAkB,IAClB,SAED9G,EAAKyW,QAAQ,GAAGO,gCCrFpB,SAASC,GAAS,GAW7B,IAVFnf,EAAU,EAAVA,WACAsV,EAAI,EAAJA,KACAtP,EAAK,EAALA,MACArR,EAAI,EAAJA,KACA4gB,EAAK,EAALA,MACAvB,EAAG,EAAHA,IACA5a,EAAU,EAAVA,WACA6gB,EAAW,EAAXA,YACAsD,EAAU,EAAVA,WAAW,EAAD,EACV6B,aAAK,OAAQ,EAEPC,EAAiB,WACrB,IAAM9qB,EAAOI,EAEb,OAAIJ,EAAK+qB,QAAQ,MAAQ,IAAM/qB,EAAK+qB,QAAQ,MAAQ,GACxC/qB,EAAKf,MAAM,MAAM,GAAE,MACzBe,EAAKnB,OAAS,GACRmB,EAAK0G,UAAU,EAAG,IAAG,MAE1B1G,GAcT,OACE,eAACqqB,GAAA,QAAkB,CACjBre,QAAS,WACPP,EAAWyB,SAAS,aAAc,CAAEuS,MAAK5a,aAAY6gB,iBACrD,SAEF,gBAAC,SAAM,WACJsD,EAED,eAAC,WAAQ,CACPnb,UAAQ,EACR2W,cAAe,kBACb,eAAC,OAAI,CAAC9Y,MAAO,CAAEgG,SAAU,GAAIO,YAAa,IAAK,SAAE+O,KAEnDtV,MAAO,CACLwK,YAAa,GACb9I,WAAY,GACZsd,cAAe,GAEjBjZ,MAAO,kBACL,eAAC,OAAI,CAAC/F,MAAO,CAAEgG,SAAU,GAAIgZ,cAAe,GAAI,SAAEjZ,KAEpDyF,YAAa,kBACX,eAAC,OAAI,CAACxL,MAAO,CAAEkC,MAAO,QAAS,SAC5Bid,EAhCT,gBAAC,OAAI,CAACnf,MAAO,CAAEkC,MAAO,QAAS,UAC7B,eAAC6W,GAAA,QAAY,CAAC7oB,KAAK,SAAS,IAE3BwE,EAAKvB,OAAS,GAAQuB,EAAKjB,MAAM,EAAG,IAAG,MAAQiB,KA6BnB0qB,SAK7B,eAACvF,GAAS,CACRxE,KAAMA,EACNtB,IAAKA,EACL5a,WAAYA,EACZ6gB,YAAaA,S,qkBCxCR,SAASsF,GAAU,GAiB9B,IAhBFvf,EAAU,EAAVA,WACAjD,EAAG,EAAHA,IACA3D,EAAU,EAAVA,WACA4D,EAAc,EAAdA,eACAwiB,EAAwB,EAAxBA,yBACAC,EAAuB,EAAvBA,wBAYM3T,GAXD,EAAL4T,MAWc3T,sBACRnc,EAAUoT,GAAe7R,GACzBpB,EAAWiT,GAAehS,GAGtBiD,EACN5B,GAAcL,UAAUQ,YAAYglB,cAAc5nB,GADpDsY,KAAQjU,SAGJgC,EAAa6K,iBAAO,GAC1B,EAAyDgW,KAA8B,WAAhF6I,EAAU,YAAIC,EAAU,EAAVA,WAAY7e,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAE5C,EAAgCuT,GAAiBviB,UAAUwiB,iBAAiBgD,cAC1E,CACEvhB,WAAY,EAAGrG,UAASqE,WAAU8I,MAAK3D,cAEzC,CACE+gB,iBAAkB,SAACjN,GAAY,IAAD,IAC5B,MAAO,CACL6H,aAAyB,OAAb,EAAE7H,EAAOhF,WAAI,EAAX,EAAa6M,aAC3B8K,MAAO5K,GAAeC,UACT,OADkB,EAC7BhI,EAAOhF,MAAI,EAAI0L,GAAakB,uBAT9B+K,EAAK,EAALA,MAAO9K,EAAY,EAAZA,aAgBT+K,EAAc,sBAAG,YACrB7pB,EAAWmL,QAAU,QACfue,EAAW,CACf/vB,UACAqG,WAAYA,EAAWmL,QACvBnN,WACA8I,MACA3D,kBAGH,kBAVmB,mCAYd2mB,EAAc,sBAAG,YAChBhL,IAAgB6K,IACrB3pB,EAAWmL,gBACLue,EAAW,CACf/vB,UACAqG,WAAYA,EAAWmL,QACvBnN,WACA8I,MACA3D,mBAGH,kBAXmB,mCAapB+H,qBAAU,WACR2e,MACC,CAAC1mB,EAAY2D,IAEhB,IAAMijB,EACJ,gBAAC,SAAM,CACL/f,MAAO,CACLqG,cAAe,MACfD,aAAc,EACdX,UAAW,GACXa,WAAY,IACZ,UAEF,eAAC0Z,GAAA,QAAa,CACZ9vB,KAAK,WACL0e,KAAM,GACN1M,MAAO2J,EAAM,uBAEf,eAAC,OAAI,CAAC7L,MAAO,CAAEkC,MAAO2J,EAAM,sBAAuB,SAAC,cAMlDoU,EAAa,SAAH,GAA0C,IAApCC,EAAI,EAAJA,KACdC,EAAc,CAClBpa,MAAOma,EAAKna,MACZsP,KAAM6K,EAAK7K,KACXtB,IAAKmM,EAAKnM,IACVsC,WAAY6J,EAAKlsB,SACjB+L,aACAxQ,IAAK2wB,EAAKnM,IACV5a,aACA6gB,YAAald,EACbwgB,WAAY4C,EAAK1K,OAASuK,EAAU,MAGtC,GAAIG,EAAKE,UAAW,CAClB,IAAMC,EAAe3X,KAAK4X,MAAMJ,EAAK1H,aACrC,OAAO,eAAC8F,GAAW,CAACrW,KAAMoY,EAActgB,WAAYA,IAGtD,OAAQmgB,EAAK/K,MACX,IAAK,cACH,OACE,eAAC+J,GAAQ,SACHiB,GAAW,IACfzrB,KAAMwrB,EAAK1H,YACXlD,MAAO4K,EAAK5K,MACZ6J,OAAO,KAGb,IAAK,aACH,OACE,eAACD,GAAQ,SACHiB,GAAW,IACfzrB,KAAMwrB,EAAK5O,WACXgE,MAAO4K,EAAK5K,MACZ6J,OAAK,KAGX,IAAK,eACH,OACE,eAACd,GAAS,SACJ8B,GAAW,IACf9L,SAAU6L,EAAK7L,SACfvC,QAASoO,EAAK7S,aACdgJ,WAAY6J,EAAKlsB,SACjBA,SAAUA,KAGhB,IAAK,eACH,OACE,eAACqpB,GAAS,IACRxM,SAAUqP,EAAKrP,SACfjB,KAAMsQ,EAAKtQ,KACXJ,UAAW0Q,EAAK1Q,UAChB6G,WAAY6J,EAAKlsB,SACjBA,SAAUA,EACVipB,WAAYiD,EAAK5O,WACjBkH,YAAa0H,EAAK1H,YAClBnL,aAAc6S,EAAK7S,aACnBqC,QAASwQ,EAAKxQ,QACd2E,SAAU6L,EAAK7L,SACf9C,KAAM2O,EAAK3O,MACP4O,IAIV,QAEE,OADAvsB,QAAQ6U,IAAI,sCAA2C,MAAJyX,OAAI,EAAJA,EAAM/K,MAClD,OAsCb,SAASoL,IACP,GAAIZ,EACF,OACE,eAAC,SAAM,CAAC3f,MAAO,CAAEE,WAAY,SAAU+J,gBAAiB,IAAK,SAC3D,eAAC,UAAO,MAMhB,IAAImL,EAAU,+BA2Hd,OAzHEA,EADEtU,EAEA,eAAC,SAAM,CAACd,MAAO,CAAEyF,UAAW,GAAIvF,WAAY,UAAW,SACrD,eAAC,UAAO,MAGHa,EAEP,gBAAC,SAAM,CAACf,MAAO,CAAEE,WAAY,SAAUuF,UAAW,IAAK,UACrD,eAACsT,GAAA,QAAY,CACX7oB,KAAK,cACL0e,KAAM,GACN1M,MAAO2J,EAAM,sBAEf,eAAC,OAAI,CAAC7L,MAAO,CAAEkG,UAAW,SAAUF,SAAU,IAAK,SAAC,2BAK9B,IAAjB4Z,EAAMzsB,OAEb,gBAAC,SAAM,CAAC6M,MAAO,CAAEE,WAAY,SAAUuF,UAAW,IAAK,UACrD,eAACsT,GAAA,QAAY,CACX7oB,KAAK,WACL0e,KAAM,GACN1M,MAAO2J,EAAM,sBAEf,eAAC,OAAI,CAAC7L,MAAO,CAAEkG,UAAW,SAAUF,SAAU,IAAK,SAAC,sBAKhC,KAAf7M,GAA6B,KAAR2D,GACZ,MAAdC,OAAc,EAAdA,EAAgB5J,QAAS,EAEzB,eAAC,SAAM,CAAC6M,MAAO,CAAEC,KAAM,GAAI,SACzB,eAAC,OAAI,CACHugB,0BAA0B,UAC1BC,oBAAqB,kBACnB,eAAC,OAAI,CACH5tB,OAAO,UACPmN,MAAO,CAAEiZ,UAAW,SAAU3S,WAAY,IAAK,SAChD,qBAIH2B,KAAMyY,MAAMC,KAAK5jB,GACjBkjB,WA5FiB,SAAH,GAAoC,IAA9BC,EAAI,EAAJA,KAC5B,OACE,eAAC,WAAQ,CACP5f,QAAS,WACPkf,EAAwBU,GACxBle,WAASC,WAEXjC,MAAO,CACLiK,gBAAiB,GACjBmE,eAAgB,EAChBhJ,gBAAiB,eAEnBW,MAAOma,EACPpH,cAAe,kBACb,eAAC,OAAI,CACH5oB,KAAK,QACL8P,MAAO,CACLwF,OAAQ,GACRtD,MAAO2J,EAAM,mBACbkD,iBAAkB,OAIxB3M,eAAgB,SAACsJ,GAAK,OACpB,eAAC,SAAM,CACL2F,WAAW,QACX/Q,QAAS,kBAAMif,EAAyBW,IACxCpH,cAAe,eAAC,OAAI,SAAKpN,GAAK,IAAExb,KAAK,IAAI0wB,KAAK,uBAuElD,eAAC,SAAM,CAAC5gB,MAAO,CAAEC,KAAM,GAAI,SACzB,gBAAC,SAAM,CAACD,MAAO,CAAEyF,UAAW,GAAItF,eAAgB,UAAW,UACzD,eAAC,OAAI,CAACH,MAAO,CAAEkG,UAAW,SAAUF,SAAU,IAAK,SAAC,qBAGpD,eAAC,OAAI,CACHhG,MAAO,CACLkG,UAAW,SACXF,SAAU,GACV9D,MAAO2J,EAAM,oBACb,SACH,0CAQiB,QAAhBtN,UAASC,GACjB,eAACqiB,GAAA,eAAc,CACbC,OACIhxB,EACI,CAAC+b,EAAM,oBAAqBA,EAAM,qBAClC,CAACA,EAAM,qBAAsBA,EAAM,sBAE3C7L,MAAO,CACLsF,MAAO,OAAQlF,OAAQ,EAAGF,WAAY,SAAUD,KAAM,GAExDqS,MAAO,CAAEyO,EAAG,EAAGC,EAAG,GAClBzO,IAAK,CAAEwO,EAAG,EAAGC,EAAG,IAAM,SAEtB,eAAC,OAAI,CACHC,sBAAuB,CACrB3b,MAAO,OACPqB,UAAW,SACXuD,kBAAmB,IAErBgX,UAAWrB,EACXsB,WAAYrgB,EACZmH,KAAM2X,EACNwB,aAAc,SAAClB,GAAI,OAAKA,EAAKnM,KAC7BkM,WAAYA,EACZoB,sBAAuB,GACvBC,aAAcxB,EACdyB,oBAAqBhB,EACrBiB,8BAA8B,EAC9BC,uBAAwB,SAI5B,eAAC,SAAM,CAACzhB,MAAO,CAAEC,KAAM,GAAI,SACzB,eAAC,OAAI,CACHghB,sBAAuB,CAAE3b,MAAO,QAChC4b,UAAWrB,EACXsB,WAAYrgB,EACZmH,KAAM2X,EACNwB,aAAc,SAAClB,GAAI,OAAKA,EAAKnM,KAC7BkM,WAAYA,EACZoB,sBAAuB,GACvBC,aAAcxB,EACdyB,oBAAqBhB,EACrBiB,8BAA8B,EAC9BC,uBAAwBC,cAMzB,eAAC,SAAM,CAAC1hB,MAAO,CAAEC,KAAM,GAAI,SAAEmV,IClWvB,SAASuM,GAAO,GAMd,IALf7I,EAAa,EAAbA,cACA1W,EAAc,EAAdA,eACA2D,EAAK,EAALA,MACA6b,EAAM,EAANA,OAAO,EAAD,EACNjc,aAAK,MAAG,IAAG,EAEX,OACE,gBAAC,SAAM,CACLA,MAAOA,EACP3F,MAAO,CACL0B,WAAYmgB,UAAUC,gBAAkB,GACxCxc,MAAO,OACPnF,eAAgB,gBAChBkG,cAAe,MACfnG,WAAY,SACZgK,kBAAmB,IACnB,UAEF,gBAAC,SAAM,CAACvE,MAAOA,EAAO3F,MAAO,CAAEqG,cAAe,OAAQ,UACnDyS,EACD,eAAC,OAAI,CAAC9Y,MAAO,CAAEsG,WAAY,GAAIN,SAAU,GAAIC,WAAY,OAAQ,SAC9DF,OAGJ6b,EAEAxf,K,mlBCJQ,SAAS2f,GAAU,GAYd,IAXlBjgB,EAAY,EAAZA,aACA3I,EAAU,EAAVA,WACA2f,EAAa,EAAbA,cACAlX,EAAW,EAAXA,YACAhB,EAAQ,EAARA,SACAwI,EAAU,EAAVA,WACA4Y,EAAU,EAAVA,WAAW,EAAD,EACVC,0BAAkB,MAAG,aAAQ,MAC7BlgB,uBAAe,MAAG,aAAQ,MAC1BmgB,0BAAkB,MAAG,UAAS,MAC9BC,8BAAsB,OAAQ,EAE9B,EAAgCzhB,oBAAS,GAAM,WAAxC0hB,EAAQ,KAAEC,EAAW,KAEtBvyB,EAAWiT,GAAehS,GAC1B8a,EAAQC,qBAoBd,OACE,gBAAC,SAAM,CACL9L,MAAO,CACLoF,gBAAiB,cACjBiB,cAAe,OACf,UAEDyS,EAED,eAAC,QAAK,IACJ9Y,MAAK,SACAoJ,GAAU,IACb7D,aAAc,GACdtF,KAAM,EACNwG,YAAa,EACbD,YAAa1W,EACT+b,EAAM,mBACNA,EAAM,qBAEZhH,qBAAsBgH,EAAM,mBAC5BzJ,eACEggB,GAAYjpB,EAAWhG,OAAS,EAC5B,SAACuY,GAAK,OACN,eAACzG,GAAA,QAAgB,CAAC3E,QAAS,kBAAMwB,EAAa,KAAI,SAChD,eAAC,OAAI,SAAK4J,GAAK,IAAExb,KAAK,QAAQ0wB,KAAK,oBAGrC,KAENnX,QA/CS,WACb4Y,GAAY,GACPF,GACHG,WAAgBC,cACdD,WAAgBxc,OAAO,IAAK,SAAU,YA4CtC0c,OAvCW,WACfH,GAAY,GACPF,GACHG,WAAgBC,cACdD,WAAgBxc,OAAO,IAAK,SAAU,aAoCtClE,YAAaA,EACb/K,MAAOsC,EACP2I,aAAc,SAACxN,GACbwN,EAAaxN,IAEfyN,gBAAiBA,EACjBF,IAAKjB,EACL6hB,aAAa,GACTT,IAGLG,GAA0BC,EACzB,eAAC,SAAM,CACLxT,KAAK,QACL/b,OAAQqvB,EACR7Q,WAAW,QACX/Q,QAAS,WACP0B,WAASC,UACTggB,KACA,SACH,WAGC,QCvGK,SAASS,GAAW,GAAiB,IAAf3iB,EAAU,EAAVA,WAC7B1I,EAAWwL,KAEX1J,EAAa4J,GAAevF,IAC5BV,EAAMiG,GAAepF,IACrBd,EAAsBkG,GAAerF,IACrCX,EAAiBgG,GAAenF,IAEhCgD,EAAWC,iBAAc,MAEzB/Q,EAAWiT,GAAehS,GAC1B8a,EAAQC,qBAEd5K,qBAAU,WAAO,IAAD,EACE,OAAhB,EAAAN,EAASO,UAAT,EAAkBC,UACjB,IAEH,IAAMW,EAAe,sBAAG,YACtB1K,EAAS4F,GAAoB9D,OAC9B,kBAFoB,mCAgBjBwpB,EAA2B,GAO/B,OALEA,EADE7yB,EACyB+b,EAAM,mBAENA,EAAM,mBAIjC,gBAAC,SAAM,CAAC7L,MAAO,CAAEC,KAAM,GAAI,UACzB,eAAC,SAAM,CAAC0F,MAAM,IAAI3F,MAAO,CAAEgf,cAAe,IAAK,SAC7C,eAAC2C,GAAM,CACLhc,MAAM,IACNic,OACE,eAAC,SAAM,CACLjc,MAAM,IACN3F,MAAO,CAAEC,KAAM,EAAGmF,gBAAiB,eAAgB,SAEnD,eAAC2c,GAAS,CACRnhB,SAAUA,EACVwI,WAAY,CACV2E,QAAS,EACT3I,gBAAiBud,GAEnBxpB,WAAYA,EACZ2I,aApCO,SAACxN,GACpB+C,EAAS8F,GAAkB7I,KAoCfyN,gBAAiBA,EACjBH,YAAY,kBACZqgB,mBAAoB,kBAAMliB,EAAWiJ,UACrCkZ,mBAAmB,QACnBC,wBAAsB,MAI5Bpc,MAAM,OAGV,eAACuZ,GAAS,CACRvf,WAAYA,EACZjD,IAAKA,EACL3D,WAAY0D,EACZE,eAAgBA,EAChBwiB,yBAjD2B,SAACpmB,GAChC9B,EAASiG,GAAwBnE,KAiD7BqmB,wBA9C0B,SAACrmB,GAC/B9B,EAAS+F,GAAyBjE,KA8C9Bsb,SAAO,OCpFA,SAASmO,GAAQ,GAU5B,IATFluB,EAAI,EAAJA,KACAqhB,EAAM,EAANA,OACAW,EAAS,EAATA,UACAmM,EAAY,EAAZA,aACA7uB,EAAQ,EAARA,SACAmgB,EAAQ,EAARA,SACAE,EAAQ,EAARA,SACAlb,EAAU,EAAVA,WACA6gB,EAAW,EAAXA,YAEMnO,EAAQC,qBACRnc,EAAUoT,GAAe7R,GACzBpB,EAAWiT,GAAehS,GAChC,EAAoC2P,oBAAS,GAAK,WAA3CoiB,EAAU,KAAEC,EAAa,KAChC,EAAsB5L,KAAfV,EAAuC,SAA5B,GAClB,EAA8CW,KAA0B,WAAjET,EAAa,KAEdqM,GAFoC,KAEnB,sBAAG,YACxB,UACQvM,EAAY,CAChBC,YACAX,SACApmB,UACAqE,WACAmF,aACA2D,IAAKkd,IACJzY,SACH,MAAOzO,GACPc,QAAQC,KAAK,wBAAyBf,OAEzC,kBAbsB,oCAejBmwB,EAAsB,WAC1B,IACEtM,EAAc,CACZD,YACAX,SACApmB,UACAqE,WACAmF,aACA2D,IAAKkd,IACJzY,SACH,MAAOzO,GACPc,QAAQC,KAAK,0BAA2Bf,KAI5C,OACE,gBAACmS,GAAA,QAAgB,CACfjF,MAAO,CAAEqG,cAAe,MAAO+H,eAAgB,GAAIW,iBAAkB,IACrEzO,QAAS,kBAAMyiB,GAAeD,IAC9BI,YAAa,WACPL,GACFtV,UAAM9L,MAAM,GAAI/M,EAAM,CACpB,CACEJ,KAAM,SACN0L,MAAO,UAET,CACE1L,KAAM,SACNgM,QAAS2iB,MAIf,UAEF,gBAAC,SAAM,CACLjjB,MAAO,CACLwF,OAAQ,OACRa,cAAe,MACfpG,KAAM,IACN,UAEF,eAAC,SAAM,CACLD,MAAO,CACLuF,aAAc,IACdD,MAAO,GACPE,OAAQ,GACRe,YAAa,GACbnB,gBAAiBtV,EACb+b,EAAM,mBACNA,EAAM,mBACV1L,eAAgB,SAChBD,WAAY,UACZ,SAEF,eAAC,OAAI,CAACF,MAAO,CAAEgG,SAAU,IAAK,SAAEgM,GAActd,OAGhD,gBAAC,OAAI,CAACsL,MAAO,CAAEiG,WAAY,SAAUhG,KAAM,EAAGyB,WAAY,GAAI,eAE3DohB,GAAcpuB,EAAKvB,QAAU,GAAKuB,EAAUA,EAAKjB,MAAM,EAAG,IAAG,YAIlE,gBAACwR,GAAA,QAAgB,CACfjF,MAAO,CACLqG,cAAe,MACfM,UAAW,SACXzG,WAAY,UAEdI,QAAS0iB,EAAkB,UAE3B,eAAC,OAAI,CAAChjB,MAAO,CAAE4K,QAAS,EAAG5E,SAAU,IAAK,SAAEmO,IAC5C,eAACnF,GAAA,QAAW,CACVJ,KAAM,GACN1M,MACEmS,EAAWxI,EAAM,qBAAuBA,EAAM,mBAEhD3b,KAAK,gBCnHKic,UAAWC,IAAI,UAAU9G,MAE9B,SAAS6d,GAAe,GAAiC,IlBiF/ClR,EkBjFgBkD,EAAI,EAAJA,KAAMzgB,EAAI,EAAJA,KACvC5E,GAD2D,EAAdszB,eAClCrgB,GAAehS,IAEhC,MAAa,gBAATokB,EAEA,eAAC,QAAK,CACJkO,eAAe,EACf7R,WAAS,EACTrP,UAAQ,EACRtL,MAAOnC,EACPsL,MAAO,CACLoF,gBAAiB,cACjBqB,YAAa,GAEfuS,UAAW,CAAE9W,MAAOpS,EAAW,QAAU,WAGhC,eAATqlB,GlBgEiBlD,EkB/DRvd,ElBgEC,IAAI4uB,OAClB,wKAMA,KAEeC,KAAKtR,GkBvEhB,eAAC,KAAC,CAACjS,MAAO,CAAEkC,MAAO,QAAUshB,KAAM9uB,EAAK,SACrCA,IAIA,eAAC,OAAI,UAAEA,KAGT,+BCjCM,SAAS+uB,GAAmB,GAAmB,IAAjBC,EAAY,EAAZA,aAC3C,OACE,eAAC,QAAK,CACJC,SAAO,EACPC,cAAeC,GAASC,SACxB9jB,MAAO,CAAEsF,MAAO,OAChBye,gBAAiB,kBAAML,GAAa,IAAO,SAE3C,gBAAC,OAAI,CAACvhB,UAAQ,YACZ,eAAC,OAAI,CAACnC,MAAO,CAAEgG,SAAU,GAAItE,WAAY,EAAGsd,cAAe,IAAK,SAAC,0IAKjE,eAAC,SAAM,CACL1e,QAAS,WACPojB,GAAa,IACb,SACH,iBAQT,IAAMG,GAAWhe,WAAWC,OAAO,CACjCge,SAAU,CACR1e,gBAAiB,yBC/BN,SAAS4e,GAAgB,GAAoB,IAAD,IAAjBjW,eAAO,MAAG,GAAG,EACrD,OACE,eAAC,SAAM,CACL/N,MAAO,CACLG,eAAgB,SAChBD,WAAY,SACZoF,MAAO,OACPE,OAAQ,OACRL,SAAU,WACVC,gBAAiB,QACjBnF,KAAM,EACN8N,UACAjE,OAAQ,KACR,SAEF,eAAC,UAAO,CAAC8E,KAAK,YC0BL,SAASqV,GAAW,GAK/B,IAAD,IAJDxE,MACEvrB,OAAU6f,EAAG,EAAHA,IAAK5a,EAAU,EAAVA,WAAY6gB,EAAW,EAAXA,YAE7Bja,EAAU,EAAVA,WAEM8L,EAAQC,qBACRhc,EAAWiT,GAAehS,GAC1BpB,EAAUoT,GAAe7R,GAC/B,EAAkCwP,oBAAS,GAAM,WAA1CwjB,EAAS,KAAER,EAAY,KAC9B,EAA8BhjB,mBAAS,IAAG,WAAnCwT,EAAO,KAAEiQ,EAAU,KAC1B,EAAwCzjB,oBAAS,GAAM,WAAhD0jB,EAAY,KAAEC,EAAe,KAEpC,EAAmBrN,KAAZZ,EAAiC,SAAzB,GACf,EAAyDc,KAAyB,WAA3EoN,EAAW,KAAeC,EAAkB,KAA7BzjB,UACtB,EAAuDmW,KAAuB,WAAvEV,EAAU,KAAeiO,EAAiB,KAA5B1jB,UACrB,EAAuDiW,KAA+B,WAA/E0N,EAAU,KAAeC,EAAiB,KAA5B5jB,UACPmZ,EAAa7nB,GAAcL,UAAUQ,YAAYglB,cAAc5nB,GAArEsY,KACF6L,EAAOQ,GAAiBviB,UAAUwiB,iBAAiBgD,cACvD,CAAEvhB,WAAY,EAAGrG,UAASqE,SAAUimB,EAASjmB,UAC7C,CACEkmB,iBAAkB,SAACjN,GAAM,aAAK+H,GAAesB,WAChC,OAD0C,EACrDrJ,EAAOhF,MAAI,EAAI0L,GAAakB,kBAC5Bd,MAKN7S,qBAAU,WACH4S,GAAM/T,EAAWiJ,WACrB,CAAC8K,IAEJ,IAAM6Q,EAAiB,sBAAG,YACxB,UACQL,EAAY,CAChBvO,OAAQhC,EACRpkB,UACAqE,SAAUimB,EAASjmB,SACnBmF,aACA2D,IAAKkd,IACJzY,SACH,MAAOzO,GACPc,QAAQC,KAAK,wBAAyBf,OAEzC,kBAZsB,mCAcjB8xB,EAAgB,sBAAG,YACvB,UACQH,EAAW,CACf1Q,MACApkB,UACAqE,SAAUimB,EAASjmB,SACnB+R,MAAO+N,EAAK/N,MACZ5M,aACA2D,IAAKkd,IACJzY,SACH,MAAOzO,GACPc,QAAQC,KAAK,uBAAwBf,OAExC,kBAbqB,mCAehB+xB,EAAmB,sBAAG,YAC1B,UACQtO,EAAW,CACfxC,MACApkB,UACAqE,SAAUimB,EAASjmB,SACnBM,KAAM4f,EACN/a,aACA2D,IAAKkd,IACJzY,SACH4iB,EAAW,IACXE,GAAgB,GAChBriB,WAASC,UACT,MAAOjT,GACP4E,QAAQC,KAAK,2BAA4B7E,OAE5C,kBAhBwB,mCAkBnB4tB,EAAe,sBAAG,YACtB,UACQxG,EAAS,CACbzmB,UACAokB,MACAhO,MAAO+N,EAAK/N,MACZsQ,WAAYvC,EAAK9f,SACjBA,SAAUimB,EAASjmB,SACnBmF,aACA2D,IAAKkd,IACJzY,SACH,MAAOzO,GACPc,QAAQ6U,IAAI,qBAAsB3V,OAErC,kBAdoB,mCAgBjB4B,EAAO,+BAgFX,MA/EmB,kBAAX,MAAJof,OAAI,EAAJA,EAAMqB,MACRzgB,EACE,eAAC+nB,GAAc,CACbC,QAAS,CACP/sB,UACAokB,MACAhO,MAAO+N,EAAK/N,MACZsQ,WAAYvC,EAAK9f,SACjBA,SAAUimB,EAASjmB,SACnBmF,aACA6gB,eAEF3F,SAAUP,EAAKO,SACfvC,QAASgC,EAAKzG,eAGM,iBAAX,MAAJyG,OAAI,EAAJA,EAAMqB,OAAyC,gBAAX,MAAJrB,OAAI,EAAJA,EAAMqB,QAC/CzgB,EACE,eAACyuB,GAAc,CACbC,eAAgBxG,EAChBzH,KAAMrB,EAAKqB,KACXzgB,KAAMof,EAAK0E,aAAe1E,EAAKxC,cA0DhCwC,EAKH,eAAC+M,GAAA,eAAc,CACbC,OACEhxB,EACI,CAAC+b,EAAM,oBAAqBA,EAAM,qBAClC,CAACA,EAAM,qBAAsBA,EAAM,sBAEzC7L,MAAO,CACLsF,MAAO,OAAQlF,OAAQ,EAAGF,WAAY,SAAUD,KAAM,GAExDqS,MAAO,CAAEyO,EAAG,EAAGC,EAAG,GAClBzO,IAAK,CAAEwO,EAAG,EAAGC,EAAG,IAAM,SAEtB,gBAAC,SAAM,CAAChhB,MAAO,CAAEC,KAAM,GAAI,UACxBikB,GAAa,eAACT,GAAkB,CAACC,aAAcA,IAEhD,eAAC,OAAI,CACHxC,UAAWyD,EACXnD,8BAA8B,EAC9BL,WAAYoD,EACZ9D,oBA7ER,WACE,OACE,gBAAC,SAAM,CAACzgB,MAAO,CAAE0F,StB5IM,IsB4ImBiB,UAAW,UAAW,UAC9D,eAAC,OAAI,CACHxE,UAAQ,EACRnC,MAAO,CAAEI,OAAQ,EAAGqG,YAAa,GACjCqe,OACE,eAAC,SAAM,UACL,eAAC,OAAI,CAAC9kB,MAAO,CAAEiG,WAAY,OAAQD,SAAU,IAAK,SAC/C8N,EAAK/N,UAIZgf,OACE,eAAC,SAAM,CAAC/kB,MAAO,CAAEI,OAAQ,EAAGwK,QAAS,GAAI,SACvC,eAACiP,GAAS,CACRC,kBAAkB,EAClBzE,KAAMvB,EAAKuB,KACXtB,IAAKD,EAAKC,QAGd,SAEDrf,IAEFof,EAAK9f,WAAaimB,EAASjmB,SAC1B,eAAC,SAAM,CAACgM,MAAO,CAAEqG,cAAe,MAAOf,MAAO,QAAS,SACrD,eAAC,SAAM,CACLzS,OAAO,SACPmN,MAAO,CAAEI,OAAQ,EAAGH,KAAM,GAC1BK,QAASskB,EAAiB,SAC3B,kBAOD,KAEJ,eAAC,OAAI,CAACziB,UAAQ,EAACnC,MAAO,CAAEyG,YAAa,GAAI,SACvC,eAAC,OAAI,CACHzG,MAAO,CACLiG,WAAY,OACZ,sBAEY6N,EAAKG,SAAS9gB,OAAM,YAgCpC8tB,sBAAuB,CACrBlS,iBAAkB,GAClBrJ,SAAU,IACViB,UAAW,UAEb3G,MAAO,CAAEoF,gBAAiB,eAC1B6C,KAAM6L,EAAKG,SACXwN,uBAAwBC,UACxBzB,WAAY,gBAAGC,EAAI,EAAJA,KAAI,OACjB,eAAC0C,GAAO,CACNluB,KAAMwrB,EAAK5rB,KACXyhB,OAAQjC,EAAKC,IACb2C,UAAWwJ,EAAKnM,IAChBI,SAAU+L,EAAK/L,SACfE,SAAU6L,EAAK7L,SACfrgB,SAAUimB,EAASjmB,SACnB6uB,aAAc3C,EAAKlsB,WAAaimB,EAASjmB,SACzCmF,WAAYA,EACZ6gB,YAAaA,KAGjBoH,aAAc,SAAClN,GACb,OAAOA,EAAQH,OAGnB,gBAAC,SAAM,CACL/T,MAAO,CACLqG,cAAe,MACfnG,WAAY,SACZsF,OAAQ,GACRwf,OAAQ,EACR1f,MAAO,OACP2E,gBAAiB,GACjBQ,aAAc,GACdjE,YAAa1W,EACT+b,EAAM,mBACNA,EAAM,mBACVoZ,eAAgB,GAChB,UAEF,eAAC,SAAM,CACLjlB,MAAO,CACLC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAChB,SAEF,eAAC,SAAM,CACLH,MAAO,CACLuF,aAAc,IACdD,MAAO,GACPE,OAAQ,GACRJ,gBAAiBtV,EACb+b,EAAM,mBACNA,EAAM,mBACV1L,eAAgB,SAChBD,WAAY,UACZ,SAEF,eAAC,OAAI,CAACF,MAAO,CAAEgG,SAAU,IAAK,SAC3BgM,GAAciI,EAASjmB,gBAK9B,eAAC,QAAK,CACJoO,eACEgiB,EACE,eAACnf,GAAA,QAAgB,CAAC3E,QAASukB,EAAoB,SAC7C,eAAC9L,GAAA,QAAY,CACX7oB,KAAK,yBACL0e,KAAM,GACN1M,MAAO2J,EAAM,yBAGf,KAEN7L,MAAO,CAAEC,KAAM,GACf2B,YAAY,mBACZ6H,QAAS,kBAAM4a,GAAgB,IAC/B7B,OAAQ,kBAAM6B,GAAgB,IAC9BxtB,MAAOqd,EACPpS,aAAc,SAACxN,GAAI,OAAK6vB,EAAW7vB,IACnCyN,gBAAiB8iB,QAGnBH,GAAqBF,IAAsB,eAACR,GAAe,SA9G1D,K,qmBCtNI,SAASkB,GAAK,GAA8B,IAA5BC,EAAS,EAATA,UAAWC,EAAY,EAAZA,aAClCvZ,EAAQC,qBAEd,OACE,gBAACsQ,GAAA,QAAI,CAACpc,MAAO,CAAEoO,eAAgB,IAAK,UAClC,eAACvE,GAAA,QAAU,CACTwb,gCAAgC,EAChCC,YAAU,EACVtlB,MAAO,CAAEqG,cAAe,OAAQ,SAE/BjX,OAAOwH,QAAQuuB,GAAW12B,KAAI,WAAuB8R,GAAW,IAAD,WAA/BrQ,EAAI,KAAE2G,EAAK,KAC1C,IAAKA,EAAMurB,SACT,OACE,eAAC,SAAM,CACL9hB,QAAS,WACP8kB,EAAa,SACRD,GAAS,UACXj1B,EAAO,CAAEkyB,UAAWvrB,EAAMurB,cAG/BvvB,OAAQgE,EAAMurB,SAAW,OAAS,UAClCpiB,MAAO,CACLwF,OAAQ,GACRuJ,iBAAkB,GAClBxJ,aAAc,GACdH,gBAAgB,QAASyG,EAAM,qBAAoB,MACjD,EAAI,IAAOtL,GAAK,IAElBiG,YAAY,QAASqF,EAAM,qBAAoB,MAC7C,EAAI,IAAOtL,GAAK,KAElB,SAGF,eAAC6b,GAAA,QAAI,CACHpc,MAAO,CAAEE,WAAY,SAAUC,eAAgB,UAAW,SAE1D,gBAAColB,GAAA,QAAI,CAACvlB,MAAO,CAAEkC,MAAO,SAAU,UAC7BhS,EACA2G,EAAMurB,UACL,gBAACmD,GAAA,QAAI,kBAEH,eAAC5W,GAAA,QAAO,CAACze,KAAK,IAAI0e,KAAM,cAV3BrO,QAoBf,eAACsJ,GAAA,QAAU,CACTwb,gCAAgC,EAChCC,YAAU,EACVtlB,MAAO,CAAEqG,cAAe,MAAOZ,UAAW,EAAGa,WAAY,GAAI,SAE5DlX,OAAOwH,QAAQuuB,GAAW12B,KAAI,WAAuB8R,GAAW,IAAD,WAA/BrQ,EAAI,KAAE2G,EAAK,KAC1C,GAAIA,EAAMurB,SACR,OACE,eAAC,SAAM,CACLhgB,eACE,eAAC2W,GAAA,QAAY,CAAC7oB,KAAK,QAAQ0e,KAAM,GAAI1M,MAAM,UAE7C5B,QAAS,WACP8kB,EAAa,SACRD,GAAS,UACXj1B,EAAO,CAAEkyB,UAAWvrB,EAAMurB,cAG/BpiB,MAAO,CACLwF,OAAQ,GACRuJ,iBAAkB,EAClBxJ,aAAc,GACdH,gBAAiByG,EAAM,qBACvBrF,YAAaqF,EAAM,sBACnB,SAGF,eAACuQ,GAAA,QAAI,CACHpc,MAAO,CAAEE,WAAY,SAAUC,eAAgB,UAAW,SAE1D,eAAColB,GAAA,QAAI,CAACvlB,MAAO,CAAEkC,MAAO,SAAU,SAAEhS,OAL/BqQ,W,wBChFRilB,GAAmBh0B,GAASa,gBAAgB,CACvDC,kBAAkB,EAClBP,UAAW,SAACC,GAAO,MAAM,CACvByzB,gBAAiBzzB,EAAQE,MAAM,CAC7BA,MAAO,SAACvC,GAAO,MAAM,CACnB8C,IAAK,YACLC,QAAS,CACP/C,aAGJoD,kBAAmB,SAAC2yB,GAOlB,MAAM,EANNA,EAAWA,EAAS5uB,MAAK,SAAC6uB,EAAGC,GAC3B,IAAMC,EAAQF,EAAE7G,YAAYpiB,cACtBopB,EAAQF,EAAE9G,YAAYpiB,cAC5B,OAAOmpB,EAAQC,EAAQ,EAAID,EAAQC,GAAS,EAAI,MAIvCC,MAAK,SAACtR,GAAO,MAA6B,aAAxBA,EAAQqK,gBAA2B,YAC3D4G,EAASztB,QAAO,SAACwc,GAAO,MAA6B,aAAxBA,EAAQqK,oBAI9CkH,iBAAkBh0B,EAAQ+B,SAAS,CACjC7B,MAAO,YAAqB,MAAQ,CAClCO,IAAK,0BACL2B,OAAQ,OACR1B,QAAS,CACP/C,QAJa,EAAPA,SAMR+E,KAAM,CACJuxB,UAPwB,EAATA,WASjB5xB,gBAAiB,SAACzB,GAAQ,OAAKA,EAAS0B,gBAMjC4xB,GAA6DV,GAA7DU,4BAA6BC,GAAgCX,GAAhCW,4BCftC3J,GAAcrQ,UAAWC,IAAI,UAAU9G,MAEtC,SAAS8gB,GAAY,GAIxB,IAFUne,EAAI,EADhBwX,MACEvrB,OAAU+T,KAGNoe,EAAatjB,GAAehS,GAC5Bu1B,EAAoBzgB,WAAWC,OAAO,CAC1CzB,UAAW,CACTpE,KAAM,GAER6kB,OAAQ,CACNrf,UAAW,GACXvF,WAAY,SACZC,eAAgB,SAChBmF,MAAO,QAETihB,QAAS,CACPrkB,MAAOmkB,EAAa,QAAU,QAC9BnmB,WAAY,SACZE,OAAQ,GACRoG,YAAa,QACbC,YAAa,EACbmE,QAAS,IAEX4b,MAAO,CACL/gB,UAAW,GACXghB,QAAS,OACTtmB,eAAgB,cAElB4F,MAAO,CACL7D,MAAOmkB,EAAa,QAAU,QAC9BrgB,SAAU,GACVM,WAAY,IAEdogB,SAAU,CACRxkB,MAAOmkB,EAAa,QAAU,QAC9BrgB,SAAU,GACV7F,eAAgB,UAElBsE,KAAM,CACJa,MAAO,OACPE,OAAQ,KAEVgG,YAAa,CACX/E,YAAa,EACbrG,OAAQ,GACRoG,YAAa,UACbjB,aAAc,EACdD,MAAO,MACPsF,QAAS,IAGX+b,gBAAiB,CACfrhB,MAAO,OACPnF,eAAgB,SAChBD,WAAY,SACZuF,UAAW,GACXW,aAAc,IAEhBwgB,OAAQ,CACNthB,MAAO,IACPE,OAAQ,KAEVqhB,aAAc,CACZ1mB,eAAgB,SAChBkG,cAAe,MACf+T,SAAU,OACVha,OAAQ,GACRgG,aAAc,GAEhB0gB,WAAY,CACVxhB,MAAO,IACPE,OAAQ,IACR9D,WAAY,IACZtB,OAAQ,GAEV2mB,WAAY,CACV7kB,MAAOmkB,EAAa,QAAU,QAC9BrgB,SAAU,GACVC,WAAY,UAGhB,EAAoCvF,mBAAS,GAAE,WAA5BsmB,GAAF,KAAe,MAChC,EAAgCtmB,oBAAS,GAAM,WAA/BumB,GAAF,KAAc,MAC5B,EAAsCvmB,oBAAS,GAAM,WAA9CwmB,EAAW,KAAEC,EAAc,KAElC,EAAgChB,KAAzBiB,EAAsD,SAAjC,GAEtBz3B,EAAUoT,GAAe7R,GAEzBm2B,EAAiBpf,EAAKqf,WAAarf,EAAKqf,UAAU/zB,MAAM,KAC5C0U,EAAKqf,WAAaD,EAAeA,EAAel0B,OAAS,GAc3E,IAAM6yB,EAAgB,sBAAG,YACvB,UACQoB,EAAsB,CAAEz3B,UAASs2B,UAAWhe,EAAK8L,MAAOxS,SAC9D,MAAOvS,GACP4E,QAAQC,KAAK,gCAAiC7E,OAEjD,kBANqB,mCAgDtB,OAxCAkS,qBAAU,YACG,sBAAG,YACZimB,QAAqBI,WAAQC,WAAWvf,EAAKwf,UAC7CzB,OACD,kBAHU,mCAIX0B,KACC,IAmCD,eAAC,SAAM,CAAC1nB,MAAO,CAAEC,KAAM,GAAI,SACzB,eAAC4J,GAAA,QAAU,UACT,gBAAC,SAAM,CAAC7J,MAAOsmB,EAAkBjiB,UAAU,UACzC,eAAC+X,GAAA,QAAI,CAACpc,MAAOsmB,EAAkBxB,OAAO,SACpC,eAACvgB,GAAA,QAAK,CACJuK,WAAW,UACX9O,MAAOsmB,EAAkB7hB,KACzBD,OAAQ,CAAEqK,IAAK5G,EAAKxD,UAGxB,gBAAC2X,GAAA,QAAI,CACHpc,MAAO,CAAEsF,MAAO,OAAQmhB,QAAS,OAAQvmB,WAAY,UAAW,UAEhE,eAACqlB,GAAA,QAAI,CAACvlB,MAAOsmB,EAAkBvgB,MAAM,SAAEkC,EAAK6W,cAC5C,eAACyG,GAAA,QAAI,CAACvlB,MAAOsmB,EAAkBI,SAAS,SA1E5Cze,EAAK0f,aAAe1f,EAAKjT,MACjBiT,EAAK0f,YAAW,WAAW1f,EAAKjT,MACtCiT,EAAK0f,YACF1f,EAAK0f,YACR1f,EAAKjT,MACFiT,EAAKjT,MAEP,UAsEAiT,EAAK4I,UACJ,eAACuL,GAAA,QAAI,CAACpc,MAAOsmB,EAAkBC,QAAQ,SACrC,eAAChB,GAAA,QAAI,CACHvlB,MAAO,CAAEgG,SAAU,GAAI9D,MAAOmkB,EAAa,QAAU,SAAU,SAE9Dpe,EAAK4I,aAKZ,eAACuL,GAAA,QAAI,CACHpc,MAAO,CAAEsF,MAAO,OAAQmhB,QAAS,OAAQvmB,WAAY,UAAW,SA5DpEgnB,EAEA,eAAC9K,GAAA,QAAI,UACH,gBAACnX,GAAA,QAAgB,CACf3E,QAAS,WACPinB,WAAQK,QAAQ3f,EAAKwf,UAEvBznB,MAAO,CACLymB,QAAS,OACTpgB,cAAe,MACfnG,WAAY,UACZ,UAEF,eAACqlB,GAAA,QAAI,CACHvlB,MAAO,CACLgG,SAAU,GACV9D,MAAOmkB,EAAa,UAAY,UAChC5b,aAAc,GACd,SACH,2BAGD,eAACsO,GAAA,QAAY,CAAC7oB,KAAK,OAAO0e,KAAM,GAAI1M,MAAM,iBAK3C,OAsCD,eAAC,SAAM,CAAClC,MAAOsmB,EAAkB9a,YAAY,SAC3C,eAAC+Z,GAAA,QAAI,CACHvlB,MAAO,CAAEgG,SAAU,GAAI9D,MAAOmkB,EAAa,QAAU,SAAU,SAE9Dpe,EAAKuD,gBAGV,eAAC4Q,GAAA,QAAI,CACHpc,MAAO,CACLsF,MAAO,OACPqB,UAAW,aACXL,WAAY,GACZuhB,kBAAmB,UACnBC,kBAAmB,EACnB9I,cAAe,GACf,SAEF,eAACuG,GAAA,QAAI,CAACvlB,MAAOsmB,EAAkBS,WAAW,SAAC,oBAG7C,eAAC3K,GAAA,QAAI,CAACpc,MAAOsmB,EAAkBO,aAAa,SACzC5e,EAAK8f,OAAOt5B,KAAI,SAACu5B,EAAKznB,GACrB,OACE,eAAC0E,GAAA,QAAgB,CACf3E,QAAS,WACP0mB,EAAczmB,GACd0mB,GAAa,IACb,SAEF,eAAC1iB,GAAA,QAAK,CACJvE,MAAOsmB,EAAkBQ,WACzBtiB,OAAQ,CAAEqK,IAAKmZ,YAOxB/f,EAAKyW,QAAQ,IACZ,gBAAC,SAAM,CAAC1e,MAAOsmB,EAAkBK,gBAAgB,UAC/C,eAACpiB,GAAA,QAAK,CACJuK,WAAW,UACXtK,OAAQtB,EAAQ,KAChBlD,MAAOsmB,EAAkBM,SAE3B,eAACrB,GAAA,QAAI,CACHvlB,MAAO,CACLmF,SAAU,WACVa,SAAU,GACVE,UAAW,SACX/F,eAAgB,SAChBmF,MAAO,MACP0Z,cAAe,GACfvU,aAAc,GACd,SAEDxC,EAAKyW,QAAQ,GAAGO,oBAEnB,eAACsG,GAAA,QAAI,CACHvlB,MAAO,CAAEgG,SAAU,GAAI9D,MAAOmkB,EAAa,QAAU,SAAU,SAChE,gDAML,eAACjK,GAAA,QAAI,CACHpc,MAAO,CACLsF,MAAO,OACPqB,UAAW,aACXL,WAAY,GACZuhB,kBAAmB,UACnBC,kBAAmB,EACnB9I,cAAe,GACf,SAEF,eAACuG,GAAA,QAAI,CAACvlB,MAAOsmB,EAAkBS,WAAW,SAAC,YAE7C,eAAC3K,GAAA,QAAI,CACHpc,MAAO,CACLG,eAAgB,SAChBwG,UAAW,SACXL,WAAY,GACZF,aAAc,IACd,SAED6B,EAAKuI,MAAM/hB,KAAI,SAACglB,EAAKxC,GACpB,OACE,gBAAC,SAAM,CAELjR,MAAO,CACLG,eAAgB,gBAChBkG,cAAe,MACff,MAAO,QACP,UAEF,gBAACigB,GAAA,QAAI,CACHvlB,MAAO,CACLyF,UAAW,GACXvD,MAAOmkB,EAAa,QAAU,SAC9B,UAED5S,EAAIwU,aAAa,OAGpB,eAAC1C,GAAA,QAAI,CACHvlB,MAAO,CACL2G,UAAW,WACX8D,aAAc,GACdhF,UAAW,GACXvD,MAAOmkB,EAAa,QAAU,SAC9B,SAED6B,GAAgBzU,OAxBdxC,eAoCvB,SAASiX,GAAgB7X,GACvB,OAAKA,EAAK8X,UAA8B,KAAlB9X,EAAK8X,UAAqC,OAAlB9X,EAAK8X,SAI9CC,GAAoB/X,EAAK8X,UAAS,MAEnCC,GAAoB/X,EAAKgY,WALpB,SASX,SAASD,GAAoB/X,GACP,IAAhBA,EAAKld,SACPkd,EAAI,IAAOA,GAEb,IAAIG,EAAQH,EAAK5c,MAAM,EAAG,GACpBid,EAAUL,EAAK5c,MAAM,EAAG,GAC1Bmd,EAAO0X,OAAOC,SAAS/X,GAAS,GAAK,KAAO,KAMhD,OAJc,KADdA,GAAS,MAEPA,EAAQ,GACRI,EAAO,MAECJ,EAAK,IAAIE,EAAUE,EAGxB,SAAS4X,GAAa,GAAiB,IAAfzoB,EAAU,EAAVA,WACvB8L,EAAQC,qBACRua,EAAatjB,GAAehS,GAClC,EAA4C2P,mBAAS,IAAG,WAAjD+nB,EAAc,KAAEC,EAAiB,KACxC,EAAsChoB,oBAAS,GAAM,WAA9CioB,EAAW,KAAEC,EAAc,KAC5Bj5B,EAAUoT,GAAe7R,GAC/B,EAAmDg1B,KAA6B,WAAzE2C,EAAoB,KAAUnD,EAAQ,KAAdzd,KAaD,aAM7B,OAN6B,OAA9B,YACE,UACQ4gB,EAAqBl5B,GAAS4R,SACpC,MAAOvS,GACP4E,QAAQC,KAAK,8BAA+B7E,QAE/C,sBA2DD,OA5EK25B,IACHC,GAAe,GAQF,WAEe,wBAT5BnD,IAGFvkB,qBAAU,YACI,MAARwkB,OAAQ,EAARA,EAAUvyB,QAAS,GAazB,WACE,IAAI21B,EAAW,GAEf,IAAK,IAAMrU,KAAWiR,EACpB,QAAqB3L,IAAjBtF,EAAQY,KACV,IAAK,IAAMnlB,KAAQukB,EAAQY,KACpByT,EAASrsB,SAASvM,IACrB44B,EAASn1B,KAAKzD,GAQtB,IAAM64B,GAHND,EAAWA,EAAShyB,QAGE2F,SAAS,SAC3BqsB,EAASE,WAAU,SAAC9I,GAAI,MAAc,UAATA,MAC5B,GACS,IAAV6I,GACFD,EAASG,OAAOF,EAAM,GAExBD,EAASn1B,KAAK,SAEd,IAAMu1B,EAAc,GACpB,IAAK,IAAMh5B,KAAQ44B,EACjBI,EAAYh5B,GAAQ,CAClBkyB,UAAU,GAGdsG,EAAkBQ,GAzChBC,KAED,CAACzD,IAoEF,eAAC7E,GAAA,eAAc,CACbC,OACEuF,EACI,CAACxa,EAAM,oBAAqBA,EAAM,qBAClC,CAACA,EAAM,qBAAsBA,EAAM,sBAEzC7L,MAAO,CACLsF,MAAO,OAAQlF,OAAQ,EAAGF,WAAY,SAAUD,KAAM,GAExDqS,MAAO,CAAEyO,EAAG,EAAGC,EAAG,GAClBzO,IAAK,CAAEwO,EAAG,EAAGC,EAAG,IAAM,SAEtB,gBAAC,SAAM,CAAChhB,MAAO,CAAEC,KAAM,GAAI,UACzB,eAACilB,GAAI,CACHE,aAAcsD,EACdvD,UAAW/1B,OAAOD,KAAKs5B,GAAgBt1B,OAAS,IAElD,eAAC0W,GAAA,QAAU,CACT2X,8BAA8B,EAC9BP,sBAAuB,CAAE/gB,WAAY,UAAW,SAE1B,KAAb,MAARwlB,OAAQ,EAARA,EAAUvyB,QACT,eAACoyB,GAAA,QAAI,UAAC,wBAhDhB,WACE,IAAI6D,GAAmB,EACvB,IAAK,IAAMC,KAAcZ,EACvB,GAAIA,EAAeY,GAAYjH,SAAU,CACvCgH,GAAmB,EACnB,MAGJ,IAAKA,EACH,OAAOE,GAAe5D,GAAY,GAAI3lB,GAExC,IAAMwpB,EAAiB,GACvB,IAAK,IAAMF,KAAcZ,EACvB,GAAIA,EAAeY,GAAYjH,SAC7B,IAAK,IAAM3N,KAAWiR,EAChBjR,EAAQY,KAAK5Y,SAAS4sB,IACxBE,EAAe51B,KAAK8gB,GAK5B,OAAO6U,GAAeC,GAAkB,GAAIxpB,GA6BpCypB,UAQZ,SAASF,GAAe5D,EAAU3lB,GAChC,IAAMsmB,EAAatjB,GAAehS,GAC5B04B,EAAgB5jB,WAAWC,OAAO,CACtCzB,UAAW,CACTpE,KAAM,EACNmF,gBAAiB,OACjBlF,WAAY,UAEdwpB,cAAe,CACbrjB,cAAe,MACfnG,WAAY,SACZoF,MAAO,OACPI,SAAU8W,GAAc,EACxBhX,OAAQ,IACRJ,gBAAiBihB,EAAa,UAAY,OAC1C9gB,aAAc,GACdkB,YAAa,EACbD,YAAa6f,EAAa,UAAY,OACtCyB,kBAAmBzB,EAAa,EAAI,EACpChY,YAAa,OACbC,aAAc,CAAEhJ,MAAO,EAAGE,OAAQ,GAClC+I,cAAe,GACfC,aAAc,EACdC,UAAW,EACXnI,WAAY,EACZC,YAAa,EACbd,UAAW,IAEbnR,KAAM,CACJ2L,KAAM,EACNiC,MAAOmkB,EAAa,QAAU,QAC9BrgB,SAAU,GACVE,UAAW,SACXT,UAAW,EACXW,aAAc,GAEhBD,MAAO,CACLb,MAAO,IACPE,OAAQ,IACRc,WAAY,GACZf,aAAc,MAGlB,GAAwB,IAApBmgB,EAASvyB,OAAb,CAGA,IAAMw2B,EAAQ,GACRC,EAAe,GAAG,cAE8B,IAAD,EAgC5C,EAhCHnV,EAAQiK,SAAWjK,EAAQiK,QAAQvrB,OAAS,EAC9Cy2B,EAAaj2B,KACX,gBAACsR,GAAA,QAAgB,CACf3E,QAAS,WACPP,EAAWyB,SAAS,cAAe,CAAEyG,KAAMwM,KAE7CzU,MAAOypB,EAAcC,cAAc,UAGnB,OAAf,EAAAjV,EAAQiK,UAAR,EAAiBvrB,OAChB,eAAC4lB,GAAA,QAAY,CACX7oB,KAAK,OACLgS,MAAM,OACNlC,MAAO,CACL2G,UAAW,aACXoD,IAAK,EACLC,KAAM,KAGR,KAEJ,eAACoS,GAAA,QAAI,CAACpc,MAAO,CAAEC,KAAM,GAAI,SACvB,eAACsE,GAAA,QAAK,CACJuK,WAAW,UACX9O,MAAOypB,EAActjB,MACrB3B,OAAQ,CAAEqK,IAAK4F,EAAQhQ,UAI3B,eAAC8gB,GAAA,QAAI,CAACvlB,MAAOypB,EAAcn1B,KAAK,SAAEmgB,EAAQqK,gBAtBrCrK,EAAQV,MA0BjB4V,EAAMh2B,KACJ,gBAACsR,GAAA,QAAgB,CACf3E,QAAS,WACPP,EAAWyB,SAAS,cAAe,CAAEyG,KAAMwM,KAE7CzU,MAAOypB,EAAcC,cAAc,UAGnB,OAAf,EAAAjV,EAAQiK,UAAR,EAAiBvrB,OAChB,eAAC4lB,GAAA,QAAY,CACX7oB,KAAK,OACLgS,MAAM,OACNlC,MAAO,CACLmF,SAAU,WACVwB,UAAW,aACXoD,IAAK,EACLC,KAAM,KAGR,KAEJ,eAACoS,GAAA,QAAI,CAACpc,MAAO,CAAEC,KAAM,GAAI,SACvB,eAACsE,GAAA,QAAK,CACJuK,WAAW,UACX9O,MAAOypB,EAActjB,MACrB3B,OAAQ,CAAEqK,IAAK4F,EAAQhQ,UAI3B,eAAC8gB,GAAA,QAAI,CAACvlB,MAAOypB,EAAcn1B,KAAK,SAAEmgB,EAAQqK,gBAvBrCrK,EAAQV,OAxCrB,IAAK,IAAMU,KAAWiR,EAAQ,KAoE9B,IAAK,IAAMmE,KAAUF,EACnBC,EAAaj2B,KAAKk2B,GAEpB,OAAOD,GCnkBT,IAAMvnB,GAAQC,oBAEC,SAASwnB,GAAS,GAAiB,IAAf/pB,EAAU,EAAVA,WAC3B8L,EAAQC,qBACRhc,EAAWiT,GAAehS,GAChC,EAAoC2P,mBAAS,IAAG,WAAzCvH,EAAU,KAAE4wB,EAAa,KAE1B3nB,EACJ,eAAC6C,GAAA,QAAgB,CAAC3E,QAAS,kBAAMP,EAAWyB,SAAS,eAAc,SACjE,eAACuX,GAAA,QAAY,CAAC7oB,KAAK,OAAO0e,KAAM,GAAI1M,MAAO2J,EAAM,yBAI/CiN,EACJ,eAACvU,GAAA,QAAK,CACJvE,MAAO,CACLwF,OAAQ,GACRF,MAAO,IAETd,OAAQtB,EAAQ,OAIhByf,EAA2B,GAO/B,OALEA,EADE7yB,EACyB+b,EAAM,mBAENA,EAAM,mBAIjC,gBAAC,GAAMrJ,UAAS,WACd,eAAC,GAAMG,OAAM,CACXzS,KAAK,YACL85B,cAAe,CAAEvV,SAAS,GAC1B7R,UAAW0c,GACXxhB,QAAS,CACPiI,MAAO,WACP+e,OAAQ,kBACN,eAAC,SAAM,CAACnf,MAAM,IAAI3F,MAAO,CAAEgf,cAAe,IAAK,SAC7C,eAAC2C,GAAM,CACLhc,MAAM,IACNI,MAAM,WACN+S,cAAeA,EACf1W,eAAgBA,EAChBwf,OACE,eAAC,SAAM,CAACjc,MAAM,IAAI3F,MAAO,CAAEC,KAAM,EAAG8O,iBAAkB,IAAK,SACxC,QAAhBxQ,UAASC,GACR,eAACujB,GAAS,CACR3Y,WAAY,CACV2E,QAAS,GACT3I,gBAAiBud,GAEnBxpB,WAAYA,EACZ2I,aAAcioB,EACdnoB,YAAY,kBACZogB,WAAY,CACV7f,UAAU,EACV8nB,UAAW,WACTlqB,EAAWyB,SAAS,eAGtBghB,OAAQ,WACNziB,EAAWiJ,aAKjB,eAAC,SAAM,CACLhJ,MAAO,CACLgL,UAAW,GACXR,YAAa,GACbjF,aAAc,GACdtF,KAAM,EACNwG,YAAa,EACbD,YAAa1W,EACT+b,EAAM,mBACNA,EAAM,mBACV1L,eAAgB,UAChB,SAEF,eAAC+D,GAAA,QAAwB,CACvB5D,QAAS,WACPP,EAAWyB,SAAS,eACpB,SAEF,eAAC,OAAI,CACHxB,MAAO,CACLkC,MAAO2J,EAAM,mBACb7F,SAAU,IACV,SACH,kCAarB,eAAC,GAAMrD,OAAM,CACXzS,KAAK,aACL0S,UAAW0U,GACXxZ,QAAS,CAAEosB,YAAa,mBAE1B,eAAC,GAAMvnB,OAAM,CACXzS,KAAK,aACL0S,UAAWqhB,GACXnmB,QAAS,CACPosB,YAAa,GACbnkB,MAAO,cAGX,eAAC,GAAMpD,OAAM,CACXzS,KAAK,aACL0S,UAAW8f,GACX5kB,QAAS,CAAE4E,aAAa,EAAOynB,UAAW,OAAQpkB,MAAO,cAE3D,eAAC,GAAMpD,OAAM,CACXzS,KAAK,sBACL0S,UAAWwjB,GACXtoB,QAAS,CAAEosB,YAAa,GAAInkB,MAAO,iB,kCChJtBqkB,GAAiB,qCAoDnC,OApDmC,yCACpC,SAAoB/Z,GACE,IAAhBA,EAAKld,SACPkd,EAAI,IAAOA,GAEb,IAAIG,EAAQH,EAAK5c,MAAM,EAAG,GACpBid,EAAUL,EAAK5c,MAAM,EAAG,GAC1Bmd,EAAO0X,OAAOC,SAAS/X,GAAS,GAAK,KAAO,KAMhD,OAJc,KADdA,GAAS,MAEPA,EAAQ,GACRI,EAAO,MAECJ,EAAK,IAAIE,EAAUE,IAC9B,sBAED,SAASyZ,GAEP,IADA,IAAIV,EAAQ,EACHW,EAAY,EAAGA,EAAYD,EAAOl3B,OAAQm3B,IACjDX,GAASU,EAAOlY,WAAWmY,GAI7B,OAFAX,GAASrB,OAAOqB,EAAMY,WAAW,IAAG,SAAG,GAAOZ,EAAMY,WAAWp3B,OAAS,GAElE,QAEF,KAHJw2B,GAAK,SAAI,GAAMA,EAAMY,WAAWp3B,SAGd,IAAE,KAEhB,GAAK,GAAKw2B,GAAK,MAEf,GAAK,GAAKA,GAAK,OAGpB,4BAED,SAAe1X,GACb,OAAOwH,KAAK+Q,SAASvY,KACtB,4BAED,SAAezC,EAAWE,EAAS+a,GACjC,OAAI/a,EAAUF,GACJE,EAAUF,GAAaib,EAC3Bjb,IAAcE,EACX,GAEDF,EAAYE,IAAY+a,IAEjC,8BAED,SAAiBr3B,EAAoBs3B,GAGnC,OAFgBA,EACUt3B,EAAWG,MAAM,KAAKE,MAAM,GAAI,GAAGC,KAAK,UAEnE,EApDmC,GCSvB,SAASusB,GACtB0K,EACAC,EACAx3B,GAEC,IADDy3B,EAAmB,uDAAG,SAACR,KAEjBS,EAAc,IAAIV,GAClBW,GAAmB5e,UAAWC,IAAI,UAAU5G,OAAS,IAAM,GAC3DilB,EAAeM,EAAkB,GAEvC,EAAiCH,EAAYpb,UAAUjc,MAAM,KAAI,WAA1Dy3B,EAAS,KAAEC,EAAW,KAC7B,EAA6BL,EAAYlb,QAAQnc,MAAM,KAAI,WAApD23B,EAAO,KAAEC,EAAS,KACnBjpB,EAAQ4oB,EAAYM,eAAeT,EAAgBn3B,kBACnDtE,EAAOkE,EAAWG,MAAM,KAC9B,OACE,eAAC6oB,GAAA,QAAI,CAEHpc,MAAO,CACLoF,gBAAiBlD,EACjB6H,IAAKghB,EAAkBC,EAAYC,EAAcR,EACjDjlB,OACEulB,GAAmBG,EAAUF,GAC3BF,EAAYO,eAAeJ,EAAaE,EAAWV,GACvDnlB,MAAO,OACPH,SAAU,WACV/E,OAAQ,EACRD,eAAgB,UAChB,SAEF,eAAC8E,GAAA,QAAgB,CACf3E,QAAS,WACPuqB,EAAoBF,EAAgBn3B,mBAEtC0vB,YACE,aAoBD,SAED,gBAACqC,GAAA,QAAI,CACH+F,sBAAoB,EACpBC,cAAe,EACfvrB,MAAO,CACLkC,MAAOqmB,SAASrmB,EAAMzO,MAAM,GAAI,IAAM,QAAU,QAAU,QAC1DuS,SAAU,GACV+I,iBAAkB,EAClB7I,UAAW,UACX,UAEDhX,EAAK,GACL,IACAA,EAAK,GACL,KACAA,EAAK,GACL07B,EAAYY,cAAa,MAChBZ,EAAYY,cAAa,IAC/B,WAzDHjQ,KAAKE,UCjBD,SAASgQ,GAAkBC,EAAOzR,EAAUtqB,EAAS6E,GAClE,IAAMu2B,GAAmB5e,UAAWC,IAAI,UAAU5G,OAAS,IAAM,GAC3DilB,EAAeM,EAAkB,GACjCD,EAAc,IAAIV,GACxB,EAAiCsB,EAAMlc,UAAUjc,MAAM,KAAI,WAApDy3B,EAAS,KAAEC,EAAW,KAC7B,EAA6BS,EAAMhc,QAAQnc,MAAM,KAAI,WAA9C23B,EAAO,KAAEC,EAAS,KACnBjpB,EAAQ4oB,EAAYM,eAAeM,EAAMx7B,MA2B/C,OACE,eAAC+U,GAAA,QAAgB,CACfie,YAAa,WACX3V,UAAM9L,MACJiqB,EAAMx7B,KACH46B,EAAY1C,oBAAoBsD,EAAMlc,WAAU,MAEjDsb,EAAY1C,oBAAoBsD,EAAMhc,SACxC,CACE,CACEpb,KAAM,SACNgM,QAAS,YApCrB,SAAqBorB,GACnBl3B,EAAS,CACP7E,UACAqE,SAAUimB,EAASjmB,SACnBW,OAAQ+T,KAAKC,UAAU,CACrBmV,kBAAmB,CACjB5tB,KAAMw7B,EAAMx7B,KACZsf,UAAWkc,EAAMlc,UACjBE,QAASgc,EAAMhc,QACfmO,KAAM6N,EAAM7N,UAIftc,SACAwc,OAAM,WACLrQ,WAAMC,KAAK,kDAAmD,CAC5DC,SAAUF,WAAMG,UAAU8d,MAC1B5d,QAAS,EACT5I,UAAW,IACXC,gBAAiB,OACjB4I,QAAQ,OAiBF4d,CAAYF,KAGhB,CACEp3B,KAAM,OACNgM,QAAS,aACTN,MAAO,WAGX,CAAE6rB,YAAY,KAIlB7rB,MAAO,CACLoF,gBAAiBlD,EACjB6H,IAAKghB,EAAkBC,EAAYC,EAAcR,EACjDjlB,OACEulB,GAAmBG,EAAUF,GAC3BF,EAAYO,eAAeJ,EAAaE,EAAWV,GACvDnlB,MAAO,OACPH,SAAU,WACVhF,eAAgB,UAChB,SAEF,eAAColB,GAAA,QAAI,CACH+F,sBAAoB,EACpBC,cAAeL,EAAUF,EAAY,EACrChrB,MAAO,CAAEkC,MAAO,QAASgE,UAAW,UAAW,SAE9CwlB,EAAMx7B,QAjBJw7B,EAAMx7B,KAAOw7B,EAAM7N,M,iQCtDf,SAASiO,GAAe,GAKd,IAJvB3c,EAAQ,EAARA,SACA4c,EAAe,EAAfA,gBACAC,EAAkB,EAAlBA,mBACAjmB,EAAK,EAALA,MAEM8F,EAAQC,qBACRhc,EAAWiT,GAAehS,GAEhC,OACE,eAAC,WAAK,CACJk7B,gBAAiB,EACjBlI,gBAAiB,kBAAMiI,GAAmB,IAC1CE,UAAWH,EACX/rB,MAAO,CACLoF,gBAAiBtV,EACb+b,EAAM,mBACNA,EAAM,kBACVtG,aAAc,GACdtF,KAAM,EACNwF,UAAW,IACXW,aAAc,GACdiI,YAAa,OACbC,aAAc,CACZhJ,MAAO,EACPE,OAAQ,IAEV+I,cAAe,IACfC,aAAc,GAEdC,UAAW,IACX,SAEF,gBAAC,SAAM,CACLzO,MAAO,CACLC,KAAM,EACNC,WAAY,SACZqF,aAAc,GACdH,gBAAiBtV,EACb+b,EAAM,mBACNA,EAAM,oBACV,UAEF,eAAC,SAAM,CACLwF,WAAW,QACXrR,MAAO,CACLmF,SAAU,WACV4E,IAAK,EACL2E,MAAO,EACPzO,KAAM,EACNsF,aAAc,IAEhBnD,eAAgB,SAACsJ,GAAK,OACpB,eAAC,O,mWAAI,EAACkV,KAAK,cAAc1wB,KAAK,cAAiBwb,KAEjDpL,QAAS,kBAAM0rB,GAAmB,MAEpC,eAAC,OAAI,CAAC3rB,SAAS,KAAKL,MAAO,CAAEoO,eAAgB,IAAK,SAC/CrI,IAEFoJ,OCzEF,IAAMvI,GAAW,wCCWT,SAASulB,GAA0B,GAI9C,IAHFC,EAAY,EAAZA,aACAC,EAAY,EAAZA,aACAzqB,EAAW,EAAXA,YAEMjS,EAAUoT,GAAe7R,GACzBpB,EAAWiT,GAAehS,GAChC,EAA0B2P,mBAAS,IAAG,WAA/B4rB,EAAK,KAAEC,EAAQ,KACtB,EAA0B7rB,mBAAS,IAAG,WAA/B8rB,EAAK,KAAEC,EAAQ,KACtB,EAA0B/rB,mBAAS,IAAG,WAA/B7J,EAAK,KAAE8kB,EAAQ,KAChBkI,EAAW,CACf6I,MAAO,CACL1mB,SAAU,GACVgZ,cAAe,GACf/Y,WAAY,OACZC,UAAW,SACXZ,MAAO,OACPpD,MAAOpS,EAAW,mBAAqB,cAEzCg0B,SAAU,CACR1e,gBAAiBtV,EACb,wBACA,sBAEN0Z,cAAe,CACbyB,SAAU,IACV+T,cAAe,KAInB9d,qBAAU,WACR2C,MAAS+C,GAAQ,2BAA4B,CAC3CxS,OAAQ,MACR1B,QAAS,CACP,eAAgB,mBAChB/C,aAEDqU,KAAK,WAAD,WAAC,UAAOiE,GACb,GAAIA,EAAKW,GAAI,CACX,IAAM+jB,QAAiB1kB,EAAKY,OAC5B0jB,EACEI,EAASl+B,KAAI,SAACm+B,GACZ,GAAIA,EACF,OAAUA,EAAKC,SAAQ,KAAKD,EAAK54B,SAAQ,QAI/Cy4B,EAASE,OAEV,OAAF,4CAZO,MAaP,IA4BH,IAAMG,EAAyB,SAAC58B,EAAMgC,GAKpC,YAAgB6nB,IAJHyS,EAAMzG,MACjB,SAACgH,GAAK,OAAU,MAALA,OAAK,EAALA,EAAO/4B,SAASg5B,cAAcvwB,SAASvK,EAAM86B,kBAC9C,MAALD,OAAK,EAALA,EAAOF,YAAa38B,MAwB7B,OACE,gBAAC,eAAY,CACX8P,MAAO6jB,EAASra,cAChB3S,MAAOA,EACP+K,YAAaA,EAAc,YAAc,KACzCE,aAlDiB,SAAC5P,GACpBq6B,EAUOC,EAAM/9B,KAAI,SAACm+B,GAChB,GAAIA,EACF,OAAUA,EAAKC,SAAQ,KAAKD,EAAK54B,SAAQ,OAX9BiE,QACX,SAAC/H,GAAI,OAAS,MAAJA,OAAI,EAAJA,EAAM88B,cAAcvwB,SAASvK,EAAM86B,iBACxCF,EAAuB58B,EAAMgC,OAGtCypB,EAASzpB,IA4CPwX,SAzBJ,SAAyBnJ,GACT,IAAVA,GACF6rB,GAAa,GACbC,EAAa,MAEb1Q,EAAS,MAETyQ,GAAa,GACbzQ,EAAS2Q,EAAM/rB,EAAQ,IACvB8rB,EAIJ,SAA8Bn8B,GAC5B,IAAM+8B,EAAW/8B,EAAKmvB,QAAQ,KACxB6N,EAAYh9B,EAAKmvB,QAAQ,KAC/B,OAAOnvB,EAAKuD,MAAMw5B,EAAW,EAAGC,GAPjBC,CAAqBb,EAAM/rB,EAAQ,OAgBtB,UAE1B,eAAC,mBAAgB,CAACwF,MAAO,MA7D7B,WACE,IAAM4jB,EAAQ,GACd,IAAK,IAAMyD,KAAUd,EACnB3C,EAAMh2B,KAAK,eAAC,mBAAgB,CAACoS,MAAOumB,EAAMc,IAAcA,IAE1D,OAAOzD,EAyDJ0D,MC5GQ,SAASC,GAAiB,GAAgB,IAAdC,EAAS,EAATA,UACnC39B,EAAUmT,GAAe5R,GAC/B,EAA4CuP,oBAAS,GAAM,WAApD8sB,EAAc,KAAEC,EAAiB,KACxC,EAAkC/sB,oBAAS,GAAM,WAA1CwjB,EAAS,KAAER,EAAY,KACxB5zB,EAAWiT,GAAehS,GAEhC,OACE,gBAACqrB,GAAA,QAAI,CACHpc,MAAO,CACL2G,UAAW,WACXJ,YAAa,KACbF,cAAe,iBACfZ,WAAY,GACZuZ,cAAe,IACf,UAEF,gBAAC/Z,GAAA,QAAgB,CACf3E,QAAS,WACH1Q,EACF69B,GAAkB,GAElB/J,GAAa,IAGjB1jB,MAAO,CACLE,WAAY,UACZ,UAEF,eAACkc,GAAA,QAAI,CACHpc,MAAO,CACLwF,OAAQ,GACRa,cAAe,SACflG,eAAgB,SAChBqK,YAAa,GACb,SAEF,eAACuO,GAAA,QAAY,CACX7oB,KAAK,cACL0e,KAAM,GACN1M,MAAOpS,EAAW,QAAU,YAGhC,eAAC,OAAI,CAACkQ,MAAO,CAAEyF,WAAY,GAAIO,SAAU,IAAK,SAAC,mBAEhDwnB,GACC,eAAC1B,GAAc,CACb/lB,MAAM,QACNoJ,SACE,eAAC,OAAI,CAACnP,MAAO,CAAEkK,kBAAmB,IAAK,SAAC,oHAK1C6hB,gBAAiByB,EACjBxB,mBAAoByB,IAGvBC,GAAYhK,EAAcQ,EAAWqJ,MAK5C,SAASG,GAAYhK,EAAcQ,EAAWqJ,GAC5C,IAActT,EAAa7kB,GAAoB2N,GAAe7R,IAAtD+W,KAER,EAA0BvH,mBAAS,IAAG,WAAxBib,GAAF,KAAU,MAChB7rB,EAAWiT,GAAehS,GAC1BpB,EAAUoT,GAAe7R,GAC/B,EAAkCwP,mBAAS,MAAK,WAAzCitB,EAAS,KAAEtB,EAAY,KAC9B,EAAkC3rB,oBAAS,GAAM,WAA/B0rB,GAAF,KAAc,MAExBvI,EAAW,CACf6I,MAAO,CACL1mB,SAAU,GACVgZ,cAAe,GACf/Y,WAAY,OACZC,UAAW,SACXZ,MAAO,OACPpD,MAAOpS,EAAW,mBAAqB,cAEzCg0B,SAAU,CACR1e,gBAAiBtV,EACb,wBACA,sBAEN0Z,cAAe,CACbyB,SAAU,IACV+T,cAAe,KAIb4O,EAAW,sBAAG,UAAOD,GACzB,IAiBE,aAhBqB9pB,MAAS+C,GAAQ,0BAA2B,CAC/DxS,OAAQ,OACR1B,QAAS,CACP,eAAgB,mBAChB/C,WAEF+E,KAAMgU,KAAKC,UAAU,CACnBklB,WAAY,CAACF,GACbr5B,KAAMoU,KAAKC,UAAU,CACnBnV,iBAAkB+5B,EAAU/5B,iBAC5BH,WAAYk6B,EAAUl6B,aAExB0S,MAAUkU,EAAS/S,cAAa,mBAChC4mB,cAAc,OAGJllB,GACd,MAAO5Z,GAEP,OADA4E,QAAQ6U,IAAIzZ,IACL,MAEV,gBAvBgB,sCAwBjB,OACE,eAAC,QAAK,CACJ20B,QAASO,EACTN,cAAeC,EAASC,SACxB9jB,MAAO,CAAEsF,MAAO,MAAOE,OAAQ,OAC/Bue,gBAAiB,kBAAML,GAAa,IAAO,SAE3C,gBAAC,OAAI,CAACvhB,UAAQ,YACZ,eAAC,OAAI,CAACnC,MAAO6jB,EAAS6I,MAAM,SAAC,sBAC5BP,GAA0B,CACzBC,eACAC,eACAzqB,aAAa,IAEf,gBAACwa,GAAA,QAAI,WACH,eAAC2R,GAAA,QAAM,CACL5rB,SAAwB,OAAdwrB,EACV5nB,MAAM,OACNzF,QAAS,WACPstB,EAAYD,GAAW3pB,MAAK,SAACgqB,GAC3BtK,GAAa,GACbsK,EACIzgB,UAAM9L,MAAM,gBACZ8L,UAAM9L,MACN,wBACA,gCAKV,eAACssB,GAAA,QAAM,CACLhoB,MAAM,UACNzF,QAAS,WACPojB,GAAa,GACb0I,GAAa,GACbzQ,EAAS,IACT0Q,EAAa,iBCvKpB,IAAM4B,GAAY,CACvBC,kBAAmB,CAAC,mBAAoB,oBACxC,cAAe,CAAC,mBAAoB,oBACpC,aAAc,CAAC,mBAAoB,mBACnC,kBAAmB,KACnB,aAAc,CAAC,mBAAoB,mBACnC,eAAgB,CAAC,mBAAoB,oBACrC,eAAgB,CAAC,mBAAoB,oBACrC,eAAgB,KAChB,aAAc,CAAC,mBAAoB,mBACnC,eAAgB,KAChB,aAAc,KACdC,SAAU,CAAC,mBAAoB,oBAC/B,uBAAwB,CAAC,mBAAoB,oBAC7C,cAAe,KACf,yBAA0B,CAAC,mBAAoB,oBAC/C,oBAAqB,KACrB,0BAA2B,CAAC,mBAAoB,mBAChDC,QAAS,KACT,gBAAiB,CAAC,oBAAqB,oBACvC,eAAgB,CAAC,mBAAoB,oBACrC,uBAAwB,CAAC,mBAAoB,oBAC7CC,QAAS,CAAC,mBAAoB,oBAC9B,6BAA8B,CAAC,mBAAoB,oBACnD,eAAgB,CAAC,mBAAoB,oBACrC,sBAAuB,CAAC,oBAAqB,oBAC7C,wBAAyB,CAAC,oBAAqB,mBAC/C,oBAAqB,CAAC,mBAAoB,oBAC1C,0BAA2B,CAAC,mBAAoB,oBAChD,gBAAiB,CAAC,mBAAoB,oBACtC,oBAAqB,CAAC,mBAAoB,oBAC1C,sBAAuB,CAAC,mBAAoB,oBAC5C,wBAAyB,CAAC,mBAAoB,oBAC9C,cAAe,CAAC,oBAAqB,mBACrC,cAAe,CAAC,oBAAqB,mBACrCC,QAAS,CAAC,mBAAoB,oBAC9B,0BAA2B,CAAC,oBAAqB,oBACjD,uBAAwB,CAAC,mBAAoB,oBAC7C,mBAAoB,CAAC,kBAAmB,oBACxCC,OAAQ,KACR,+BAAgC,CAAC,oBAAqB,oBACtD,yBAA0B,CAAC,oBAAqB,oBAChDC,IAAK,CAAC,oBAAqB,oBAC3BC,SAAU,CAAC,mBAAoB,oBAC/B,gBAAiB,CAAC,mBAAoB,oBACtC,eAAgB,CAAC,mBAAoB,mBACrC,iBAAkB,CAAC,mBAAoB,oBACvC,gBAAiB,CAAC,mBAAoB,oBACtC,gBAAiB,CAAC,kBAAmB,mBACrC,mBAAoB,CAAC,oBAAqB,oBAC1C,2BAA4B,CAAC,mBAAoB,oBACjD,6BAA8B,CAAC,mBAAoB,oBACnD,sBAAuB,CAAC,mBAAoB,oBAC5C,0BAA2B,CAAC,oBAAqB,oBACjD,0BAA2B,CAAC,oBAAqB,oBACjD,cAAe,CAAC,mBAAoB,oBACpC,kBAAmB,CAAC,mBAAoB,oBACxC,yBAA0B,CAAC,mBAAoB,oBAC/CC,SAAU,CAAC,oBAAqB,oBAChC,gBAAiB,CAAC,oBAAqB,oBACvC,yBAA0B,CAAC,mBAAoB,oBAC/C,0BAA2B,CAAC,mBAAoB,oBAChD,iBAAkB,CAAC,oBAAqB,mBACxC,iBAAkB,CAAC,oBAAqB,mBACxC,sBAAuB,CAAC,mBAAoB,oBAC5CC,KAAM,CAAC,mBAAoB,oBAC3B,0BAA2B,CAAC,mBAAoB,oBAChD,iBAAkB,CAAC,mBAAoB,oBACvCC,IAAK,MAiBA,SAASC,GAAuB3+B,GACrC,IAAIy5B,EAAQ,GACZ,IAAK,IAAMmF,KAAQ5+B,GACb4+B,EAAK/yB,MAAM,WAAsB,MAAT+yB,KAC1BnF,GAASmF,GAGb,OAAOnF,EAAMntB,O,qkBC2eAuyB,6BA9iBf,SAAyB,GAA4C,IAA1CC,EAAG,EAAHA,IAAKjvB,EAAU,EAAVA,WAAW,EAAD,EAAE7G,qBAAa,MAAG,KAAI,EAC9D,EAAkCwH,oBAAS,GAAM,WAA1CwjB,EAAS,KAAER,EAAY,KACxBuL,EAAgBpuB,iBAAO,MACvBgL,EAAQC,qBACRnc,EAAUoT,GAAe7R,GACjB+oB,EAAa7kB,GAAoBzF,EAAS,CACtDu/B,MAAOv/B,IADDsY,KAGFnY,EAAWiT,GAAehS,GAChC,EAA4D2P,mBAAS,IAAG,WAAjEyuB,EAAsB,KAAEC,EAAyB,KAElD/1B,GADU0J,IAAe,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAWtD,WACrDyJ,IAAe,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAWvD,UAC5DH,IACHA,EAAgB6J,IACd,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAW1D,kBAGxC,IAAMm2B,EAAa,CACjB,SACA,UACA,YACA,WACA,SACA,WACA,UAGIjqB,EAAkBtV,EAAWk/B,EAAIhvB,MAAMsvB,KAAON,EAAIhvB,MAAMuvB,MAEhDC,EAAyB92B,GAA0B,CAC/D/I,UACA6D,iBAAkB0F,EAAc1F,mBAF1ByU,KAiBY,SAELwnB,EAAwB,GAAD,4CAkCrC,OAlCqC,OAAtC,UAAuCpf,GACrC,IACIqf,EADEx/B,EAAOmgB,EAAK9T,cAElB,IACEmzB,EAAWrf,EAAK9T,cAAchJ,MAAM,KAAK,GACzC,MAAOvE,GACP4E,QAAQ6U,IAAI,gBACZinB,EAAWrf,EAAK9T,cAElB,IAAMozB,QAAY9rB,MACb+C,2DAGC8oB,EAAQ,gBAERzV,EAAShkB,YACb,CACE7B,OAAQ,MACR1B,QAAS,CACP,eAAgB,mBAChB/C,aAIN,GAAIggC,EAAI/mB,GAAI,CACV,IAAMzS,QAAgBw5B,EAAI9mB,OAC1B,GAAI1S,EAAQhD,OAAS,EAAG,CACtB,IAAMwW,EAAS,MACVwlB,GAELxlB,EAAUzZ,GAAQiG,EAClBi5B,EAA0BzlB,SAG/B,sBAED,SAASue,EAAgB7X,GAMvB,OAJIA,EAAKuf,gBAAkBvf,EAAKuf,eAAez8B,OAAS,IACtDkd,EAAOA,EAAKuf,eAAe,IAGxBvf,EAAKb,WAAgC,KAAnBa,EAAKb,WAAuC,OAAnBa,EAAKb,UAIhD4Y,EAAoB/X,EAAKb,WAAU,MAEpC4Y,EAAoB/X,EAAKX,SAAQ,KAL5B,SAUX,SAAS0Y,EAAoB/X,GACP,IAAhBA,EAAKld,SACPkd,EAAI,IAAOA,GAEb,IAAIG,EAAQH,EAAK5c,MAAM,EAAG,GACpBid,EAAUL,EAAK5c,MAAM,EAAG,GAC1Bmd,EAAO0X,OAAOC,SAAS/X,GAAS,GAAK,KAAO,KAMhD,OAJc,KADdA,GAAS,MAEPA,EAAQ,GACRI,EAAO,MAECJ,EAAK,IAAIE,EAAUE,EA/E/B1P,qBAAU,WAOR,GANiB,MAAb+tB,KAAe9tB,SACjB8tB,EAAc9tB,QAAQ0uB,SAAS,CAC7B7O,EAAG,EACH8O,UAAU,IAGV52B,EACF,IAAK,IAAMmX,KAAQnX,EAAcuC,MAC/Bg0B,EAAwBpf,KAG3B,CAACnX,IAuGJ,IAAM62B,EACJ,eAAC,QAAK,CACJpM,QAASO,EACTN,cAAexf,GAAO0f,SACtB9jB,MAAO,CAAEsF,MAAO,OAChBye,gBAAiB,kBAAML,GAAa,IAAO,SAE3C,gBAAC,OAAI,CAACvhB,UAAQ,YACZ,eAAC,OAAI,CAACnC,MAAO,CAAEgG,SAAU,GAAItE,WAAY,EAAGsd,cAAe,IAAK,SAAC,4WAQjE,eAAC,SAAM,CAAC1e,QAAS,kBAAMojB,GAAa,IAAO,SAAC,iBAKlD,IAAKxqB,EAAcuC,MACjB,OAAO,KAGT,MAA0CiF,oBAAS,GAAM,WAAlDsvB,EAAa,KAAEC,EAAgB,KACtC,EAA4CvvB,mBAAS,IAAG,WAAjDwvB,EAAc,KAAEC,EAAiB,KAExC,SAASC,EAAoB/f,GAC3B,IAAMggB,EAAY,GAClB,IAAK,IAAMC,KAAYjgB,EAAKuf,eAC1B,IAAK,IAAMnc,KAAO4b,EAChB,GAAIiB,EAASC,cAAc9zB,SAASgX,GAAM,CAAC,IAAD,EAClC+c,EAAcpI,EAAoBkI,EAAS9gB,WAAU,MAEzD4Y,EAAoBkI,EAAS5gB,UACb,OAAd,EAAA2gB,EAAU5c,SAAI,EAAd,EAAgBtgB,QAAS,EAC3Bk9B,EAAU5c,GAAK9f,KAAK68B,GAEpBH,EAAU5c,GAAO,CAAC+c,GAM1BL,EAIF,SAAuBM,GACrB,IAAMC,EAAathC,OAAOD,KAAKshC,GACzBE,EAAevhC,OAAOwhC,OAAOH,GACnC,OACE,gBAAC,SAAM,CAACzwB,MAAO,CAAEqG,cAAe,OAAQ,UACtC,eAAC,SAAM,UACJqqB,EAAWjiC,KAAI,SAACoI,GACf,OACE,eAAC,SAAM,UACL,eAAC,OAAI,CACHmJ,MAAO,CACLwF,OAAQ,GACRiB,YAAa,EACbD,YAAa,QACboE,QAAS,IACT,SAED/T,WAMX,eAAC,SAAM,UACJ85B,EAAaliC,KAAI,SAACoI,GACjB,OACE,eAAC,SAAM,UACL,eAAC,OAAI,CACHmJ,MAAO,CACLwF,OAAQ,GACRiB,YAAa,EACbD,YAAa,QACboE,QAAS,IACT,SAED/T,EAAMnD,KAAK,kBAvCRm9B,CAAcR,IAChCJ,GAAiB,GAgDnB,OACE,eAACpP,GAAA,eAAc,CACbC,OACEhxB,EACI,CAAC+b,EAAM,oBAAqBA,EAAM,qBAClC,CAACA,EAAM,qBAAsBA,EAAM,sBAEzC7L,MAAO,CACLsF,MAAO,OAAQlF,OAAQ,EAAGF,WAAY,SAAUD,KAAM,GAExDqS,MAAO,CAAEyO,EAAG,EAAGC,EAAG,GAClBzO,IAAK,CAAEwO,EAAG,EAAGC,EAAG,IAAM,SAEtB,gBAACnX,GAAA,QAAU,CACToX,sBAAuB,CAAEta,UAAW,SAAUjB,SAAU,KACxD1F,MAAOoF,EACPoc,8BAA8B,EAC9B3f,IAAKotB,EAAc,UAEnB,gBAAC,SAAM,CAACjvB,MAAO,CAAC,CAAEE,WAAY,UAAYkF,GAAiB,UACzD,eAACkoB,GAAgB,CAACC,UAAWr0B,IAC7B,eAAC,OAAI,CAAC8G,MAAOoE,GAAO2B,MAAM,SAAE7M,EAAcsC,aAC1C,eAAC,OAAI,CAACwE,MAAO,CAAE0B,WAAY,IAAK,SAC7BxI,EAAc1F,mBAGjB,eAAC,OAAI,CAACwM,MAAOoE,GAAOsiB,SAAS,SACvBxtB,EAAc7F,WAAU,qBAC1BgG,EAAQH,EAAc43B,eAAiB53B,EAAc63B,gBAGxD73B,EAAc83B,qBACb,gBAAC,SAAM,CACLhxB,MAAO,CACL,CACEqG,cAAe,MACfnG,WAAY,aACZuK,aAAc,GAEhBrF,GACA,UAEF,eAAC,OAAI,CAACpF,MAAOoE,GAAOsiB,SAAS,SAAC,wBAC9B,eAAC,OAAI,CAAC1mB,MAAO,CAAEgG,SAAU,GAAIirB,WAAY,IAAK,SAAC,MAC/C,gBAAC,OAAI,CAACjxB,MAAOoE,GAAOsiB,SAAS,UAAC,IAE3B,IACAxtB,EAAc83B,oBACd,IAAI,cAKV93B,EAAcg4B,cACb,gBAAC,SAAM,CACLlxB,MAAO,CACL,CACEqG,cAAe,MACfnG,WAAY,aACZuK,aAAc,GAEhBrF,GACA,UAEF,eAAC,OAAI,CAACpF,MAAOoE,GAAOsiB,SAAS,SAAC,kBAC9B,eAAC,OAAI,CAAC1mB,MAAO,CAAEgG,SAAU,GAAIirB,WAAY,IAAK,SAAC,MAC/C,gBAAC,OAAI,CAACjxB,MAAOoE,GAAOsiB,SAAS,UAAC,IAE3B,IACAxtB,EAAcg4B,mBAIpBh4B,EAAcxC,YACb,gBAAC,SAAM,CACLsJ,MAAO,CACL,CACEqG,cAAe,MACfnG,WAAY,aACZuK,aAAc,GAEhBrF,GACA,UAEF,eAAC,OAAI,CAACpF,MAAOoE,GAAOsiB,SAAS,SAAC,yBAC9B,eAAC,OAAI,CAAC1mB,MAAO,CAAEgG,SAAU,GAAIirB,WAAY,IAAK,SAAC,MAC/C,gBAAC,OAAI,CAACjxB,MAAOoE,GAAOsiB,SAAS,UAAC,IAE3B,IACAxtB,EAAcxC,WACd,IAAI,YAKVwC,EAAc3C,QACb,gBAAC,SAAM,CACLyJ,MAAO,CACL,CACEqG,cAAe,MACfnG,WAAY,aACZuK,aAAc,GAEhBrF,GACA,UAEF,eAAC,OAAI,CAACpF,MAAOoE,GAAOsiB,SAAS,SAAC,mBAC9B,eAAC,OAAI,CAAC1mB,MAAO,CAAEgG,SAAU,GAAIirB,WAAY,IAAK,SAAC,MAC/C,gBAAC,OAAI,CAACjxB,MAAOoE,GAAOsiB,SAAS,UAAC,IAE3BxtB,EAAc3C,OACd,IAAI,eAMb,eAAC,SAAM,CAACyJ,MAAOoF,EAAgB,SAC7B,eAAC,OAAI,CAACpF,MAAOoE,GAAO+sB,kBAAkB,SAAEj4B,EAAck4B,YAExD,gBAAC,SAAM,CAACpxB,MAAK,SAAOoF,GAAoBhB,GAAOitB,OAAQ,UACrD,eAAC,OAAI,CAACrxB,MAAO,CAAEgG,SAAU,GAAIC,WAAY,QAAS,SAAC,0BAGnD,eAAC,OAAI,CAACjG,MAAO,CAAEgG,SAAU,IAAK,SACK,KAAhC9M,EAAco4B,cACXp4B,EAAco4B,cACd,SAGN,eAAC,OAAI,CAACtxB,MAAO,CAAEgG,SAAU,GAAIC,WAAY,QAAS,SAAC,yBAGnD,eAAC,OAAI,CAACjG,MAAO,CAAEgG,SAAU,IAAK,SACI,KAA/B9M,EAAcq4B,aACXr4B,EAAcq4B,aACd,YAGR,eAAC,SAAM,CAACvxB,MAAO,CAAC,CAAEE,WAAY,YAAckF,GAAiB,UACzDlM,EAAc83B,qBACX93B,EAAcg4B,cACdh4B,EAAcxC,YACdwC,EAAc3C,SACjB,eAAC0O,GAAA,QAAgB,CAAC3E,QAAS,kBAAMojB,GAAcQ,IAAW,SACxD,gBAAC,SAAM,CACLlkB,MAAO,CACL,CACEqG,cAAe,MACfnG,WAAY,aACZuK,aAAc,GAEhBrF,GACA,UAEF,eAAC,OAAI,CAACpF,MAAO,CAAEgG,SAAU,GAAIirB,WAAY,IAAK,SAAC,MAC/C,eAAC,OAAI,CAACjxB,MAAOoE,GAAOotB,WAAW,SAAC,oCAKxC,gBAAC,SAAM,CAACxxB,MAAOoF,EAAgB,UAC5BlM,EAAcuC,MAAMtI,OAAS,GAC5B,gBAAC,SAAM,CAAC6M,MAAOoF,EAAgB,UAC7B,eAAC,OAAI,CAACpF,MAAOoE,GAAOqtB,UAAU,SAAC,aAC/B,gBAAC,SAAM,CAACzxB,MAAO,CAACoE,GAAOstB,QAAStsB,GAAiB,UAC/C,eAAC,OAAI,CAACpF,MAAOoE,GAAO2iB,WAAW,SAAC,gBAChC,eAAC,OAAI,CAAC/mB,MAAOoE,GAAO2iB,WAAW,SAAC,eAChC,eAAC,OAAI,CAAC/mB,MAAOoE,GAAO2iB,WAAW,SAAC,cAChC,eAAC,OAAI,CAAC/mB,MAAOoE,GAAO2iB,WAAW,SAAC,SAChC,eAAC,OAAI,CAAC/mB,MAAOoE,GAAO2iB,WAAW,SAAC,mBAIrC7tB,EAAcuC,MAAMhN,KAAI,SAAC4hB,GAAU,IAAD,MACjC,OACE,gBAAC,SAAM,CAELrQ,MAAK,IAAIoF,mBAAoBhB,GAAOstB,SAAU,UAE9C,eAAC,OAAI,CAAC1xB,MAAOoE,GAAOutB,YAAY,SAAEthB,EAAKjd,aACvC,gBAAC,OAAI,CAAC4M,MAAOoE,GAAOutB,YAAY,UAC7BthB,EAAKuhB,YACL,IAAI,IAEJvhB,EAAKuhB,YAAcvhB,EAAKwhB,eACxB,IAAI,IAEJ,IACAxhB,EAAKyhB,UAAYzhB,EAAKyhB,UAAY,KAErC,eAAC,OAAI,CAAC9xB,MAAOoE,GAAOutB,YAAY,SAAEthB,EAAK9T,gBACvC,eAAC,SAAM,CAACyD,MAAOoE,GAAOutB,YAAY,UAC3B,MAAJthB,GAAoB,OAAhB,EAAJA,EAAMuf,qBAAF,EAAJ,EAAsBz8B,QAAS,EAC9B,eAAC8R,GAAA,QAAgB,CACf3E,QAAS,kBAAM8vB,EAAoB/f,IACnClO,YAAgB,MAAJkO,GAAoB,OAAhB,EAAJA,EAAMuf,qBAAF,EAAJ,EAAsBz8B,QAAS,GAAG,SAE9C,gBAAC,OAAI,CACH6M,MAAK,SACAoE,GAAOutB,aAAW,IACrBzvB,MAAO,uBACP6vB,mBAAoB,cACpB,UAEe,QAAhBxzB,UAASC,GAAe,QAAU,QAClC,IAAI,MAEJ,KAAK,gBAKV,gBAAC,OAAI,CAACwB,MAAOoE,GAAOutB,YAAY,UAC7BzJ,EAAgB7X,IACZ,MAAJA,GAAoB,OAAhB,EAAJA,EAAMuf,qBAAF,EAAJ,EAAsBz8B,QAAS,EAC5Bkd,EAAKuf,eAAe,GAAGW,cAAc78B,KAAK,MAC1C2c,EAAKkgB,cAAc78B,KAAK,WAIlC,eAACuR,GAAA,QAAgB,CACf9C,UACG8rB,GACCY,GACExe,EAAKuf,eAAe,GAAGpE,gBAI7BxrB,MAAO,CAAEC,KAAM,GACfK,QAAS,WACP0xB,mBAAQ,CACNC,UAAW,GACXC,SAAU,SACVhgC,MAAO+7B,GACLY,GACExe,EAAKuf,eAAe,GAAGpE,gBAGxB/8B,KAAI,SAAC0jC,GAAM,OAAKA,EAAO5H,cACvB72B,KAAK,MACR0+B,KAAM,MAER,SAEF,eAAC,OAAI,CACHpyB,MACEiuB,GACEY,GACExe,EAAKuf,eAAe,GAAGpE,gBAE1B,SAEMpnB,GAAOutB,aAAW,IACrBzvB,MAAO,uBACP6vB,mBAAoB,cAEpB,CAAE9xB,KAAM,GACb,SAEAoQ,EAAKuf,eAAe,GAAGpE,cACpBnb,EAAKuf,eAAe,GAAGpE,cACvB,YArFHnb,EAAKjd,eA2Ff28B,EACD,eAACjE,GAAc,CACb3c,SAAU+gB,EACVnE,gBAAiBiE,EACjBhE,mBAAoBiE,EACpBlqB,MAAM,4BAGW,MAApBypB,KAAsB6C,UACrB,eAAC,SAAM,CACLryB,MAAO,CAAEI,OAAQ,IACjBE,QAAS,WACPP,EAAWyB,SAAS,eACpB,SACH,gBAGC,KACJ,eAAC,OAAI,CAACxB,MAAOoE,GAAOqtB,UAAU,SAAC,kBACG,IAAjCv4B,EAAc/C,QAAQhD,OACrB,eAAC,OAAI,CACH6M,MAAO,CACL2G,UAAW,SACXT,UAAW,SACXE,aAAc,IACd,SACH,yBAIDlN,EAAc/C,QAAQ1H,KAAI,SAAC6H,EAAQiK,GAAK,OACtC,gBAAC,OAAI,CAAa4B,UAAQ,YACxB,eAAC,OAAI,UAAK7L,EAAOhC,KAAI,eAAegC,EAAOsZ,OAC1CtZ,EAAOg8B,WACN,eAAC,OAAI,wBAAgBh8B,EAAOg8B,cAHrB/xB,MAQiC,IAA/CnR,OAAOD,KAAKggC,GAAwBh8B,OAlb3C,WACE,IAAMw2B,EAAQ,GACd,IAAK,IAAM2I,KAAaljC,OAAOD,KAAKggC,GAAyB,CAC3D,IAAMh5B,EAAUg5B,EAAuBmD,GACvC3I,EAAMh2B,KACJ,uCACE,gBAAC,OAAI,CAACqM,MAAOoE,GAAOqtB,UAAU,UAAC,eAE5Ba,KAEiB,IAAnBn8B,EAAQhD,OACP,eAAC,OAAI,CACH6M,MAAO,CACL2G,UAAW,SACXT,UAAW,SACXE,aAAc,IACd,SACH,4BAIDjQ,EAAQ1H,KAAI,SAAC6H,EAAQiK,GAAK,OACxB,eAAC,OAAI,CAAa4B,UAAQ,WACxB,eAAC,OAAI,UAAK7L,EAAOhC,KAAI,eAAegC,EAAOsZ,QADlCrP,UAQrB,OAAOopB,EAqZC4I,GACA,aAM+B,SAAC1mB,GAAK,MAAM,CACrDyjB,KAAM,CACJlqB,gBAAiByG,EAAM,oBAEzB0jB,MAAO,CACLnqB,gBAAiByG,EAAM,wBAIrBzH,GAASyB,WAAWC,OAAO,CAC/BC,MAAO,CACLC,SAAU,GACVP,UAAW,GACXQ,WAAY,QAEdygB,SAAU,CACR1gB,SAAU,IAEZwsB,WAAY,CACVptB,gBAAiB,QACjBlD,MAAO,OACP0I,QAAS,EACTrE,YAAa,IAEfksB,aAAc,CACZrtB,gBAAiB,MACjBlD,MAAO,OACP0I,QAAS,EACTrF,aAAc,GAEhBuf,OAAQ,CACN5kB,WAAY,UAEdwyB,QAAS,CACPrsB,cAAe,MACfuE,QAAS,GACT1K,WAAY,SACZC,eAAgB,cAElBgxB,kBAAmB,CACjB1mB,aAAc,GACdD,YAAa,GACb9I,WAAY,GACZsd,cAAe,EACfhZ,SAAU,IAEZ2sB,cAAe,CACb1N,eAAgB,EAChB2N,eAAgB,QAChBvsB,cAAe,MACf+T,SAAU,OACVja,eAAgB,eAChByK,QAAS,GACTlJ,WAAY,GACZsd,cAAe,IAEjBqS,MAAO,CACLnxB,WAAY,SACZE,OAAQ,EACRoG,YAAa,QACbC,YAAa,EACbmE,QAAS,GAEXioB,cAAe,CACbvtB,MAAO,IACPE,OAAQ,IACR9D,WAAY,KAEdoxB,WAAY,CACV9sB,SAAU,GACV9D,MAAO,QACP0I,QAAS,GACT1E,UAAW,UAEb6sB,SAAU,CACRvoB,YAAa,GACb9I,WAAY,IAEdsxB,WAAY,CACV1tB,MAAO,OACP2tB,YAAa,EACbnkB,WAAY,WAEdokB,MAAO,CACLltB,SAAU,GACVC,WAAY,OACZ/D,MAAO,SAETixB,WAAY,CACVntB,SAAU,GACViT,UAAW,UAEbma,UAAW,CACT9tB,MAAO,MACPsF,QAAS,GACTnE,YAAa,EACbD,YAAa,QACbjB,aAAc,EACda,aAAc,IAEhBsrB,QAAS,CACPrrB,cAAe,MACfmE,YAAa,EACbsd,kBAAmB,EACnB3nB,eAAgB,SAChBD,WAAY,UAEd6mB,WAAY,CACV9gB,WAAY,OACZD,SAAU,GACV/F,KAAM,GAER0xB,YAAa,CACX1xB,KAAM,GAERuxB,WAAY,CACVxrB,SAAU,GACViT,UAAW,UAEb6K,SAAU,CACR1e,gBAAiB,sBAEnByF,MAAO,CACLrF,OAAQ,GACRpF,OAAQ,GACRqG,YAAa,EACbmE,QAAS,IAEXpB,cAAe,CACbhE,OAAQ,GACRpF,OAAQ,GACRqG,YAAa,GAEf4sB,cAAe,CACb7tB,OAAQ,GACR4I,eAAgB,GAChB3H,YAAa,EACbmE,QAAS,GACTrE,YAAa,GACbD,WAAY,IAEdhS,KAAM,CACJ0R,SAAU,GACVirB,WAAY,GACZhrB,WAAY,OACZqtB,cAAe,IACfpxB,MAAO,SAETuvB,UAAW,CACTzrB,SAAU,GACVwE,YAAa,GACbwU,cAAe,GACftd,WAAY,GACZuE,WAAY,UCluBHstB,GAAoB,CAC/B,CACEpqB,MAAO,YACPva,GAAI,YACJ4kC,WAAW,EACXre,KAAM,UAER,CACEhM,MAAO,QACPva,GAAI,QACJumB,KAAM,WACNqe,WAAW,EACX11B,QAAS,CACP,CACEqL,MAAO,KACPva,GAAI,KAEN,CACEua,MAAO,IACPva,GAAI,KAEN,CACEua,MAAO,KACPva,GAAI,KAEN,CACEua,MAAO,KACPva,GAAI,KAEN,CACEua,MAAO,IACPva,GAAI,KAEN,CACEua,MAAO,KACPva,GAAI,KAEN,CACEua,MAAO,KACPva,GAAI,KAEN,CACEua,MAAO,IACPva,GAAI,KAEN,CACEua,MAAO,KACPva,GAAI,KAEN,CACEua,MAAO,KACPva,GAAI,KAEN,CACEua,MAAO,IACPva,GAAI,KAEN,CACEua,MAAO,KACPva,GAAI,KAEN,CACEua,MAAO,KACPva,GAAI,KAEN,CACEua,MAAO,IACPva,GAAI,KAEN,CACEua,MAAO,KACPva,GAAI,OAIV,CACEua,MAAO,8BACPva,GAAI,YACJ4kC,WAAW,EACXre,KAAM,W,qkBC7DK,SAASse,GAAU,GAAiB,IAAf1zB,EAAU,EAAVA,WAClC,EAAwBW,mBAAS,IAAG,WAA7BhM,EAAI,KAAEg/B,EAAO,KACd/jC,EAAUoT,GAAe7R,GACzBpB,EAAWiT,IAAe,SAACzS,GAAK,OAAKA,EAAMU,QAAQC,OAAOnB,YAC1DoJ,EAAgB6J,IACpB,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAW1D,iBAEtC,EAAoCP,KAAuB,WAApDP,EAAU,KAAI0I,EAAS,KAATA,UAEf+K,EAAQC,qBAER1G,EAAkBtV,EACpB+b,EAAM,mBACNA,EAAM,mBAEJ3J,EAAQpS,EAAW+b,EAAM,mBAAqBA,EAAM,mBAEpD8nB,EAAqB,sBAAG,YAC5B,UACQv7B,EAAW,CACf1D,KAAK,SACAA,GAAI,IACPlB,iBAAkB0F,EAAc1F,mBAElC7D,YACC4R,SACHgM,UAAM9L,MACJ,mBAAmB,mBACAvI,EAAcsC,WAAU,kEAC3C,CACE,CACElH,KAAM,KACNgM,QAAS,WACPP,EAAWiJ,aAKnB,MAAOlW,GACPya,UAAM9L,MACJ,QAAQ,sEAGV7N,QAAQC,KAAK,4BAA6Bf,OAE7C,kBA5B0B,mCA8J3B,OACE,gBAAC+W,GAAA,QAAU,CAAC7J,MAAO,CAAEoF,mBAAkB,UACrC,gBAAC,SAAM,CAACpF,MAAK,IAAIoF,mBAAoBhB,GAAOC,WAAY,UACtD,eAAC,SAAM,CAACrE,MAAO,CAAEoF,mBAAkB,SAnIzC,SAAkCzQ,GAChC,IAAMi/B,EAAc,SAACC,EAAUC,GAC7B,IAAMC,EAAUr/B,EAChB,IAAK,IAAMs/B,KAAUD,EAEG,OAApBA,EAAQC,SACeja,IAApBga,EAAQC,IACY,KAApBD,EAAQC,WAEJD,EAAQC,QAGFja,IAAb8Z,EACFE,EAAQD,GAAiBD,EAChBE,EAAQD,WACVC,EAAQD,GAEjBJ,EAAQK,IAuBJpK,EAAQ,GA8CdA,EAAMh2B,KACJ,eAAC,QAAK,CAEJgO,eAAe,YACfG,aAAc,SAAC+xB,GAAQ,OAAKD,EAAYC,EAAU,SAClD7zB,MAAK,SAAOoE,GAAO6vB,UAAQ,IAAE7uB,kBAAiBlD,UAC9CsP,WAAS,EACT3M,qBAAsB/U,EAAW+b,EAAM,mBAAqB,OAC5DjK,YAAY,2BANR,gBASR,IADE,kBAEA,IAAQuT,EAASxgB,EAAOsc,GAAhBkE,KACK,WAATA,EACFwU,EAAMh2B,KACJ,eAAC,QAAK,CAEJgO,eAAe,QACfuyB,gBAAgB,SAChBpyB,aAAc,SAAC+xB,GAAQ,OAAKD,EAAYC,EAAUl/B,EAAOsc,GAAGriB,KAC5DoR,MAAK,SAAOoE,GAAOyG,OAAK,IAAEzF,kBAAiBlD,UAC3C2C,qBAAsB/U,EAAW+b,EAAM,mBAAqB,OAC5DjK,YACEjN,EAAOsc,GAAGuiB,UACH7+B,EAAOsc,GAAG9H,MAAK,eAClBxU,EAAOsc,GAAG9H,OATX8H,IAaS,aAATkE,GACTwU,EAAMh2B,KA1Ea,SAACwgC,GACtB,MAA0CzzB,mBAAS,IAAI8G,YAAU,IAAG,WAA7DC,EAAa,KAAEC,EAAgB,KACtC,EAAkChH,oBAAS,GAAM,WAA1C0zB,EAAS,KAAEhI,EAAY,KA4B9B,OACE,gBAAC,SAAM,CACLpsB,MAAK,SAAOoE,GAAOoF,eAAa,IAAEpE,oBAClCvO,MA7BJ,WACE,OACE,gBAAC,OAAI,WACDu9B,EAIED,EAAMr2B,QAAQ2J,EAAcmC,IAAM,GAAGT,MAJ9B,UAEPgrB,EAAMhrB,OACLgrB,EAAMX,UAAY,eAAiB,IAEvC,MANO,iBA4BV/rB,cAAeA,EACfiC,SAlBJ,SAAyBnJ,GACvBmH,EAAiBnH,GACjBqzB,EACgB,IAAdrzB,EAAMqJ,SAAYmQ,EAAYoa,EAAMr2B,QAAQyC,EAAMqJ,IAAM,GAAGhb,GAC3DulC,EAAMvlC,IAEU,IAAd2R,EAAMqJ,IACRwiB,GAAa,GAEbA,GAAa,IASa,UAE1B,eAAC,aAAU,CAACrmB,MAAO,MAClBouB,EAAMr2B,QAAQrP,KAAI,WAAY8R,GAAK,IAAd4I,EAAK,EAALA,MAAK,OACzB,eAAC,aAAU,CAACpD,MAAOoD,GAAY5I,SAmCxB8zB,CAAe1/B,EAAOsc,MAnB5BA,EAAI,EAAGA,EAAItc,EAAOxB,OAAQ8d,IAAG,KAuBtC,OACE,gBAAC,SAAM,CAACjR,MAAO,CAAEoF,mBAAkB,UAtGN,SAACzQ,GAC9B,OAAsB,IAAlBA,EAAOxB,OACF,KAGP,eAAC,SAAM,CAAC6M,MAAO,CAAEqG,cAAe,MAAOjB,mBAAkB,SACvD,eAAC,OAAI,CACHpF,MAAO,CACLgG,SAAU,GACVwE,YAAa,GACbwU,cAAe,EACftd,WAAY,EACZ4yB,aAAc,SACdruB,WAAY,QACZ,SACH,qBAwFFsuB,CAAuB5/B,GACxB,eAAC,SAAM,CAACqL,MAAO,CAAEoF,mBAAkB,SAAEukB,OASlC6K,CAAyB7/B,MAE5B,eAAC,SAAM,CAACqL,MAAO,CAAEI,OAAQ,IAAME,QAASqzB,EAAsB,SAAC,mBAIhE7yB,EACC,eAAC,SAAM,CACLd,MAAO,CACLoF,gBAAiB,cACjBD,SAAU,WACVuJ,MAAO,MACP3E,IAAK,OACL,SAEF,eAAC,UAAO,MAER,QAKV,IAAM3F,GAASyB,WAAWC,OAAO,CAC/B+E,MAAO,CACLrF,OAAQ,GACRpF,OAAQ,GACRwK,QAAS,GACTpE,YAAa,UACbjB,aAAc,EACdkB,YAAa,GAEfwtB,SAAU,CACRzuB,OAAQ,IACRpF,OAAQ,GACRwK,QAAS,GACTpE,YAAa,UACbjB,aAAc,EACdkB,YAAa,GAEf+C,cAAe,CACbhE,OAAQ,GACRpF,OAAQ,IAEVizB,cAAe,CACb7tB,OAAQ,GACR4I,eAAgB,GAChBxD,QAAS,GACTrE,YAAa,GACbD,WAAY,IAEdhS,KAAM,CACJ0R,SAAU,GACVirB,WAAY,GACZhrB,WAAY,OACZqtB,cAAe,KAEjBjvB,UAAW,CACTpE,KAAM,GAGR6kB,OAAQ,CACNrf,UAAW,GACXvF,WAAY,SACZC,eAAgB,SAChBmF,MAAO,QAETihB,QAAS,CACPrmB,WAAY,SACZE,OAAQ,GACRwK,QAAS,IAEX4b,MAAO,CACL/gB,UAAW,GACXghB,QAAS,OACTtmB,eAAgB,cAElB4F,MAAO,CACLC,SAAU,GACVM,WAAY,IAEd7B,KAAM,CACJa,MAAO,OACPE,OAAQ,KAEVmhB,gBAAiB,CACfrhB,MAAO,OACPnF,eAAgB,SAChBD,WAAY,SACZuF,UAAW,GACXW,aAAc,IAEhBwgB,OAAQ,CACNthB,MAAO,IACPE,OAAQ,KAEVqhB,aAAc,CACZxgB,cAAe,MACf+T,SAAU,OACVha,OAAQ,GACRgG,aAAc,GAEhB0gB,WAAY,CACVxhB,MAAO,IACPE,OAAQ,IACR9D,WAAY,IACZtB,OAAQ,GAEV2mB,WAAY,CACV/gB,SAAU,GACVC,WAAY,UC9SV5D,GAAQC,oBAEC,SAASmyB,GAAgB,GAAgB,EAAdC,eACxC,OACE,gBAAC,GAAMlyB,UAAS,WACd,eAAC,GAAMG,OAAM,CACXzS,KAAK,WACL0S,UAAW+xB,GACX72B,QAAS,CAAEiI,MAAO,gBAEpB,eAAC,GAAMpD,OAAM,CACXzS,KAAK,aACL0S,UAAWgyB,GACX92B,QAAS,CAAEiI,MAAO,oB,iCCLX,SAAS8uB,GAAa,GAId,IAHrB3hC,EAAY,EAAZA,aACA4hC,EAAiB,EAAjBA,kBACAhlC,EAAQ,EAARA,SAEM+b,EAAQC,qBAER9Y,EAAU,GAChB5D,OAAOwH,QAAQ1D,GAAcolB,SAAQ,YAAsC,IAAD,WAAnC9kB,EAAgB,KAAa,KACtD8kB,SAAQ,SAACllB,GACnBJ,EAAQW,KAAK,CAACH,EAAkBJ,UA6BpC,OACE,eAAC,SAAM,CACL4M,MAAO,CACLC,KAAM,EACN+e,cAAe,GACf5Z,gBAAiBtV,EACb+b,EAAM,mBACNA,EAAM,oBACV,SAEF,eAACkpB,GAAA,QAAQ,CACP9T,sBAAuB,CAAE3b,MAAO,KAChC0vB,mBACE,gBAAC,OAAI,WAAC,8BAEH,IACD,eAAC,OAAI,CAACh1B,MAAO,CAAEiG,WAAY,QAAS,SAAC,MACpC,IAAI,oCAKTwb,uBAAwB,kBAAM,eAAC,UAAO,KACtCxZ,KAAMjV,EACNitB,WAjDa,SAAH,GAAkB,IAAZC,EAAI,EAAJA,KACpB,MAAuCA,EAAI,GAApC1sB,EAAgB,KAAEJ,EAAU,KACnC,OACE,gBAAC,SAAM,CACL4M,MAAO,CACLqG,cAAe,MACflG,eAAgB,gBAChBD,WAAY,SACZ+J,gBAAiB,EACjB7E,gBAAiBtV,EACb+b,EAAM,mBACNA,EAAM,oBACV,UAEF,eAAC,OAAI,CAAC7L,MAAO,CAAEgG,SAAU,IAAK,SAAE5S,IAEhC,eAAC6R,GAAA,QAAgB,CACf3E,QAAS,kBAAMw0B,EAAkB1hC,EAAYI,IAAkB,SAE/D,eAACyhC,GAAA,QAAM,CAAC/kC,KAAK,QAAQ0e,KAAM,GAAI1M,MAAM,kB,aCzChC,SAASgzB,GAAkB,GAStC,IARF9hC,EAAU,EAAVA,WACAy+B,EAAc,EAAdA,eACAD,EAAW,EAAXA,YACAuD,EAAc,EAAdA,eACAL,EAAiB,EAAjBA,kBACAhlC,EAAQ,EAARA,SACAslC,EAAK,EAALA,MACA5hC,EAAgB,EAAhBA,iBAEM6hC,EAAex0B,iBAAO,IAAIqa,WAASC,MAAM,IAAIha,QAEnD,OACE,gBAAC,SAAM,CAACnB,MAAOoE,GAAOkxB,aAAa,UACjC,eAAC,OAAI,oBAAYliC,IACjB,gBAAC,OAAI,CACH4M,MAAO6xB,EAAiB,EAAIztB,GAAOmxB,YAAcnxB,GAAOoxB,aAAa,UAEpE5D,EACA,IAAI,IAEJA,EAAcC,KAGjB,eAAC5sB,GAAA,QAAgB,CACfmZ,cAAe,EACf9d,QAAS,WACH80B,EACFN,EAAkB1hC,EAAYI,GAE9B2hC,EAAe/hC,EAAYI,GAE7B0nB,WAASW,SAAS,CAChBX,WAASua,OAAOJ,EAAc,CAC5BtZ,QAAS,EACT2Z,MAAO,GACP1Z,iBAAiB,MAElB1J,OAAM,WACP4I,WAASua,OAAOJ,EAAc,CAC5BtZ,QAAS,EACT2Z,MAAO,GACP1Z,iBAAiB,IAChB1J,YAEL,SAEF,eAAC4I,GAAA,QAASkB,KAAI,CACZpc,MAAO,CACLsF,MAAO,GACPpF,WAAY,SACZmc,UAAW,CACT,CACEC,MAAO+Y,KAGX,SAEF,eAACtc,GAAA,QAAY,CACX/Y,MAAO,CAAE4K,QAAS,GAClBgE,KAAM,GACN1e,KAAMklC,EAAQ,QAAU,OACxBlzB,MAAOpS,EAAW,QAAU,iBAQxC,IAAMsU,GAASyB,WAAWC,OAAO,CAC/B6vB,gBAAiB,CACfv1B,OAAQ,GACRkG,WAAY,EACZd,OAAQ,MACRF,MAAO,QAETswB,sBAAuB,CACrBzwB,SAAU,WACV2E,OAAQ,EACRxE,MAAO,MACPuwB,qBAAsB,GACtBC,wBAAyB,GACzBtvB,YAAa,UACbpB,gBAAiB,UACjB1D,WAAY,EACZujB,eAAgB,IAChB6C,kBAAmB,IACnBiO,iBAAkB,KAEpB7iC,aAAc,CACZiS,SAAU,WACVuJ,MAAO,EACP3E,IAAK,EACLa,QAAS,EACTxK,OAAQ,EACRgF,gBAAiB,UACjBG,aAAc,KAEhB2a,KAAM,CACJ9Z,aAAc,GACdX,UAAW,IAEbM,MAAO,CACLC,SAAU,GACVC,WAAY,OACZG,aAAc,GAEhB4vB,gBAAiB,CACftnB,MAAO,EACPvJ,SAAU,WACVG,MAAO,GACPpF,WAAY,SACZC,eAAgB,SAChBqF,OAAQ,QAEVsF,OAAQ,CACNF,QAAS,EACTpE,YAAa,QAEfyvB,SAAU,CACR7wB,gBAAiB,UACjBoF,YAAa,GACbwU,cAAe,GACftd,WAAY,IAEd4zB,aAAc,CACZjvB,cAAe,MACflG,eAAgB,gBAChBD,WAAY,SACZsF,OAAQ,IAEV+vB,YAAa,CACXrzB,MAAO,SAETszB,aAAc,CACZtzB,MAAO,OAETg0B,eAAgB,CACdlwB,SAAU,GACV9D,MAAO,QACPyE,UAAW,SACXsS,UAAW,UAEbkd,sBAAuB,CACrBnwB,SAAU,GACVtE,WAAY,GACZQ,MAAO,QACPyE,UAAW,SACXV,WAAY,QAEd3M,QAAS,CACP8L,gBAAiB,QACjBlF,WAAY,SACZ0K,QAAS,MCvIE,SAASwrB,GAAK,GAWzB,IAVF56B,EAAU,EAAVA,WACAhI,EAAgB,EAAhBA,iBACAu/B,EAAQ,EAARA,SACAsD,EAAQ,EAARA,SACAC,EAAa,EAAbA,cACAxmC,EAAQ,EAARA,SACA+6B,EAAmB,EAAnBA,oBACAsK,EAAc,EAAdA,eACAL,EAAiB,EAAjBA,kBACAyB,EAAM,EAANA,OA0FA,OAxFqBnmB,mBAAQ,WAC3B,OACE,eAAC,SAAM,CACLpQ,MAAO,CACLuF,aAAc,GACdwI,QAAS,EACTtI,UAAW,EACXc,YAAa,EACbD,WAAY,GACZ,SAGF,gBAAC,SAAM,CAACtG,MAAO,CAAE+O,iBAAkB,IAAK,UACtC,gBAAC,SAAM,WACL,eAAC9J,GAAA,QAAgB,CACf3E,QAAS,WACPuqB,EAAoBr3B,IACpB,SAEF,gBAAC,SAAM,CAACwM,MAAOoE,GAAO8b,KAAK,UACzB,eAAC,OAAI,CAAClgB,MAAOoE,GAAO2B,MAAM,SAAEvK,IAC5B,eAAC,OAAI,UAAEhI,SAKX,eAACyR,GAAA,QAAgB,CACfjF,MAAOoE,GAAO4xB,gBACd11B,QAAS,WACH+1B,IAAa7iC,GACf8iC,EAAc,IACdhU,WAAgBC,cAAc,CAC5B3U,SAAU,IACV9H,OAAQ,CAAEqP,KAAM,gBAAiBqhB,SAAU,WAC3CC,OAAQ,CAAEthB,KAAM,SAAUuhB,cAAe,QAG3CJ,EAAc9iC,GACd8uB,WAAgBC,cAAc,CAC5B3U,SAA0B,YAAhBrP,UAASC,GAAmB,IAAM,IAC5CsH,OAAQ,CAAEqP,KAAM,gBAAiBqhB,SAAU,WAC3CC,OAAQ,CAAEthB,KAAM,SAAUuhB,cAAe,QAG7C,SAEF,eAAC,SAAM,CAAC12B,MAAOoE,GAAO0G,OAAO,SAC3B,eAACiO,GAAA,QAAY,CACX7oB,KACEmmC,IAAa7iC,EACT,aACA,eAENob,KAAM,GACN1M,MAAOpS,EAAW,QAAU,iBAOnCumC,IAAa7iC,GACZ,eAAC,SAAM,UACJu/B,EAAStkC,KACR,gBACEslB,EAAG,EAAHA,IAAK3gB,EAAU,EAAVA,WAAYy+B,EAAc,EAAdA,eAAgBD,EAAW,EAAXA,YAAawD,EAAK,EAALA,MAAK,OAEnD,eAACF,GAAiB,CAEhB9hC,WAAYA,EACZy+B,eAAgBA,EAChBD,YAAaA,EACbuD,eAAgBA,EAChBL,kBAAmBA,EACnBhlC,SAAUA,EACVslC,MAAOA,EACP5hC,iBAAkBA,GARbugB,eAiBpB,CAACsiB,EAAUE,EAAQzmC,IAvGN,YAAhByO,UAASC,IACNm4B,WAAUC,uCAEbD,WAAUC,uCAAsC,GA0GlD,IAAMxyB,GAASyB,WAAWC,OAAO,CAC/B6vB,gBAAiB,CACfv1B,OAAQ,GACRkG,WAAY,EACZd,OAAQ,MACRF,MAAO,QAETswB,sBAAuB,CACrBzwB,SAAU,WACV2E,OAAQ,EACRxE,MAAO,MACPuwB,qBAAsB,GACtBC,wBAAyB,GACzBtvB,YAAa,UACbpB,gBAAiB,UACjB1D,WAAY,EACZujB,eAAgB,IAChB6C,kBAAmB,IACnBiO,iBAAkB,KAEpB7iC,aAAc,CACZiS,SAAU,WACVuJ,MAAO,EACP3E,IAAK,EACLa,QAAS,EACTxK,OAAQ,EACRgF,gBAAiB,UACjBG,aAAc,KAEhB2a,KAAM,CACJ9Z,aAAc,GACdX,UAAW,IAEbM,MAAO,CACLC,SAAU,GACVC,WAAY,OACZG,aAAc,EACdG,YAAa,IAEfyvB,gBAAiB,CACftnB,MAAO,EACPvJ,SAAU,WACVG,MAAO,GACPpF,WAAY,SACZC,eAAgB,SAChBqF,OAAQ,QAEVsF,OAAQ,CACNF,QAAS,EACTpE,YAAa,QAEfyvB,SAAU,CACR7wB,gBAAiB,UACjBoF,YAAa,GACbwU,cAAe,GACftd,WAAY,IAEd4zB,aAAc,CACZjvB,cAAe,MACflG,eAAgB,gBAChBD,WAAY,SACZsF,OAAQ,IAEV+vB,YAAa,CACXrzB,MAAO,SAETszB,aAAc,CACZtzB,MAAO,OAETg0B,eAAgB,CACdlwB,SAAU,GACV9D,MAAO,QACPyE,UAAW,SACXsS,UAAW,UAEbkd,sBAAuB,CACrBnwB,SAAU,GACVtE,WAAY,GACZQ,MAAO,QACPyE,UAAW,SACXV,WAAY,QAEd4wB,eAAgB,CACdjsB,QAAS,IAEXtR,QAAS,CACP8L,gBAAiB,QACjBlF,WAAY,SACZ0K,QAAS,M,qkBCpME,SAASksB,GAAc,GAAsC,IAApChnC,EAAQ,EAARA,SAAUinC,EAAqB,EAArBA,sBAC1ClrB,EAAQC,qBACRkrB,EAAiBj9B,GAAgB8a,kBAAkBvb,QACnDA,EAAUyJ,IAAe,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAWtD,WAC7DD,EAAQ0J,IAAe,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAWvD,SAEjE,EAAgCqH,mBAASpH,EAAQC,UAAS,WAAnDA,EAAQ,KAAE09B,EAAW,KAEtB5/B,EAAWwL,KAoBjB,OACE,gBAAC,SAAM,CACL7C,MAAO,CACLoF,gBAAiBtV,EACb+b,EAAM,mBACNA,EAAM,mBACV3L,WAAY,SACZ0K,QAAS,IACT,UAEF,gBAAC,SAAM,CACL5K,MAAO,CACLqG,cAAe,MACflG,eAAgB,SAChBD,WAAY,SACZkG,aAAc,GACdhB,gBAAiBtV,EACb+b,EAAM,mBACNA,EAAM,oBACV,UAEF,eAAC,OAAI,UAAC,gBACN,eAAC,SAAM,CACL1B,QAAS9Q,EACT+Q,SAAU,SAAC+G,IA1CG,SAACA,GACrB9Z,EAASuD,GAAauW,IA0Cd+lB,CAAc/lB,MAGlB,eAAC,OAAI,UAAC,oBAER,eAAC,UAAO,IACR,eAAC,OAAI,CAACnR,MAAO,CAAEoO,eAAgB,GAAI,SAAC,aACpC,eAAC,SAAM,CACLpO,MAAO,CACLqG,cAAe,MACflG,eAAgB,SAChBD,WAAY,UACZ,SAED9Q,OAAOD,KAAKoK,GAAU9K,KAAI,SAACwM,GAAO,OACjC,eAAC,WAAQ,CACP+E,MAAO,CACLoF,gBAAiBtV,EACb+b,EAAM,mBACNA,EAAM,oBAGZ1B,QAAS5Q,EAAS0B,GAClBmP,SAAU,SAAC+G,IA9DS,SAAClW,EAAiBkW,GAC9C8lB,EAAY,SAAK19B,GAAQ,UAAG0B,EAAUkW,KA8D5BgmB,CAAsBl8B,EAASkW,IAC/B,SAEDlW,GANIA,QAUX,eAAC,SAAM,CAAC+E,MAAO,CAAEyF,UAAW,IAAMnF,QA7DlB,WAClBjJ,EAASsD,GAAa,CAAEpB,cACxBw9B,GAAsB,IA2DmC,SAAC,mBAGxD,eAAC,SAAM,CACLnoB,KAAK,QACL5O,MAAO,CAAEyF,UAAW,IACpB5S,OAAO,OACPyN,QAzEe,WACnB22B,EAAYD,EAAez9B,UAC3BlC,EAASwD,OAuEiB,SACvB,qBC7GQ,SAASu8B,GAAQ,GAAkB,IAAhBrxB,EAAK,EAALA,MAAOma,EAAI,EAAJA,KACvC,OACE,gBAAC,SAAM,CACLlgB,MAAO,CACLC,KAAM,EACNwF,UAAW,GACXvF,WAAY,SACZkF,gBAAiB,eACjB,UAEF,eAAC,OAAI,CAACpF,MAAO,CAAEI,OAAQ,GAAI8B,MAAO,QAAS,SAAE6D,IAC5Cma,K,qkBCkCA,SAASmX,GAAiB,GAK7B,IAJFt3B,EAAU,EAAVA,WACA/G,EAAc,EAAdA,eAAe,EAAD,EACdgH,aAAK,MAAG,GAAE,MACVgZ,iBAAS,MAAG,GAAE,EAEd,OACE,eAAC/T,GAAA,QAAgB,CACfjF,MAAOA,EACPM,QAAS,kBAAMP,EAAWyB,SAAS,eAAc,SACjD,eAAC,OAAI,CAACnB,SAAS,QAAQL,MAAOgZ,EAAU,kBAC5BhgB,MAMH,SAASs+B,GAAY,GAAiB,IAAD,QAAdv3B,EAAU,EAAVA,WACpC,EAAgCW,mBAAS,MAAK,WAAvC21B,EAAQ,KAAEkB,EAAW,KAC5B,EAAsD72B,oBAAS,GAAM,WAA9D82B,EAAmB,KAAEC,EAAsB,KAClD,EAAoD/2B,oBAAS,GAAM,WAA5Dg3B,EAAkB,KAAEX,EAAqB,KAChD,EAA8Br2B,mBAAS,MAAK,WAArCi3B,EAAO,KAAEC,EAAU,KAE1B,EAAmBr/B,KAAZrB,EAAiC,SAAzB,GACf,EAA6BsB,KAAtBZ,EAAqD,SAAnC,GACzB,EAAsBa,KAAfV,EAAuC,SAA5B,GAClB,EAAwB1C,KAAjBwiC,EAA0C,SAA7B,GACpB,EACEj/B,KAA2B,WADtBk/B,EAAU,YAAeC,EAAgB,EAA3Bj3B,UAA6BC,EAAO,EAAPA,QAE5C/H,EAAiB+J,IACrB,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAW5D,kBAIhCM,EAAUyJ,IAAe,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAWtD,WAC7DtG,EAAU+P,GAAepG,IACzBhN,EAAUoT,GAAe7R,GACzBkI,EAAO2J,IAAe,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAWxD,QAC1DtJ,EAAWiT,GAAehS,GAC1BoI,EAAa4J,IACjB,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAWzD,cAEhCJ,EAAkBgK,IACtB,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAW7D,mBAEhCe,EAAmBiJ,IACvB,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAW9C,oBAGtC,EAAuD1E,GACrDzF,EACA,CAAEu/B,MAAOv/B,IAFGsqB,EAAQ,EAAdhS,KAA2B+vB,GAAe,EAA1BC,UAIlBhiC,IAAsB,MAARgkB,OAAQ,EAARA,EAAUhkB,cAAe,oBAEvCjC,GAAmB,MAARimB,OAAQ,EAARA,EAAUjmB,SACrBd,GAAuB,MAAR+mB,GAAsB,OAAd,EAARA,EAAU/mB,mBAAF,EAAR,EAAwBF,QACvCG,GAAiB,MAAR8mB,GAAsB,OAAd,EAARA,EAAU/mB,eAAqB,OAAT,EAAtB,EAAwBF,UAAxB,EAAkCgG,GAC7C5J,OAAOD,KAAkC,OAA9B,EAAC8qB,EAAS/mB,aAAaF,cAAO,EAA7B,EAAgCgG,IAAiB7F,OAC7D,EAGE0Y,GAAQC,qBACRzU,GAAWwL,KACX6xB,GAAiB7zB,iBAAoB,MAE3CK,qBAAU,WACRg3B,OACC,IAEH,IA4MI9iB,GA5ME8iB,GAAe,WACnB,GAAoC,IAAhC9oC,OAAOD,KAAK6D,GAASG,OACvB,IACE2kC,EAAW,CACTnoC,UACAsG,eACA5C,WAAY2F,IACXuI,SACH,MAAOvS,GACP4E,QAAQC,KAAK,0BAA2B7E,QAG1CqI,GAAS8C,OAIPg+B,GAAe,SAAC/kC,EAAoBI,GACxC,OACEwF,KAAkB9F,IAClBM,KAAoBN,GAAa8F,IACjC9F,GAAa8F,GAAgBxF,GAAkBiJ,SAASrJ,IAItDglC,GAAgB,WACpBP,EAAcloC,GACduoC,MAUIrN,GAAsB,SAACz3B,GAInB,IAAD,GAHPiE,GAASoD,GAAcrH,IACH,QAAhBmL,UAASC,IACXuB,EAAWyB,SAAS,mBAEE,OAAtB,EAAAkzB,GAAevzB,UAAf,EAAwBk3B,YAAY,IAIlClD,GAAiB,SAAC/hC,EAAoBI,GAC1C,IACE0D,EAAS,CACPvH,UACAyD,aACAC,WAAY2F,EACZhF,YACAR,qBACC+N,SACH,MAAOvS,GACP4E,QAAQC,KAAK,oBAAqB7E,KAIhC8lC,GAAoB,SAAC1hC,EAAoBI,GAC7C,IACEuE,EAAY,CACVpI,UACAyD,aACAC,WAAY2F,EACZhF,YACAR,qBACC+N,SACH,MAAOvS,GACP4E,QAAQC,KAAK,oBAAqB7E,KAIhCspC,GAAgB,sBAAG,YACvB,IAAMC,EAAW,KACZp/B,EAAWq/B,SAAS,sCAEzB,GAAKD,EAAY,GAAjB,CAIA,IAAM1gC,EAAkB0gC,EAAYE,QAAO,SAACC,EAAatlC,GACvD,IAAMI,EAAmBJ,EAAW,GAAG2I,MAAM,uBAC7C,OACGvI,EAAiB,IAClB2kC,GAAa/kC,EAAW,GAAII,EAAiB,IAGtCklC,EAEH,GAAN,YACKA,GAAW,CACd,CAAEllC,iBAAkBA,EAAiB,GAAIJ,WAAYA,EAAW,QAEjE,IAEH,GAA+B,IAA3ByE,EAAgB1E,OAApB,CAKA,IAAM2V,EAAO,SAAYjR,EAAgB1E,OAAM,iBAAiB6F,EAEhE,UACQpB,EAAmB,CACvBjI,UACAkI,kBACAxE,WAAY2F,EACZhF,cACCuN,SACH6Q,GAAUtJ,EAAS,SACnB,MAAO9Z,GACP4E,QAAQC,KAAK,sBAAuB7E,GACpCojB,GAAU,uBAAwB,gBAhBlCA,GAAU,0CAA2C,eAnBrDA,GAAU,sCAAuC,aAqCpD,kBA1CqB,mCA4ChB6N,GAAa,SAAH,GAAkD,IAAD,QAA3CC,KAAI,GAAG1sB,EAAgB,KAAEmlC,EAAU,KAEjDpC,EAAS,GACTxD,EAAW4F,EAAWl9B,MAAMhN,KAAI,SAAC4hB,GACrC,OAAI8nB,GAAa9nB,EAAKjd,WAAYI,IAChC+iC,EAAO5iC,KAAK0c,EAAKjd,YACV,SAAKid,GAAI,IAAE+kB,OAAO,MAE3BmB,EAAO5iC,KAAK0c,EAAKjd,YACV,SAAKid,GAAI,IAAE+kB,OAAO,QAG3B,OACE,eAACgB,GAAI,CACH56B,WAAYm9B,EAAWn9B,WACvBhI,iBAAkBA,EAClBu/B,SAAUA,EACVsD,SAAUA,EACVC,cAAeiB,EACfznC,SAAUA,EACV+6B,oBAAqBA,GACrBsK,eAAgBA,GAChBL,kBAAmBA,GACnByB,OAAQA,KAKRzd,GACJ,gBAAC,SAAM,CAAC9Y,MAAO,CAAEqG,cAAe,MAAOjB,gBAAiB,eAAgB,UACtE,gBAACH,GAAA,QAAgB,CACf3E,QAAS,kBAAMm3B,GAAwBD,IACvCx3B,MAAO,CAAEG,eAAgB,SAAUoG,YAAa,IAAK,UACrD,eAACwS,GAAA,QAAY,CACX7oB,KAAK,UACL0e,KAAM,GACN1M,MAAOpS,EAAW+b,GAAM,mBAAqBA,GAAM,qBAEpD1Y,GAAS,EACR,eAAC,SAAM,CACL6M,MAAO,CACLmF,SAAU,WACVC,gBAAiBtV,EAAW,MAAQ,OACpCyV,aAAc,GACd2E,kBAAmB,EACnBwE,OAAQ,EACR3E,KAAM,GACN,SACF,eAAC,OAAI,UAAE5W,OAEP,QAEN,eAAC8R,GAAA,QAAgB,CACfjF,MAAO,CAAEG,eAAgB,SAAUoG,YAAa,IAChDjG,QAAS,kBAAMy2B,GAAuBW,IAAoB,SAC1D,eAAC3e,GAAA,QAAY,CACX7oB,KAAMwnC,EAAqB,aAAe,eAC1C9oB,KAAM,GACN1M,MAAOpS,EAAW+b,GAAM,mBAAqBA,GAAM,0BAuH3D,OAvFEuJ,GADE2iB,IAAqBC,GACb,eAACZ,GAAO,CAACrxB,MAAM,kBAAkBma,KAAM,eAAC,UAAO,MAChDnf,EAEP,eAACq2B,GAAO,CACNrxB,MAAM,wBACNma,KAAM,eAAC,SAAM,CAAC5f,QAAS43B,GAAa,SAAC,cAKvC,eAAC,OAAI,CACHl4B,MAAO,CAAEoF,gBAAiB,eAC1B6b,sBAAuB,CAAEjC,cAAe,IACxCyB,oBACErxB,OAAOwH,QAAQkD,GAAkB3G,OAAS,GACpB,IAAtBgG,EAAWhG,QACT,eAAC,OAAI,CACHstB,oBACE,gBAAC,SAAM,CACLzgB,MAAO,CACLsG,WAAY,GACZC,YAAa,GACbnB,gBAAiB,cACjBiB,cAAe,MACflG,eAAgB,gBAChBD,WAAY,UACZ,UACF,eAAC,OAAI,CAACG,SAAS,QAAQL,MAAO,CAAEkC,MAAO,QAAS,SAAC,wBAGjD,eAAC+C,GAAA,QAAgB,CAAC3E,QAvCP,WACzBgiB,WAAgBC,cAAcD,WAAgBsW,QAAQC,eACtDxhC,GAASkD,OAqCmD,SAC5C,eAACwe,GAAA,QAAY,CAAC7oB,KAAK,QAAQ0e,KAAM,GAAI1M,MAAM,cAIjDlC,MAAO,CACLoF,gBAAiB,iBACjBG,aAAc,GACdnF,OAAQ,GACR4e,cAAe,GACftd,WAAY,GAEduf,sBAAuB,CAAEjC,cAAe,KACxC/W,KAAM7Y,OAAOwH,QAAQkD,GACrBmmB,WAAYA,GACZmB,aAAc,2BAAEhuB,EAAU,KAAG,YAAMA,GACnC0lC,SAAU92B,WAASC,QACnB82B,oBAAqB,KAI3B9wB,KAAM7Y,OAAOwH,QAAQmC,GAAiBtF,MACpC,ERxX4B,GQyXH2F,GAE3B6mB,WAAYA,GACZmB,aAAc,2BAAEhuB,EAAU,KAAG,YAAMA,GACnC4lC,oBAAqB,GACrBhE,mBACE,eAACoC,GAAO,CACNrxB,MAAM,mBACNma,KAAM,eAAC,SAAM,CAAC5f,QAAS43B,GAAa,SAAC,cAGzCe,mBAAoB,GACpBzX,8BAA8B,EAE9BH,sBAAuB,GACvBC,aAAc,kBAAMjqB,GAAS6C,OAC7Bg/B,eACE,eAACC,GAAA,QAAc,CACbhY,WAAY4W,EACZ7W,UAAWkX,GACXryB,MAAM,kBACNqzB,UAAWvtB,GAAM,mBACjBwtB,WAAYxtB,GAAM,qBAGtBhK,IAAK,SAACA,GACJ+1B,EAAW/1B,IAEbi3B,SAAU92B,WAASC,QACnB82B,oBAAqB,KAMzB,gBAAC,SAAM,CAAC/4B,MAAO,CAAEC,KAAM,GAAI,UACzB,gBAAC4gB,GAAA,eAAc,CACbC,OACEhxB,EACI,CAAC+b,GAAM,oBAAqBA,GAAM,qBAClC,CAACA,GAAM,qBAAsBA,GAAM,sBAEzC7L,MAAO,CAAEsF,MAAO,OAAQlF,OAAQ,EAAGH,KAAM,GACzCqS,MAAO,CAAEyO,EAAG,EAAGC,EAAG,GAClBzO,IAAK,CAAEwO,EAAG,EAAGC,EAAG,IAAM,UACtB,gBAACH,GAAA,eAAc,CACbC,OAAQ,CAIN,qBACA,sBAIFmN,UAAW,CAAC,EAAG,GACfjuB,MAAO,CACL8J,OAAQ,EACRxE,MAAO,OACP4E,kBAAmB,GACnBxI,WAAY,GACZ,UACF,eAAC21B,GAAgB,CACft3B,WAAYA,EACZ/G,eAAgBA,EAChBggB,UAAW,CAAE9W,MAAO,OAAQ8c,cAAe,EAAG1Y,WAAY,MAE5D,eAACyb,GAAS,CACRjJ,cAAeA,GACf3f,WAAYA,EACZ2I,aA7SW,SAAChG,GAChB67B,GACFA,EAAQ2B,eAAe,CAAExJ,UAAU,EAAMyJ,OAAQ,IAEnDliC,GAAS8D,GAAkBW,KA0SnBkmB,WAAY,CAAES,aAAa,GAC3B7gB,YAAY,oBACZugB,uBAAwC,QAAhB5jB,UAASC,GACjCyjB,mBACkB,QAAhB1jB,UAASC,GAAe45B,GAAgB,gBAGjC,MAAVj/B,OAAU,EAAVA,EAAYhG,QAAS,GACpB,eAAC8R,GAAA,QAAgB,CACfjF,MAAO,CAAEsG,WAAY,GAAIb,UAAW,GACpCnF,QAASg4B,GAAiB,SAC1B,gBAAC,OAAI,CAACt4B,MAAO,CAAEkC,MAAO,QAAS,UAC7B,eAAC6W,GAAA,QAAY,CAAC7oB,KAAK,cAAcgS,MAAM,SAAS,6BAIlD,KAtKuB,WACjC,IAAMs3B,EAAmBpqC,OAAOD,KAAKmK,EAAQC,UAAUtB,QACrD,SAACwhC,GAAC,OAAKngC,EAAQC,SAASkgC,MAG1B,OAAID,EAAiBrmC,OAAS,EAE1B,eAAC,OAAI,CACHkN,SAAS,QACTL,MAAO,CAAEiZ,UAAW,SAAUxT,UAAW,EAAGvD,MAAO,QAAS,sBAC9Cs3B,EAAiB9lC,KAAK,QAInC,eAAC,SAAM,CAACsM,MAAO,CAAEoF,gBAAiB,cAAeK,UAAW,MAyJ5Di0B,MAGFtkB,MAGH,eAAC0W,GAAc,CACbE,mBAAoByL,EACpB1L,gBAAiByL,EACjBzxB,MAAM,gBAAe,SACpB7S,IAAgB8F,EACf,eAAC67B,GAAY,CACX4C,uBAAwBA,EACxBvkC,aAAcA,GAAa8F,IAAmB,GAC9C87B,kBAAmBA,GACnBhlC,SAAUA,IAGZ,gBAAC,SAAM,CACLkQ,MAAO,CACLC,KAAM,EACNC,WAAY,SACZqF,aAAc,GACd7D,WAAY,IACZ,UACF,eAAC,OAAI,UAAC,YACN,eAAC,UAAO,SAKd,eAACoqB,GAAc,CACbE,mBAAoB+K,EACpBhL,gBAAiB2L,EACjB3xB,MAAM,UAAS,SACf,eAAC+wB,GAAa,CACZC,sBAAuBA,EACvBjnC,SAAUA,MAIG,QAAhByO,UAASC,IACR,eAAC,GAAe,CAACk2B,eAAgBA,QC9c1B,SAASiF,GAAa,GAAiB,IAAD,EAAd55B,EAAU,EAAVA,WAC/B65B,EAAwB,QAAhBr7B,UAASC,GACvB,EAAmBhJ,KAAZhB,EAAiC,SAAzB,GACT7E,EAAUoT,GAAe7R,GACzBG,EAAa0R,IACjB,SAACzS,GAAK,OAAKA,EAAMU,QAAQoO,SAAS/N,cAE9BgG,EAAWwL,KACX6xB,EAAiB7zB,iBAAoB,MACrC/Q,EAAoBiT,GAAehS,GACnC+5B,EAAc,IAAIV,GAClBW,GAAmB5e,UAAWC,IAAI,UAAU5G,OAAS,IAAM,GAC3Dq0B,GAAiB1tB,UAAWC,IAAI,UAAU9G,MAAQ,IAAM,EACxDw0B,GAAgB3tB,UAAWC,IAAI,UAAU9G,MAAQ,IAAM,EACvDuY,EAAO,CACX,CAAEpK,IAAK,MAAO7kB,GAAI,UAClB,CAAE6kB,IAAK,OAAQ7kB,GAAI,WACnB,CAAE6kB,IAAK,MAAO7kB,GAAI,aAClB,CAAE6kB,IAAK,QAAS7kB,GAAI,YACpB,CAAE6kB,IAAK,MAAO7kB,GAAI,UAClB,CAAE6kB,IAAK,MAAO7kB,GAAI,YAClB,CAAE6kB,IAAK,MAAO7kB,GAAI,WA6BNqrB,EAAa7kB,GAAoBzF,GAAvCsY,KACF/U,EAAuB,MAAR+mB,GAAsB,OAAd,EAARA,EAAU/mB,mBAAF,EAAR,EAAwBF,QACvC03B,EAAe3nB,GAAepG,IAC9B3D,EAAiB+J,IACrB,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAW5D,kBAGhC+gC,EAAqB,SAACC,GAC1B,IAAMC,EAAc,GACpB,IAAKhgB,EAAS+D,aACZ,OAAO,KAET,IAAK,IAAM0N,KAASzR,EAAS+D,cACvB0N,EAAM7N,KAAKphB,SAASu9B,EAAKprC,KAG3B88B,EAAM9b,MACHsqB,EAAeF,EAAKprC,GAAI,IAAI6jB,KAAKiZ,EAAM9b,QACvCuqB,EAAa,IAAI1nB,KAAKiZ,EAAM9b,SAJ/BqqB,EAAYtmC,KAAK83B,GAAkBC,EAAOzR,EAAUtqB,EAAS6E,IASjE,OAAOylC,GAGT,SAASC,EAAeE,EAAmBxqB,GACzC,IAAMyqB,EAAYC,EAAW1qB,EAAK0D,UAClC,OAAO8mB,IAAcvc,EAAKwc,GAAWzrC,GAGvC,SAAS0rC,EAAWD,GAMlB,OALkB,IAAdA,EACFA,EAAY,EAEZA,GAAa,EAERA,EAGT,SAASE,EAAM/pB,EAAOE,EAAS8pB,GAC7B,IAAI7Q,EAAQ,EAIZ,OAHAA,GAAiB,KAARnZ,EACTmZ,GAAmB,IAAVjZ,EACTiZ,GAAmB,IAAV6Q,EAIX,SAASL,EAAaM,GACpB,IAAMC,EAAc,IAAIjoB,KAClBkoB,EAAmBL,EAAWI,EAAYpnB,UAC1CsnB,EAAc,IAAInoB,KACtBioB,EAAYG,UACW,MAAnBF,EACAJ,EACAG,EAAYjqB,WACZiqB,EAAY/pB,aACZ+pB,EAAYI,eAGZC,EAAY,IAAItoB,KACpBioB,EAAYG,UACiB,OAAxB,EAAIF,GACLJ,EACA,GAAKG,EAAYjqB,WACjB,GAAKiqB,EAAY/pB,aACjB,GAAK+pB,EAAYI,eAGvB,QACEL,EAAYI,UAAYE,EAAUF,WAC/BJ,EAAYI,UAAYD,EAAYC,WAI3C,IAAMhQ,EAAsB,SAACz3B,GAInB,IAAD,GAHPiE,EAASoD,GAAcrH,IACH,QAAhBmL,UAASC,IACXuB,EAAWyB,SAAS,mBAEE,OAAtB,EAAAkzB,EAAevzB,UAAf,EAAwBk3B,YAAY,IAIxC,SAAS2C,IAEP,IADA,IAAMrR,EAAQ,GACL1Y,EAAI,EAAGA,EAAI,GAAIA,IACtB0Y,EAAMh2B,KACJ,eAACyoB,GAAA,QAAI,CACHpc,MAAO,CACLsF,MAAqD,QAA7CjU,EAAawoC,EAAgBC,GACrCxzB,WAA0D,QAA7CjV,EAAawoC,EAAgBC,GAC1C/vB,IAAKghB,EAAkB9Z,EACvB9L,SAAU,WACVK,OAAQulB,EACRjD,kBAAmC,QAAhBvpB,UAASC,GAAe,IAAM,GACjDqpB,kBAAmB/3B,EAAW,gBAAkB,uBAKxD,OAAO65B,EAGT,IAAMsR,EAAgB,SAACjB,GACrB,IAAMhnC,EAAU,GAkChB,OAjCA5D,OAAOD,KAAK+D,GAAczE,KAAI,SAAC8O,GACzBA,IAASvE,GACX5J,OAAOD,KAAK+D,EAAaqK,IAAO9O,KAAI,SAAC+E,GAAsB,IAAD,cAEtD,IACE,IAAMyU,EAAO6iB,EAAYoQ,iBACvB9nC,EACAs3B,GAEIyQ,EAAQlzB,EAAKxM,MAAMsqB,MACvB,SAAC1V,GAAI,OAAKA,EAAKjd,aAAeA,KAEhC,IAAK,IAAMw3B,KAAeuQ,EAAMvL,eAC9B,IAAK,IAAMnc,KAAOmX,EAAY2F,cACxB3F,EAAY2F,cAAc9c,KAASumB,EAAKprC,IAC1CoE,EAAQW,KACNssB,GACEhY,EACA2iB,EACAx3B,EACAy3B,IAMV,MAAO77B,GACP4E,QAAQ6U,IAAIzZ,KAxBhB,IAAK,IAAMoE,KAAcF,EAAaqK,GAAM/J,GAAiB,WA8B5DR,GAGHooC,EAASv6B,iBAAO,MACtB,EAA4CH,mBAAS,CAAEqgB,EAAG,EAAGC,EAAG,MAAM,WAA/Dqa,EAAc,KAAmB,KAExC,OACE,gBAACjf,GAAA,QAAI,CAACpc,MAAO,CAAEC,KAAM,EAAGmF,gBAAiBtV,EAAW,KAAO,SAAU,UAEnE,eAACunC,GAAgB,CACft3B,WAAYA,EACZ/G,eAAgBA,EAChBgH,MAAO,CAAEI,OAAQ,MAEnB,eAACyJ,GAAA,QAAU,CACTyb,YAAU,EACVgW,eAAgBjqC,EAAawoC,EAAgBC,EAC7CzU,gCAAgC,EAChCrlB,MAAO,CAAEsG,WAAY,GAAId,OAAQo0B,EAAQ,QAAK7f,GAC9ClY,IAAKu5B,EAAO,SAEZ,eAAChf,GAAA,QAAI,CAACpc,MAAO,CAAEqG,cAAe,OAAQ,SACnCwX,EAAKpvB,KAAI,SAACurC,GACT,OACE,eAAC5d,GAAA,QAAI,UACH,eAACA,GAAA,QAAI,CACHpc,MAAO,CACLwG,YAAa1W,EAAW,UAAY,UACpCg4B,kBAAmB,EACnBxiB,MAAO,QACP,SAEF,eAACigB,GAAA,QAAI,CACHvlB,MAAO,CACLkG,UAAW,SACXhE,MAAOpS,EAAW,UAAY,UAC9BwV,MAAOjU,EAAawoC,EAAgBC,GACpC,SAEDE,EAAKvmB,iBAQpB,eAAC5J,GAAA,QAAU,CACT0xB,cAAeF,EACf7Z,8BAA8B,EAC9Bga,SAAS,EAAM,SAEf,gBAACpf,GAAA,QAAI,CAACpc,MAAO,CAAEqG,cAAe,OAAQ,UACpC,eAAC+V,GAAA,QAAI,CACHpc,MAAO,CACLG,eAAgB,gBAEhB,SA/NE,CACZ,WACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,YAyMe1R,KAAI,SAAC4hB,GACV,OACE,eAACkV,GAAA,QAAI,CACHvlB,MAAO,CACLwF,OAAQulB,EACRzlB,MAAO,GACPmB,YAAa,EACbD,YAAa1W,EAAW,UAAY,UACpCoW,UAAW,SACXhE,MAAOpS,EAAW,UAAY,WAC9B,SAEDugB,SAMT,eAACxG,GAAA,QAAU,CACTyb,YAAU,EACVgW,eAAgBjqC,EAAawoC,EAAgBC,EAC7C2B,iBAAiB,SACjBpW,gCAAgC,EAChCmW,SAAS,EACTzC,oBAAqB,EACrBD,SAAU,SAAC9pC,GAAC,OAAKosC,EAAOj6B,QAAQ0uB,SAAS,CACvC9O,EAAG/xB,EAAE0sC,YAAYH,cAAcxa,EAC/B+O,UAAU,EACV9T,iBAAiB,KAEnB2f,sBAAuB,SAAC3sC,GAAC,OAAKosC,EAAOj6B,QAAQ0uB,SAAS,CACpD9O,EAAG/xB,EAAE0sC,YAAYH,cAAcxa,EAC/B+O,UAAU,EACV9T,iBAAiB,KAChB,SAEH,eAACI,GAAA,QAAI,CAACpc,MAAO,CAAEqG,cAAe,OAAQ,SACnCwX,EAAKpvB,KAAI,SAACurC,GACT,OACE,gBAAC5d,GAAA,QAAI,WACF4e,IACD,gBAAC5e,GAAA,QAAI,CAEHpc,MAAO,CACLsF,MAAOjU,EAAawoC,EAAgBC,GACpC,WAEO,MAAR7f,OAAQ,EAARA,EAAU/mB,eAAgB+nC,EAAcjB,IAChC,MAAR/f,OAAQ,EAARA,EAAU/mB,eAAgB6mC,EAAmBC,KANzCA,EAAKvmB,KAQZ,eAAC2I,GAAA,QAAI,CACHpc,MAAO,CACLwF,OAAQ,OACRF,MAAO,EACPF,gBAAiBtV,EAAW,UAAY,4BAWzC,QAAhByO,UAASC,IACR,eAAC,GAAe,CAACk2B,eAAgBA,OA5TzCkH,WAAOC,gBAkUP,I,UClVe,SAASC,KACtB,MAAmBtmC,KAAZhB,EAAiC,SAAzB,GACf,EAAgCkM,oBAAS,GAAM,WAAxCq7B,EAAQ,KAAEC,EAAW,KACtBj8B,EAAak8B,2BACbC,EAAY,IAAIzpB,KACtB,EAAwC/R,mBAASw7B,GAAU,WAApDC,EAAY,KAAEC,EAAe,KACpC,EAAgC17B,oBAAS,GAAM,WAAxC27B,EAAQ,KAAEC,EAAW,KAC5B,EAAoD57B,oBAAS,GAAM,WAA5D67B,EAAkB,KAAEC,EAAqB,KAChD,EAA0C97B,mBAAS,IAAG,WAA/C+G,EAAa,KAAEC,EAAgB,KACtC,EAAkChH,mBAAS,IAAG,WAAvC+7B,EAAS,KAAEC,EAAY,KAC9B,EAAkCh8B,mBAAS,IAAI+R,MAAO,WAA/CjD,EAAS,KAAEC,EAAY,KAC9B,EAA8B/O,mBAAS,IAAI+R,MAAO,WAA3C/C,EAAO,KAAEC,EAAU,KAC1B,EAAoCjP,mBAAS,IAAG,WAAzCi8B,EAAU,KAAEC,EAAa,KAC1BjtC,EAAUoT,GAAe7R,GACjB+oB,EAAa7kB,GAAoBzF,EAAS,CACtDu/B,MAAOv/B,IADDsY,KAIFonB,EAAa,CACjB,SACA,UACA,YACA,WACA,SACA,WACA,UAGFnuB,qBAAU,WACRs7B,GACGH,EACGF,EAAa9jB,gBAAkB6jB,EAAU7jB,cACzCokB,EAAUtpC,QAAU,IACJ,KAAfwpC,GACAntB,EAAYE,KAElB,CAAC+sB,EAAWE,EAAYntB,EAAWE,EAASysB,EAAcE,IAuE7D,MAA0D37B,oBAAS,GAAM,WAAlEoP,EAAqB,KAAEC,EAAwB,KAEhDI,EAAoBC,mBACxB,iBAAO,CACL,aAAc,CAAEC,KAAMb,EAAWc,QAASb,GAC1C,WAAY,CAAEY,KAAMX,EAASY,QAASX,MAExC,CAACH,EAAWC,EAAcC,EAASC,IAG/BY,GAAa,SAACX,GAClB,IAAIY,EAAQZ,EAAKa,WACbC,EAA2Bd,EAAKe,aAC9BC,EAAOJ,GAAS,GAAK,KAAO,KAIlC,OAFAA,GADAA,GAAS,KACQ,IAEF,KADfE,EAAUA,EAAU,GAAE,IAAOA,EAAYA,GACf,IAAIE,GAG1B3C,GACJ,eAAC,SAAM,CACLjO,MAAO,CACLqG,cAAe,MACflG,eAAgB,eAChBD,WAAY,SACZuF,UAAW,IACX,SAEF,eAAC,QAAK,CACJ0D,MAAM,QACNhH,SAAU45B,EACVn6B,YAAY,iBACZ/K,MAAO8lC,EACP38B,MAAO,CAAEC,KAAM,GACf6B,aAAc,SAACiE,GACb62B,EAAc72B,QA0EtB,GAAoB,QAAhBxH,UAASC,GACX,OACE,eAAC,OAAI,UAAC,sHA2DV,OACE,eAAC,SAAM,CAACwB,MAAO,CAAEC,KAAM,GAAI,SACzB,eAACiE,GAAA,QAAwB,CAAC5D,QAAS0B,WAASC,QAAQ,SAClD,gBAACgN,GAAS,CAACC,WAAY,CAAEd,eAAgB,GAAIW,iBAAkB,IAAK,UACjEd,GACD,gBAtIR,WACE,MAAoB,YAAhB1P,UAASC,GAET,eAAC,SAAM,CACLwB,MAAO,CACLqG,cAAe,MACflG,eAAgB,gBAChB,SAED/Q,OAAOwH,QAAQuZ,GAAmB1hB,KACjC,WAA6BwiB,GAAC,eAA5B9H,EAAK,YAAIkH,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAAO,OACtB,gBAAC,SAAM,CAAStQ,MAAO,CAAEE,WAAY,UAAW,UAC9C,eAAC,OAAI,CAACG,SAAS,QAAQL,MAAO,CAAEoG,aAAc,GAAI,SAC/C+C,IAEH,eAAC,SAAM,CACL7I,QAAS,WACPyP,GAAyB,IACzB,SAEDQ,GAAWF,KAEbP,GACC,eAAC,WAAc,CACboB,KAAK,OACL9G,SAAU,SAAC+G,EAAQvB,GACjBU,EAAQV,GACRG,GAAyB,IAE3BlZ,MAAOwZ,MAlBAY,QA2BH,QAAhB1S,UAASC,GAET,eAAC,SAAM,CACLwB,MAAO,CACLqG,cAAe,MACflG,eAAgB,gBAChB,SAED/Q,OAAOwH,QAAQuZ,GAAmB1hB,KACjC,WAA6BwiB,GAAC,eAA5B9H,EAAK,YAAIkH,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAAO,OACtB,gBAAC,SAAM,CAAStQ,MAAO,CAAEE,WAAY,UAAW,UAC9C,eAAC,OAAI,CAACG,SAAS,QAAQL,MAAO,CAAEoG,aAAc,GAAI,SAC/C+C,IAGH,eAAC,WAAc,CACb+H,KAAK,OACL9G,SAAU,SAAC+G,EAAQvB,GACjBU,EAAQV,IAEV/Y,MAAOwZ,MAVEY,aAVvB,IAgGiB,IACX,eAAC,WAAQ,CACPjR,MAAO,CAAE2G,UAAW,SAAUlB,UAAW,IACzC0E,QAASkyB,EACTjyB,SAAU,SAACC,GACTqyB,EAAa,IACbh1B,EAAiB,IACjB00B,EAAgBF,GAChBI,EAAYjyB,IACZ,SACH,mBAGAgyB,EACC,eAAC,WAAc,CACbQ,OAAO,aACPhmC,MAAOslC,EACPjrB,KAAK,OACLlR,MAAO,CAAE2G,UAAW,SAAUyH,eAAgB,IAC9ChE,SAAU,SAACshB,EAAO9b,GAAI,OAAKwsB,EAAgBxsB,MAhDnD,eAAC,SAAM,CACL5P,MAAO,CACLqG,cAAe,MACflG,eAAgB,eAChBD,WAAY,SACZuF,UAAW,IAEbE,MAAM,IAAG,SAET,eAAC,SAAM,CACL3F,MAAO,CAAEC,KAAM,GACf4Y,aAAW,EACX1P,MAAM,OACNhH,SAAU45B,EACVllC,MAAO4lC,EAAUtpC,OAAS,EA3BhC,WACE,IAAM2pC,EAAar1B,EAAchZ,KAAI,SAACsuC,GACpC,OAAU1N,EAAW0N,EAAc,GAAE,QAEvC,GAAID,EAAW3pC,OAAS,EAAG,CACzB,IAAI6pC,EAAcF,EAAWG,IAAI,GAIjC,OAHAD,EAAcA,EAAYvtC,QAAQ,KAAM,IACxCqtC,EAAW7T,QAAQ,EAAG,GACtB6T,EAAWnpC,KAAKqpC,GACTF,GAkByBI,GAA4B,KAC1Dz1B,cAAeA,EACfiC,SAAU,SAACnJ,GAAK,OApCtB,SAAqBA,GACnBmH,EAAiBnH,GACjB,IAAM48B,EAAe58B,EAAM9R,KAAI,SAACsuC,GAC9B,OAAO1N,EAAW0N,EAAc,MAElCL,EAAaS,GA+BYC,CAAY78B,IAAO,SA3C9C,WACE,IAAMopB,EAAQ,GACd,IAAK,IAAMyD,KAAUiC,EACnB1F,EAAMh2B,KAAK,eAAC,aAAU,CAACoS,MAAOqnB,KAEhC,OAAOzD,EAwCF0D,OAmCD,eAACpoB,GAAA,QAAgB,CACfjF,MAAO,CACLoF,gBAAiBm3B,EACb,UACA,wBACJj3B,MAAO,MACPqB,UAAW,SACXnB,OAAQ,GACRD,aAAc,EACdrF,WAAY,SACZC,eAAgB,UAElBG,QAzRV,WACE07B,GAAY,GACZxnC,EAAS,CACP7E,UACAqE,SAAUimB,EAASjmB,SACnBW,OAAQ+T,KAAKC,UAAU,CACrBgV,eAAgB,CACdztB,KAAMysC,EACNntB,UAAWA,EAAUoO,eAAenqB,MAAM,EAAG,GAC7Cic,QAASA,EAAQkO,eAAenqB,MAAM,EAAG,GACzCoqB,KAAM4e,EACN7sB,KACEusB,EAAa9jB,gBAAkB6jB,EAAU7jB,cACrC8jB,EAAa9jB,cACb,UAIT9W,SACAyC,KAAK,iBACJ0U,YAAW,WACTsjB,GAAY,GACZj8B,EAAWiJ,WACV,SAEJ+U,OAAM,WACLie,GAAY,GACZtuB,WAAMC,KAAK,+CAAgD,CACzDC,SAAUF,WAAMG,UAAUC,KAC1BC,QAAS,EACT5I,UAAW,IACXC,gBAAiB,OACjB4I,QAAQ,QA0PN7L,UAAWo6B,GAAsBR,EAAS,SAE1C,eAAC3f,GAAA,QAAI,UACH,eAAC,OAAI,CAACpc,MAAO,CAAEkC,MAAO,UAAW8D,SAAU,IAAK,SAAC,qBAKpD+1B,GACC,eAAC,WAAM,CACL/7B,MAAO,CACLmF,SAAU,WACVM,UAAW,MACXsJ,iBAAkB,iBChVnB,SAAS2e,GAAYhK,EAAcQ,GAChD,IAAcjK,EAAa7kB,GAAoB2N,GAAe7R,IAAtD+W,KACMjP,EAAmBX,KAAzB4P,KACFnY,EAAWiT,GAAehS,GAC1BpB,EAAUoT,GAAe7R,GAC/B,EAA0BwP,mBAAS,IAAG,WAAxB6rB,GAAF,KAAU,MACtB,EAA0B7rB,mBAAS,IAAG,WAAxB+rB,GAAF,KAAU,MACtB,EAA0B/rB,mBAAS,IAAG,WACtC,GADY,KAAU,KACYA,oBAAS,IAAM,WAA/B0rB,GAAF,KAAc,MAC9B,EAAkC1rB,mBAAS,MAAK,WAAzCitB,EAAS,KAAEtB,EAAY,KAExBxI,EAAW,CACf6I,MAAO,CACL1mB,SAAU,GACVgZ,cAAe,GACf/Y,WAAY,OACZC,UAAW,SACXZ,MAAO,OACPpD,MAAOpS,EAAW,mBAAqB,cAEzCg0B,SAAU,CACR1e,gBAAiBtV,EACb,wBACA,sBAEN0Z,cAAe,CACbyB,SAAU,IACV+T,cAAe,KAInB9d,qBAAU,WACR2C,MAAS+C,GAAQ,2BAA4B,CAC3CxS,OAAQ,MACR1B,QAAS,CACP,eAAgB,mBAChB/C,aAEDqU,KAAK,WAAD,WAAC,UAAOiE,GACb,GAAIA,EAAKW,GAAI,CACX,IAAM+jB,QAAiB1kB,EAAKY,OAC5B0jB,EACEI,EAASl+B,KAAI,SAACm+B,GACZ,GAAIA,EACF,OAAUA,EAAKC,SAAQ,KAAKD,EAAK54B,SAAQ,QAI/Cy4B,EAASE,OAEV,OAAF,4CAZO,MAaP,IAEH,IAAM0Q,EAAc,sBAAG,UAAO1P,GAAe,IAAD,EA8B1C,aAbqB9pB,MAAS+C,GAAQ,0BAA2B,CAC/DxS,OAAQ,OACR1B,QAAS,CACP,eAAgB,mBAChB/C,WAEF+E,KAAMgU,KAAKC,UAAU,CACnBklB,WAAY,CAACF,GACbr5B,KAAMoU,KAAKC,UAxBf,SAAiBzV,GACf,IAAMy2B,EAAQ,GAad,OAZAv6B,OAAOD,KAAK+D,GAAczE,KAAI,SAAC8O,GACzBA,IAASvE,GACX5J,OAAOD,KAAK+D,EAAaqK,IAAO9O,KAAI,SAAC+E,GACnC,IAAK,IAAMJ,KAAcF,EAAaqK,GAAM/J,GAC1Cm2B,EAAMh2B,KAAK,CACTP,aACAC,WAAY2F,UAMf2wB,EAUgB2T,CAA6B,OAAtB,EAACrjB,EAAS/mB,mBAAY,EAArB,EAAuBF,UACpD+S,MAAUkU,EAAS/S,cAAa,cAChCq2B,YAAY,OAGF30B,MACf,gBA/BmB,sCAgCpB,OACE,eAAC,QAAK,CACJ+a,QAASO,EACTN,cAAeC,EAASC,SACxB9jB,MAAO,CAAEsF,MAAO,MAAOE,OAAQ,OAC/Bue,gBAAiB,kBAAML,GAAa,IAAO,SAE3C,gBAAC,OAAI,CAACvhB,UAAQ,YACZ,eAACojB,GAAA,QAAI,CAACvlB,MAAO6jB,EAAS6I,MAAM,SAAC,wBAC5BP,GAA0B,CACzBC,eACAC,eACAzqB,aAAa,IAEf,gBAACwa,GAAA,QAAI,WACH,eAAC2R,GAAA,QAAM,CACL5rB,SAAwB,OAAdwrB,EACV5nB,MAAM,OACNzF,QAAS,WACP+8B,EAAe1P,GAAW3pB,MAAK,SAACgqB,GAC9BtK,GAAa,GACbsK,EACIzgB,UAAM9L,MAAM,gBACZ8L,UAAM9L,MACN,wBACA,gCAKV,eAACssB,GAAA,QAAM,CACLhoB,MAAM,UACNzF,QAAS,WACPojB,GAAa,cC9HZ,SAAS8Z,GAAW,GAAiB,IAAfz9B,EAAU,EAAVA,WAC7B1I,EAAWwL,KAEX5J,EAAoB8J,IACxB,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAW3D,qBAEhCtJ,EAAUoT,IAAe,SAACzS,GAAK,OAAKA,EAAMU,QAAQC,OAAOtB,WACzDqJ,EAAiB+J,IACrB,SAACzS,GAAK,OAAKA,EAAMU,QAAQ4L,WAAW5D,kBAGxBykC,EAAkBrrC,GAAcL,UAAUQ,YAAYglB,cAAc5nB,EAAS,CACzFu/B,MAAOv/B,IADDsY,KAGR,EAAwBrP,KAAjB7C,EAA4C,SAA/B,GAEd2nC,EAAkBzkC,EAAkB+vB,WAAU,SAACzrB,GAAI,OAAKA,GAAQvE,MAAmB,EAEzF,EAAwD0H,mBACtD,IAAI8G,YAAUk2B,IACf,WAFMC,EAAoB,KAAEC,EAAuB,KAwBpD,OACE,gBAAC,SAAM,CAAC59B,MAAO,CAAEC,KAAM,GAAI,UACzB,gBAAC,SAAM,CACLD,MAAO,CACLqG,cAAe,MACflG,eAAgB,gBAChBC,OAAQ,GACRqF,UAAW,IACX,UAEF,eAACR,GAAA,QAAgB,CACf3E,QAAS,WACPP,EAAWiJ,UACX,SAEF,eAAC,OAAI,UAAC,aAGR,eAAC,OAAI,CAAC3I,SAAS,KAAI,SAAC,gBAEpB,eAAC4E,GAAA,QAAgB,CAAC3E,QAxCJ,WAClB,GAAIrH,EAAkB0kC,EAAqB/zB,OAAS5Q,EAClD,IACEjD,EAAc,CACZpG,UACAsG,YAAawnC,EAAcxnC,YAC3B5C,WAAY4F,EAAkB0kC,EAAqB/zB,OAClDrI,SAEHlK,EACE2C,GAAsBf,EAAkB0kC,EAAqB/zB,OAE/D,MAAO5a,GACP4E,QAAQ6U,IAAI,4CAA6CzZ,GAI7D+Q,EAAWiJ,UAuBgC,SACrC,eAAC,OAAI,UAAC,cAIV,eAAC,SAAM,CACLhJ,MAAO,CAAEI,OAAQ,IACjB+I,MAAM,OACNtS,MAAOoC,EAAkB0kC,EAAqB/zB,KAC9CnC,cAAek2B,EACfj0B,SAAU,SAACnJ,GACTq9B,EAAwBr9B,IACxB,SAEDtH,EAAkBxK,KAAI,SAAC8O,EAAMgD,GAAK,OACjC,eAAC,aAAU,CAAawF,MAAOxI,GAAdgD,WC7D3B,IAAM8B,GAAQC,oBAEC,SAASu7B,KACtB,IAAM99B,EAAak8B,2BACb5qC,EAAa0R,IACjB,SAACzS,GAAK,OAAKA,EAAMU,QAAQoO,SAAS/N,cAE9Bwa,EAAQC,qBACRzU,EAAWwL,KACXjT,EAAUmT,GAAe5R,GACzBrB,EAAWiT,GAAehS,GAEhC,GADgBgS,GAAe7R,GACGwP,oBAAS,IAAM,WAA1CwjB,EAAS,KAAER,EAAY,KAC9B,EAA4ChjB,oBAAS,GAAM,WAApD8sB,EAAc,KAAEC,EAAiB,KAWxC,IAAM3U,EACJ,eAACvU,GAAA,QAAK,CACJvE,MAAO,CACLwF,OAAQ,GACRF,MAAO,GACPpF,WAAY,UAEdsE,OAAQtB,EAAQ,OAId6C,EACJ,eAACqW,GAAA,QAAI,CACHpc,MAAO,CACLE,WAAY,SACZuK,aAAc,IACd,SAED0B,UAAWC,IAAI,UAAU9G,MAAQ,KAChC,eAAC,WAAM,CACLw4B,cACE,eAACC,GAAA,QAAsB,CAAC7tC,KAAK,YAAY0e,KAAM,GAAI1M,MAAM,SAE3D87B,eACE,eAACD,GAAA,QAAsB,CAAC7tC,KAAK,YAAY0e,KAAM,GAAI1M,MAAM,SAE3D+7B,SAAU,CACRC,sBAAuBryB,EAAM,qBAC7BsyB,wBAAyBtyB,EAAM,qBAC/BvG,MAAO,GACPE,OAAQ,IAEV44B,YAAa,CACX94B,MAAO,GACPE,OAAQ,GACR04B,sBAAuBryB,EAAM,qBAC7BsyB,wBAAyBtyB,EAAM,qBAC/BwyB,YAAaxyB,EAAM,qBACnByyB,cAAe,OACf73B,YAAa,GAEf5P,MAAOxF,EACPiP,QAAS,SAACi+B,GAAI,OAAKlnC,EAAS9F,IAAegtC,SAK7Cn8B,EACJ,gBAACga,GAAA,QAAI,CACHpc,MAAO,CACLkK,kBAAmB,EACnBhK,WAAY,SACZmG,cAAe,OACf,UAEF,eAACpB,GAAA,QAAgB,CACf3E,QAAS,WACH1Q,EACF69B,GAAkB,GAGlB1tB,EAAWyB,SAAS,sBAGxBxB,MAAO,CACLuG,YAAa,GACbrG,WAAY,UACZ,SAEF,gBAACkc,GAAA,QAAI,CACHpc,MAAO,CACLwF,OAAQ,GACRa,cAAe,SACfnG,WAAY,SACZC,eAAgB,YAChB,UAEF,eAAC4Y,GAAA,QAAY,CACX7oB,KAAK,OACL0e,KAAM,GACN1M,MAAOpS,EAAW,QAAU,UAE9B,eAAC,OAAI,CAACkQ,MAAO,CAAE0B,WAAY,EAAGsE,SAAU,IAAK,SAAC,mBAGjC,QAAhBzH,UAASC,IACR,eAACyG,GAAA,QAAgB,CACf3E,QAAS,WACH1Q,EACF69B,GAAkB,GAElB/J,GAAa,IAGjB1jB,MAAO,CACLE,WAAY,UACZ,SAEF,gBAACkc,GAAA,QAAI,CACHpc,MAAO,CACLwF,OAAQ,GACRa,cAAe,SACfnG,WAAY,SACZC,eAAgB,YAChB,UAEF,eAAC4Y,GAAA,QAAY,CACX7oB,KAAK,cACL0e,KAAM,GACN1M,MAAOpS,EAAW,QAAU,UAE9B,eAAC,OAAI,CAACkQ,MAAO,CAAE0B,WAAY,EAAGsE,SAAU,IAAK,SAAC,wBAInDwnB,GACC,eAAC1B,GAAc,CACb/lB,MAAM,QACNoJ,SACE,eAAC,OAAI,CAACnP,MAAO,CAAEkK,kBAAmB,IAAK,SAAC,oHAK1C6hB,gBAAiByB,EACjBxB,mBAAoByB,IAGvBC,GAAYhK,EAAcQ,MAG/B,OACE,gBAAC,GAAM1hB,UAAS,WACd,eAAC,GAAMG,OAAM,CACXzS,KAAK,eACL0S,UAAW+2B,GACX77B,QAAS,CACPgnB,OAAQ,WACN,OACE,eAAC,SAAM,CAAC9kB,MAAO,CAAEgf,cAAe,IAAK,SACnC,eAAC2C,GAAM,CACLC,OAAQ7b,EACR3D,eAAgBA,EAChB0W,cAAeA,EACf/S,MAAM,mBAOlB,eAAC,GAAMpD,OAAM,CACXzS,KAAK,oBACL0S,UAAWk5B,GACXh+B,QAAS,CAAEosB,YAAa,eAET,QAAhB3rB,UAASC,IACR,eAAC,GAAMmE,OAAM,CACXzS,KAAK,kBACL0S,UAAW6xB,GACX32B,QAAS,CAAE4E,aAAa,EAAOwnB,YAAa,iBAGhD,eAAC,GAAMvnB,OAAM,CACXzS,KAAK,aACL0S,UAAW46B,GACX1/B,QAAS,CACPiI,MAAO,cACPrD,aAAa,EACbynB,UAAW,oBACXqU,iBAAkB,iB,wBClOfC,GAAc,CACzB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,KACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,MACA,MACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,OACA,OACA,KACA,MACA,MACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,MACA,OACA,OACA,OACA,QC/Ea,SAASC,GAAkB,GAAsB,IAApB3+B,EAAU,EAAVA,WACpC1I,EAAWwL,KACjB,EAA8CnC,mBAAS,IAAG,WAAnDi+B,EAAe,KAAEC,EAAkB,KAC1C,EAAkDl+B,mBAAS+9B,IAAY,WAAhEI,EAAiB,KAAEC,EAAoB,KAC9C,EAA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","file":"static/js/app.b84310e1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/app-logo-transparent.1ede614a.png\";","module.exports = __webpack_public_path__ + \"static/media/coupon.84c88381.png\";","module.exports = __webpack_public_path__ + \"static/media/become-sponsor.513cb6e7.png\";","module.exports = __webpack_public_path__ + \"static/media/owl-black-text.6f7231df.png\";","module.exports = __webpack_public_path__ + \"static/media/owl-white-text.9861cc3f.png\";","var map = {\n\t\"./af\": 390,\n\t\"./af.js\": 390,\n\t\"./ar\": 391,\n\t\"./ar-dz\": 392,\n\t\"./ar-dz.js\": 392,\n\t\"./ar-kw\": 393,\n\t\"./ar-kw.js\": 393,\n\t\"./ar-ly\": 394,\n\t\"./ar-ly.js\": 394,\n\t\"./ar-ma\": 395,\n\t\"./ar-ma.js\": 395,\n\t\"./ar-sa\": 396,\n\t\"./ar-sa.js\": 396,\n\t\"./ar-tn\": 397,\n\t\"./ar-tn.js\": 397,\n\t\"./ar.js\": 391,\n\t\"./az\": 398,\n\t\"./az.js\": 398,\n\t\"./be\": 399,\n\t\"./be.js\": 399,\n\t\"./bg\": 400,\n\t\"./bg.js\": 400,\n\t\"./bm\": 401,\n\t\"./bm.js\": 401,\n\t\"./bn\": 402,\n\t\"./bn-bd\": 403,\n\t\"./bn-bd.js\": 403,\n\t\"./bn.js\": 402,\n\t\"./bo\": 404,\n\t\"./bo.js\": 404,\n\t\"./br\": 405,\n\t\"./br.js\": 405,\n\t\"./bs\": 406,\n\t\"./bs.js\": 406,\n\t\"./ca\": 407,\n\t\"./ca.js\": 407,\n\t\"./cs\": 408,\n\t\"./cs.js\": 408,\n\t\"./cv\": 409,\n\t\"./cv.js\": 409,\n\t\"./cy\": 410,\n\t\"./cy.js\": 410,\n\t\"./da\": 411,\n\t\"./da.js\": 411,\n\t\"./de\": 412,\n\t\"./de-at\": 413,\n\t\"./de-at.js\": 413,\n\t\"./de-ch\": 414,\n\t\"./de-ch.js\": 414,\n\t\"./de.js\": 412,\n\t\"./dv\": 415,\n\t\"./dv.js\": 415,\n\t\"./el\": 416,\n\t\"./el.js\": 416,\n\t\"./en-au\": 417,\n\t\"./en-au.js\": 417,\n\t\"./en-ca\": 418,\n\t\"./en-ca.js\": 418,\n\t\"./en-gb\": 419,\n\t\"./en-gb.js\": 419,\n\t\"./en-ie\": 420,\n\t\"./en-ie.js\": 420,\n\t\"./en-il\": 421,\n\t\"./en-il.js\": 421,\n\t\"./en-in\": 422,\n\t\"./en-in.js\": 422,\n\t\"./en-nz\": 423,\n\t\"./en-nz.js\": 423,\n\t\"./en-sg\": 424,\n\t\"./en-sg.js\": 424,\n\t\"./eo\": 425,\n\t\"./eo.js\": 425,\n\t\"./es\": 426,\n\t\"./es-do\": 427,\n\t\"./es-do.js\": 427,\n\t\"./es-mx\": 428,\n\t\"./es-mx.js\": 428,\n\t\"./es-us\": 429,\n\t\"./es-us.js\": 429,\n\t\"./es.js\": 426,\n\t\"./et\": 430,\n\t\"./et.js\": 430,\n\t\"./eu\": 431,\n\t\"./eu.js\": 431,\n\t\"./fa\": 432,\n\t\"./fa.js\": 432,\n\t\"./fi\": 433,\n\t\"./fi.js\": 433,\n\t\"./fil\": 434,\n\t\"./fil.js\": 434,\n\t\"./fo\": 435,\n\t\"./fo.js\": 435,\n\t\"./fr\": 436,\n\t\"./fr-ca\": 437,\n\t\"./fr-ca.js\": 437,\n\t\"./fr-ch\": 438,\n\t\"./fr-ch.js\": 438,\n\t\"./fr.js\": 436,\n\t\"./fy\": 439,\n\t\"./fy.js\": 439,\n\t\"./ga\": 440,\n\t\"./ga.js\": 440,\n\t\"./gd\": 441,\n\t\"./gd.js\": 441,\n\t\"./gl\": 442,\n\t\"./gl.js\": 442,\n\t\"./gom-deva\": 443,\n\t\"./gom-deva.js\": 443,\n\t\"./gom-latn\": 444,\n\t\"./gom-latn.js\": 444,\n\t\"./gu\": 445,\n\t\"./gu.js\": 445,\n\t\"./he\": 446,\n\t\"./he.js\": 446,\n\t\"./hi\": 447,\n\t\"./hi.js\": 447,\n\t\"./hr\": 448,\n\t\"./hr.js\": 448,\n\t\"./hu\": 449,\n\t\"./hu.js\": 449,\n\t\"./hy-am\": 450,\n\t\"./hy-am.js\": 450,\n\t\"./id\": 451,\n\t\"./id.js\": 451,\n\t\"./is\": 452,\n\t\"./is.js\": 452,\n\t\"./it\": 453,\n\t\"./it-ch\": 454,\n\t\"./it-ch.js\": 454,\n\t\"./it.js\": 453,\n\t\"./ja\": 455,\n\t\"./ja.js\": 455,\n\t\"./jv\": 456,\n\t\"./jv.js\": 456,\n\t\"./ka\": 457,\n\t\"./ka.js\": 457,\n\t\"./kk\": 458,\n\t\"./kk.js\": 458,\n\t\"./km\": 459,\n\t\"./km.js\": 459,\n\t\"./kn\": 460,\n\t\"./kn.js\": 460,\n\t\"./ko\": 461,\n\t\"./ko.js\": 461,\n\t\"./ku\": 462,\n\t\"./ku.js\": 462,\n\t\"./ky\": 463,\n\t\"./ky.js\": 463,\n\t\"./lb\": 464,\n\t\"./lb.js\": 464,\n\t\"./lo\": 465,\n\t\"./lo.js\": 465,\n\t\"./lt\": 466,\n\t\"./lt.js\": 466,\n\t\"./lv\": 467,\n\t\"./lv.js\": 467,\n\t\"./me\": 468,\n\t\"./me.js\": 468,\n\t\"./mi\": 469,\n\t\"./mi.js\": 469,\n\t\"./mk\": 470,\n\t\"./mk.js\": 470,\n\t\"./ml\": 471,\n\t\"./ml.js\": 471,\n\t\"./mn\": 472,\n\t\"./mn.js\": 472,\n\t\"./mr\": 473,\n\t\"./mr.js\": 473,\n\t\"./ms\": 474,\n\t\"./ms-my\": 475,\n\t\"./ms-my.js\": 475,\n\t\"./ms.js\": 474,\n\t\"./mt\": 476,\n\t\"./mt.js\": 476,\n\t\"./my\": 477,\n\t\"./my.js\": 477,\n\t\"./nb\": 478,\n\t\"./nb.js\": 478,\n\t\"./ne\": 479,\n\t\"./ne.js\": 479,\n\t\"./nl\": 480,\n\t\"./nl-be\": 481,\n\t\"./nl-be.js\": 481,\n\t\"./nl.js\": 480,\n\t\"./nn\": 482,\n\t\"./nn.js\": 482,\n\t\"./oc-lnc\": 483,\n\t\"./oc-lnc.js\": 483,\n\t\"./pa-in\": 484,\n\t\"./pa-in.js\": 484,\n\t\"./pl\": 485,\n\t\"./pl.js\": 485,\n\t\"./pt\": 486,\n\t\"./pt-br\": 487,\n\t\"./pt-br.js\": 487,\n\t\"./pt.js\": 486,\n\t\"./ro\": 488,\n\t\"./ro.js\": 488,\n\t\"./ru\": 489,\n\t\"./ru.js\": 489,\n\t\"./sd\": 490,\n\t\"./sd.js\": 490,\n\t\"./se\": 491,\n\t\"./se.js\": 491,\n\t\"./si\": 492,\n\t\"./si.js\": 492,\n\t\"./sk\": 493,\n\t\"./sk.js\": 493,\n\t\"./sl\": 494,\n\t\"./sl.js\": 494,\n\t\"./sq\": 495,\n\t\"./sq.js\": 495,\n\t\"./sr\": 496,\n\t\"./sr-cyrl\": 497,\n\t\"./sr-cyrl.js\": 497,\n\t\"./sr.js\": 496,\n\t\"./ss\": 498,\n\t\"./ss.js\": 498,\n\t\"./sv\": 499,\n\t\"./sv.js\": 499,\n\t\"./sw\": 500,\n\t\"./sw.js\": 500,\n\t\"./ta\": 501,\n\t\"./ta.js\": 501,\n\t\"./te\": 502,\n\t\"./te.js\": 502,\n\t\"./tet\": 503,\n\t\"./tet.js\": 503,\n\t\"./tg\": 504,\n\t\"./tg.js\": 504,\n\t\"./th\": 505,\n\t\"./th.js\": 505,\n\t\"./tk\": 506,\n\t\"./tk.js\": 506,\n\t\"./tl-ph\": 507,\n\t\"./tl-ph.js\": 507,\n\t\"./tlh\": 508,\n\t\"./tlh.js\": 508,\n\t\"./tr\": 509,\n\t\"./tr.js\": 509,\n\t\"./tzl\": 510,\n\t\"./tzl.js\": 510,\n\t\"./tzm\": 511,\n\t\"./tzm-latn\": 512,\n\t\"./tzm-latn.js\": 512,\n\t\"./tzm.js\": 511,\n\t\"./ug-cn\": 513,\n\t\"./ug-cn.js\": 513,\n\t\"./uk\": 514,\n\t\"./uk.js\": 514,\n\t\"./ur\": 515,\n\t\"./ur.js\": 515,\n\t\"./uz\": 516,\n\t\"./uz-latn\": 517,\n\t\"./uz-latn.js\": 517,\n\t\"./uz.js\": 516,\n\t\"./vi\": 518,\n\t\"./vi.js\": 518,\n\t\"./x-pseudo\": 519,\n\t\"./x-pseudo.js\": 519,\n\t\"./yo\": 520,\n\t\"./yo.js\": 520,\n\t\"./zh-cn\": 521,\n\t\"./zh-cn.js\": 521,\n\t\"./zh-hk\": 522,\n\t\"./zh-hk.js\": 522,\n\t\"./zh-mo\": 523,\n\t\"./zh-mo.js\": 523,\n\t\"./zh-tw\": 524,\n\t\"./zh-tw.js\": 524\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 851;","module.exports = __webpack_public_path__ + \"static/media/splash-logo.2b1029f0.png\";","module.exports = __webpack_public_path__ + \"static/media/app-logo.f5ec62f5.png\";","import * as SecureStore from \"expo-secure-store\";\n\nexport default function createSecureStorage(options: any = {}) {\n  const replaceCharacter = options.replaceCharacter || \"_\";\n  const replacer = options.replacer || defaultReplacer;\n\n  return {\n    getItem: (key: string) => SecureStore.getItemAsync(replacer(key, replaceCharacter), options),\n    setItem: (key: string, value: string) => SecureStore.setItemAsync(replacer(key, replaceCharacter), value, options),\n    removeItem: (key: string) => SecureStore.deleteItemAsync(replacer(key, replaceCharacter), options),\n  };\n}\n\nfunction defaultReplacer(key: string, replaceCharacter: string) {\n  return key.replace(/[^a-z0-9.\\-_]/gi, replaceCharacter);\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Appearance } from \"react-native\";\n\nimport type { RootState } from \"./store\";\n\n// Define a type for the slice state\ninterface AppDataState {\n  userKey: string;\n  isGuest: boolean;\n  isMobile: boolean;\n  darkMode: boolean;\n  useDeviceColorScheme: boolean;\n}\n\n// Define the initial state using that type\nconst initialState: AppDataState = {\n  userKey: \"\",\n  isGuest: false,\n  isMobile: false,\n  darkMode: false,\n  useDeviceColorScheme: false,\n};\n\nexport const appDataSlice = createSlice({\n  name: \"appData\",\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    userKeyUpdated: (state, action: PayloadAction<string>) => {\n      state.userKey = action.payload;\n    },\n    setIsGuest: (state, action: PayloadAction<boolean>) => {\n      state.isGuest = action.payload;\n    },\n    deviceDarkModeSet: (state, action: PayloadAction<boolean>) => {\n      state.darkMode = action.payload;\n    },\n    useDeviceColorSchemeSet: (state, action: PayloadAction<boolean>) => {\n      state.useDeviceColorScheme = action.payload;\n    },\n    deleteAllAppData: (state) => {\n      state.userKey = \"\";\n      state.isGuest = false;\n      state.darkMode = true;\n    },\n    mobileSiteSet: (state, action: PayloadAction<boolean>) => {\n      state.isMobile = action.payload;\n    },\n  },\n  extraReducers: () => {},\n});\n\n// Selectors\nexport const selectDarkMode = (state: RootState) => state.appData.secure.darkMode;\n\nexport const selectUserKey = (state: RootState) => state.appData.secure.userKey;\n\nexport const selectIsGuest = (state: RootState) => state.appData.secure.isGuest;\n\nexport const selectMobile = (state: RootState) => state.appData.secure.isMobile;\n\n// Actions\nexport const {\n  userKeyUpdated,\n  setIsGuest,\n  deleteAllAppData,\n  reset,\n  deviceDarkModeSet,\n  useDeviceColorSchemeSet,\n  mobileSiteSet,\n} = appDataSlice.actions;\n\nexport default appDataSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport type { PayloadAction } from \"@reduxjs/toolkit\";\n\ninterface CalendarState {\n  isThreeDay: boolean;\n}\n\nconst initialState: CalendarState = {\n  isThreeDay: false,\n};\n\nexport const calendarSlice = createSlice({\n  name: \"discover\",\n  initialState,\n  reducers: {\n    reset: (state) => (state = initialState),\n    isThreeDaySet: (state, action: PayloadAction<boolean>) => {\n      state.isThreeDay = action.payload;\n    },\n  },\n});\n\nexport const { reset, isThreeDaySet } = calendarSlice.actions;\n\nexport default calendarSlice.reducer;\n","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const apiSlice = createApi({\n  reducerPath: \"api\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: __DEV__\n      ? \"https://api.athenaserver.com:5678/api\"\n      : \"https://api.athenaserver.com:5678/api\",\n  }),\n  tagTypes: [\"User\", \"Posts\"],\n  endpoints: (builder) => ({\n    getCurrentVersion: builder.query<any, void>({\n      query: () => \"/randomShit/getCurrentVersion\",\n    }),\n  }),\n});\n\nexport const { useLazyGetCurrentVersionQuery } = apiSlice;\n","import { apiSlice } from \"./apiSlice\";\nimport {\n  AddedClasses,\n  CourseTermAddedClasses,\n  UserData,\n} from \"../../app/types\";\n\nexport const usersApiSlice = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    getUserInfo: builder.query({\n      providesTags: [\"User\"],\n      query: (userKey: string) => ({\n        url: \"/users/me\",\n        headers: {\n          userKey,\n        },\n      }),\n      transformErrorResponse: (response) => {\n        if (response.status === 401) {\n          return { error: \"Unauthorized\" };\n        }\n        return response;\n      },\n      transformResponse: ({ classes, ...rest }) => {\n        const addedClasses = {\n          length: 0,\n          classes: {} as { [courseTerm: string]: CourseTermAddedClasses },\n        } as AddedClasses;\n\n        try {\n          for (const { courseCode, courseTerm } of classes) {\n            let school = courseCode.split(\"-\");\n            school = school[school.length - 2].split(\" \");\n            school = school[school.length - 1];\n            const masterCourseCode = `${courseCode.split(\" \").slice(0, 2).join(\" \")} ${school}`;\n            if (courseTerm in addedClasses.classes) {\n              if (masterCourseCode in addedClasses.classes[courseTerm]) {\n                addedClasses.classes[courseTerm][masterCourseCode].push(\n                  courseCode,\n                );\n              } else {\n                addedClasses.classes[courseTerm][masterCourseCode] = [\n                  courseCode,\n                ];\n              }\n            } else {\n              addedClasses.classes[courseTerm] = {\n                [masterCourseCode]: [courseCode],\n              };\n            }\n\n            addedClasses.length++;\n          }\n        } catch (e) {\n          console.warn(\"Error Adding Classes To State\", e);\n        }\n\n        return { addedClasses, ...rest } as UserData;\n      },\n    }),\n    login: builder.mutation({\n      query: ({ userName, password, isGuest }) => ({\n        url: `/users/login`,\n        params: isGuest\n          ? {\n            userName,\n            password,\n            isGuest,\n          }\n          : {\n            userName,\n            password,\n          },\n      }),\n    }),\n    trackLogin: builder.mutation({\n      query: (userKey) => ({\n        url: `/analytics/login/openedApp`,\n        method: \"POST\",\n        headers: {\n          userKey,\n        },\n        responseHandler: (response) => response.text(),\n      }),\n    }),\n    deleteAccount: builder.mutation({\n      query: ({ userKey, userName }) => ({\n        url: \"/users\",\n        method: \"DELETE\",\n        headers: {\n          userKey,\n        },\n        params: {\n          userName,\n        },\n      }),\n    }),\n    editUser: builder.mutation({\n      invalidatesTags: [\"User\"],\n      query: ({ userKey, userName, fields }) => ({\n        url: `/users/${userName}`,\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\",\n          userKey,\n        },\n        body: fields,\n      }),\n    }),\n    getCollegeList: builder.query<any, void>({\n      query: () => \"/randomShit/getCollegeList\",\n    }),\n    signupUser: builder.mutation({\n      query: (body) => ({\n        url: \"/users\",\n        method: \"POST\",\n        body,\n        responseHandler: (response) => response.text(),\n      }),\n    }),\n    verifySignup: builder.mutation({\n      query: (code) => ({\n        url: \"/users/verification\",\n        method: \"POST\",\n        body: { code },\n      }),\n    }),\n    resetPassword: builder.mutation({\n      query: (email) => ({\n        url: \"/users/forgotPassword\",\n        params: {\n          email,\n        },\n        responseHandler: (response) => response.text(),\n      }),\n    }),\n    addExpoPushToken: builder.mutation({\n      query: ({ userName, expoPushToken, userKey }) => ({\n        url: `/users/addExpoPushKey/${userName}`,\n        method: \"PATCH\",\n        headers: {\n          userKey,\n        },\n        body: {\n          expoPushToken,\n        },\n      }),\n    }),\n  }),\n});\n\nexport const {\n  useTrackLoginMutation,\n  useGetUserInfoQuery,\n  useLazyGetUserInfoQuery,\n  useLoginMutation,\n  useDeleteAccountMutation,\n  useEditUserMutation,\n  useGetCollegeListQuery,\n  useSignupUserMutation,\n  useVerifySignupMutation,\n  useResetPasswordMutation,\n  useAddExpoPushTokenMutation,\n} = usersApiSlice;\n","import { apiSlice } from \"./apiSlice\";\nimport { usersApiSlice } from \"./usersApi\";\nimport { AllSectionsResponse, Class, UserData } from \"../../app/types\";\n\nexport const classPagesApi = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    getAllClasses: builder.query({\n      query: ({\n        userKey, pageNumber, courseTerm, collegeName\n      }) => ({\n        url: `/classes/masterClassList/${collegeName}`,\n        headers: {\n          userKey,\n        },\n        params: {\n          pageNumber,\n          courseTerm,\n        },\n      }),\n      transformResponse: (response: { [masterCourseCode: string]: Class }) => {\n        const getRatingFromReviews = (reviews) => {\n          if (reviews.length === 0) {\n            return null;\n          }\n          let totalAverage = 0;\n          let counter = 0;\n          for (const review of reviews) {\n            if (review.rating) {\n              totalAverage += review.rating;\n              counter++;\n            }\n          }\n          if (counter > 0) {\n            return (totalAverage / counter).toFixed(2);\n          }\n          return null;\n\n        };\n\n        const getDifficultyFromReviews = (reviews) => {\n          if (reviews.length === 0) {\n            return null;\n          }\n          let totalAverage = 0;\n          let counter = 0;\n          for (const review of reviews) {\n            if (review.difficulty) {\n              totalAverage += review.difficulty;\n              counter++;\n            }\n          }\n          if (counter > 0) {\n            return (totalAverage / counter).toFixed(2);\n          }\n          return null;\n\n        };\n\n        return Object.fromEntries(\n          Object.entries(response).map(([key, value]) => {\n            return [\n              key,\n              {\n                ...value,\n                reviews: value.reviews.sort(),\n                rating: getRatingFromReviews(value.reviews),\n                difficulty: getDifficultyFromReviews(value.reviews),\n              },\n            ];\n          }),\n        );\n      },\n    }),\n    getCurrentSection: builder.query<string, void>({\n      query: () => \"/randomShit/currentTerm\",\n      transformResponse: (response: { currentTerm: string }) => response.currentTerm,\n    }),\n    getAllSections: builder.query<AllSectionsResponse, void>({\n      query: () => \"/randomShit/getAllTerms\",\n    }),\n    addClass: builder.mutation({\n      query: ({\n        userKey, courseCode, courseTerm, userName\n      }) => ({\n        url: `/users/${userName}`,\n        method: \"PATCH\",\n        headers: {\n          userKey,\n        },\n        body: {\n          classesToAdd: [{ courseCode, courseTerm }],\n        },\n      }),\n      async onQueryStarted(\n        {\n          userKey, courseCode, masterCourseCode, courseTerm\n        },\n        { dispatch, queryFulfilled },\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            \"getUserInfo\",\n            userKey,\n            (draft) => {\n              if (!(courseTerm in draft.addedClasses.classes)) {\n                draft.addedClasses.classes[courseTerm] = {\n                  [masterCourseCode]: [courseCode],\n                };\n              } else if (\n                !(masterCourseCode in draft.addedClasses.classes[courseTerm])\n              ) {\n                draft.addedClasses.classes[courseTerm][masterCourseCode] = [\n                  courseCode,\n                ];\n              } else {\n                draft.addedClasses.classes[courseTerm][masterCourseCode].push(\n                  courseCode,\n                );\n              }\n              draft.addedClasses.length++;\n            },\n          ),\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n        }\n      },\n    }),\n    addMultipleClasses: builder.mutation<\n      { userData: UserData },\n      {\n        userKey: string;\n        courseTerm: string;\n        userName: string;\n        courseCodePairs: {\n          courseCode: string;\n          masterCourseCode: string;\n        }[];\n      }\n    >({\n      query: ({\n        userKey, courseCodePairs, courseTerm, userName\n      }) => ({\n        url: `/users/${userName}`,\n        method: \"PATCH\",\n        headers: {\n          userKey,\n        },\n        body: {\n          classesToAdd: courseCodePairs.map((courseCodePair) => ({\n            courseCode: courseCodePair.courseCode,\n            courseTerm,\n          })),\n        },\n      }),\n      async onQueryStarted(\n        { userKey, courseCodePairs, courseTerm },\n        { dispatch, queryFulfilled },\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            \"getUserInfo\",\n            userKey,\n            (draft) => {\n              for (const { masterCourseCode, courseCode } of courseCodePairs) {\n                if (!(courseTerm in draft.addedClasses.classes)) {\n                  draft.addedClasses.classes[courseTerm] = {\n                    [masterCourseCode]: [courseCode],\n                  };\n                } else if (\n                  !(masterCourseCode in draft.addedClasses.classes[courseTerm])\n                ) {\n                  draft.addedClasses.classes[courseTerm][masterCourseCode] = [\n                    courseCode,\n                  ];\n                } else {\n                  draft.addedClasses.classes[courseTerm][masterCourseCode].push(\n                    courseCode,\n                  );\n                }\n                draft.addedClasses.length++;\n              }\n            },\n          ),\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n        }\n      },\n    }),\n    removeClass: builder.mutation({\n      query: ({\n        userKey, courseCode, courseTerm, userName\n      }) => ({\n        url: `/users/${userName}`,\n        method: \"PATCH\",\n        headers: {\n          userKey,\n        },\n        body: {\n          classesToRemove: [{ courseCode, courseTerm }],\n        },\n      }),\n      async onQueryStarted(\n        {\n          userKey, courseCode, masterCourseCode, courseTerm\n        },\n        { dispatch, queryFulfilled },\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            \"getUserInfo\",\n            userKey,\n            (draft) => {\n              draft.addedClasses.classes[courseTerm][masterCourseCode] = draft.addedClasses.classes[courseTerm][masterCourseCode].filter(\n                (classCode) => classCode !== courseCode,\n              );\n              draft.addedClasses.length--;\n            },\n          ),\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n        }\n      },\n    }),\n    isAllowedToReview: builder.query({\n      query: ({ masterCourseCode, userKey }) => ({\n        url: \"/users/isAllowedToReview\",\n        method: \"GET\",\n        params: {\n          masterCourseCode,\n        },\n        headers: {\n          userKey,\n        },\n      }),\n    }),\n    sendReview: builder.mutation({\n      query: ({ userKey, body }) => ({\n        url: \"/classes/userReview\",\n        method: \"PATCH\",\n        headers: {\n          userKey,\n        },\n        body,\n        responseHandler: (response) => response.text(),\n      }),\n    }),\n  }),\n});\n\nexport const {\n  useGetAllClassesQuery,\n  useGetCurrentSectionQuery,\n  useAddClassMutation,\n  useAddMultipleClassesMutation,\n  useRemoveClassMutation,\n  useIsAllowedToReviewQuery,\n  useSendReviewMutation,\n  useLazyGetAllClassesQuery,\n  useLazyGetAllSectionsQuery,\n} = classPagesApi;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport type { RootState } from \"../../app/store\";\nimport { Class, Filters } from \"../../app/types\";\nimport { classPagesApi } from \"../api/classPagesApi\";\n\n// Define a type for the slice state\ninterface ClassPagesState {\n  classes: { [masterCourseCode: string]: Class };\n  filteredClasses: { [masterCourseCode: string]: Class };\n  renderedClasses: { [masterCourseCode: string]: Class };\n  currentSection: string;\n  availableSections: string[];\n  searchTerm: string;\n  selectedClass: any;\n  page: number;\n  filters: Filters;\n  isHMC: boolean;\n  hasSelectedElectiveGen: boolean;\n  suggestedClasses: { [masterCourseCode: string]: Class };\n}\n\n// Define the initial state using that type\nconst initialState: ClassPagesState = {\n  classes: {},\n  filteredClasses: {},\n  renderedClasses: {},\n  currentSection: \"\",\n  availableSections: [],\n  selectedClass: {},\n  searchTerm: \"\",\n  page: 1,\n  isHMC: false,\n  filters: {\n    colleges: {\n      HM: true, CM: true, PO: true, PZ: true, SC: true\n    },\n  },\n  hasSelectedElectiveGen: false,\n  suggestedClasses: {},\n};\n\nexport const classPagesSlice = createSlice({\n  name: \"classPages\",\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    currentSectionUpdated: (state, action: PayloadAction<string>) => {\n      state.currentSection = action.payload;\n    },\n    availableSectionsListUpdated: (state, action: PayloadAction<string[]>) => {\n      state.availableSections = action.payload;\n    },\n    endOfListReached: (state) => {\n      state.page++;\n    },\n    resetClasses: (state) => {\n      state.page = 1;\n      state.searchTerm = \"\";\n\n      classPagesSlice.caseReducers.searchResultsFiltered(state);\n    },\n    suggestedClassesUpdated: (\n      state,\n      action: PayloadAction<{ [masterCourseCode: string]: Class }>,\n    ) => {\n      state.suggestedClasses = action.payload;\n    },\n    suggestedClassesDimissed: (state) => {\n      state.suggestedClasses = {};\n    },\n    electiveGeneratorSelected: (state) => {\n      state.hasSelectedElectiveGen = true;\n    },\n    classSelected: (state, action: PayloadAction<string>) => {\n      state.selectedClass = state.classes[action.payload];\n    },\n    selectedClassCleared: (state) => {\n      state.selectedClass = {};\n    },\n    filtersSaved: (state, action: PayloadAction<Filters>) => {\n      state.filters = action.payload;\n      classPagesSlice.caseReducers.searchResultsFiltered(state);\n    },\n    isHMCUpdated: (state, action: PayloadAction<boolean>) => {\n      state.isHMC = action.payload;\n    },\n    filtersReset: (state) => {\n      state.filters = initialState.filters;\n\n      classPagesSlice.caseReducers.searchResultsFiltered(state);\n    },\n    searchResultsFiltered: (state) => {\n      // Update the renderedClasses object with the new filters\n      let newResultsArray = Object.entries(state.classes);\n\n      newResultsArray = newResultsArray.filter(([masterCourseCode, _]) => {\n        const collegeAbr = masterCourseCode.substring(\n          masterCourseCode.length - 2,\n          masterCourseCode.length,\n        );\n\n        for (const [college, isCollegeFiltered] of Object.entries(\n          state.filters.colleges,\n        )) {\n          if (collegeAbr === college) {\n            return isCollegeFiltered;\n          }\n        }\n      });\n\n      state.filteredClasses = Object.fromEntries(newResultsArray);\n      state.renderedClasses = { ...state.filteredClasses };\n    },\n    searchTermUpdated: (state, action: PayloadAction<string>) => {\n      let newResultsArray = Object.entries(state.filteredClasses);\n      state.searchTerm = action.payload;\n      state.page = 1;\n\n      if (state.searchTerm === \"\") {\n        classPagesSlice.caseReducers.resetClasses(state);\n      } else {\n        const searchTerm = matchDepartmentName(state.searchTerm);\n\n        // Check for courseCode shortcuts\n        const searchCourseCode = findSearchTermShortcuts(searchTerm);\n\n        const searchTerms = searchTerm.split(\" \");\n\n        newResultsArray = newResultsArray.filter(\n          ([_, { courseName, times, masterCourseCode }]) => filterBySearchTerm(\n            courseName,\n            times,\n            masterCourseCode,\n            searchCourseCode,\n            searchCourseCode === state.searchTerm ? searchTerms : [],\n          ),\n        );\n\n        const newResultsObject = Object.fromEntries(newResultsArray);\n\n        state.renderedClasses = { ...newResultsObject };\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addMatcher(\n      classPagesApi.endpoints.getAllClasses.matchFulfilled,\n      (state, { payload }) => {\n        state.classes = payload;\n        state.renderedClasses = payload;\n      },\n    );\n  },\n});\n\n// Helper functions\n\nconst findSearchTermShortcuts = (searchPhrase: string) => {\n  return searchPhrase\n    .replace(/(csci *|cs *)(\\d+)/i, (match, p1, p2) => `csci ${p2}`)\n    .replace(\n      /((e *)|(eng *)|(engr *))(\\d+)/i,\n      (match, p1, p2, p3, p4, p5) => `engr ${p5}`,\n    )\n    .replace(/(bio *|biol *)(\\d+)/i, (match, p1, p2) => `biol ${p2}`)\n    .replace(\n      // pad 0s for courseCode search\n      /([a-z]+ *)(\\d+)/i,\n      (match, p1, p2) => p1 + p2.padStart(3, \"0\"),\n    );\n};\n\n// convert full department name search phrase to the department code\nconst matchDepartmentName = (searchPhrase: string) => {\n  return searchPhrase\n    .replace(/(computer science)/i, \"csci\")\n    .replace(/(engineering)/i, \"engr\")\n    .replace(/(biology)/i, \"biol\");\n};\n\nconst filterBySearchTerm = (\n  courseName: string,\n  times: any[],\n  masterCourseCode: string,\n  searchCourseCode?: string,\n  searchTerms?: string[],\n) => {\n  const coursePhrase = `${masterCourseCode} ${courseName} ${\n    times[0]?.professorName ? times[0].professorName : \"\"\n  }`;\n\n  // Return true if any of the searchCourseCodes are found in the masterCourseCode\n  if (\n    masterCourseCode\n      .trim()\n      .replace(/\\s+/g, \" \")\n      .includes(searchCourseCode.toUpperCase().trim().replace(/\\s+/g, \" \"))\n  ) {\n    return true;\n  }\n\n  // Return true if all of the searchPhrases are found in the coursePhrase\n  for (const searchTerm of searchTerms) {\n    if (\n      !coursePhrase\n        .toUpperCase()\n        .trim()\n        .replace(/\\s+/g, \" \")\n        .includes(searchTerm.toUpperCase().trim().replace(/\\s+/g, \" \"))\n    ) {\n      return false;\n    }\n  }\n\n  return searchTerms.length > 0;\n};\n\nconst filterByCollege = (filters, [className, _]) => {\n  const college = className.split(\" \").at(-1);\n  return filters.colleges.includes(college);\n};\n\n// Selectors\nexport const selectClassesList = (state: RootState) => state.appData.classPages.classes;\n\nexport const selectRenderedClassesList = (state: RootState) => state.appData.classPages.renderedClasses;\n\n// Actions\nexport const {\n  currentSectionUpdated,\n  endOfListReached,\n  searchTermUpdated,\n  resetClasses,\n  classSelected,\n  selectedClassCleared,\n  reset,\n  filtersSaved,\n  filtersReset,\n  isHMCUpdated,\n  availableSectionsListUpdated,\n  electiveGeneratorSelected,\n  suggestedClassesUpdated,\n  suggestedClassesDimissed,\n} = classPagesSlice.actions;\n\nexport default classPagesSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport type { PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { RootState } from \"../../app/store\";\n\ninterface DiscoverState {\n  searchTerm: string;\n  submittedSearchTerm: string;\n  tag: string;\n  recentSearches: string[];\n}\nconst initialState: DiscoverState = {\n  searchTerm: \"\",\n  submittedSearchTerm: \"\",\n  tag: \"\",\n  recentSearches: [],\n};\n\nexport const discoverSlice = createSlice({\n  name: \"discover\",\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    searchTermSubmitted: (state, action: PayloadAction<string>) => {\n      state.submittedSearchTerm = action.payload;\n      if (action.payload && !state.recentSearches.includes(action.payload)) {\n        state.recentSearches.unshift(action.payload);\n      }\n    },\n    searchTermChanged: (state, action: PayloadAction<string>) => {\n      state.searchTerm = action.payload;\n      if (action.payload === \"\") {\n        state.submittedSearchTerm = \"\";\n      }\n    },\n    recentSearchTermSelected: (state, action: PayloadAction<string>) => {\n      state.searchTerm = action.payload;\n      state.submittedSearchTerm = action.payload;\n    },\n    tagSelected: (state, action: PayloadAction<string>) => {\n      state.tag = action.payload;\n    },\n    recentSearchTermRemoved: (state, action: PayloadAction<string>) => {\n      state.recentSearches = state.recentSearches.filter(\n        (term) => term !== action.payload,\n      );\n    },\n  },\n});\n\nexport const {\n  reset,\n  searchTermChanged,\n  searchTermSubmitted,\n  tagSelected,\n  recentSearchTermSelected,\n  recentSearchTermRemoved,\n} = discoverSlice.actions;\n\nexport const selectSearchTerm = (state: RootState) => state.appData.discover.searchTerm;\nexport const selectSubmittedSearchTerm = (state: RootState) => state.appData.discover.submittedSearchTerm;\nexport const selectTag = (state: RootState) => state.appData.discover.tag;\nexport const selectRecentSearches = (state: RootState) => state.appData.discover.recentSearches;\n\nexport default discoverSlice.reducer;\n","// import createSecureStore from \"redux-persist-expo-securestore\"\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport * as ExpoSecureStorage from \"expo-secure-store\";\nimport { Platform } from \"react-native\";\nimport { combineReducers } from \"redux\";\nimport { persistReducer } from \"redux-persist\";\nimport ExpoFileSystemStorage from \"redux-persist-expo-filesystem\";\n\nimport createSecureStorage from \"./SecureStorage\";\nimport appDataReducer from \"../app/appDataSlice\";\nimport calendarReducer from \"../features/calendar/calendarSlice\";\nimport classPagesReducer from \"../features/classPages/classPagesSlice\";\nimport discoverReducer from \"../features/discover/discoverSlice\";\n\n// Secure storage\n\n// const SecureStorage = createSecureStore();\nconst SecureStorage = createSecureStorage();\n\nconst securePersistConfig = {\n  key: \"secure\",\n  storage: Platform.OS === \"web\" ? AsyncStorage : SecureStorage,\n};\n\n// Non-secure (AsyncStorage) storage\nconst cpPersistConfig = {\n  key: \"classPages\",\n  storage: Platform.OS === \"android\" ? ExpoFileSystemStorage : AsyncStorage,\n  whitelist:\n    Platform.OS === \"web\"\n      ? [\"currentSection\", \"filters\", \"hasSelectedElectiveGen\"]\n      : [\"classes\", \"currentSection\", \"isHMC\", \"hasSelectedElectiveGen\"],\n};\n\nconst discoverPersistConfig = {\n  key: \"discover\",\n  storage: Platform.OS === \"android\" ? ExpoFileSystemStorage : AsyncStorage,\n  whitelist: [\"recentSearches\"],\n};\n\n// Combine them together\nexport const rootReducer = combineReducers({\n  classPages: persistReducer(cpPersistConfig, classPagesReducer),\n  secure: persistReducer(securePersistConfig, appDataReducer),\n  discover: persistReducer(discoverPersistConfig, discoverReducer),\n  calendar: calendarReducer,\n});\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport {\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\n\nimport { rootReducer } from \"./storage\";\nimport { apiSlice } from \"../features/api/apiSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    appData: rootReducer,\n    [apiSlice.reducerPath]: apiSlice.reducer,\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n    serializableCheck: false,\n    immutableCheck: false,\n  }).concat(apiSlice.middleware),\n});\n\n// serializableCheck: {\n//   ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n//   ignoredPaths: [\n//     'appData.classPages.classes',\n//     'addData.classPages.renderedClasses',\n//   ],\n// },\n// immutableCheck: {\n//   ignoredPaths: [\n//     'appData.classPages.classes',\n//     'addData.classPages.renderedClasses',\n//   ],\n// },\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch;\n","import { Button, Layout, Text } from \"@ui-kitten/components\";\n\nexport default function EnterCodePage({ navigation }) {\n  return (\n    <Layout style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}>\n      <Text\n        style={{\n          margin: 10,\n        }}\n        category=\"s1\"\n      >\n        An email has been sent to you with a temporary password. Login to set\n        your new password.\n      </Text>\n      <Button\n        style={{ margin: 10 }}\n        onPress={() => {\n          navigation.reset({ index: 0, routes: [{ name: \"Login\" }] });\n        }}\n      >\n        Back to Login\n      </Button>\n    </Layout>\n  );\n}\n","import { useNetInfo } from \"@react-native-community/netinfo\";\nimport {\n  Button, Input, Layout, Spinner, Text\n} from \"@ui-kitten/components\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Keyboard } from \"react-native\";\n\nimport { useResetPasswordMutation } from \"../../api/usersApi\";\n\nexport default function EnterEmailPage({ navigation }) {\n  const [email, setEmail] = useState(\"\");\n  const inputRef = useRef<Input>(null);\n  const [resetPassword, { isLoading, isError }] = useResetPasswordMutation();\n  const netInfo = useNetInfo();\n\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, [inputRef.current]);\n\n  const onSubmit = async () => {\n    if (!netInfo.isConnected) {\n      alert(\"Connect to the internet to reset your password\");\n      return;\n    }\n\n    try {\n      await resetPassword(email).unwrap();\n      navigation.navigate(\"EnterCodePage\");\n    } catch (e) {\n      console.warn(\"Error submitting forgot password email\", e);\n    }\n  };\n\n  return (\n    <Layout style={{ flex: 1, paddingTop: 30, alignItems: \"center\" }}>\n      <Text style={{ margin: 10 }} category=\"s1\">\n        Enter your email to get started\n      </Text>\n\n      <Input\n        autoCapitalize=\"none\"\n        placeholder=\"Email\"\n        ref={inputRef}\n        style={{ margin: 10 }}\n        onChangeText={setEmail}\n        value={email}\n        onSubmitEditing={Keyboard.dismiss}\n      />\n      {isError && (\n        <Text style={{ color: \"red\" }}>Email is invalid. Try again</Text>\n      )}\n      <Button\n        style={{ margin: 10 }}\n        onPress={onSubmit}\n        disabled={isLoading}\n        accessoryRight={() => (isLoading ? <Spinner status=\"basic\" /> : null)}\n      >\n        Submit\n      </Button>\n    </Layout>\n  );\n}\n","import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\n\nimport EnterCodePage from \"./EnterCodePage\";\nimport EnterEmailPage from \"./EnterEmailPage\";\n\nconst Stack = createNativeStackNavigator();\n\nexport default function ForgotPassword() {\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerShown: false,\n      }}\n    >\n      <Stack.Screen name=\"EnterEmailPage\" component={EnterEmailPage} />\n      <Stack.Screen name=\"EnterCodePage\" component={EnterCodePage} />\n    </Stack.Navigator>\n  );\n}\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\n\nimport type { RootState, AppDispatch } from \"./store\";\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch: () => AppDispatch = useDispatch;\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import NetInfo from \"@react-native-community/netinfo\";\nimport {\n  Input, Layout, Spinner, Text\n} from \"@ui-kitten/components\";\nimport React, { useState } from \"react\";\nimport {\n  Image,\n  StyleSheet,\n  TouchableOpacity,\n  KeyboardAvoidingView,\n  Keyboard,\n  TouchableWithoutFeedback,\n  Platform,\n  TextInput,\n} from \"react-native\";\n\nimport {\n  selectDarkMode,\n  setIsGuest,\n  userKeyUpdated,\n} from \"../../app/appDataSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { useLazyGetAllSectionsQuery } from \"../api/classPagesApi\";\nimport {\n  useLazyGetUserInfoQuery,\n  useLoginMutation,\n  useTrackLoginMutation,\n} from \"../api/usersApi\";\nimport {\n  availableSectionsListUpdated,\n  currentSectionUpdated,\n} from \"../classPages/classPagesSlice\";\n\nconst LightModeLogo = require(\"../../../assets/logos/owl-black-text.png\");\nconst DarkModeLogo = require(\"../../../assets/logos/owl-white-text.png\");\n\nexport default function Login({ navigation }) {\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginError, setLoginError] = useState(\"\");\n\n  const [login, { isLoading }] = useLoginMutation();\n  const [getUserInfo] = useLazyGetUserInfoQuery();\n  const [trackLogin] = useTrackLoginMutation();\n  const [getAllSections] = useLazyGetAllSectionsQuery();\n  const darkMode = useAppSelector(selectDarkMode);\n  // const apiUserKey = useAppSelector((state) => state.appData.secure);\n  const dispatch = useAppDispatch();\n\n  const passwordRef = React.useRef(null);\n\n  const handleLogin = async () => {\n    Keyboard.dismiss();\n\n    // Check for internet connection\n    const netInfo = await NetInfo.fetch();\n    if (!netInfo.isConnected) {\n      setLoginError(\"No internet connection\");\n      return;\n    }\n\n    // Validate input\n    if (!userName) {\n      setLoginError(\"Username can't be empty\");\n    } else if (!password) {\n      setLoginError(\"Password can't be empty\");\n    } else {\n      try {\n        const { userKey } = await login({\n          userName,\n          password,\n        }).unwrap();\n        // Save user key and data to redux store\n        dispatch(userKeyUpdated(userKey));\n        dispatch(setIsGuest(false));\n\n        // Get current section\n        const allSections = await getAllSections().unwrap();\n\n        dispatch(currentSectionUpdated(allSections.currentTerm));\n        dispatch(availableSectionsListUpdated(allSections.availableTerms));\n\n        // Get user info\n        getUserInfo(userKey)\n          .unwrap()\n          .then(async () => {\n            await trackLogin(userKey);\n          });\n\n        // Reset login form\n        setUserName(\"\");\n        setPassword(\"\");\n        setLoginError(\"\");\n      } catch (e) {\n        setLoginError(\"Invalid username or password\");\n        console.error(\"Failed to Login: \", e);\n      }\n    }\n  };\n\n  const guestLogin = async () => {\n    Keyboard.dismiss();\n\n    // Check for internet connection\n    const netInfo = await NetInfo.fetch();\n    if (!netInfo.isConnected) {\n      setLoginError(\"No internet connection\");\n      return;\n    }\n\n    try {\n      const { userKey } = await login({\n        userName: \"\",\n        password: \"\",\n        isGuest: true,\n      }).unwrap();\n      // Save user key and data to redux store\n      dispatch(userKeyUpdated(userKey));\n      dispatch(setIsGuest(true));\n\n      // Get user info\n      getUserInfo(userKey)\n        .unwrap()\n        .then(async () => {\n          await trackLogin(userKey);\n        });\n\n      // Reset login form\n      setUserName(\"\");\n      setPassword(\"\");\n      setLoginError(\"\");\n    } catch (e) {\n      setLoginError(\"Invalid username or password\");\n      console.error(\"Failed to Login: \", e);\n    }\n  };\n\n  return (\n    <TouchableWithoutFeedback\n      style={{ flex: 1 }}\n      onPress={() => {\n        Keyboard.dismiss();\n      }}\n    >\n      <KeyboardAvoidingView\n        style={styles.container}\n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n      >\n        <Layout\n          style={{\n            flex: 1,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          {darkMode ? (\n            <Image source={DarkModeLogo} style={styles.logo} />\n          ) : (\n            <Image source={LightModeLogo} style={styles.logo} />\n          )}\n\n          <Layout style={styles.inputView}>\n            <Input\n              autoCapitalize=\"none\"\n              status=\"control\"\n              autoComplete=\"username\"\n              style={styles.TextInput}\n              placeholder=\"username / email\"\n              placeholderTextColor=\"white\"\n              keyboardType=\"email-address\"\n              onChangeText={(userName) => setUserName(userName)}\n              value={userName}\n              onSubmitEditing={() => passwordRef.current.focus()}\n              blurOnSubmit={false}\n            />\n          </Layout>\n          <Layout style={styles.inputView}>\n            <Input\n              style={styles.TextInput}\n              autoComplete=\"password\"\n              placeholder=\"password\"\n              placeholderTextColor=\"white\"\n              secureTextEntry\n              onChangeText={(password) => setPassword(password)}\n              value={password}\n              ref={passwordRef}\n            />\n          </Layout>\n          <TouchableOpacity\n            onPress={() => {\n              navigation.navigate(\"ForgotPassword\");\n            }}\n          >\n            <Text style={styles.forgot_button}>Forgot Password?</Text>\n          </TouchableOpacity>\n          {isLoading ? (\n            <Layout\n              style={{ position: \"absolute\", backgroundColor: \"transparent\" }}\n            >\n              <Spinner />\n            </Layout>\n          ) : null}\n\n          <TouchableOpacity\n            style={styles.loginBtn}\n            onPress={() => {\n              handleLogin();\n            }}\n          >\n            <Text style={{ color: \"#fff\" }}>LOGIN</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={{\n              width: \"50%\",\n              borderRadius: 25,\n              height: 40,\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              marginTop: 20,\n              backgroundColor: darkMode ? \"#8b31e3\" : \"rgb(98,111,187)\",\n              maxWidth: 300,\n            }}\n            onPress={() => {\n              guestLogin();\n            }}\n          >\n            <Text style={{ color: \"#fff\" }}>Try As Guest</Text>\n          </TouchableOpacity>\n          <Text style={styles.error}>{loginError}</Text>\n          <TouchableOpacity\n            style={{ width: \"100%\" }}\n            onPress={() => {\n              navigation.navigate(\"Signup\");\n            }}\n          >\n            <Layout level=\"2\" style={styles.signupBtn}>\n              <Text>SIGN UP</Text>\n            </Layout>\n          </TouchableOpacity>\n        </Layout>\n      </KeyboardAvoidingView>\n    </TouchableWithoutFeedback>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 30,\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n  },\n  image: {\n    marginBottom: 40,\n  },\n\n  inputView: {\n    flexDirection: \"row\",\n    height: 40,\n    marginTop: 20,\n    marginLeft: 50,\n    marginRight: 50,\n    margin: 10,\n  },\n\n  TextInput: {\n    backgroundColor: \"#b42bba\",\n    borderColor: \"#b42bba\",\n    color: \"#fff\",\n    borderWidth: 1,\n    borderRadius: 30,\n    width: \"100%\",\n    maxWidth: 300,\n  },\n\n  forgot_button: {\n    height: 30,\n    marginBottom: 30,\n  },\n\n  loginBtn: {\n    width: \"80%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 10,\n    backgroundColor: \"#ff3f5e\",\n    maxWidth: 300,\n  },\n  guestButton: {\n    width: \"60%\",\n    borderRadius: 25,\n    height: 40,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 20,\n  },\n  signupBtn: {\n    marginTop: 60,\n    width: \"100%\",\n    height: 50,\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    justifyContent: \"center\",\n    maxWidth: 800,\n  },\n  error: {\n    color: \"red\",\n    fontSize: 15,\n  },\n  logo: {\n    width: 178,\n    height: 197,\n    marginBottom: 20,\n  },\n});\n","import { Manager } from \"socket.io-client\";\n\nexport const base_URL = \"https://api.athenaserver.com:5678/api\";\n\nexport const manager = new Manager(base_URL, {\n  randomizationFactor: 0.5,\n  addTrailingSlash: false,\n  autoConnect: false,\n});\n","// Import React and Component\nimport {\n  CheckBox,\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem,\n  Text,\n  Input,\n  Spinner,\n} from \"@ui-kitten/components\";\nimport React, { useState, useRef } from \"react\";\nimport {\n  StyleSheet,\n  KeyboardAvoidingView,\n  Keyboard,\n  TouchableOpacity,\n  ScrollView,\n  Platform,\n} from \"react-native\";\n\nimport { userKeyUpdated } from \"../../../app/appDataSlice\";\nimport { useAppDispatch } from \"../../../app/hooks\";\nimport { base_URL } from \"../../../constants/admin\";\nimport {\n  useGetCollegeListQuery,\n  useSignupUserMutation,\n} from \"../../api/usersApi\";\n\nfunction Signup({ navigation }) {\n  const [realFirstName, setRealFirstName] = useState(\"\");\n  const [realLastName, setRealLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [major, setMajor] = useState(\"\");\n  const dispatch = useAppDispatch();\n  const [selectedIndex, setSelectedIndex] = useState(new IndexPath(0));\n  const [simplifiedSignup, setSimplifiedSignUp] = useState(false);\n  const [userCollege, setUserCollege] = useState({\n    collegeName: \"\",\n    humanReadableCollegeName: null,\n  });\n\n  const { data: collegeList } = useGetCollegeListQuery();\n  const [signupUser, { isLoading: signupLoading }] = useSignupUserMutation();\n\n  const firstNameInputRef = useRef<Input>();\n  const lastNameInputRef = useRef<Input>();\n  const passwordInputRef = useRef<Input>();\n  const majorInputRef = useRef<Input>();\n\n  const validateInput = () => {\n    if (!simplifiedSignup) {\n      if (!realFirstName) {\n        alert(\"Please fill First Name\");\n        return false;\n      }\n      if (!realLastName) {\n        alert(\"Please fill Last Name\");\n        return false;\n      }\n\n      if (!userCollege.collegeName) {\n        alert(\"Please fill College Name\");\n        return false;\n      }\n\n      if (!major) {\n        alert(\"Please fill Major\");\n        return false;\n      }\n    }\n\n    if (!email) {\n      alert(\"Please fill Email\");\n      return false;\n    }\n\n    if (!password) {\n      alert(\"Please fill Password\");\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmitButton = async () => {\n    if (validateInput()) {\n      try {\n        const body = {\n          email,\n          password,\n          realFirstName,\n          realLastName,\n          collegeName: userCollege.collegeName,\n          major,\n        };\n\n        console.log(JSON.stringify(body));\n\n        // Uncomment this stuff when we get the email working again\n        // await signupUser(body).unwrap();\n        // navigation.navigate('VerifyEmail');\n        const response = await fetch(`${base_URL}/users/noEmailUserCreation`, {\n          method: \"POST\",\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n          body: JSON.stringify(body),\n        });\n        if (response.ok) {\n          const responseUnwrapped = await response.json();\n          dispatch(userKeyUpdated(responseUnwrapped.password));\n          navigation.goBack();\n        } else {\n          throw `${(await response.json()).message}`;\n        }\n      } catch (e) {\n        console.warn(\"Signup error: \", e.message);\n      }\n    }\n  };\n\n  const renderCollegeDropDown = () => {\n    function handleSelection(index) {\n      setSelectedIndex(index);\n      const newObject = {\n        collegeName: collegeList[index.row].id,\n        humanReadableCollegeName: collegeList[index.row].label,\n      };\n      setUserCollege(newObject);\n    }\n\n    return (\n      <Layout style={styles.containerDrop}>\n        <Select\n          placeholder=\"Choose A College\"\n          value={\n            !userCollege.humanReadableCollegeName\n              ? \"Selection\"\n              : userCollege.humanReadableCollegeName\n          }\n          onFocus={Keyboard.dismiss}\n          selectedIndex={selectedIndex}\n          onSelect={handleSelection}\n        >\n          {collegeList\n            && collegeList.map((college, index) => (\n              <SelectItem title={college.label} key={index} />\n            ))}\n        </Select>\n      </Layout>\n    );\n  };\n\n  const fields = [];\n  fields.push(\n    <Layout key=\"1\">\n      <Layout style={styles.SectionStyle}>\n        <Layout style={styles.labelSection}>\n          <Text style={styles.label}>Email</Text>\n        </Layout>\n        <Input\n          style={styles.inputStyle}\n          onChangeText={(email) => setEmail(email)}\n          underlineColorAndroid=\"#f000\"\n          placeholder=\"Enter Email\"\n          placeholderTextColor=\"#8b9cb5\"\n          defaultValue=\"\"\n          autoCapitalize=\"none\"\n          returnKeyType=\"next\"\n          onSubmitEditing={() => (passwordInputRef.current ? passwordInputRef.current.focus() : null)}\n          blurOnSubmit={false}\n        />\n      </Layout>\n      <Layout style={styles.SectionStyle}>\n        <Layout style={styles.labelSection}>\n          <Text style={styles.label}>Password</Text>\n        </Layout>\n        <Input\n          style={styles.inputStyle}\n          onChangeText={(password) => setPassword(password)}\n          underlineColorAndroid=\"#f000\"\n          placeholder=\"Enter Password\"\n          placeholderTextColor=\"#8b9cb5\"\n          defaultValue=\"\"\n          ref={passwordInputRef}\n          returnKeyType=\"next\"\n          secureTextEntry\n          onSubmitEditing={() => (firstNameInputRef.current ? firstNameInputRef.current.focus() : null)}\n          blurOnSubmit={false}\n        />\n      </Layout>\n    </Layout>,\n  );\n\n  if (!simplifiedSignup) {\n    fields.push(\n      <Layout key=\"2\">\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>First Name</Text>\n          </Layout>\n          <Input\n            style={styles.inputStyle}\n            onChangeText={setRealFirstName}\n            ref={firstNameInputRef}\n            underlineColorAndroid=\"#f000\"\n            placeholder=\"Enter First Name\"\n            placeholderTextColor=\"#8b9cb5\"\n            defaultValue=\"\"\n            autoCapitalize=\"sentences\"\n            returnKeyType=\"next\"\n            onSubmitEditing={() => (lastNameInputRef?.current\n              ? lastNameInputRef.current.focus()\n              : null)}\n            blurOnSubmit={false}\n          />\n        </Layout>\n\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>Last Name</Text>\n          </Layout>\n          <Input\n            style={styles.inputStyle}\n            onChangeText={setRealLastName}\n            underlineColorAndroid=\"#f000\"\n            placeholder=\"Enter Last Name\"\n            placeholderTextColor=\"#8b9cb5\"\n            defaultValue=\"\"\n            ref={lastNameInputRef}\n            autoCapitalize=\"sentences\"\n            returnKeyType=\"next\"\n            onSubmitEditing={() => (majorInputRef.current ? majorInputRef.current.focus() : null)}\n            blurOnSubmit={false}\n          />\n        </Layout>\n\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>Intended Major</Text>\n          </Layout>\n          <Input\n            style={styles.inputStyle}\n            onChangeText={setMajor}\n            underlineColorAndroid=\"#f000\"\n            placeholder=\"Enter Intended Major\"\n            placeholderTextColor=\"#8b9cb5\"\n            defaultValue=\"\"\n            ref={majorInputRef}\n            blurOnSubmit\n          />\n        </Layout>\n\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>College Name</Text>\n          </Layout>\n          {renderCollegeDropDown()}\n        </Layout>\n      </Layout>,\n    );\n  }\n\n  return (\n    // Registration Page\n    <Layout style={{ flex: 1 }}>\n      <ScrollView style={{ flex: 1 }}>\n        {/* Spinner */}\n        {signupLoading && (\n          <Layout\n            style={{\n              flex: 1,\n              position: \"absolute\",\n              zIndex: 1,\n              top: \"50%\",\n              left: \"50%\",\n              backgroundColor: \"transparent\",\n            }}\n          >\n            <Spinner />\n          </Layout>\n        )}\n\n        <Layout style={{ paddingVertical: 30, paddingHorizontal: 40 }}>\n          <CheckBox\n            checked={simplifiedSignup}\n            onChange={(nextChecked) => setSimplifiedSignUp(nextChecked)}\n          >\n            Simplified Signup\n          </CheckBox>\n        </Layout>\n\n        <KeyboardAvoidingView\n          style={{ flex: 1 }}\n          behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        >\n          {fields}\n\n          <TouchableOpacity\n            style={styles.buttonStyle}\n            onPress={handleSubmitButton}\n          >\n            <Text style={styles.buttonTextStyle}>Register</Text>\n          </TouchableOpacity>\n        </KeyboardAvoidingView>\n      </ScrollView>\n    </Layout>\n  );\n}\nexport default Signup;\n\nconst styles = StyleSheet.create({\n  SectionStyle: {\n    flexDirection: \"row\",\n    height: 40,\n    marginTop: 20,\n    marginLeft: 35,\n    marginRight: 35,\n    margin: 10,\n  },\n  buttonStyle: {\n    backgroundColor: \"#b42bba\",\n    borderWidth: 0,\n    color: \"#FFFFFF\",\n    borderColor: \"#7DE24E\",\n    height: 40,\n    alignItems: \"center\",\n    borderRadius: 30,\n    marginLeft: 35,\n    marginRight: 35,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  buttonTextStyle: {\n    color: \"#FFFFFF\",\n    paddingVertical: 10,\n    fontSize: 16,\n  },\n  inputStyle: {\n    flex: 1,\n    paddingLeft: 15,\n    paddingRight: 15,\n    borderWidth: 1,\n    borderRadius: 30,\n    borderColor: \"#dadae8\",\n  },\n  errorTextStyle: {\n    color: \"red\",\n    textAlign: \"center\",\n    fontSize: 14,\n  },\n  successTextStyle: {\n    color: \"black\",\n    textAlign: \"center\",\n    fontSize: 18,\n    padding: 30,\n  },\n  label: {\n    textAlign: \"center\",\n    fontSize: 15,\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  labelSection: {\n    justifyContent: \"center\",\n  },\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n  },\n\n  text: {\n    fontSize: 20,\n    margin: 20,\n  },\n  input: {\n    width: \"80%\",\n    margin: 20,\n    borderWidth: 1,\n    borderColor: \"black\",\n    borderRadius: 20,\n    height: 40,\n    padding: 10,\n  },\n  button: {\n    width: \"80%\",\n    margin: 20,\n    alignItems: \"center\",\n    backgroundColor: \"#b42bba\",\n    height: 40,\n    borderRadius: 20,\n    borderColor: \"#b42bba\",\n    justifyContent: \"center\",\n  },\n  buttonText: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"white\",\n  },\n  containerDrop: {\n    minHeight: 128,\n    minWidth: 200,\n  },\n});\n","import {\n  Layout, Text, Input, Spinner\n} from \"@ui-kitten/components\";\nimport React from \"react\";\nimport { StyleSheet, TouchableOpacity } from \"react-native\";\n\nimport { userKeyUpdated } from \"../../../app/appDataSlice\";\nimport { useAppDispatch } from \"../../../app/hooks\";\nimport {\n  useVerifySignupMutation,\n  useLazyGetUserInfoQuery,\n} from \"../../api/usersApi\";\n\nexport default function VerifyEmail() {\n  const [verificationCode, setVerificationCode] = React.useState(\"\");\n  const [verifyCode, { isError }] = useVerifySignupMutation();\n  const [getUserInfo, { isLoading: getUserInfoLoading }] = useLazyGetUserInfoQuery();\n  const dispatch = useAppDispatch();\n\n  const handleVerifyCodeButton = async () => {\n    try {\n      const { password } = await verifyCode(verificationCode).unwrap();\n      dispatch(userKeyUpdated(password));\n      await getUserInfo(password).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't verify code\", error);\n    }\n  };\n\n  return (\n    <Layout style={styles.container}>\n      <Text style={styles.text}>\n        A verification code has been sent to your email. Please check your email\n        and enter the code below.\n      </Text>\n      {getUserInfoLoading && <Spinner />}\n      {isError && <Text>Error verifying code</Text>}\n      <Input\n        style={styles.input}\n        placeholder=\"Verification Code\"\n        keyboardType=\"numeric\"\n        onChangeText={(text) => setVerificationCode(text)}\n      />\n      <TouchableOpacity style={styles.button} onPress={handleVerifyCodeButton}>\n        <Text style={styles.buttonText}>Finish Signup</Text>\n      </TouchableOpacity>\n    </Layout>\n  );\n}\n\nconst styles = StyleSheet.create({\n  SectionStyle: {\n    flexDirection: \"row\",\n    height: 40,\n    marginTop: 20,\n    marginLeft: 35,\n    marginRight: 35,\n    margin: 10,\n  },\n  buttonStyle: {\n    backgroundColor: \"#b42bba\",\n    borderWidth: 0,\n    color: \"#FFFFFF\",\n    borderColor: \"#7DE24E\",\n    height: 40,\n    alignItems: \"center\",\n    borderRadius: 30,\n    marginLeft: 35,\n    marginRight: 35,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  buttonTextStyle: {\n    color: \"#FFFFFF\",\n    paddingVertical: 10,\n    fontSize: 16,\n  },\n  inputStyle: {\n    flex: 1,\n    color: \"black\",\n    paddingLeft: 15,\n    paddingRight: 15,\n    borderWidth: 1,\n    borderRadius: 30,\n    borderColor: \"#dadae8\",\n  },\n  errorTextStyle: {\n    color: \"red\",\n    textAlign: \"center\",\n    fontSize: 14,\n  },\n  successTextStyle: {\n    color: \"black\",\n    textAlign: \"center\",\n    fontSize: 18,\n    padding: 30,\n  },\n  description: {\n    color: \"black\",\n    textAlign: \"center\",\n    fontSize: 18,\n    padding: 30,\n  },\n  label: {\n    color: \"black\",\n    textAlign: \"center\",\n    fontSize: 15,\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  labelSection: {\n    justifyContent: \"center\",\n  },\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n  },\n\n  text: {\n    fontSize: 20,\n    margin: 20,\n  },\n  input: {\n    width: \"80%\",\n    margin: 20,\n    borderWidth: 1,\n    borderColor: \"black\",\n    borderRadius: 20,\n    height: 40,\n    padding: 10,\n  },\n  button: {\n    width: \"80%\",\n    margin: 20,\n    alignItems: \"center\",\n    backgroundColor: \"#b42bba\",\n    height: 40,\n    borderRadius: 20,\n    borderColor: \"#b42bba\",\n    justifyContent: \"center\",\n  },\n  buttonText: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"white\",\n  },\n  containerDrop: {\n    minHeight: 128,\n    minWidth: 200,\n  },\n});\n","import { HeaderBackButton } from \"@react-navigation/elements\";\nimport { Platform } from \"react-native\";\n\nexport default function BackButton({ navigation, ...props }) {\n  return (\n    <HeaderBackButton\n      {...props}\n      onPress={navigation.goBack}\n      label=\"Back\"\n      labelVisible={Platform.OS === \"ios\"}\n    />\n  );\n}\n","import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { useTheme } from \"@ui-kitten/components\";\n\nimport SignupForm from \"./SignupForm\";\nimport VerifyEmail from \"./VerifyEmail\";\nimport { selectDarkMode } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport BackButton from \"../../../components/BackButton\";\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Signup() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Stack.Navigator\n      screenOptions={({ navigation }) => ({\n        headerStyle: {\n          backgroundColor: darkMode ? theme[\"color-basic-800\"] : \"#fff\",\n        },\n        headerLeft: (props) => (\n          <BackButton {...props} navigation={navigation} />\n        ),\n      })}\n    >\n      <Stack.Screen\n        name=\"SignupForm\"\n        component={SignupForm}\n        options={{ title: \"Signup\" }}\n      />\n      <Stack.Screen\n        name=\"VerifyEmail\"\n        component={VerifyEmail}\n        options={{ title: \"Verify Email\" }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { useTheme } from \"@ui-kitten/components\";\n\nimport ForgotPassword from \"./ForgotPassword/index\";\nimport Login from \"./Login\";\nimport Signup from \"./Signup/index\";\nimport { selectDarkMode } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport BackButton from \"../../components/BackButton\";\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Auth() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerStyle: {\n          backgroundColor: darkMode ? theme[\"color-basic-800\"] : \"#fff\",\n        },\n      }}\n    >\n      <Stack.Screen\n        name=\"Login\"\n        component={Login}\n        options={{ headerShown: false }}\n      />\n      <Stack.Screen\n        name=\"Signup\"\n        component={Signup}\n        options={{ headerShown: false }}\n      />\n      <Stack.Screen\n        name=\"ForgotPassword\"\n        component={ForgotPassword}\n        options={{ title: \"Reset Password\" }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { FontAwesome, Feather } from \"@expo/vector-icons\";\nimport { Layout, Text, Input } from \"@ui-kitten/components\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport React from \"react\";\nimport {\n  Alert,\n  Image,\n  TouchableOpacity,\n  Dimensions,\n  Platform,\n} from \"react-native\";\nimport Toast from \"react-native-root-toast\";\n\nconst windowWidth = Dimensions.get(\"window\").width;\n\nexport default function CreateImage({\n  discoverPostInputs,\n  setDiscoverPostInputs,\n  TagInput,\n  showTitle = true,\n}) {\n  const [imagePickerStatus, requestImagePickerPermission] = ImagePicker.useMediaLibraryPermissions();\n  const [cameraStatus, requestCameraPermission] = ImagePicker.useCameraPermissions();\n\n  const onPressCamera = async () => {\n    const response = await requestCameraPermission();\n    if (response.granted || cameraStatus.granted) {\n      const result = await ImagePicker.launchCameraAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      });\n      if (!result.canceled) {\n        setDiscoverPostInputs({\n          ...discoverPostInputs,\n          contentImage: result.assets[0],\n        });\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera is required. Please enable it in your phone's settings.\",\n      );\n    }\n  };\n\n  const pickImage = async () => {\n    const response = await requestImagePickerPermission();\n    if (response.granted || imagePickerStatus.granted) {\n      const result = await ImagePicker.launchImageLibraryAsync({\n        allowsEditing: false,\n      });\n      if (!result.canceled) {\n        setDiscoverPostInputs({\n          ...discoverPostInputs,\n          contentImage: result.assets[0],\n        });\n\n        if (Platform.OS === \"android\") {\n          Toast.show(\"Don't worry if the image seems blurry on the sides.\", {\n            duration: Toast.durations.LONG,\n            opacity: 1,\n            position: -100,\n            backgroundColor: \"grey\",\n            shadow: false,\n          });\n        }\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera roll is required. Please enable it in your phone's settings.\",\n      );\n    }\n  };\n\n  const Title = (\n    <Layout\n      style={{\n        flexDirection: \"row\",\n        justifyContent: \"space-evenly\",\n        alignItems: \"center\",\n        marginTop: 15,\n      }}\n    >\n      <Input\n        label=\"Title\"\n        placeholder=\"Post Title\"\n        value={discoverPostInputs?.title ? discoverPostInputs.title : \"\"}\n        style={{ flex: 5 }}\n        onChangeText={(newText) => {\n          setDiscoverPostInputs({\n            ...discoverPostInputs,\n            title: newText,\n          });\n        }}\n      />\n    </Layout>\n  );\n\n  let imagePicker = <></>;\n\n  if (discoverPostInputs?.contentImage) {\n    // Image Preview\n    imagePicker = (\n      <Layout\n        level=\"2\"\n        style={{\n          height: 300,\n          marginVertical: 10,\n          borderRadius: 10,\n          shadowColor: \"#000\",\n          shadowOffset: {\n            width: 0,\n            height: 5,\n          },\n          shadowOpacity: 0.34,\n          shadowRadius: 6.27,\n\n          elevation: 10,\n        }}\n      >\n        <TouchableOpacity\n          onPress={() => {\n            setDiscoverPostInputs(null);\n          }}\n          style={{\n            position: \"absolute\", right: 10, top: 5, zIndex: 1\n          }}\n        >\n          <Feather name=\"x-circle\" size={30} color=\"grey\" />\n        </TouchableOpacity>\n\n        <Image\n          source={{\n            uri: discoverPostInputs.contentImage.uri,\n          }}\n          style={{\n            borderRadius: 5,\n            width: \"100%\",\n            height: \"100%\",\n            resizeMode: \"contain\",\n          }}\n        />\n      </Layout>\n    );\n  } else {\n    // Image Picker\n    imagePicker = (\n      <Layout style={{ flexDirection: \"row\" }}>\n        <TouchableOpacity\n          onPress={() => {\n            pickImage();\n          }}\n          style={{\n            height: 80,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            flex: 1,\n            paddingVertical: 8,\n            flexDirection: \"row\",\n          }}\n        >\n          <Layout\n            level=\"2\"\n            style={{\n              flex: 1,\n              flexDirection: \"row\",\n              height: \"100%\",\n              marginHorizontal: 10,\n              paddingVertical: 15,\n              paddingHorizontal: 5,\n              borderRadius: 8,\n              alignItems: \"center\",\n              justifyContent: \"space-around\",\n            }}\n          >\n            <FontAwesome name=\"image\" size={25} color=\"grey\" />\n            <Text>Select Image</Text>\n          </Layout>\n        </TouchableOpacity>\n        <TouchableOpacity\n          onPress={onPressCamera}\n          style={{\n            height: 80,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            flex: 1,\n            paddingVertical: 8,\n            flexDirection: \"row\",\n          }}\n        >\n          <Layout\n            level=\"2\"\n            style={{\n              flex: 1,\n              flexDirection: \"row\",\n              height: \"100%\",\n              marginHorizontal: 10,\n              paddingVertical: 15,\n              paddingHorizontal: 5,\n              borderRadius: 8,\n              alignItems: \"center\",\n              justifyContent: \"space-around\",\n            }}\n          >\n            <FontAwesome name=\"camera\" size={25} color=\"grey\" />\n            <Text>Use Camera</Text>\n          </Layout>\n        </TouchableOpacity>\n      </Layout>\n    );\n  }\n\n  return (\n    <>\n      {showTitle && Title}\n      {TagInput()}\n      {imagePicker}\n    </>\n  );\n}\n","import { Layout } from \"@ui-kitten/components\";\nimport React from \"react\";\n\nexport default function WrapItems({ childStyle, children, ...LayoutProps }) {\n  return (\n    <Layout {...LayoutProps}>\n      {React.Children.map(children, (child) => (\n        <Layout style={childStyle}>{child}</Layout>\n      ))}\n    </Layout>\n  );\n}\n","import { AntDesign } from \"@expo/vector-icons\";\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\nimport {\n  Button,\n  CheckBox,\n  Datepicker,\n  Divider,\n  Input,\n  Layout,\n  NativeDateService,\n  Text,\n} from \"@ui-kitten/components\";\nimport { useMemo, useState } from \"react\";\nimport { Platform } from \"react-native\";\n\nimport CreateImage from \"./CreateImagePost\";\nimport { OptionalText } from \"./CreatePost\";\nimport WrapItems from \"../../../components/WrapItems\";\n\nexport default function CreateEvent({\n  discoverPostInputs,\n  setDiscoverPostInputs,\n  TagInput,\n  startTime,\n  setStartTime,\n  endTime,\n  setEndTime,\n  date,\n  setDate,\n}) {\n  // Needed because Android date picker uses a modal\n  const [showTimePickerAndroid, setShowTimePickerAndroid] = useState(false);\n\n  const formatDateService = new NativeDateService(\"en\", {\n    format: \"MM/DD/YYYY\",\n  });\n  const timePickerOptions = useMemo(\n    () => ({\n      \"Start Time\": { time: startTime, setTime: setStartTime },\n      \"End Time\": { time: endTime, setTime: setEndTime },\n    }),\n    [startTime, setStartTime, endTime, setEndTime],\n  );\n\n  const formatAMPM = (date: Date) => {\n    let hours = date.getHours();\n    let minutes = date.getMinutes() as any;\n    const ampm = hours >= 12 ? \"pm\" : \"am\";\n    hours %= 12;\n    hours = hours || 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? `0${minutes}` : minutes;\n    const strTime = `${hours}:${minutes} ${ampm}`;\n    return strTime;\n  };\n\n  const Title = (\n    <Layout\n      style={{\n        flexDirection: \"row\",\n        justifyContent: \"space-evenly\",\n        alignItems: \"center\",\n        marginTop: 15,\n      }}\n    >\n      <Input\n        label=\"Title\"\n        placeholder=\"Post Title\"\n        value={discoverPostInputs?.title ? discoverPostInputs.title : \"\"}\n        style={{ flex: 5 }}\n        onChangeText={(newText) => {\n          setDiscoverPostInputs({\n            ...discoverPostInputs,\n            title: newText,\n          });\n        }}\n      />\n    </Layout>\n  );\n\n  function TimePicker() {\n    if (Platform.OS === \"android\") {\n      return (\n        <Layout\n          style={{\n            flexDirection: \"row\",\n            justifyContent: \"space-around\",\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: \"center\" }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n                <Button\n                  onPress={() => {\n                    setShowTimePickerAndroid(true);\n                  }}\n                >\n                  {formatAMPM(time)}\n                </Button>\n                {showTimePickerAndroid && (\n                  <DateTimePicker\n                    mode=\"time\"\n                    onChange={(change, date) => {\n                      setTime(date);\n                      setShowTimePickerAndroid(false);\n                    }}\n                    value={time}\n                  />\n                )}\n              </Layout>\n            ),\n          )}\n        </Layout>\n      );\n    }\n    if (Platform.OS === \"ios\") {\n      return (\n        <Layout\n          style={{\n            flexDirection: \"row\",\n            justifyContent: \"space-around\",\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: \"center\" }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n\n                <DateTimePicker\n                  mode=\"time\"\n                  onChange={(change, date) => {\n                    setTime(date);\n                  }}\n                  value={time}\n                />\n              </Layout>\n            ),\n          )}\n        </Layout>\n      );\n    }\n  }\n\n  if (Platform.OS === \"web\") {\n    return (\n      <Text>\n        Creating Event Posts is not supported on the web. Download the app on\n        the App Store or Play Store to make an Event Post.\n      </Text>\n    );\n  }\n\n  return (\n    <Layout>\n      <WrapItems childStyle={{ marginVertical: 10 }}>\n        {Title}\n        <Input\n          label=\"Location\"\n          placeholder=\"Ex: North Dorm, HMC\"\n          value={discoverPostInputs?.location}\n          onChangeText={(newText) => {\n            setDiscoverPostInputs({\n              ...discoverPostInputs,\n              location: newText,\n            });\n          }}\n        />\n        <Datepicker\n          label=\"Date\"\n          dateService={formatDateService}\n          onSelect={(nextDate) => setDate(nextDate)}\n          date={date}\n          placement=\"top\"\n        />\n        <TimePicker />\n        <Layout style={{ padding: 6 }}>\n          <Divider />\n          <AntDesign name=\"caretdown\" style={{ position: \"absolute\" }} />\n          <AntDesign\n            name=\"caretdown\"\n            style={{ position: \"absolute\", right: 0 }}\n          />\n          <Layout\n            style={{ position: \"absolute\", right: \"44%\", marginBottom: 6 }}\n          >\n            <Text appearance=\"hint\">Optional</Text>\n          </Layout>\n        </Layout>\n\n        <Layout>\n          <Input\n            label=\"Link\"\n            placeholder=\"www.example.com\"\n            style={{ marginBottom: 10 }}\n            value={\n              discoverPostInputs?.contentUrl\n                ? discoverPostInputs.contentUrl\n                : \"\"\n            }\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                contentUrl: newText,\n              });\n            }}\n          />\n          <Input\n            label=\"Host\"\n            placeholder=\"Ex: John Doe\"\n            style={{ marginBottom: 5 }}\n            value={discoverPostInputs?.host}\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                host: newText,\n              });\n            }}\n          />\n\n          <Input\n            label=\"Description\"\n            multiline\n            placeholder=\"Describe the event...\"\n            style={{ marginVertical: 10 }}\n            value={discoverPostInputs?.description}\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                description: newText,\n              });\n            }}\n          />\n\n          <CreateImage\n            showTitle={false}\n            {...{ discoverPostInputs, setDiscoverPostInputs, TagInput }}\n          />\n        </Layout>\n      </WrapItems>\n    </Layout>\n  );\n}\n","export const DISCOVER_LIST_PAGE_SIZE = 5;\n\nexport const tagIndices = [\n  \"Clubs\",\n  \"Events\",\n  \"College News\",\n  \"Courses\",\n  \"HMC\",\n  \"Pomona\",\n  \"CMC\",\n  \"Pitzer\",\n  \"Scripps\",\n];\n\nexport const adminTagIndices = [\n  \"Athena Network\",\n  \"Clubs\",\n  \"Events\",\n  \"College News\",\n  \"Courses\",\n  \"HMC\",\n  \"Pomona\",\n  \"CMC\",\n  \"Pitzer\",\n  \"Scripps\",\n];\n\nexport const MAX_WIDTH_WEB = 700;\n\nexport const postOptions = [\"Image Post\", \"Text Post\", \"Link\", \"Event\"];\n\nexport const IMAGE_BUCKET_URL = \"https://athena-image-storage.s3.us-west-2.amazonaws.com/imagePostImages\";\n\nexport const EMOJI_LIST = [\n  \"😀\",\n  \"😁\",\n  \"😂\",\n  \"🤣\",\n  \"😃\",\n  \"😄\",\n  \"😅\",\n  \"😆\",\n  \"😉\",\n  \"😊\",\n  \"😋\",\n  \"😎\",\n  \"😍\",\n  \"😘\",\n  \"😗\",\n  \"😙\",\n  \"😚\",\n  \"☺\",\n  \"🙂\",\n  \"🤗\",\n  \"🤔\",\n  \"😐\",\n  \"😑\",\n  \"😶\",\n  \"🙄\",\n  \"😏\",\n  \"😣\",\n  \"😥\",\n  \"😮\",\n  \"🤐\",\n  \"😯\",\n  \"😪\",\n  \"😫\",\n  \"😴\",\n  \"😌\",\n  \"🤓\",\n  \"😛\",\n  \"😜\",\n  \"😝\",\n  \"🤤\",\n  \"😒\",\n  \"😓\",\n  \"😔\",\n  \"😕\",\n  \"🙃\",\n  \"🤑\",\n  \"😲\",\n  \"☹\",\n  \"🙁\",\n  \"😖\",\n  \"😞\",\n  \"😟\",\n  \"😤\",\n  \"😢\",\n  \"😭\",\n  \"😦\",\n  \"😧\",\n  \"😨\",\n  \"😩\",\n  \"😬\",\n  \"😰\",\n  \"😱\",\n  \"😳\",\n  \"😵\",\n  \"😡\",\n  \"😠\",\n  \"😇\",\n  \"🤠\",\n  \"🤡\",\n  \"🤥\",\n  \"😷\",\n  \"🤒\",\n  \"🤕\",\n  \"🤢\",\n  \"🤧\",\n  \"😈\",\n  \"👿\",\n  \"👹\",\n  \"👺\",\n  \"💀\",\n  \"☠\",\n  \"👻\",\n  \"👽\",\n  \"👾\",\n  \"🤖\",\n  \"💩\",\n  \"😺\",\n  \"😸\",\n  \"😹\",\n  \"😻\",\n  \"😼\",\n  \"😽\",\n  \"🙀\",\n  \"😿\",\n  \"😾\",\n  \"🙈\",\n  \"🙉\",\n  \"🙊\",\n  \"👦\",\n  \"👦🏻\",\n  \"👦🏼\",\n  \"👦🏽\",\n  \"👦🏾\",\n  \"👦🏿\",\n  \"👧\",\n  \"👧🏻\",\n  \"👧🏼\",\n  \"👧🏽\",\n  \"👧🏾\",\n  \"👧🏿\",\n  \"👨\",\n  \"👨🏻\",\n  \"👨🏼\",\n  \"👨🏽\",\n  \"👨🏾\",\n  \"👨🏿\",\n  \"👩\",\n  \"👩🏻\",\n  \"👩🏼\",\n  \"👩🏽\",\n  \"👩🏾\",\n  \"👩🏿\",\n  \"👴\",\n  \"👴🏻\",\n  \"👴🏼\",\n  \"👴🏽\",\n  \"👴🏾\",\n  \"👴🏿\",\n  \"👵\",\n  \"👵🏻\",\n  \"👵🏼\",\n  \"👵🏽\",\n  \"👵🏾\",\n  \"👵🏿\",\n  \"👶\",\n  \"👶🏻\",\n  \"👶🏼\",\n  \"👶🏽\",\n  \"👶🏾\",\n  \"👶🏿\",\n  \"👼\",\n  \"👼🏻\",\n  \"👼🏼\",\n  \"👼🏽\",\n  \"👼🏾\",\n  \"👼🏿\",\n  \"👮\",\n  \"👮🏻\",\n  \"👮🏼\",\n  \"👮🏽\",\n  \"👮🏾\",\n  \"👮🏿\",\n  \"🕵\",\n  \"🕵🏻\",\n  \"🕵🏼\",\n  \"🕵🏽\",\n  \"🕵🏾\",\n  \"🕵🏿\",\n  \"💂\",\n  \"💂🏻\",\n  \"💂🏼\",\n  \"💂🏽\",\n  \"💂🏾\",\n  \"💂🏿\",\n  \"👷\",\n  \"👷🏻\",\n  \"👷🏼\",\n  \"👷🏽\",\n  \"👷🏾\",\n  \"👷🏿\",\n  \"👳\",\n  \"👳🏻\",\n  \"👳🏼\",\n  \"👳🏽\",\n  \"👳🏾\",\n  \"👳🏿\",\n  \"👱\",\n  \"👱🏻\",\n  \"👱🏼\",\n  \"👱🏽\",\n  \"👱🏾\",\n  \"👱🏿\",\n  \"🎅\",\n  \"🎅🏻\",\n  \"🎅🏼\",\n  \"🎅🏽\",\n  \"🎅🏾\",\n  \"🎅🏿\",\n  \"🤶\",\n  \"🤶🏻\",\n  \"🤶🏼\",\n  \"🤶🏽\",\n  \"🤶🏾\",\n  \"🤶🏿\",\n  \"👸\",\n  \"👸🏻\",\n  \"👸🏼\",\n  \"👸🏽\",\n  \"👸🏾\",\n  \"👸🏿\",\n  \"🤴\",\n  \"🤴🏻\",\n  \"🤴🏼\",\n  \"🤴🏽\",\n  \"🤴🏾\",\n  \"🤴🏿\",\n  \"👰\",\n  \"👰🏻\",\n  \"👰🏼\",\n  \"👰🏽\",\n  \"👰🏾\",\n  \"👰🏿\",\n  \"🤵\",\n  \"🤵🏻\",\n  \"🤵🏼\",\n  \"🤵🏽\",\n  \"🤵🏾\",\n  \"🤵🏿\",\n  \"🤰\",\n  \"🤰🏻\",\n  \"🤰🏼\",\n  \"🤰🏽\",\n  \"🤰🏾\",\n  \"🤰🏿\",\n  \"👲\",\n  \"👲🏻\",\n  \"👲🏼\",\n  \"👲🏽\",\n  \"👲🏾\",\n  \"👲🏿\",\n  \"🙍\",\n  \"🙍🏻\",\n  \"🙍🏼\",\n  \"🙍🏽\",\n  \"🙍🏾\",\n  \"🙍🏿\",\n  \"🙎\",\n  \"🙎🏻\",\n  \"🙎🏼\",\n  \"🙎🏽\",\n  \"🙎🏾\",\n  \"🙎🏿\",\n  \"🙅\",\n  \"🙅🏻\",\n  \"🙅🏼\",\n  \"🙅🏽\",\n  \"🙅🏾\",\n  \"🙅🏿\",\n  \"🙆\",\n  \"🙆🏻\",\n  \"🙆🏼\",\n  \"🙆🏽\",\n  \"🙆🏾\",\n  \"🙆🏿\",\n  \"💁\",\n  \"💁🏻\",\n  \"💁🏼\",\n  \"💁🏽\",\n  \"💁🏾\",\n  \"💁🏿\",\n  \"🙋\",\n  \"🙋🏻\",\n  \"🙋🏼\",\n  \"🙋🏽\",\n  \"🙋🏾\",\n  \"🙋🏿\",\n  \"🙇\",\n  \"🙇🏻\",\n  \"🙇🏼\",\n  \"🙇🏽\",\n  \"🙇🏾\",\n  \"🙇🏿\",\n  \"🤦\",\n  \"🤦🏻\",\n  \"🤦🏼\",\n  \"🤦🏽\",\n  \"🤦🏾\",\n  \"🤦🏿\",\n  \"🤷\",\n  \"🤷🏻\",\n  \"🤷🏼\",\n  \"🤷🏽\",\n  \"🤷🏾\",\n  \"🤷🏿\",\n  \"💆\",\n  \"💆🏻\",\n  \"💆🏼\",\n  \"💆🏽\",\n  \"💆🏾\",\n  \"💆🏿\",\n  \"💇\",\n  \"💇🏻\",\n  \"💇🏼\",\n  \"💇🏽\",\n  \"💇🏾\",\n  \"💇🏿\",\n  \"🚶\",\n  \"🚶🏻\",\n  \"🚶🏼\",\n  \"🚶🏽\",\n  \"🚶🏾\",\n  \"🚶🏿\",\n  \"🏃\",\n  \"🏃🏻\",\n  \"🏃🏼\",\n  \"🏃🏽\",\n  \"🏃🏾\",\n  \"🏃🏿\",\n  \"💃\",\n  \"💃🏻\",\n  \"💃🏼\",\n  \"💃🏽\",\n  \"💃🏾\",\n  \"💃🏿\",\n  \"🕺\",\n  \"🕺🏻\",\n  \"🕺🏼\",\n  \"🕺🏽\",\n  \"🕺🏾\",\n  \"🕺🏿\",\n  \"👯\",\n  \"🕴\",\n  \"🗣\",\n  \"👤\",\n  \"👥\",\n  \"🤺\",\n  \"🏇\",\n  \"⛷\",\n  \"🏂\",\n  \"🏌\",\n  \"🏄\",\n  \"🏄🏻\",\n  \"🏄🏼\",\n  \"🏄🏽\",\n  \"🏄🏾\",\n  \"🏄🏿\",\n  \"🚣\",\n  \"🚣🏻\",\n  \"🚣🏼\",\n  \"🚣🏽\",\n  \"🚣🏾\",\n  \"🚣🏿\",\n  \"🏊\",\n  \"🏊🏻\",\n  \"🏊🏼\",\n  \"🏊🏽\",\n  \"🏊🏾\",\n  \"🏊🏿\",\n  \"⛹\",\n  \"⛹🏻\",\n  \"⛹🏼\",\n  \"⛹🏽\",\n  \"⛹🏾\",\n  \"⛹🏿\",\n  \"🏋\",\n  \"🏋🏻\",\n  \"🏋🏼\",\n  \"🏋🏽\",\n  \"🏋🏾\",\n  \"🏋🏿\",\n  \"🚴\",\n  \"🚴🏻\",\n  \"🚴🏼\",\n  \"🚴🏽\",\n  \"🚴🏾\",\n  \"🚴🏿\",\n  \"🚵\",\n  \"🚵🏻\",\n  \"🚵🏼\",\n  \"🚵🏽\",\n  \"🚵🏾\",\n  \"🚵🏿\",\n  \"🏎\",\n  \"🏍\",\n  \"🤸\",\n  \"🤸🏻\",\n  \"🤸🏼\",\n  \"🤸🏽\",\n  \"🤸🏾\",\n  \"🤸🏿\",\n  \"🤼\",\n  \"🤼🏻\",\n  \"🤼🏼\",\n  \"🤼🏽\",\n  \"🤼🏾\",\n  \"🤼🏿\",\n  \"🤽\",\n  \"🤽🏻\",\n  \"🤽🏼\",\n  \"🤽🏽\",\n  \"🤽🏾\",\n  \"🤽🏿\",\n  \"🤾\",\n  \"🤾🏻\",\n  \"🤾🏼\",\n  \"🤾🏽\",\n  \"🤾🏾\",\n  \"🤾🏿\",\n  \"🤹\",\n  \"🤹🏻\",\n  \"🤹🏼\",\n  \"🤹🏽\",\n  \"🤹🏾\",\n  \"🤹🏿\",\n  \"👫\",\n  \"👬\",\n  \"👭\",\n  \"💏\",\n  \"👩‍❤️‍💋‍👨\",\n  \"👨‍❤️‍💋‍👨\",\n  \"👩‍❤️‍💋‍👩\",\n  \"💑\",\n  \"👩‍❤️‍👨\",\n  \"👨‍❤️‍👨\",\n  \"👩‍❤️‍👩\",\n  \"👪\",\n  \"👨‍👩‍👦\",\n  \"👨‍👩‍👧\",\n  \"👨‍👩‍👧‍👦\",\n  \"👨‍👩‍👦‍👦\",\n  \"👨‍👩‍👧‍👧\",\n  \"👨‍👨‍👦\",\n  \"👨‍👨‍👧\",\n  \"👨‍👨‍👧‍👦\",\n  \"👨‍👨‍👦‍👦\",\n  \"👨‍👨‍👧‍👧\",\n  \"👩‍👩‍👦\",\n  \"👩‍👩‍👧\",\n  \"👩‍👩‍👧‍👦\",\n  \"👩‍👩‍👦‍👦\",\n  \"👩‍👩‍👧‍👧\",\n  \"🏻\",\n  \"🏼\",\n  \"🏽\",\n  \"🏾\",\n  \"🏿\",\n  \"💪\",\n  \"💪🏻\",\n  \"💪🏼\",\n  \"💪🏽\",\n  \"💪🏾\",\n  \"💪🏿\",\n  \"🤳\",\n  \"🤳🏻\",\n  \"🤳🏼\",\n  \"🤳🏽\",\n  \"🤳🏾\",\n  \"🤳🏿\",\n  \"👈\",\n  \"👈🏻\",\n  \"👈🏼\",\n  \"👈🏽\",\n  \"👈🏾\",\n  \"👈🏿\",\n  \"👉\",\n  \"👉🏻\",\n  \"👉🏼\",\n  \"👉🏽\",\n  \"👉🏾\",\n  \"👉🏿\",\n  \"☝\",\n  \"☝🏻\",\n  \"☝🏼\",\n  \"☝🏽\",\n  \"☝🏾\",\n  \"☝🏿\",\n  \"👆\",\n  \"👆🏻\",\n  \"👆🏼\",\n  \"👆🏽\",\n  \"👆🏾\",\n  \"👆🏿\",\n  \"🖕\",\n  \"🖕🏻\",\n  \"🖕🏼\",\n  \"🖕🏽\",\n  \"🖕🏾\",\n  \"🖕🏿\",\n  \"👇\",\n  \"👇🏻\",\n  \"👇🏼\",\n  \"👇🏽\",\n  \"👇🏾\",\n  \"👇🏿\",\n  \"✌\",\n  \"✌🏻\",\n  \"✌🏼\",\n  \"✌🏽\",\n  \"✌🏾\",\n  \"✌🏿\",\n  \"🤞\",\n  \"🤞🏻\",\n  \"🤞🏼\",\n  \"🤞🏽\",\n  \"🤞🏾\",\n  \"🤞🏿\",\n  \"🖖\",\n  \"🖖🏻\",\n  \"🖖🏼\",\n  \"🖖🏽\",\n  \"🖖🏾\",\n  \"🖖🏿\",\n  \"🤘\",\n  \"🤘🏻\",\n  \"🤘🏼\",\n  \"🤘🏽\",\n  \"🤘🏾\",\n  \"🤘🏿\",\n  \"🤙\",\n  \"🤙🏻\",\n  \"🤙🏼\",\n  \"🤙🏽\",\n  \"🤙🏾\",\n  \"🤙🏿\",\n  \"🖐\",\n  \"🖐🏻\",\n  \"🖐🏼\",\n  \"🖐🏽\",\n  \"🖐🏾\",\n  \"🖐🏿\",\n  \"✋\",\n  \"✋🏻\",\n  \"✋🏼\",\n  \"✋🏽\",\n  \"✋🏾\",\n  \"✋🏿\",\n  \"👌\",\n  \"👌🏻\",\n  \"👌🏼\",\n  \"👌🏽\",\n  \"👌🏾\",\n  \"👌🏿\",\n  \"👍\",\n  \"👍🏻\",\n  \"👍🏼\",\n  \"👍🏽\",\n  \"👍🏾\",\n  \"👍🏿\",\n  \"👎\",\n  \"👎🏻\",\n  \"👎🏼\",\n  \"👎🏽\",\n  \"👎🏾\",\n  \"👎🏿\",\n  \"✊\",\n  \"✊🏻\",\n  \"✊🏼\",\n  \"✊🏽\",\n  \"✊🏾\",\n  \"✊🏿\",\n  \"👊\",\n  \"👊🏻\",\n  \"👊🏼\",\n  \"👊🏽\",\n  \"👊🏾\",\n  \"👊🏿\",\n  \"🤛\",\n  \"🤛🏻\",\n  \"🤛🏼\",\n  \"🤛🏽\",\n  \"🤛🏾\",\n  \"🤛🏿\",\n  \"🤜\",\n  \"🤜🏻\",\n  \"🤜🏼\",\n  \"🤜🏽\",\n  \"🤜🏾\",\n  \"🤜🏿\",\n  \"🤚\",\n  \"🤚🏻\",\n  \"🤚🏼\",\n  \"🤚🏽\",\n  \"🤚🏾\",\n  \"🤚🏿\",\n  \"👋\",\n  \"👋🏻\",\n  \"👋🏼\",\n  \"👋🏽\",\n  \"👋🏾\",\n  \"👋🏿\",\n  \"👏\",\n  \"👏🏻\",\n  \"👏🏼\",\n  \"👏🏽\",\n  \"👏🏾\",\n  \"👏🏿\",\n  \"✍\",\n  \"✍🏻\",\n  \"✍🏼\",\n  \"✍🏽\",\n  \"✍🏾\",\n  \"✍🏿\",\n  \"👐\",\n  \"👐🏻\",\n  \"👐🏼\",\n  \"👐🏽\",\n  \"👐🏾\",\n  \"👐🏿\",\n  \"🙌\",\n  \"🙌🏻\",\n  \"🙌🏼\",\n  \"🙌🏽\",\n  \"🙌🏾\",\n  \"🙌🏿\",\n  \"🙏\",\n  \"🙏🏻\",\n  \"🙏🏼\",\n  \"🙏🏽\",\n  \"🙏🏾\",\n  \"🙏🏿\",\n  \"🤝\",\n  \"🤝🏻\",\n  \"🤝🏼\",\n  \"🤝🏽\",\n  \"🤝🏾\",\n  \"🤝🏿\",\n  \"💅\",\n  \"💅🏻\",\n  \"💅🏼\",\n  \"💅🏽\",\n  \"💅🏾\",\n  \"💅🏿\",\n  \"👂\",\n  \"👂🏻\",\n  \"👂🏼\",\n  \"👂🏽\",\n  \"👂🏾\",\n  \"👂🏿\",\n  \"👃\",\n  \"👃🏻\",\n  \"👃🏼\",\n  \"👃🏽\",\n  \"👃🏾\",\n  \"👃🏿\",\n  \"👣\",\n  \"👀\",\n  \"👁\",\n  \"👁‍🗨\",\n  \"👅\",\n  \"👄\",\n  \"💋\",\n  \"💘\",\n  \"❤\",\n  \"💓\",\n  \"💔\",\n  \"💕\",\n  \"💖\",\n  \"💗\",\n  \"💙\",\n  \"💚\",\n  \"💛\",\n  \"💜\",\n  \"🖤\",\n  \"💝\",\n  \"💞\",\n  \"💟\",\n  \"❣\",\n  \"💌\",\n  \"💤\",\n  \"💢\",\n  \"💣\",\n  \"💥\",\n  \"💦\",\n  \"💨\",\n  \"💫\",\n  \"💬\",\n  \"🗨\",\n  \"🗯\",\n  \"💭\",\n  \"🕳\",\n  \"👓\",\n  \"🕶\",\n  \"👔\",\n  \"👕\",\n  \"👖\",\n  \"👗\",\n  \"👘\",\n  \"👙\",\n  \"👚\",\n  \"👛\",\n  \"👜\",\n  \"👝\",\n  \"🛍\",\n  \"🎒\",\n  \"👞\",\n  \"👟\",\n  \"👠\",\n  \"👡\",\n  \"👢\",\n  \"👑\",\n  \"👒\",\n  \"🎩\",\n  \"🎓\",\n  \"⛑\",\n  \"📿\",\n  \"💄\",\n  \"💍\",\n  \"💎\",\n  \"🐵\",\n  \"🐒\",\n  \"🦍\",\n  \"🐶\",\n  \"🐕\",\n  \"🐩\",\n  \"🐺\",\n  \"🦊\",\n  \"🐱\",\n  \"🐈\",\n  \"🦁\",\n  \"🐯\",\n  \"🐅\",\n  \"🐆\",\n  \"🐴\",\n  \"🐎\",\n  \"🦌\",\n  \"🦄\",\n  \"🐮\",\n  \"🐂\",\n  \"🐃\",\n  \"🐄\",\n  \"🐷\",\n  \"🐖\",\n  \"🐗\",\n  \"🐽\",\n  \"🐏\",\n  \"🐑\",\n  \"🐐\",\n  \"🐪\",\n  \"🐫\",\n  \"🐘\",\n  \"🦏\",\n  \"🐭\",\n  \"🐁\",\n  \"🐀\",\n  \"🐹\",\n  \"🐰\",\n  \"🐇\",\n  \"🐿\",\n  \"🦇\",\n  \"🐻\",\n  \"🐨\",\n  \"🐼\",\n  \"🐾\",\n  \"🦃\",\n  \"🐔\",\n  \"🐓\",\n  \"🐣\",\n  \"🐤\",\n  \"🐥\",\n  \"🐦\",\n  \"🐧\",\n  \"🕊\",\n  \"🦅\",\n  \"🦆\",\n  \"🦉\",\n  \"🐸\",\n  \"🐊\",\n  \"🐢\",\n  \"🦎\",\n  \"🐍\",\n  \"🐲\",\n  \"🐉\",\n  \"🐳\",\n  \"🐋\",\n  \"🐬\",\n  \"🐟\",\n  \"🐠\",\n  \"🐡\",\n  \"🦈\",\n  \"🐙\",\n  \"🐚\",\n  \"🦀\",\n  \"🦐\",\n  \"🦑\",\n  \"🦋\",\n  \"🐌\",\n  \"🐛\",\n  \"🐜\",\n  \"🐝\",\n  \"🐞\",\n  \"🕷\",\n  \"🕸\",\n  \"🦂\",\n  \"💐\",\n  \"🌸\",\n  \"💮\",\n  \"🏵\",\n  \"🌹\",\n  \"🥀\",\n  \"🌺\",\n  \"🌻\",\n  \"🌼\",\n  \"🌷\",\n  \"🌱\",\n  \"🌲\",\n  \"🌳\",\n  \"🌴\",\n  \"🌵\",\n  \"🌾\",\n  \"🌿\",\n  \"☘\",\n  \"🍀\",\n  \"🍁\",\n  \"🍂\",\n  \"🍃\",\n  \"🍇\",\n  \"🍈\",\n  \"🍉\",\n  \"🍊\",\n  \"🍋\",\n  \"🍌\",\n  \"🍍\",\n  \"🍎\",\n  \"🍏\",\n  \"🍐\",\n  \"🍑\",\n  \"🍒\",\n  \"🍓\",\n  \"🥝\",\n  \"🍅\",\n  \"🥑\",\n  \"🍆\",\n  \"🥔\",\n  \"🥕\",\n  \"🌽\",\n  \"🌶\",\n  \"🥒\",\n  \"🍄\",\n  \"🥜\",\n  \"🌰\",\n  \"🍞\",\n  \"🥐\",\n  \"🥖\",\n  \"🥞\",\n  \"🧀\",\n  \"🍖\",\n  \"🍗\",\n  \"🥓\",\n  \"🍔\",\n  \"🍟\",\n  \"🍕\",\n  \"🌭\",\n  \"🌮\",\n  \"🌯\",\n  \"🥙\",\n  \"🥚\",\n  \"🍳\",\n  \"🥘\",\n  \"🍲\",\n  \"🥗\",\n  \"🍿\",\n  \"🍱\",\n  \"🍘\",\n  \"🍙\",\n  \"🍚\",\n  \"🍛\",\n  \"🍜\",\n  \"🍝\",\n  \"🍠\",\n  \"🍢\",\n  \"🍣\",\n  \"🍤\",\n  \"🍥\",\n  \"🍡\",\n  \"🍦\",\n  \"🍧\",\n  \"🍨\",\n  \"🍩\",\n  \"🍪\",\n  \"🎂\",\n  \"🍰\",\n  \"🍫\",\n  \"🍬\",\n  \"🍭\",\n  \"🍮\",\n  \"🍯\",\n  \"🍼\",\n  \"🥛\",\n  \"☕\",\n  \"🍵\",\n  \"🍶\",\n  \"🍾\",\n  \"🍷\",\n  \"🍸\",\n  \"🍹\",\n  \"🍺\",\n  \"🍻\",\n  \"🥂\",\n  \"🥃\",\n  \"🍽\",\n  \"🍴\",\n  \"🥄\",\n  \"🔪\",\n  \"🏺\",\n  \"🌍\",\n  \"🌎\",\n  \"🌏\",\n  \"🌐\",\n  \"🗺\",\n  \"🗾\",\n  \"🏔\",\n  \"⛰\",\n  \"🌋\",\n  \"🗻\",\n  \"🏕\",\n  \"🏖\",\n  \"🏜\",\n  \"🏝\",\n  \"🏞\",\n  \"🏟\",\n  \"🏛\",\n  \"🏗\",\n  \"🏘\",\n  \"🏙\",\n  \"🏚\",\n  \"🏠\",\n  \"🏡\",\n  \"🏢\",\n  \"🏣\",\n  \"🏤\",\n  \"🏥\",\n  \"🏦\",\n  \"🏨\",\n  \"🏩\",\n  \"🏪\",\n  \"🏫\",\n  \"🏬\",\n  \"🏭\",\n  \"🏯\",\n  \"🏰\",\n  \"💒\",\n  \"🗼\",\n  \"🗽\",\n  \"⛪\",\n  \"🕌\",\n  \"🕍\",\n  \"⛩\",\n  \"🕋\",\n  \"⛲\",\n  \"⛺\",\n  \"🌁\",\n  \"🌃\",\n  \"🌄\",\n  \"🌅\",\n  \"🌆\",\n  \"🌇\",\n  \"🌉\",\n  \"♨\",\n  \"🌌\",\n  \"🎠\",\n  \"🎡\",\n  \"🎢\",\n  \"💈\",\n  \"🎪\",\n  \"🎭\",\n  \"🖼\",\n  \"🎨\",\n  \"🎰\",\n  \"🚂\",\n  \"🚃\",\n  \"🚄\",\n  \"🚅\",\n  \"🚆\",\n  \"🚇\",\n  \"🚈\",\n  \"🚉\",\n  \"🚊\",\n  \"🚝\",\n  \"🚞\",\n  \"🚋\",\n  \"🚌\",\n  \"🚍\",\n  \"🚎\",\n  \"🚐\",\n  \"🚑\",\n  \"🚒\",\n  \"🚓\",\n  \"🚔\",\n  \"🚕\",\n  \"🚖\",\n  \"🚗\",\n  \"🚘\",\n  \"🚙\",\n  \"🚚\",\n  \"🚛\",\n  \"🚜\",\n  \"🚲\",\n  \"🛴\",\n  \"🛵\",\n  \"🚏\",\n  \"🛣\",\n  \"🛤\",\n  \"⛽\",\n  \"🚨\",\n  \"🚥\",\n  \"🚦\",\n  \"🚧\",\n  \"🛑\",\n  \"⚓\",\n  \"⛵\",\n  \"🛶\",\n  \"🚤\",\n  \"🛳\",\n  \"⛴\",\n  \"🛥\",\n  \"🚢\",\n  \"✈\",\n  \"🛩\",\n  \"🛫\",\n  \"🛬\",\n  \"💺\",\n  \"🚁\",\n  \"🚟\",\n  \"🚠\",\n  \"🚡\",\n  \"🚀\",\n  \"🛰\",\n  \"🛎\",\n  \"🚪\",\n  \"🛌\",\n  \"🛏\",\n  \"🛋\",\n  \"🚽\",\n  \"🚿\",\n  \"🛀\",\n  \"🛀🏻\",\n  \"🛀🏼\",\n  \"🛀🏽\",\n  \"🛀🏾\",\n  \"🛀🏿\",\n  \"🛁\",\n  \"⌛\",\n  \"⏳\",\n  \"⌚\",\n  \"⏰\",\n  \"⏱\",\n  \"⏲\",\n  \"🕰\",\n  \"🕛\",\n  \"🕧\",\n  \"🕐\",\n  \"🕜\",\n  \"🕑\",\n  \"🕝\",\n  \"🕒\",\n  \"🕞\",\n  \"🕓\",\n  \"🕟\",\n  \"🕔\",\n  \"🕠\",\n  \"🕕\",\n  \"🕡\",\n  \"🕖\",\n  \"🕢\",\n  \"🕗\",\n  \"🕣\",\n  \"🕘\",\n  \"🕤\",\n  \"🕙\",\n  \"🕥\",\n  \"🕚\",\n  \"🕦\",\n  \"🌑\",\n  \"🌒\",\n  \"🌓\",\n  \"🌔\",\n  \"🌕\",\n  \"🌖\",\n  \"🌗\",\n  \"🌘\",\n  \"🌙\",\n  \"🌚\",\n  \"🌛\",\n  \"🌜\",\n  \"🌡\",\n  \"☀\",\n  \"🌝\",\n  \"🌞\",\n  \"⭐\",\n  \"🌟\",\n  \"🌠\",\n  \"☁\",\n  \"⛅\",\n  \"⛈\",\n  \"🌤\",\n  \"🌥\",\n  \"🌦\",\n  \"🌧\",\n  \"🌨\",\n  \"🌩\",\n  \"🌪\",\n  \"🌫\",\n  \"🌬\",\n  \"🌀\",\n  \"🌈\",\n  \"🌂\",\n  \"☂\",\n  \"☔\",\n  \"⛱\",\n  \"⚡\",\n  \"❄\",\n  \"☃\",\n  \"⛄\",\n  \"☄\",\n  \"🔥\",\n  \"💧\",\n  \"🌊\",\n  \"🎃\",\n  \"🎄\",\n  \"🎆\",\n  \"🎇\",\n  \"✨\",\n  \"🎈\",\n  \"🎉\",\n  \"🎊\",\n  \"🎋\",\n  \"🎍\",\n  \"🎎\",\n  \"🎏\",\n  \"🎐\",\n  \"🎑\",\n  \"🎀\",\n  \"🎁\",\n  \"🎗\",\n  \"🎟\",\n  \"🎫\",\n  \"🎖\",\n  \"🏆\",\n  \"🏅\",\n  \"🥇\",\n  \"🥈\",\n  \"🥉\",\n  \"⚽\",\n  \"⚾\",\n  \"🏀\",\n  \"🏐\",\n  \"🏈\",\n  \"🏉\",\n  \"🎾\",\n  \"🎱\",\n  \"🎳\",\n  \"🏏\",\n  \"🏑\",\n  \"🏒\",\n  \"🏓\",\n  \"🏸\",\n  \"🥊\",\n  \"🥋\",\n  \"🥅\",\n  \"🎯\",\n  \"⛳\",\n  \"⛸\",\n  \"🎣\",\n  \"🎽\",\n  \"🎿\",\n  \"🎮\",\n  \"🕹\",\n  \"🎲\",\n  \"♠\",\n  \"♥\",\n  \"♦\",\n  \"♣\",\n  \"🃏\",\n  \"🀄\",\n  \"🎴\",\n  \"🔇\",\n  \"🔈\",\n  \"🔉\",\n  \"🔊\",\n  \"📢\",\n  \"📣\",\n  \"📯\",\n  \"🔔\",\n  \"🔕\",\n  \"🎼\",\n  \"🎵\",\n  \"🎶\",\n  \"🎙\",\n  \"🎚\",\n  \"🎛\",\n  \"🎤\",\n  \"🎧\",\n  \"📻\",\n  \"🎷\",\n  \"🎸\",\n  \"🎹\",\n  \"🎺\",\n  \"🎻\",\n  \"🥁\",\n  \"📱\",\n  \"📲\",\n  \"☎\",\n  \"📞\",\n  \"📟\",\n  \"📠\",\n  \"🔋\",\n  \"🔌\",\n  \"💻\",\n  \"🖥\",\n  \"🖨\",\n  \"⌨\",\n  \"🖱\",\n  \"🖲\",\n  \"💽\",\n  \"💾\",\n  \"💿\",\n  \"📀\",\n  \"🎥\",\n  \"🎞\",\n  \"📽\",\n  \"🎬\",\n  \"📺\",\n  \"📷\",\n  \"📸\",\n  \"📹\",\n  \"📼\",\n  \"🔍\",\n  \"🔎\",\n  \"🔬\",\n  \"🔭\",\n  \"📡\",\n  \"🕯\",\n  \"💡\",\n  \"🔦\",\n  \"🏮\",\n  \"📔\",\n  \"📕\",\n  \"📖\",\n  \"📗\",\n  \"📘\",\n  \"📙\",\n  \"📚\",\n  \"📓\",\n  \"📒\",\n  \"📃\",\n  \"📜\",\n  \"📄\",\n  \"📰\",\n  \"🗞\",\n  \"📑\",\n  \"🔖\",\n  \"🏷\",\n  \"💰\",\n  \"💴\",\n  \"💵\",\n  \"💶\",\n  \"💷\",\n  \"💸\",\n  \"💳\",\n  \"💹\",\n  \"💱\",\n  \"💲\",\n  \"✉\",\n  \"📧\",\n  \"📨\",\n  \"📩\",\n  \"📤\",\n  \"📥\",\n  \"📦\",\n  \"📫\",\n  \"📪\",\n  \"📬\",\n  \"📭\",\n  \"📮\",\n  \"🗳\",\n  \"✏\",\n  \"✒\",\n  \"🖋\",\n  \"🖊\",\n  \"🖌\",\n  \"🖍\",\n  \"📝\",\n  \"💼\",\n  \"📁\",\n  \"📂\",\n  \"🗂\",\n  \"📅\",\n  \"📆\",\n  \"🗒\",\n  \"🗓\",\n  \"📇\",\n  \"📈\",\n  \"📉\",\n  \"📊\",\n  \"📋\",\n  \"📌\",\n  \"📍\",\n  \"📎\",\n  \"🖇\",\n  \"📏\",\n  \"📐\",\n  \"✂\",\n  \"🗃\",\n  \"🗄\",\n  \"🗑\",\n  \"🔒\",\n  \"🔓\",\n  \"🔏\",\n  \"🔐\",\n  \"🔑\",\n  \"🗝\",\n  \"🔨\",\n  \"⛏\",\n  \"⚒\",\n  \"🛠\",\n  \"🗡\",\n  \"⚔\",\n  \"🔫\",\n  \"🏹\",\n  \"🛡\",\n  \"🔧\",\n  \"🔩\",\n  \"⚙\",\n  \"🗜\",\n  \"⚗\",\n  \"⚖\",\n  \"🔗\",\n  \"⛓\",\n  \"💉\",\n  \"💊\",\n  \"🚬\",\n  \"⚰\",\n  \"⚱\",\n  \"🗿\",\n  \"🛢\",\n  \"🔮\",\n  \"🛒\",\n  \"🏧\",\n  \"🚮\",\n  \"🚰\",\n  \"♿\",\n  \"🚹\",\n  \"🚺\",\n  \"🚻\",\n  \"🚼\",\n  \"🚾\",\n  \"🛂\",\n  \"🛃\",\n  \"🛄\",\n  \"🛅\",\n  \"⚠\",\n  \"🚸\",\n  \"⛔\",\n  \"🚫\",\n  \"🚳\",\n  \"🚭\",\n  \"🚯\",\n  \"🚱\",\n  \"🚷\",\n  \"📵\",\n  \"🔞\",\n  \"☢\",\n  \"☣\",\n  \"⬆\",\n  \"↗\",\n  \"➡\",\n  \"↘\",\n  \"⬇\",\n  \"↙\",\n  \"⬅\",\n  \"↖\",\n  \"↕\",\n  \"↔\",\n  \"↩\",\n  \"↪\",\n  \"⤴\",\n  \"⤵\",\n  \"🔃\",\n  \"🔄\",\n  \"🔙\",\n  \"🔚\",\n  \"🔛\",\n  \"🔜\",\n  \"🔝\",\n  \"🛐\",\n  \"⚛\",\n  \"🕉\",\n  \"✡\",\n  \"☸\",\n  \"☯\",\n  \"✝\",\n  \"☦\",\n  \"☪\",\n  \"☮\",\n  \"🕎\",\n  \"🔯\",\n  \"♈\",\n  \"♉\",\n  \"♊\",\n  \"♋\",\n  \"♌\",\n  \"♍\",\n  \"♎\",\n  \"♏\",\n  \"♐\",\n  \"♑\",\n  \"♒\",\n  \"♓\",\n  \"⛎\",\n  \"🔀\",\n  \"🔁\",\n  \"🔂\",\n  \"▶\",\n  \"⏩\",\n  \"⏭\",\n  \"⏯\",\n  \"◀\",\n  \"⏪\",\n  \"⏮\",\n  \"🔼\",\n  \"⏫\",\n  \"🔽\",\n  \"⏬\",\n  \"⏸\",\n  \"⏹\",\n  \"⏺\",\n  \"⏏\",\n  \"🎦\",\n  \"🔅\",\n  \"🔆\",\n  \"📶\",\n  \"📳\",\n  \"📴\",\n  \"♻\",\n  \"📛\",\n  \"⚜\",\n  \"🔰\",\n  \"🔱\",\n  \"⭕\",\n  \"✅\",\n  \"☑\",\n  \"✔\",\n  \"✖\",\n  \"❌\",\n  \"❎\",\n  \"➕\",\n  \"➖\",\n  \"➗\",\n  \"➰\",\n  \"➿\",\n  \"〽\",\n  \"✳\",\n  \"✴\",\n  \"❇\",\n  \"‼\",\n  \"⁉\",\n  \"❓\",\n  \"❔\",\n  \"❕\",\n  \"❗\",\n  \"〰\",\n  \"©\",\n  \"®\",\n  \"™\",\n  \"#️⃣\",\n  \"*️⃣\",\n  \"0️⃣\",\n  \"1️⃣\",\n  \"2️⃣\",\n  \"3️⃣\",\n  \"4️⃣\",\n  \"5️⃣\",\n  \"6️⃣\",\n  \"7️⃣\",\n  \"8️⃣\",\n  \"9️⃣\",\n  \"🔟\",\n  \"💯\",\n  \"🔠\",\n  \"🔡\",\n  \"🔢\",\n  \"🔣\",\n  \"🔤\",\n  \"🅰\",\n  \"🆎\",\n  \"🅱\",\n  \"🆑\",\n  \"🆒\",\n  \"🆓\",\n  \"ℹ\",\n  \"🆔\",\n  \"Ⓜ\",\n  \"🆕\",\n  \"🆖\",\n  \"🅾\",\n  \"🆗\",\n  \"🅿\",\n  \"🆘\",\n  \"🆙\",\n  \"🆚\",\n  \"🈁\",\n  \"🈂\",\n  \"🈷\",\n  \"🈶\",\n  \"🈯\",\n  \"🉐\",\n  \"🈹\",\n  \"🈚\",\n  \"🈲\",\n  \"🉑\",\n  \"🈸\",\n  \"🈴\",\n  \"🈳\",\n  \"㊗\",\n  \"㊙\",\n  \"🈺\",\n  \"🈵\",\n  \"▪\",\n  \"▫\",\n  \"◻\",\n  \"◼\",\n  \"◽\",\n  \"◾\",\n  \"⬛\",\n  \"⬜\",\n  \"🔶\",\n  \"🔷\",\n  \"🔸\",\n  \"🔹\",\n  \"🔺\",\n  \"🔻\",\n  \"💠\",\n  \"🔘\",\n  \"🔲\",\n  \"🔳\",\n  \"⚪\",\n  \"⚫\",\n  \"🔴\",\n  \"🔵\",\n  \"🏁\",\n  \"🚩\",\n  \"🎌\",\n  \"🏴\",\n  \"🏳\",\n  \"🇦🇨\",\n  \"🇦🇩\",\n  \"🇦🇪\",\n  \"🇦🇫\",\n  \"🇦🇬\",\n  \"🇦🇮\",\n  \"🇦🇱\",\n  \"🇦🇲\",\n  \"🇦🇴\",\n  \"🇦🇶\",\n  \"🇦🇷\",\n  \"🇦🇸\",\n  \"🇦🇹\",\n  \"🇦🇺\",\n  \"🇦🇼\",\n  \"🇦🇽\",\n  \"🇦🇿\",\n  \"🇧🇦\",\n  \"🇧🇧\",\n  \"🇧🇩\",\n  \"🇧🇪\",\n  \"🇧🇫\",\n  \"🇧🇬\",\n  \"🇧🇭\",\n  \"🇧🇮\",\n  \"🇧🇯\",\n  \"🇧🇱\",\n  \"🇧🇲\",\n  \"🇧🇳\",\n  \"🇧🇴\",\n  \"🇧🇶\",\n  \"🇧🇷\",\n  \"🇧🇸\",\n  \"🇧🇹\",\n  \"🇧🇻\",\n  \"🇧🇼\",\n  \"🇧🇾\",\n  \"🇧🇿\",\n  \"🇨🇦\",\n  \"🇨🇨\",\n  \"🇨🇩\",\n  \"🇨🇫\",\n  \"🇨🇬\",\n  \"🇨🇭\",\n  \"🇨🇮\",\n  \"🇨🇰\",\n  \"🇨🇱\",\n  \"🇨🇲\",\n  \"🇨🇳\",\n  \"🇨🇴\",\n  \"🇨🇵\",\n  \"🇨🇷\",\n  \"🇨🇺\",\n  \"🇨🇻\",\n  \"🇨🇼\",\n  \"🇨🇽\",\n  \"🇨🇾\",\n  \"🇨🇿\",\n  \"🇩🇪\",\n  \"🇩🇬\",\n  \"🇩🇯\",\n  \"🇩🇰\",\n  \"🇩🇲\",\n  \"🇩🇴\",\n  \"🇩🇿\",\n  \"🇪🇦\",\n  \"🇪🇨\",\n  \"🇪🇪\",\n  \"🇪🇬\",\n  \"🇪🇭\",\n  \"🇪🇷\",\n  \"🇪🇸\",\n  \"🇪🇹\",\n  \"🇪🇺\",\n  \"🇫🇮\",\n  \"🇫🇯\",\n  \"🇫🇰\",\n  \"🇫🇲\",\n  \"🇫🇴\",\n  \"🇫🇷\",\n  \"🇬🇦\",\n  \"🇬🇧\",\n  \"🇬🇩\",\n  \"🇬🇪\",\n  \"🇬🇫\",\n  \"🇬🇬\",\n  \"🇬🇭\",\n  \"🇬🇮\",\n  \"🇬🇱\",\n  \"🇬🇲\",\n  \"🇬🇳\",\n  \"🇬🇵\",\n  \"🇬🇶\",\n  \"🇬🇷\",\n  \"🇬🇸\",\n  \"🇬🇹\",\n  \"🇬🇺\",\n  \"🇬🇼\",\n  \"🇬🇾\",\n  \"🇭🇰\",\n  \"🇭🇲\",\n  \"🇭🇳\",\n  \"🇭🇷\",\n  \"🇭🇹\",\n  \"🇭🇺\",\n  \"🇮🇨\",\n  \"🇮🇩\",\n  \"🇮🇪\",\n  \"🇮🇱\",\n  \"🇮🇲\",\n  \"🇮🇳\",\n  \"🇮🇴\",\n  \"🇮🇶\",\n  \"🇮🇷\",\n  \"🇮🇸\",\n  \"🇮🇹\",\n  \"🇯🇪\",\n  \"🇯🇲\",\n  \"🇯🇴\",\n  \"🇯🇵\",\n  \"🇰🇪\",\n  \"🇰🇬\",\n  \"🇰🇭\",\n  \"🇰🇮\",\n  \"🇰🇲\",\n  \"🇰🇳\",\n  \"🇰🇵\",\n  \"🇰🇷\",\n  \"🇰🇼\",\n  \"🇰🇾\",\n  \"🇰🇿\",\n  \"🇱🇦\",\n  \"🇱🇧\",\n  \"🇱🇨\",\n  \"🇱🇮\",\n  \"🇱🇰\",\n  \"🇱🇷\",\n  \"🇱🇸\",\n  \"🇱🇹\",\n  \"🇱🇺\",\n  \"🇱🇻\",\n  \"🇱🇾\",\n  \"🇲🇦\",\n  \"🇲🇨\",\n  \"🇲🇩\",\n  \"🇲🇪\",\n  \"🇲🇫\",\n  \"🇲🇬\",\n  \"🇲🇭\",\n  \"🇲🇰\",\n  \"🇲🇱\",\n  \"🇲🇲\",\n  \"🇲🇳\",\n  \"🇲🇴\",\n  \"🇲🇵\",\n  \"🇲🇶\",\n  \"🇲🇷\",\n  \"🇲🇸\",\n  \"🇲🇹\",\n  \"🇲🇺\",\n  \"🇲🇻\",\n  \"🇲🇼\",\n  \"🇲🇽\",\n  \"🇲🇾\",\n  \"🇲🇿\",\n  \"🇳🇦\",\n  \"🇳🇨\",\n  \"🇳🇪\",\n  \"🇳🇫\",\n  \"🇳🇬\",\n  \"🇳🇮\",\n  \"🇳🇱\",\n  \"🇳🇴\",\n  \"🇳🇵\",\n  \"🇳🇷\",\n  \"🇳🇺\",\n  \"🇳🇿\",\n  \"🇴🇲\",\n  \"🇵🇦\",\n  \"🇵🇪\",\n  \"🇵🇫\",\n  \"🇵🇬\",\n  \"🇵🇭\",\n  \"🇵🇰\",\n  \"🇵🇱\",\n  \"🇵🇲\",\n  \"🇵🇳\",\n  \"🇵🇷\",\n  \"🇵🇸\",\n  \"🇵🇹\",\n  \"🇵🇼\",\n  \"🇵🇾\",\n  \"🇶🇦\",\n  \"🇷🇪\",\n  \"🇷🇴\",\n  \"🇷🇸\",\n  \"🇷🇺\",\n  \"🇷🇼\",\n  \"🇸🇦\",\n  \"🇸🇧\",\n  \"🇸🇨\",\n  \"🇸🇩\",\n  \"🇸🇪\",\n  \"🇸🇬\",\n  \"🇸🇭\",\n  \"🇸🇮\",\n  \"🇸🇯\",\n  \"🇸🇰\",\n  \"🇸🇱\",\n  \"🇸🇲\",\n  \"🇸🇳\",\n  \"🇸🇴\",\n  \"🇸🇷\",\n  \"🇸🇸\",\n  \"🇸🇹\",\n  \"🇸🇻\",\n  \"🇸🇽\",\n  \"🇸🇾\",\n  \"🇸🇿\",\n  \"🇹🇦\",\n  \"🇹🇨\",\n  \"🇹🇩\",\n  \"🇹🇫\",\n  \"🇹🇬\",\n  \"🇹🇭\",\n  \"🇹🇯\",\n  \"🇹🇰\",\n  \"🇹🇱\",\n  \"🇹🇲\",\n  \"🇹🇳\",\n  \"🇹🇴\",\n  \"🇹🇷\",\n  \"🇹🇹\",\n  \"🇹🇻\",\n  \"🇹🇼\",\n  \"🇹🇿\",\n  \"🇺🇦\",\n  \"🇺🇬\",\n  \"🇺🇲\",\n  \"🇺🇸\",\n  \"🇺🇾\",\n  \"🇺🇿\",\n  \"🇻🇦\",\n  \"🇻🇨\",\n  \"🇻🇪\",\n  \"🇻🇬\",\n  \"🇻🇮\",\n  \"🇻🇳\",\n  \"🇻🇺\",\n  \"🇼🇫\",\n  \"🇼🇸\",\n  \"🇽🇰\",\n  \"🇾🇪\",\n  \"🇾🇹\",\n  \"🇿🇦\",\n  \"🇿🇲\",\n  \"🇿🇼\",\n];\n","import Toast from \"react-native-root-toast\";\n\nimport { EMOJI_LIST, IMAGE_BUCKET_URL } from \"./constants/discover\";\n\nexport function getRndInteger(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport function getImageUrl(imageId: string) {\n  return `${IMAGE_BUCKET_URL}/${imageId}.jpg`;\n}\n\nexport function nFormatter(num: number, digits: number) {\n  const lookup = [\n    { value: 1, symbol: \"\" },\n    { value: 1e3, symbol: \"k\" },\n    { value: 1e6, symbol: \"M\" },\n    { value: 1e9, symbol: \"G\" },\n    { value: 1e12, symbol: \"T\" },\n    { value: 1e15, symbol: \"P\" },\n    { value: 1e18, symbol: \"E\" },\n  ];\n  const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n  const item = lookup\n    .slice()\n    .reverse()\n    .find((item) => {\n      return num >= item.value;\n    });\n  return item\n    ? (num / item.value).toFixed(digits).replace(rx, \"$1\") + item.symbol\n    : \"0\";\n}\n\nexport function versionCompare(v1: string, v2: string, options?: any) {\n  const lexicographical = options && options.lexicographical;\n  const zeroExtend = options && options.zeroExtend;\n  let v1parts = v1.split(\".\") as any[];\n  let v2parts = v2.split(\".\") as any[];\n\n  function isValidPart(x) {\n    return (lexicographical ? /^\\d+[A-Za-z]*$/ : /^\\d+$/).test(x);\n  }\n\n  if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {\n    return NaN;\n  }\n\n  if (zeroExtend) {\n    while (v1parts.length < v2parts.length) v1parts.push(\"0\");\n    while (v2parts.length < v1parts.length) v2parts.push(\"0\");\n  }\n\n  if (!lexicographical) {\n    v1parts = v1parts.map(Number);\n    v2parts = v2parts.map(Number);\n  }\n\n  for (let i = 0; i < v1parts.length; ++i) {\n    if (v2parts.length === i) {\n      return 1;\n    }\n\n    if (v1parts[i] === v2parts[i]) {\n      continue;\n    } else if (v1parts[i] > v2parts[i]) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n\n  if (v1parts.length !== v2parts.length) {\n    return -1;\n  }\n\n  return 0;\n}\n\nexport const stringToEmoji = (str: string) => {\n  if (!str) {\n    return \"\";\n  }\n  let dec = 0;\n  for (let i = 0; i < str.length; ++i) {\n    dec += str.charCodeAt(i) << i;\n  }\n  const emoji = EMOJI_LIST[dec % EMOJI_LIST.length];\n  return emoji;\n};\n\nexport function validURL(str: string) {\n  const pattern = new RegExp(\n    \"^(https?:\\\\/\\\\/)?\" // protocol\n      + \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" // domain name\n      + \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" // OR ip (v4) address\n      + \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" // port and path\n      + \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" // query string\n      + \"(\\\\#[-a-z\\\\d_]*)?$\",\n    \"i\",\n  ); // fragment locator\n  return !!pattern.test(str);\n}\n\nexport function showToast(message: string, backgroundColor = \"#000\") {\n  Toast.show(message, {\n    duration: Toast.durations.LONG,\n    opacity: 1,\n    position: -100,\n    backgroundColor,\n    shadow: false,\n  });\n}\n\n// Format range with 12 hour time\nexport const FormatTimeRange = (start: string, end: string) => {\n  const startDate = new Date(start);\n  const endDate = new Date(end);\n\n  const startHours = startDate.getHours() % 12 || 12;\n  const startMinutes = startDate.getMinutes();\n  const startAmPm = startDate.getHours() >= 12 ? \"pm\" : \"am\";\n  const endHours = endDate.getHours() % 12 || 12;\n  const endMinutes = endDate.getMinutes();\n  const endAmPm = endDate.getHours() >= 12 ? \"pm\" : \"am\";\n  return `${startHours}:${startMinutes}${startAmPm} - ${endHours}:${endMinutes}${endAmPm}`;\n};\n\nconst weekDayNumberToName = {\n  0: \"Sunday\",\n  1: \"Monday\",\n  2: \"Tuesday\",\n  3: \"Wednesday\",\n  4: \"Thursday\",\n  5: \"Friday\",\n  6: \"Saturday\",\n};\n\nexport const FormatDate = (date: string) => {\n  const newDate = new Date(date);\n\n  const weekDay = newDate.getDay();\n  const month = newDate.getMonth() + 1;\n  const day = newDate.getDate();\n  return `${weekDayNumberToName[weekDay]}, ${month}/${day}`;\n};\n","import { createEntityAdapter } from \"@reduxjs/toolkit\";\n\nimport { apiSlice } from \"./apiSlice\";\nimport { DiscoverPost } from \"../../app/types\";\nimport { DISCOVER_LIST_PAGE_SIZE } from \"../../constants/discover\";\n\ntype getPostsArgs = {\n  userKey: string;\n  userName: string;\n  pageNumber?: number;\n  tag?: string;\n  searchTerm?: string;\n  sponsor?: boolean;\n};\n\nconst postsAdapter = createEntityAdapter<DiscoverPost>({\n  selectId: (post: DiscoverPost) => post._id,\n});\n\n// Helper Functions\n\nconst tranformComments = (comments, userName) => comments.map((comment) => ({\n  ...comment,\n  numLikes: comment.likes.length,\n  hasLiked: comment.likes.includes(userName),\n}));\n\nexport const discoverApiSlice = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    getDiscoverPosts: builder.query<any, getPostsArgs>({\n      keepUnusedDataFor: 6000,\n      query: ({\n        userKey, pageNumber, tag, searchTerm, sponsor = true\n      }) => ({\n        url: `/discover/getPosts`,\n        headers: {\n          userKey,\n        },\n        params: {\n          tag,\n          searchTerm,\n          pageNumber,\n          sponsor,\n          pageLength: DISCOVER_LIST_PAGE_SIZE,\n        },\n      }),\n      transformResponse: (response: DiscoverPost[], _, { userName }) => {\n        // Return Post To State Using Adapters\n        return postsAdapter.addMany(\n          postsAdapter.getInitialState({\n            hasMorePages: response.length > 0,\n          }),\n          // TODO: Refactoring likes and comments. Should maybe be done in backend\n          response.map((post) => ({\n            ...post,\n            numLikes: post.likes.length,\n            hasLiked: post.likes.includes(userName),\n            comments: tranformComments(post.comments, userName),\n          })),\n        );\n      },\n      async onQueryStarted(\n        {\n          userKey, pageNumber, userName, searchTerm, tag, sponsor\n        },\n        { queryFulfilled, dispatch },\n      ) {\n        if (!pageNumber) {\n          return;\n        }\n        const { data } = await queryFulfilled;\n\n        if (data?.ids?.length > 0) {\n          // Add Posts On Current Request To Page 1\n          dispatch(\n            discoverApiSlice.util.updateQueryData(\n              \"getDiscoverPosts\",\n              {\n                userKey, pageNumber: 1, userName, searchTerm, tag, sponsor\n              },\n              (draft) => {\n                postsAdapter.addMany(draft, postsSelectors.selectAll(data));\n              },\n            ),\n          );\n\n          if (pageNumber > 1) {\n            // Remove Cached Data From State Since We Already Added It To Page 1\n            dispatch(\n              discoverApiSlice.util.updateQueryData(\n                \"getDiscoverPosts\",\n                {\n                  userKey, pageNumber, userName, searchTerm, tag, sponsor\n                },\n                (draft) => {\n                  draft = postsAdapter.getInitialState();\n                },\n              ),\n            );\n          }\n        } else {\n          // No More Pages To Load\n          dispatch(\n            discoverApiSlice.util.updateQueryData(\n              \"getDiscoverPosts\",\n              {\n                userKey, pageNumber: 1, userName, searchTerm, tag, sponsor\n              },\n              (draft) => {\n                draft.hasMorePages = false;\n              },\n            ),\n          );\n        }\n      },\n    }),\n\n    createDiscoverPost: builder.mutation({\n      query: ({\n        userKey,\n        title,\n        type,\n        content,\n        tags,\n        status,\n        emoji,\n        postBody,\n        pinned,\n      }) => {\n        if (type === \"contentImage\" || type === \"contentEvent\") {\n          return {\n            url: \"/discover/addPost\",\n            method: \"POST\",\n            headers: { userKey },\n            body: postBody,\n          };\n        }\n        return {\n          url: \"/discover/addPost\",\n          method: \"POST\",\n          headers: { userKey },\n          body: {\n            title,\n            type,\n            [type]: content,\n            tags,\n            status,\n            emoji,\n            pinned,\n          },\n        };\n      },\n      async onQueryStarted(\n        { userKey, userName },\n        { dispatch, queryFulfilled },\n      ) {\n        try {\n          const { data: newPost } = await queryFulfilled;\n\n          // Add New Post To State\n          dispatch(\n            discoverApiSlice.util.updateQueryData(\n              \"getDiscoverPosts\",\n              { userKey, userName, pageNumber: 1 },\n              (draft) => {\n                postsAdapter.addOne(draft, {\n                  ...newPost,\n                  numLikes: 0,\n                  hasLiked: false,\n                });\n              },\n            ),\n          );\n        } catch (e) {\n          console.warn(\"Error Adding Post To State\", e);\n        }\n      },\n    }),\n    deleteDiscoverPost: builder.mutation({\n      query: ({\n        userKey, _id, userName, title\n      }) => ({\n        url: \"/discover/deletePost\",\n        method: \"DELETE\",\n        headers: { userKey },\n        body: {\n          _id,\n          userName,\n          title,\n        },\n        responseHandler: (response) => response.text(),\n      }),\n      async onQueryStarted(\n        {\n          userKey, _id, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled },\n      ) {\n        if (searchTerm || tag) {\n          var searchPatchResult = dispatch(\n            discoverApiSlice.util.updateQueryData(\n              \"getDiscoverPosts\",\n              {\n                userKey, userName, pageNumber: 1, searchTerm, tag\n              },\n              (draft) => {\n                postsAdapter.removeOne(draft, _id);\n              },\n            ),\n          );\n        }\n\n        const patchResult = dispatch(\n          discoverApiSlice.util.updateQueryData(\n            \"getDiscoverPosts\",\n            { userKey, userName, pageNumber: 1 },\n            (draft) => {\n              postsAdapter.removeOne(draft, _id);\n            },\n          ),\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n          if (searchPatchResult) {\n            searchPatchResult.undo();\n          }\n        }\n      },\n    }),\n\n    getPostById: builder.query({\n      query: ({ userKey, postId }) => ({\n        url: `/discover/getPostById`,\n        headers: {\n          userKey,\n        },\n        params: {\n          id: postId,\n        },\n      }),\n      async onQueryStarted(\n        {\n          userKey, postId, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled },\n      ) {\n        // Replace Post In State With Updated Post\n\n        try {\n          const { data: updatedPost } = await queryFulfilled;\n          const updateFunction = (draft) => {\n            postsAdapter.updateOne(draft, {\n              id: postId,\n              changes: {\n                ...updatedPost,\n                numLikes: updatedPost.likes.length,\n                hasLiked: updatedPost.likes.includes(userName),\n                comments: tranformComments(updatedPost.comments, userName),\n              },\n            });\n          };\n          dispatch(\n            discoverApiSlice.util.updateQueryData(\n              \"getDiscoverPosts\",\n              {\n                userKey,\n                userName,\n                pageNumber: 1,\n              },\n              updateFunction,\n            ),\n          );\n          if (searchTerm || tag) {\n            dispatch(\n              discoverApiSlice.util.updateQueryData(\n                \"getDiscoverPosts\",\n                {\n                  userKey,\n                  userName,\n                  pageNumber: 1,\n                  searchTerm,\n                  tag,\n                },\n                updateFunction,\n              ),\n            );\n          }\n        } catch (e) {\n          console.warn(\"Error Updating Post In State\", e);\n        }\n      },\n    }),\n\n    likePost: builder.mutation({\n      query: ({\n        userKey, _id, title, postAuthor\n      }) => ({\n        url: \"/discover/like\",\n        method: \"PATCH\",\n        headers: { userKey },\n        body: {\n          _id,\n          title,\n          userName: postAuthor,\n        },\n        responseHandler: (response) => response.text(),\n      }),\n      async onQueryStarted(\n        {\n          userKey, _id, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled },\n      ) {\n        const updateFunction = (draft) => {\n          const post = postsSelectors.selectById(draft, _id);\n          // Use updateOne to update the post with the given ID\n          postsAdapter.updateOne(draft, {\n            id: _id,\n            changes: {\n              numLikes: post.hasLiked ? post.numLikes - 1 : post.numLikes + 1,\n              hasLiked: !post.hasLiked,\n            },\n          });\n        };\n\n        if (searchTerm || tag) {\n          var searchPatchResult = dispatch(\n            discoverApiSlice.util.updateQueryData(\n              \"getDiscoverPosts\",\n              {\n                userKey, pageNumber: 1, userName, searchTerm, tag\n              },\n              updateFunction,\n            ),\n          );\n        }\n        const patchResult = dispatch(\n          discoverApiSlice.util.updateQueryData(\n            \"getDiscoverPosts\",\n            { userKey, pageNumber: 1, userName },\n            updateFunction,\n          ),\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          if (searchPatchResult) {\n            searchPatchResult.undo();\n          }\n          patchResult.undo();\n        }\n      },\n    }),\n\n    addComment: builder.mutation({\n      query: ({ userKey, _id, text }) => ({\n        url: \"/discover/addComment\",\n        method: \"POST\",\n        headers: { userKey },\n        body: {\n          _id,\n          text,\n        },\n        responseHandler: (response) => response.text(),\n      }),\n\n      async onQueryStarted(\n        {\n          userKey, _id, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled },\n      ) {\n        try {\n          await queryFulfilled;\n\n          // Call getPostById to update the post in state\n          dispatch(\n            discoverApiSlice.endpoints.getPostById.initiate({\n              userKey,\n              postId: _id,\n              userName,\n              searchTerm,\n              tag,\n            }),\n          );\n        } catch (e) {\n          console.warn(\"Error Adding Comment To State\", e);\n        }\n      },\n    }),\n\n    likeComment: builder.mutation({\n      query: ({ userKey, postId, commentId }) => ({\n        url: \"/discover/likeComment\",\n        method: \"PATCH\",\n        headers: { userKey },\n        body: {\n          postId,\n          commentId,\n        },\n        responseHandler: (response) => response.text(),\n      }),\n      async onQueryStarted(\n        {\n          userKey, postId, commentId, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled },\n      ) {\n        const updateFunction = (draft) => {\n          const post = postsSelectors.selectById(draft, postId);\n          // Use updateOne to update the post with the given ID\n          postsAdapter.updateOne(draft, {\n            id: postId,\n            changes: {\n              comments: post.comments.map((comment) => {\n                if (comment._id === commentId) {\n                  return {\n                    ...comment,\n                    numLikes: comment.hasLiked\n                      ? comment.numLikes - 1\n                      : comment.numLikes + 1,\n                    hasLiked: !comment.hasLiked,\n                  };\n                }\n                return comment;\n              }),\n            },\n          });\n        };\n        if (searchTerm || tag) {\n          var searchPatchResult = dispatch(\n            discoverApiSlice.util.updateQueryData(\n              \"getDiscoverPosts\",\n              {\n                userKey, pageNumber: 1, userName, searchTerm, tag\n              },\n              updateFunction,\n            ),\n          );\n        }\n\n        const patchResult = dispatch(\n          discoverApiSlice.util.updateQueryData(\n            \"getDiscoverPosts\",\n            { userKey, userName, pageNumber: 1 },\n            updateFunction,\n          ),\n        );\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n          if (searchPatchResult) {\n            searchPatchResult.undo();\n          }\n        }\n      },\n    }),\n\n    deleteComment: builder.mutation({\n      query: ({ userKey, postId, commentId }) => ({\n        url: \"/discover/deleteComment\",\n        method: \"DELETE\",\n        headers: { userKey },\n        body: {\n          postId,\n          commentId,\n        },\n        responseHandler: (response) => response.text(),\n      }),\n      async onQueryStarted(\n        {\n          userKey, postId, commentId, userName, searchTerm, tag\n        },\n        { dispatch, queryFulfilled },\n      ) {\n        const updateFunction = (draft) => {\n          const post = postsSelectors.selectById(draft, postId);\n          // Use updateOne to update the post with the given ID\n          postsAdapter.updateOne(draft, {\n            id: postId,\n            changes: {\n              comments: post.comments.filter(\n                (comment) => comment._id !== commentId,\n              ),\n            },\n          });\n        };\n        const patchResult = dispatch(\n          discoverApiSlice.util.updateQueryData(\n            \"getDiscoverPosts\",\n            {\n              userKey,\n              userName,\n              pageNumber: 1,\n            },\n            updateFunction,\n          ),\n        );\n\n        if (searchTerm || tag) {\n          var searchPatchResult = dispatch(\n            discoverApiSlice.util.updateQueryData(\n              \"getDiscoverPosts\",\n              {\n                userKey,\n                userName,\n                pageNumber: 1,\n              },\n              updateFunction,\n            ),\n          );\n        }\n\n        try {\n          await queryFulfilled;\n        } catch {\n          patchResult.undo();\n          if (searchPatchResult) {\n            searchPatchResult.undo();\n          }\n        }\n      },\n    }),\n  }),\n});\n\nconst postsSelectors = postsAdapter.getSelectors();\n\nexport { postsAdapter, postsSelectors };\n\nexport const {\n  useLazyGetDiscoverPostsQuery,\n  useCreateDiscoverPostMutation,\n  useDeleteDiscoverPostMutation,\n  useLikePostMutation,\n  useAddCommentMutation,\n  useLazyGetPostByIdQuery,\n  useLikeCommentMutation,\n  useDeleteCommentMutation,\n} = discoverApiSlice;\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport {\n  Text,\n  Input,\n  Select,\n  SelectItem,\n  IndexPath,\n  Layout,\n  Button,\n  Spinner,\n  useTheme,\n  CheckBox,\n  Divider,\n} from \"@ui-kitten/components\";\nimport React, { useState } from \"react\";\nimport {\n  StyleSheet,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  Keyboard,\n  ScrollView,\n  KeyboardAvoidingView,\n  Platform,\n} from \"react-native\";\nimport Toast from \"react-native-root-toast\";\n\nimport CreateEventPost from \"./CreateEventPost\";\nimport CreateImage from \"./CreateImagePost\";\nimport { selectDarkMode } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport {\n  tagIndices,\n  adminTagIndices,\n  postOptions,\n} from \"../../../constants/discover\";\nimport { showToast } from \"../../../functions\";\nimport { useCreateDiscoverPostMutation } from \"../../api/discoverApi\";\nimport { usersApiSlice } from \"../../api/usersApi\";\n\nexport function OptionalText() {\n  return (\n    <Text\n      style={{\n        alignSelf: \"flex-end\",\n        marginRight: 5,\n        color: \"grey\",\n        fontSize: 11,\n      }}\n    >\n      Optional\n    </Text>\n  );\n}\n\nexport default function CreatePost() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector((state) => state.appData.secure.userKey);\n  const {\n    data: { userName, permissionLevel },\n  } = usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n  const [discoverPostInputs, setDiscoverPostInputs] = useState(null);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [date, setDate] = useState(new Date());\n  const [selectedTagIndex, setSelectedTagIndex] = useState<IndexPath[]>([]);\n  const [selectedPostTypeIndex, setSelectedPostTypeIndex] = useState(\n    new IndexPath(0),\n  );\n  const [error, setError] = useState(null);\n  const [isEmojiShown, setIsEmojiShown] = useState(false);\n\n  const [createDiscoverPost, { isLoading }] = useCreateDiscoverPostMutation();\n\n  const tagArray = permissionLevel === \"admin\" ? adminTagIndices : tagIndices;\n\n  const submitEvent = async (tags: string[]) => {\n    // Validate date and time\n    if (date < new Date()) {\n      setError(\"Date must be in the future\");\n      return;\n    }\n\n    if (startTime > endTime) {\n      setError(\"Start time must be before end time\");\n      return;\n    }\n\n    const formdata = new FormData();\n    formdata.append(\"type\", \"contentEvent\");\n    formdata.append(\"title\", discoverPostInputs.title);\n    formdata.append(\"location\", discoverPostInputs.location);\n    formdata.append(\"date\", date.toISOString());\n    formdata.append(\"startTime\", startTime.toISOString());\n    formdata.append(\"endTime\", endTime.toISOString());\n\n    // Optional fields\n    if (discoverPostInputs.contentUrl) formdata.append(\"contentUrl\", discoverPostInputs.contentUrl);\n    if (discoverPostInputs.host) formdata.append(\"host\", discoverPostInputs.host);\n    if (discoverPostInputs.description) formdata.append(\"contentText\", discoverPostInputs.description);\n    if (discoverPostInputs.contentImage) {\n      formdata.append(\"picture\", {\n        uri: discoverPostInputs.contentImage.uri,\n        name: \"discoverImage\",\n        type: \"image/jpg\",\n      } as any);\n    }\n\n    tags.forEach((tag) => {\n      formdata.append(\"tags\", tag);\n    });\n\n    try {\n      await createDiscoverPost({\n        type: \"contentEvent\",\n        userKey,\n        userName,\n        postBody: formdata,\n      }).unwrap();\n\n      showToast(\"Posted Successfully!\", theme[\"color-success-500\"]);\n\n      setDiscoverPostInputs(null);\n      setSelectedTagIndex([]);\n      setError(null);\n    } catch (e) {\n      console.warn(\"Couldn't post image\", e);\n      showToast(\"Post failed to send.\", theme[\"color-warning-500\"]);\n    }\n  };\n\n  const submitImage = async (tags: string[]) => {\n    const formdata = new FormData();\n    formdata.append(\"title\", discoverPostInputs.title);\n    formdata.append(\"type\", \"contentImage\");\n    formdata.append(\"picture\", {\n      uri: discoverPostInputs.contentImage.uri,\n      name: \"discoverImage\",\n      type: \"image/jpg\",\n    } as any);\n    tags.forEach((tag) => {\n      formdata.append(\"tags\", tag);\n    });\n\n    try {\n      await createDiscoverPost({\n        type: \"contentImage\",\n        userKey,\n        userName,\n        postBody: formdata,\n      }).unwrap();\n\n      showToast(\"Posted Successfully!\", theme[\"color-success-500\"]);\n\n      setDiscoverPostInputs(null);\n      setSelectedTagIndex([]);\n      setError(null);\n    } catch (e) {\n      console.warn(\"Couldn't post image\", e);\n      showToast(\"Post failed to send.\", theme[\"color-warning-500\"]);\n    }\n  };\n\n  const onSubmit = async () => {\n    //\n    // Validate Input\n    //\n    if (\n      (selectedPostTypeIndex.row === 1\n        && (!discoverPostInputs\n          || !discoverPostInputs.title\n          || !discoverPostInputs.contentText))\n      || (selectedPostTypeIndex.row === 2\n        && (!discoverPostInputs\n          || !discoverPostInputs.title\n          || !discoverPostInputs.contentUrl))\n      || (selectedPostTypeIndex.row === 0\n        && (!discoverPostInputs\n          || !discoverPostInputs.title\n          || !discoverPostInputs.contentImage))\n      || (selectedPostTypeIndex.row === 3\n        && (!discoverPostInputs\n          || !discoverPostInputs.title\n          || !discoverPostInputs.location\n          || !date\n          || !startTime\n          || !endTime))\n    ) {\n      console.log(\"onsubmit error\", discoverPostInputs);\n      setError(\"Please Fill in All Fields\");\n      return;\n    }\n\n    //\n    // Submit Post\n    //\n\n    const tags = selectedTagIndex.map((index) => tagArray[index.row]);\n\n    // Special Case for Image Post\n    if (selectedPostTypeIndex.row === 0) {\n      submitImage(tags);\n      return;\n    }\n\n    // Special Case for Event Post\n    if (selectedPostTypeIndex.row === 3) {\n      submitEvent(tags);\n      return;\n    }\n\n    let type = \"\";\n    if (selectedPostTypeIndex.row === 1) {\n      type = \"contentText\";\n    } else if (selectedPostTypeIndex.row === 2) {\n      type = \"contentUrl\";\n    }\n    try {\n      await createDiscoverPost({\n        type,\n        userKey,\n        userName,\n        tags,\n        content: discoverPostInputs[type],\n        title: discoverPostInputs.title,\n        emoji: discoverPostInputs.emoji,\n      }).unwrap();\n\n      const toast = Toast.show(\"Posted Successfully!\", {\n        duration: Toast.durations.LONG,\n        opacity: 1,\n        position: -100,\n        backgroundColor: theme[\"color-success-500\"],\n        shadow: false,\n      });\n\n      setTimeout(() => {\n        Toast.hide(toast);\n      }, 7000);\n\n      setDiscoverPostInputs(null);\n      setSelectedTagIndex([]);\n      setError(null);\n    } catch (e) {\n      const toast = Toast.show(\"Post failed to send.\", {\n        duration: Toast.durations.LONG,\n        opacity: 1,\n        position: -100,\n        backgroundColor: theme[\"color-warning-500\"],\n        shadow: false,\n      });\n\n      setTimeout(() => {\n        Toast.hide(toast);\n      }, 4000);\n    }\n  };\n\n  function TagInput() {\n    const groupedData = selectedTagIndex.map((index) => {\n      return tagArray[index.row];\n    });\n    return (\n      <Layout>\n        <Select\n          label=\"Tags\"\n          multiSelect\n          value={groupedData.join(\", \")}\n          placeholder=\"Select Tags\"\n          selectedIndex={selectedTagIndex}\n          onSelect={(index: IndexPath[]) => {\n            setSelectedTagIndex(index);\n          }}\n          style={styles.input}\n        >\n          {tagArray.map((title, i) => (\n            <SelectItem title={title} key={i} />\n          ))}\n        </Select>\n        <OptionalText />\n      </Layout>\n    );\n  }\n\n  const renderPostOptions = () => {\n    // Text\n    if (selectedPostTypeIndex.row === 1) {\n      return (\n        <>\n          <Layout\n            style={{\n              flexDirection: \"row\",\n              justifyContent: \"space-evenly\",\n              alignItems: \"center\",\n              marginTop: 15,\n            }}\n          >\n            {/* <EmojiToggle /> */}\n\n            <Input\n              placeholder=\"Post Title\"\n              onFocus={() => {\n                setIsEmojiShown(false);\n              }}\n              value={discoverPostInputs?.title ? discoverPostInputs.title : \"\"}\n              style={{ ...styles.input, flex: 5 }}\n              onChangeText={(newText) => {\n                setDiscoverPostInputs({\n                  ...discoverPostInputs,\n                  title: newText,\n                });\n              }}\n            />\n          </Layout>\n          {TagInput()}\n          <Input\n            multiline\n            placeholder=\"Post Body\"\n            onFocus={() => {\n              setIsEmojiShown(false);\n            }}\n            textStyle={{ minHeight: 100 }}\n            style={{ ...styles.input, alignSelf: \"center\", width: \"100%\" }}\n            value={\n              discoverPostInputs?.contentText\n                ? discoverPostInputs.contentText\n                : \"\"\n            }\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                contentText: newText,\n              });\n            }}\n          />\n        </>\n      );\n    } if (selectedPostTypeIndex.row === 2) {\n      // LINK\n      return (\n        <>\n          <Layout\n            style={{\n              flexDirection: \"row\",\n              justifyContent: \"space-evenly\",\n              alignItems: \"center\",\n              marginTop: 15,\n            }}\n          >\n            {/* <EmojiToggle /> */}\n            <Input\n              placeholder=\"Post Title\"\n              onFocus={() => {\n                setIsEmojiShown(false);\n              }}\n              value={discoverPostInputs?.title ? discoverPostInputs.title : \"\"}\n              style={{ ...styles.input, flex: 5 }}\n              onChangeText={(newText) => {\n                setDiscoverPostInputs({\n                  ...discoverPostInputs,\n                  title: newText,\n                });\n              }}\n            />\n          </Layout>\n\n          <Input\n            placeholder=\"Post Link\"\n            style={styles.input}\n            onFocus={() => {\n              setIsEmojiShown(false);\n            }}\n            value={\n              discoverPostInputs?.contentUrl\n                ? discoverPostInputs.contentUrl\n                : \"\"\n            }\n            onChangeText={(newText) => {\n              setDiscoverPostInputs({\n                ...discoverPostInputs,\n                contentUrl: newText,\n              });\n            }}\n          />\n          {/* {PostTypeInput} */}\n          {TagInput()}\n        </>\n      );\n    } if (selectedPostTypeIndex.row === 0) {\n      // IMAGE\n      return (\n        <CreateImage\n          discoverPostInputs={discoverPostInputs}\n          setDiscoverPostInputs={setDiscoverPostInputs}\n          TagInput={TagInput}\n        />\n      );\n    } if (selectedPostTypeIndex.row === 3) {\n      // EVENT\n      return (\n        <CreateEventPost\n          discoverPostInputs={discoverPostInputs}\n          setDiscoverPostInputs={setDiscoverPostInputs}\n          TagInput={TagInput}\n          startTime={startTime}\n          setStartTime={setStartTime}\n          endTime={endTime}\n          setEndTime={setEndTime}\n          date={date}\n          setDate={setDate}\n        />\n      );\n    }\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <KeyboardAvoidingView\n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        style={{ flex: 1 }}\n      >\n        <ScrollView style={{ flex: 1 }}>\n          <TouchableWithoutFeedback\n            style={{ flex: 1 }}\n            onPress={() => {\n              Keyboard.dismiss();\n            }}\n          >\n            <Layout\n              style={{ flex: 1, marginBottom: 100, marginHorizontal: 16 }}\n            >\n              <Select\n                status=\"success\"\n                label=\"Select Post Type\"\n                value={postOptions[selectedPostTypeIndex.row]}\n                selectedIndex={selectedPostTypeIndex}\n                onSelect={(index: IndexPath) => {\n                  setSelectedPostTypeIndex(index);\n                  setSelectedTagIndex([]);\n                  setDiscoverPostInputs(null);\n                  setError(null);\n                  setIsEmojiShown(false);\n                }}\n                style={styles.input}\n              >\n                <SelectItem\n                  title=\"Image Post\"\n                  accessoryLeft={(\n                    <FontAwesome5\n                      name=\"image\"\n                      size={17}\n                      color={darkMode ? \"#fff\" : \"#000\"}\n                    />\n                  )}\n                />\n                <SelectItem\n                  title=\"Text Post\"\n                  accessoryLeft={(\n                    <FontAwesome5\n                      name=\"file-alt\"\n                      size={17}\n                      color={darkMode ? \"#fff\" : \"#000\"}\n                    />\n                  )}\n                />\n                <SelectItem\n                  title=\"Link\"\n                  accessoryLeft={(\n                    <FontAwesome5\n                      name=\"link\"\n                      size={17}\n                      color={darkMode ? \"#fff\" : \"#000\"}\n                    />\n                  )}\n                />\n                <SelectItem\n                  title=\"Event\"\n                  accessoryLeft={(\n                    <FontAwesome5\n                      name=\"calendar-alt\"\n                      size={17}\n                      color={darkMode ? \"#fff\" : \"#000\"}\n                    />\n                  )}\n                />\n              </Select>\n\n              <Divider />\n              {renderPostOptions()}\n              {error && (\n                <Layout>\n                  <Text\n                    style={{\n                      textAlign: \"center\",\n                      color: \"red\",\n                      fontStyle: \"italic\",\n                    }}\n                  >\n                    {error}\n                  </Text>\n                </Layout>\n              )}\n              {!isEmojiShown && (\n                <Button\n                  style={styles.input}\n                  onPress={onSubmit}\n                  disabled={isLoading}\n                >\n                  Submit\n                </Button>\n              )}\n            </Layout>\n          </TouchableWithoutFeedback>\n        </ScrollView>\n      </KeyboardAvoidingView>\n      {isLoading && (\n        <Layout\n          style={{\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            width: \"100%\",\n            height: \"100%\",\n            position: \"absolute\",\n            backgroundColor: \"black\",\n            flex: 1,\n            opacity: 0.3,\n          }}\n        >\n          <Spinner size=\"medium\" />\n        </Layout>\n      )}\n    </Layout>\n  );\n}\n\nconst styles = StyleSheet.create({\n  input: {\n    marginVertical: 5,\n  },\n});\n","import { FontAwesome } from \"@expo/vector-icons\";\nimport { Layout, Text, useTheme } from \"@ui-kitten/components\";\nimport React from \"react\";\nimport { TouchableOpacity, Platform, UIManager } from \"react-native\";\n\nimport { selectDarkMode, selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport withPreventDoubleClick from \"../../components/withPreventDoubleClick\";\nimport {\n  discoverApiSlice,\n  postsAdapter,\n  postsSelectors,\n  useLikePostMutation,\n} from \"../api/discoverApi\";\nimport { usersApiSlice } from \"../api/usersApi\";\n\nconst DebounceTouchable = withPreventDoubleClick(TouchableOpacity, 600);\n\nexport default function BottomBar({\n  tags,\n  _id,\n  commentIconShown = true,\n  searchTerm = undefined,\n  searchedTag = undefined,\n}) {\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const theme = useTheme();\n\n  const { data: userData } = usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n  const [likePost] = useLikePostMutation();\n\n  const post = discoverApiSlice.endpoints.getDiscoverPosts.useQueryState(\n    {\n      pageNumber: 1,\n      userKey,\n      userName: userData.userName,\n      searchTerm,\n      tag: searchedTag,\n    },\n    {\n      selectFromResult: (result) => postsSelectors.selectById(\n        result.data ?? postsAdapter.getInitialState(),\n        _id,\n      ),\n    },\n  );\n\n  const onPressLike = async () => {\n    if (!post) return;\n    try {\n      await likePost({\n        userKey,\n        _id,\n        title: post.title,\n        postAuthor: post.userName,\n        userName: userData.userName,\n        searchTerm,\n        tag: searchedTag,\n      }).unwrap();\n    } catch (error) {\n      console.log(\"Error liking post:\", error);\n    }\n  };\n\n  return (\n    <Layout\n      style={{\n        width: \"100%\",\n        flexDirection: \"row\",\n        paddingVertical: 5,\n        paddingHorizontal: 15,\n      }}\n    >\n      <Layout\n        style={{\n          flexDirection: \"row\",\n          flexWrap: \"wrap\",\n          flex: 6,\n        }}\n      >\n        {/* tags */}\n        {tags.map((tag: string, index: number) => (\n          <Layout\n            key={index}\n            level=\"3\"\n            style={{\n              padding: 5,\n              borderRadius: 5,\n              marginRight: 5,\n              marginTop: 2,\n            }}\n          >\n            <Text style={{ fontSize: 12 }}>{tag}</Text>\n          </Layout>\n        ))}\n      </Layout>\n\n      {/* Icons */}\n      <Layout\n        style={{\n          flexDirection: \"row\",\n          flex: 2,\n          justifyContent: \"space-evenly\",\n          alignItems: \"center\",\n        }}\n      >\n        <FontAwesome\n          style={{ flex: 2, opacity: commentIconShown ? 1 : 0 }}\n          name=\"comments-o\"\n          size={20}\n          color={darkMode ? \"#fff\" : \"#000\"}\n        />\n        {/* Likes */}\n        {/* @ts-ignore */}\n        <DebounceTouchable\n          style={{\n            flexDirection: \"row\",\n            flex: 3,\n            justifyContent: \"space-evenly\",\n            alignItems: \"center\",\n          }}\n          onPress={onPressLike}\n        >\n          <Text\n            style={{\n              fontSize: 15,\n              paddingTop: 1,\n            }}\n          >\n            {post?.numLikes}\n          </Text>\n          <FontAwesome\n            style={{ alignSelf: \"center\" }}\n            size={17}\n            color={\n              post?.hasLiked\n                ? theme[\"color-primary-500\"]\n                : darkMode\n                  ? \"#fff\"\n                  : \"#000\"\n            }\n            name={post?.hasLiked ? \"heart\" : \"heart-o\"}\n          />\n        </DebounceTouchable>\n      </Layout>\n      {/* @ts-ignore */}\n    </Layout>\n  );\n}\n","import { debounce } from \"lodash\";\nimport React from \"react\";\n\nexport default function withPreventDoubleClick(WrappedComponent, time = 300) {\n  class PreventDoubleClick extends React.PureComponent {\n    debouncedOnPress = () => {\n      this.props.onPress && this.props.onPress();\n    };\n\n    onPress = debounce(this.debouncedOnPress, time, {\n      leading: true,\n      trailing: false,\n    });\n\n    render() {\n      return <WrappedComponent {...this.props} onPress={this.onPress} />;\n    }\n  }\n\n  PreventDoubleClick.displayName = `withPreventDoubleClick(${\n    WrappedComponent.displayName || WrappedComponent.name\n  })`;\n  return PreventDoubleClick;\n}\n","import React from \"react\";\nimport { TouchableWithoutFeedback } from \"react-native\";\n\nexport default class DoubleTap extends React.Component {\n  static defaultProps = {\n    delay: 300,\n    onDoubleTap: () => {},\n    children: null,\n  };\n\n  lastTap = null;\n\n  // https://gist.github.com/brunotavares/3c9a373ba5cd1b4ff28b\n  handleDoubleTap = () => {\n    const now = Date.now();\n    if (this.lastTap && now - this.lastTap < this.props.delay) {\n      this.props.onDoubleTap();\n    } else {\n      this.lastTap = now;\n    }\n  };\n\n  render() {\n    return (\n      <TouchableWithoutFeedback onPress={this.handleDoubleTap}>\n        {this.props.children}\n      </TouchableWithoutFeedback>\n    );\n  }\n}\n","import { FontAwesome } from \"@expo/vector-icons\";\nimport { useTheme } from \"@ui-kitten/components\";\nimport {\n  forwardRef, useImperativeHandle, useRef, useState\n} from \"react\";\nimport { Animated, Easing } from \"react-native\";\n\nexport default forwardRef(\n  ({ style, iconStyle }: { style: object; iconStyle?: object }, ref) => {\n    useImperativeHandle(ref, () => ({\n      animate,\n    }));\n\n    const opacityAnim = useRef(new Animated.Value(0)).current;\n    const scaleAnim = useRef(new Animated.Value(1)).current;\n    const [heartRotation, setHeartRotation] = useState(\"0deg\");\n\n    const pickRandomDegree = () => {\n      const options = [\"0deg\", \"15deg\", \"-15deg\"];\n      return options[Math.floor(Math.random() * options.length)];\n    };\n\n    const animate = () => {\n      // animation: shrink quickly with bounce, opacity 0 - 1. Stop for a moment. Increase in size. Opacity 1-0\n      setHeartRotation(pickRandomDegree());\n\n      scaleAnim.setValue(1);\n      opacityAnim.setValue(0);\n\n      Animated.parallel([\n        Animated.sequence([\n          Animated.timing(opacityAnim, {\n            toValue: 1,\n            duration: 200,\n            useNativeDriver: true,\n          }),\n          Animated.timing(opacityAnim, {\n            toValue: 1,\n            duration: 300,\n            useNativeDriver: true,\n          }),\n          Animated.timing(opacityAnim, {\n            toValue: 0,\n            duration: 100,\n            useNativeDriver: true,\n          }),\n        ]),,\n        Animated.sequence([\n          Animated.timing(scaleAnim, {\n            toValue: 0.8,\n            easing: Easing.bounce,\n            duration: 200,\n            useNativeDriver: true,\n          }),\n          Animated.timing(scaleAnim, {\n            toValue: 0.8,\n            duration: 300,\n            useNativeDriver: true,\n          }),\n          Animated.timing(scaleAnim, {\n            toValue: 1.2,\n            duration: 100,\n            useNativeDriver: true,\n          }),\n        ]),\n      ]).start();\n    };\n\n    return (\n      <Animated.View\n        style={{\n          ...style,\n          opacity: opacityAnim,\n          transform: [{ scale: scaleAnim }],\n        }}\n      >\n        <FontAwesome\n          name=\"heart\"\n          size={110}\n          style={{ transform: [{ rotate: heartRotation }], ...iconStyle }}\n        />\n      </Animated.View>\n    );\n  },\n);\n","import { Layout, useTheme } from \"@ui-kitten/components\";\nimport { useRef } from \"react\";\nimport { Dimensions, Image } from \"react-native\";\n\nimport { selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport DoubleTap from \"../../components/DoubleTap\";\nimport DoubleTapHeart from \"../../components/DoubleTapHeart\";\nimport { MAX_WIDTH_WEB } from \"../../constants/discover\";\nimport { getImageUrl } from \"../../functions\";\nimport { useLikePostMutation } from \"../api/discoverApi\";\n\nconst windowWidth = Dimensions.get(\"window\").width;\n\nexport default function ImageComponent({ imageId, hasLiked, apiInfo }) {\n  const theme = useTheme();\n  const [likePost] = useLikePostMutation();\n  const userKey = useAppSelector(selectUserKey);\n  const likeRef = useRef(null);\n\n  const handlePressLike = async () => {\n    likeRef.current?.animate();\n\n    if (hasLiked) {\n      return;\n    }\n    try {\n      await likePost({\n        userKey,\n        tag: apiInfo.searchedTag,\n        ...apiInfo,\n      }).unwrap();\n    } catch (error) {\n      console.log(\"Error liking post:\", error);\n    }\n  };\n\n  return (\n    <DoubleTap delay={1200} onDoubleTap={handlePressLike}>\n      <Layout style={{ flex: 1, alignItems: \"center\" }}>\n        <Image\n          source={{\n            uri: getImageUrl(imageId),\n          }}\n          style={{\n            borderRadius: 5,\n            width: windowWidth * 0.9,\n            height: windowWidth * 0.9,\n            maxHeight: MAX_WIDTH_WEB,\n            maxWidth: MAX_WIDTH_WEB,\n            marginBottom: 10,\n            resizeMode: \"contain\",\n          }}\n        />\n        <DoubleTapHeart\n          style={{\n            position: \"absolute\",\n            top: \"35%\",\n            right: \"30%\",\n            shadowColor: \"#000\",\n            shadowOffset: {\n              width: 0,\n              height: 3,\n            },\n            shadowOpacity: 0.29,\n            shadowRadius: 4.65,\n\n            elevation: 7,\n          }}\n          ref={likeRef}\n          iconStyle={{ color: theme[\"color-primary-500\"] }}\n        />\n      </Layout>\n    </DoubleTap>\n  );\n}\n","import { A } from \"@expo/html-elements\";\nimport { FontAwesome5 } from \"@expo/vector-icons\";\nimport { Divider, Layout, Text } from \"@ui-kitten/components\";\nimport { useMemo } from \"react\";\nimport { TouchableOpacity, Dimensions } from \"react-native\";\n\nimport BottomBar from \"./BottomBar\";\nimport ImageComponent from \"./ImageComponent\";\nimport { MAX_WIDTH_WEB } from \"../../constants/discover\";\nimport { FormatDate, FormatTimeRange } from \"../../functions\";\n\nconst windowWidth = Dimensions.get(\"window\").width;\n\ninterface EventCardProps {\n  title: string;\n  location: string;\n  date: string;\n  startTime: string;\n  endTime: string;\n  _id: string;\n  postAuthor: string;\n  userName: string;\n  hasLiked: boolean;\n  searchTerm?: string;\n  searchedTag?: string;\n  tags?: string[];\n  contentURL?: string;\n  contentText?: string;\n  contentImage?: string;\n  host?: string;\n  truncated?: boolean;\n}\n\nexport default function EventBody({\n  title,\n  location,\n  date,\n  startTime,\n  endTime,\n  contentURL,\n  contentText,\n  contentImage,\n  host,\n  hasLiked,\n  _id,\n  searchTerm,\n  searchedTag,\n  postAuthor,\n  userName,\n  truncated = true,\n}: EventCardProps) {\n  const eventInfo = useMemo(\n    () => [\n      {\n        title: \"Location\",\n        value: location,\n      },\n      {\n        title: \"Date\",\n        value: FormatDate(date),\n      },\n      {\n        title: \"Time\",\n        value: FormatTimeRange(startTime, endTime),\n      },\n      {\n        title: \"Host\",\n        value: host,\n      },\n      {\n        title: \"Description\",\n        value: contentText,\n      },\n    ],\n    [location, date, startTime, endTime, host, contentURL, contentText],\n  );\n\n  const renderUrl = (link: string) => {\n    return (\n      <Layout\n        style={{\n          flexDirection: \"row\",\n          width: windowWidth * 0.9,\n          maxWidth: MAX_WIDTH_WEB,\n          paddingVertical: 5,\n        }}\n      >\n        <Text category=\"s1\">Link: </Text>\n        {truncated ? (\n          <Text category=\"p1\">\n            {link.length > 30 ? `${link.slice(0, 30)}...` : link}\n          </Text>\n        ) : (\n          <A>\n            <Text>{link}</Text>\n          </A>\n        )}\n      </Layout>\n    );\n  };\n\n  return (\n    <Layout style={{ flex: 1, alignItems: \"center\" }}>\n      {contentImage ? (\n        <ImageComponent\n          apiInfo={{\n            _id,\n            title,\n            postAuthor,\n            userName,\n            searchTerm,\n            searchedTag,\n          }}\n          imageId={contentImage}\n          hasLiked={hasLiked}\n        />\n      ) : (\n        <Divider />\n      )}\n\n      {/* Event Info  */}\n      {eventInfo.map((info, index) => {\n        if (info.value) {\n          return (\n            <Layout\n              key={index}\n              style={{\n                flexDirection: \"row\",\n                width: windowWidth * 0.9,\n                maxWidth: MAX_WIDTH_WEB,\n                paddingVertical: 5,\n              }}\n            >\n              <Text category=\"s1\">\n                {info.title}\n                {`: `}\n                <Text category=\"p1\">\n                  {truncated\n                    ? info.value.length > 30\n                      ? `${info.value.slice(0, 30)}...`\n                      : info.value\n                    : info.value}\n                </Text>\n              </Text>\n            </Layout>\n          );\n        }\n      })}\n\n      {contentURL ? renderUrl(contentURL) : null}\n    </Layout>\n  );\n}\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport { useFocusEffect, useIsFocused } from \"@react-navigation/native\";\nimport { Divider, Layout, Text } from \"@ui-kitten/components\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { TouchableOpacity, Dimensions } from \"react-native\";\nimport Toast from \"react-native-root-toast\";\n\nimport { selectDarkMode, selectUserKey } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport ModalContainer from \"../../../components/ModalContainer\";\nimport { MAX_WIDTH_WEB } from \"../../../constants/discover\";\nimport { FormatDate, FormatTimeRange } from \"../../../functions\";\nimport { useEditUserMutation, useGetUserInfoQuery } from \"../../api/usersApi\";\nimport BottomBar from \"../BottomBar\";\nimport EventBody from \"../EventBody\";\nimport ImageComponent from \"../ImageComponent\";\n\nconst windowWidth = Dimensions.get(\"window\").width;\n\ninterface EventCardProps {\n  title: string;\n  location: string;\n  date: string;\n  startTime: string;\n  endTime: string;\n  pinnedIcon: JSX.Element;\n  _id: string;\n  postAuthor: string;\n  userName: string;\n  hasLiked: boolean;\n  navigation: any;\n  searchTerm?: string;\n  searchedTag?: string;\n  tags?: string[];\n  contentURL?: string;\n  contentText?: string;\n  contentImage?: string;\n  host?: string;\n}\n\nexport default function EventCard({\n  title,\n  location,\n  date,\n  startTime,\n  endTime,\n  pinnedIcon,\n  tags,\n  contentURL,\n  contentText,\n  contentImage,\n  host,\n  hasLiked,\n  _id,\n  searchTerm,\n  searchedTag,\n  postAuthor,\n  userName,\n  navigation,\n}: EventCardProps) {\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(useAppSelector(selectUserKey));\n  const [eventPopUp, setEventPopUp] = useState(false);\n  const [isAdded, setIsAdded] = useState(false);\n  const [editUser] = useEditUserMutation();\n\n  useEffect(() => {\n    setIsAdded(\n      userData.customEvents.some((customEvent) => {\n        return (\n          customEvent.name === title\n          && customEvent.startTime == startTime\n          && customEvent.endTime == endTime\n          && customEvent.date == date\n        );\n      }),\n    );\n  }, [useIsFocused()]); // this forces just the button component to re-render when the focus changes\n\n  function handleEventSyncWithServer(isAdd: boolean) {\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify(\n        isAdd\n          ? {\n            addCustomEvent: {\n              name: title,\n              startTime: new Date(startTime).toTimeString().slice(0, 5),\n              endTime: new Date(endTime).toTimeString().slice(0, 5),\n              days: [],\n              date,\n            },\n          }\n          : {\n            removeCustomEvent: {\n              name: title,\n              startTime: new Date(startTime).toTimeString().slice(0, 5),\n              endTime: new Date(endTime).toTimeString().slice(0, 5),\n              days: [],\n              date,\n            },\n          },\n      ),\n    })\n      .unwrap()\n      .then(async () => {\n        setIsAdded(isAdd);\n      })\n      .catch(() => {\n        Toast.show(\"Failed to add event.\\nPlease try again later\", {\n          duration: Toast.durations.LONG,\n          opacity: 1,\n          position: -100,\n          backgroundColor: \"grey\",\n          shadow: false,\n        });\n      });\n  }\n\n  function toggleAdditionOfEvent() {\n    handleEventSyncWithServer(!isAdded);\n  }\n\n  return (\n    <Layout>\n      {pinnedIcon}\n      <Layout style={{ flex: 1, alignItems: \"center\" }}>\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate(\"SinglePost\", { _id, searchTerm, searchedTag });\n          }}\n          activeOpacity={0.9}\n          style={{\n            flex: 1,\n            alignItems: \"center\",\n            paddingVertical: 10,\n          }}\n        >\n          <Layout\n            style={{\n              width: windowWidth * 0.9,\n              maxWidth: MAX_WIDTH_WEB,\n              paddingVertical: 10,\n              flexDirection: \"row\",\n            }}\n          >\n            <Text style={{ fontSize: 20 }}>{title}</Text>\n            <TouchableOpacity\n              style={{ alignSelf: \"flex-end\", marginLeft: \"auto\" }}\n              onPress={() => {\n                toggleAdditionOfEvent();\n              }}\n            >\n              <FontAwesome5\n                name={isAdded ? \"times\" : \"plus\"}\n                size={23}\n                color={darkMode ? \"white\" : \"black\"}\n              />\n            </TouchableOpacity>\n          </Layout>\n\n          <EventBody\n            contentURL={contentURL}\n            contentText={contentText}\n            contentImage={contentImage}\n            host={host}\n            title={title}\n            location={location}\n            date={date}\n            startTime={startTime}\n            endTime={endTime}\n            _id={_id}\n            postAuthor={postAuthor}\n            userName={userName}\n            hasLiked={hasLiked}\n          />\n\n          <BottomBar\n            tags={tags}\n            _id={_id}\n            searchTerm={searchTerm}\n            searchedTag={searchedTag}\n          />\n        </TouchableOpacity>\n      </Layout>\n    </Layout>\n  );\n}\n","import { Layout, Text } from \"@ui-kitten/components\";\nimport { useEffect, useRef } from \"react\";\nimport { TouchableOpacity, Image, Dimensions } from \"react-native\";\n\nimport { selectUserKey } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport DoubleTap from \"../../../components/DoubleTap\";\nimport DoubleTapHeart from \"../../../components/DoubleTapHeart\";\nimport { MAX_WIDTH_WEB } from \"../../../constants/discover\";\nimport { getImageUrl } from \"../../../functions\";\nimport { useLikePostMutation } from \"../../api/discoverApi\";\nimport BottomBar from \"../BottomBar\";\nimport ImageComponent from \"../ImageComponent\";\n\nconst windowWidth = Dimensions.get(\"window\").width;\n\nexport default function ImageCard({\n  title,\n  _id,\n  navigation,\n  imageId,\n  tags,\n  postAuthor,\n  userName,\n  searchTerm,\n  searchedTag,\n  pinnedIcon,\n  hasLiked,\n}) {\n  return (\n    <Layout>\n      {pinnedIcon}\n      <Layout style={{ flex: 1, alignItems: \"center\" }}>\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate(\"SinglePost\", { _id, searchTerm, searchedTag });\n          }}\n          activeOpacity={0.9}\n          style={{\n            flex: 1,\n            alignItems: \"center\",\n            paddingVertical: 10,\n          }}\n        >\n          <Layout\n            style={{\n              width: windowWidth * 0.9,\n              maxWidth: MAX_WIDTH_WEB,\n              paddingVertical: 10,\n            }}\n          >\n            <Text style={{ fontSize: 20 }}>{title}</Text>\n          </Layout>\n          <ImageComponent\n            apiInfo={{\n              _id,\n              title,\n              postAuthor,\n              userName,\n              searchTerm,\n              searchedTag,\n            }}\n            imageId={imageId}\n            hasLiked={hasLiked}\n          />\n\n          <BottomBar\n            tags={tags}\n            _id={_id}\n            searchTerm={searchTerm}\n            searchedTag={searchedTag}\n          />\n        </TouchableOpacity>\n      </Layout>\n    </Layout>\n  );\n}\n","import { Layout, Text } from \"@ui-kitten/components\";\nimport { useEffect, useState } from \"react\";\nimport {\n  Dimensions,\n  Image,\n  ImageBackground,\n  Platform,\n  StyleSheet,\n  TouchableHighlight,\n} from \"react-native\";\n\nimport becomeSponsor from \"../../../../assets/sponsorPage/become-sponsor.png\";\nimport { selectDarkMode } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\n\nconst windowWidth = Dimensions.get(\"window\").width;\n\nexport default function SponsorCard({ data, navigation }) {\n  const [imageLink, setImageLink] = useState({ uri: data.logo });\n  const webWidth = Dimensions.get(\"window\").width * 0.3;\n  const hasCoupon = !!data.coupons[0];\n\n  return (\n    <TouchableHighlight\n      style={{ flex: 1 }}\n      onPress={() => {\n        if (hasCoupon) {\n          navigation.navigate(\"SponsorPageDiscover\", { data });\n        }\n      }}\n    >\n      <Layout style={{ flex: 1 }}>\n        <Text category=\"label\" style={{ marginLeft: 20 }}>\n          Ad\n        </Text>\n\n        <Layout\n          style={{\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <Layout\n            style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}\n          >\n            <Image\n              source={imageLink}\n              onError={() => {\n                setImageLink(becomeSponsor);\n              }}\n              style={{\n                height: hasCoupon\n                  ? Platform.OS === \"web\"\n                    ? 200\n                    : windowWidth / 2 - 20\n                  : Platform.OS === \"web\"\n                    ? 200\n                    : windowWidth * 0.8,\n                width: hasCoupon\n                  ? Platform.OS === \"web\"\n                    ? \"20%\"\n                    : windowWidth / 2 - 20\n                  : Platform.OS === \"web\"\n                    ? \"20%\"\n                    : windowWidth * 0.8,\n                resizeMode: \"contain\",\n              }}\n            />\n            {imageLink?.uri && <Text>{data.sponsorName}</Text>}\n          </Layout>\n\n          {data.coupons[0] && imageLink?.uri && (\n            <Layout style={{ flex: 1, alignItems: \"center\" }}>\n              <ImageBackground\n                resizeMode=\"contain\"\n                source={require(\"../../../../assets/sponsorPage/coupon.png\")}\n                style={{\n                  width: windowWidth / 2 - 20,\n                  height: 200,\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <Text\n                  style={{\n                    fontSize: 13,\n                    paddingBottom: 7,\n                    paddingRight: 7,\n                    marginHorizontal: 25,\n                  }}\n                >\n                  {data.coupons[0].couponDescription}\n                </Text>\n              </ImageBackground>\n            </Layout>\n          )}\n        </Layout>\n      </Layout>\n    </TouchableHighlight>\n  );\n}\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport { Layout, ListItem, Text } from \"@ui-kitten/components\";\nimport { TouchableHighlight } from \"react-native\";\n\nimport BottomBar from \"../BottomBar\";\n\nexport default function TextCard({\n  navigation,\n  tags,\n  title,\n  body,\n  emoji,\n  _id,\n  searchTerm,\n  searchedTag,\n  pinnedIcon,\n  isUrl = false,\n}) {\n  const renderTextBody = () => {\n    const text = body;\n\n    if (text.indexOf(\"\\n\") > 10 && text.indexOf(\"\\n\") < 50) {\n      return `${text.split(\"\\n\")[0]}...`;\n    } if (text.length > 50) {\n      return `${text.substring(0, 50)}...`;\n    }\n    return text;\n\n  };\n\n  const renderUrl = () => {\n    return (\n      <Text style={{ color: \"grey\" }}>\n        <FontAwesome5 name=\"link\" />\n        {` `}\n        {body.length > 30 ? `${body.slice(0, 30)}...` : body}\n      </Text>\n    );\n  };\n\n  return (\n    <TouchableHighlight\n      onPress={() => {\n        navigation.navigate(\"SinglePost\", { _id, searchTerm, searchedTag });\n      }}\n    >\n      <Layout>\n        {pinnedIcon}\n\n        <ListItem\n          disabled\n          accessoryLeft={() => (\n            <Text style={{ fontSize: 35, marginRight: 15 }}>{emoji}</Text>\n          )}\n          style={{\n            paddingLeft: 15,\n            paddingTop: 25,\n            paddingBottom: 0,\n          }}\n          title={() => (\n            <Text style={{ fontSize: 20, paddingBottom: 5 }}>{title}</Text>\n          )}\n          description={() => (\n            <Text style={{ color: \"grey\" }}>\n              {isUrl ? renderUrl() : renderTextBody()}\n            </Text>\n          )}\n        />\n\n        <BottomBar\n          tags={tags}\n          _id={_id}\n          searchTerm={searchTerm}\n          searchedTag={searchedTag}\n        />\n      </Layout>\n    </TouchableHighlight>\n  );\n}\n","import { FontAwesome5, MaterialIcons } from \"@expo/vector-icons\";\nimport {\n  Button,\n  Divider,\n  Icon,\n  Layout,\n  List,\n  ListItem,\n  Spinner,\n  Text,\n  useTheme,\n} from \"@ui-kitten/components\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Keyboard, Platform, TouchableOpacity } from \"react-native\";\nimport Modal from \"react-native-modal\";\n\nimport EventCard from \"./Cards/EventCard\";\nimport ImageCard from \"./Cards/ImageCard\";\nimport SponsorCard from \"./Cards/SponsorCard\";\nimport TextCard from \"./Cards/TextCard\";\nimport { selectDarkMode, selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport { DiscoverPost } from \"../../app/types\";\nimport Header from \"../../components/Header\";\nimport {\n  discoverApiSlice,\n  postsAdapter,\n  postsSelectors,\n  useLazyGetDiscoverPostsQuery,\n} from \"../api/discoverApi\";\nimport { usersApiSlice } from \"../api/usersApi\";\n\nexport default function PostsList({\n  navigation,\n  tag,\n  searchTerm,\n  recentSearches,\n  handleRemoveRecentSearch,\n  handleClickRecentSearch,\n  route,\n}: {\n  navigation: any;\n  tag?: string;\n  searchTerm?: string;\n  recentSearches?: string[];\n  sponsor?: boolean;\n  handleRemoveRecentSearch?: (searchTerm: string) => void;\n  handleClickRecentSearch?: (searchTerm: string) => void;\n  route?: { params: { sponsor: boolean } };\n}) {\n  const theme = useTheme();\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n\n  const {\n    data: { userName },\n  } = usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n\n  const pageNumber = useRef(0);\n  const [fetchPosts, { isFetching, isLoading, isError }] = useLazyGetDiscoverPostsQuery();\n\n  const { posts, hasMorePages } = discoverApiSlice.endpoints.getDiscoverPosts.useQueryState(\n    {\n      pageNumber: 1, userKey, userName, tag, searchTerm\n    },\n    {\n      selectFromResult: (result) => {\n        return {\n          hasMorePages: result.data?.hasMorePages,\n          posts: postsSelectors.selectAll(\n            result.data ?? postsAdapter.getInitialState(),\n          ),\n        };\n      },\n    },\n  );\n\n  const fetchFirstPage = async () => {\n    pageNumber.current = 1;\n    await fetchPosts({\n      userKey,\n      pageNumber: pageNumber.current,\n      userName,\n      tag,\n      searchTerm,\n      // sponsor,\n    });\n  };\n\n  const fetchMorePosts = async () => {\n    if (!hasMorePages || isFetching) return;\n    pageNumber.current++;\n    await fetchPosts({\n      userKey,\n      pageNumber: pageNumber.current,\n      userName,\n      tag,\n      searchTerm,\n      // sponsor,\n    });\n  };\n\n  useEffect(() => {\n    fetchFirstPage();\n  }, [searchTerm, tag]);\n\n  const PinIcon = (\n    <Layout\n      style={{\n        flexDirection: \"row\",\n        marginBottom: 0,\n        marginTop: 10,\n        marginLeft: 10,\n      }}\n    >\n      <MaterialIcons\n        name=\"push-pin\"\n        size={20}\n        color={theme[\"color-primary-500\"]}\n      />\n      <Text style={{ color: theme[\"color-primary-500\"] }}>pinned</Text>\n    </Layout>\n  );\n\n  // Render Content\n\n  const renderItem = ({ item }: { item: DiscoverPost }) => {\n    const commonProps = {\n      title: item.title,\n      tags: item.tags,\n      _id: item._id,\n      postAuthor: item.userName,\n      navigation,\n      key: item._id,\n      searchTerm,\n      searchedTag: tag,\n      pinnedIcon: item.pinned ? PinIcon : null,\n    };\n\n    if (item.isSponsor) {\n      const sponsorProps = JSON.parse(item.contentText);\n      return <SponsorCard data={sponsorProps} navigation={navigation} />;\n    }\n\n    switch (item.type) {\n      case \"contentText\":\n        return (\n          <TextCard\n            {...commonProps}\n            body={item.contentText}\n            emoji={item.emoji}\n            isUrl={false}\n          />\n        );\n      case \"contentUrl\":\n        return (\n          <TextCard\n            {...commonProps}\n            body={item.contentUrl}\n            emoji={item.emoji}\n            isUrl\n          />\n        );\n      case \"contentImage\":\n        return (\n          <ImageCard\n            {...commonProps}\n            hasLiked={item.hasLiked}\n            imageId={item.contentImage}\n            postAuthor={item.userName}\n            userName={userName}\n          />\n        );\n      case \"contentEvent\":\n        return (\n          <EventCard\n            location={item.location}\n            date={item.date}\n            startTime={item.startTime}\n            postAuthor={item.userName}\n            userName={userName}\n            contentURL={item.contentUrl}\n            contentText={item.contentText}\n            contentImage={item.contentImage}\n            endTime={item.endTime}\n            hasLiked={item.hasLiked}\n            host={item.host}\n            {...commonProps}\n          />\n        );\n\n      default:\n        console.log(\"Tried to load an unknown post type:\", item?.type);\n        return null;\n    }\n  };\n\n  const renderRecentSearch = ({ item }: { item: string }) => {\n    return (\n      <ListItem\n        onPress={() => {\n          handleClickRecentSearch(item);\n          Keyboard.dismiss();\n        }}\n        style={{\n          paddingVertical: 10,\n          marginVertical: 0,\n          backgroundColor: \"transparent\",\n        }}\n        title={item}\n        accessoryLeft={() => (\n          <Icon\n            name=\"clock\"\n            style={{\n              height: 20,\n              color: theme[\"color-basic-400\"],\n              marginHorizontal: 10,\n            }}\n          />\n        )}\n        accessoryRight={(props) => (\n          <Button\n            appearance=\"ghost\"\n            onPress={() => handleRemoveRecentSearch(item)}\n            accessoryLeft={<Icon {...props} name=\"x\" pack=\"feather\" />}\n          />\n        )}\n      />\n    );\n  };\n\n  function FooterSpinner() {\n    if (isFetching) {\n      return (\n        <Layout style={{ alignItems: \"center\", paddingVertical: 10 }}>\n          <Spinner />\n        </Layout>\n      );\n    }\n  }\n\n  let content = <></>;\n  if (isLoading) {\n    content = (\n      <Layout style={{ marginTop: 20, alignItems: \"center\" }}>\n        <Spinner />\n      </Layout>\n    );\n  } else if (isError) {\n    content = (\n      <Layout style={{ alignItems: \"center\", marginTop: 20 }}>\n        <FontAwesome5\n          name=\"exclamation\"\n          size={50}\n          color={theme[\"color-danger-500\"]}\n        />\n        <Text style={{ textAlign: \"center\", fontSize: 20 }}>\n          Error loading posts\n        </Text>\n      </Layout>\n    );\n  } else if (posts.length === 0) {\n    content = (\n      <Layout style={{ alignItems: \"center\", marginTop: 20 }}>\n        <FontAwesome5\n          name=\"sad-tear\"\n          size={50}\n          color={theme[\"color-danger-500\"]}\n        />\n        <Text style={{ textAlign: \"center\", fontSize: 20 }}>\n          No posts found\n        </Text>\n      </Layout>\n    );\n  } else if (searchTerm === \"\" && tag === \"\") {\n    if (recentSearches?.length > 0) {\n      content = (\n        <Layout style={{ flex: 1 }}>\n          <List\n            keyboardShouldPersistTaps=\"handled\"\n            ListHeaderComponent={() => (\n              <Text\n                status=\"success\"\n                style={{ fontStyle: \"italic\", marginLeft: 20 }}\n              >\n                Recent Searches\n              </Text>\n            )}\n            data={Array.from(recentSearches)}\n            renderItem={renderRecentSearch}\n          />\n        </Layout>\n      );\n    } else {\n      content = (\n        <Layout style={{ flex: 1 }}>\n          <Layout style={{ marginTop: 30, justifyContent: \"center\" }}>\n            <Text style={{ textAlign: \"center\", fontSize: 20 }}>\n              Search for posts\n            </Text>\n            <Text\n              style={{\n                textAlign: \"center\",\n                fontSize: 16,\n                color: theme[\"color-basic-500\"],\n              }}\n            >\n              Search by title, tag, or college\n            </Text>\n          </Layout>\n        </Layout>\n      );\n    }\n  } else {\n    content = Platform.OS === \"web\" ? (\n      <LinearGradient\n        colors={\n            darkMode\n              ? [theme[\"color-basic-1100\"], theme[\"color-basic-1100\"]]\n              : [theme[\"color-primary-500\"], theme[\"color-success-500\"]]\n          }\n        style={{\n          width: \"100%\", margin: 0, alignItems: \"center\", flex: 1\n        }}\n        start={{ x: 0, y: 0 }}\n        end={{ x: 1, y: 0.4 }}\n      >\n        <List\n          contentContainerStyle={{\n            width: \"100%\",\n            alignSelf: \"center\",\n            paddingHorizontal: 10,\n          }}\n          onRefresh={fetchFirstPage}\n          refreshing={isLoading}\n          data={posts}\n          keyExtractor={(item) => item._id}\n          renderItem={renderItem}\n          onEndReachedThreshold={0.5}\n          onEndReached={fetchMorePosts}\n          ListFooterComponent={FooterSpinner}\n          showsVerticalScrollIndicator={false}\n          ItemSeparatorComponent={null}\n        />\n      </LinearGradient>\n    ) : (\n      <Layout style={{ flex: 1 }}>\n        <List\n          contentContainerStyle={{ width: \"100%\" }}\n          onRefresh={fetchFirstPage}\n          refreshing={isLoading}\n          data={posts}\n          keyExtractor={(item) => item._id}\n          renderItem={renderItem}\n          onEndReachedThreshold={0.5}\n          onEndReached={fetchMorePosts}\n          ListFooterComponent={FooterSpinner}\n          showsVerticalScrollIndicator={false}\n          ItemSeparatorComponent={Divider}\n        />\n      </Layout>\n    );\n  }\n\n  return <Layout style={{ flex: 1 }}>{content}</Layout>;\n}\n","import { Layout, Text } from \"@ui-kitten/components\";\nimport Constants from \"expo-constants\";\n\ntype HeaderProps = {\n  accessoryLeft?: keyof JSX.IntrinsicElements | JSX.Element;\n  accessoryRight?: keyof JSX.IntrinsicElements | JSX.Element;\n  center?: keyof JSX.IntrinsicElements | JSX.Element;\n  title: string;\n  level?: \"1\" | \"2\" | \"3\" | \"4\";\n};\n\nexport default function Header({\n  accessoryLeft,\n  accessoryRight,\n  title,\n  center,\n  level = \"1\",\n}: HeaderProps) {\n  return (\n    <Layout\n      level={level}\n      style={{\n        paddingTop: Constants.statusBarHeight + 10,\n        width: \"100%\",\n        justifyContent: \"space-between\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        paddingHorizontal: 20,\n      }}\n    >\n      <Layout level={level} style={{ flexDirection: \"row\" }}>\n        {accessoryLeft}\n        <Text style={{ marginLeft: 10, fontSize: 20, fontWeight: \"500\" }}>\n          {title}\n        </Text>\n      </Layout>\n      {center}\n\n      {accessoryRight}\n    </Layout>\n  );\n}\n","import {\n  Layout, Input, Button, Icon, useTheme\n} from \"@ui-kitten/components\";\nimport { useState } from \"react\";\nimport {\n  Keyboard,\n  TouchableOpacity,\n  LayoutAnimation,\n  TouchableWithoutFeedback,\n} from \"react-native\";\n\nimport { selectDarkMode } from \"../app/appDataSlice\";\nimport { useAppSelector } from \"../app/hooks\";\n\ntype SearchBarProps = {\n  onChangeText: (text: string) => void;\n  searchTerm: string;\n  placeholder?: string;\n  accessoryLeft?: any;\n  inputProps?: any;\n  inputStyle?: any;\n  inputRef?: any;\n  cancelButtonAction?: () => void;\n  onSubmitEditing?: () => void;\n  alwaysShowCancelButton?: boolean;\n  cancelButtonStatus?:\n    | \"basic\"\n    | \"primary\"\n    | \"success\"\n    | \"info\"\n    | \"warning\"\n    | \"danger\";\n};\n\nexport default function SearchBar({\n  onChangeText,\n  searchTerm,\n  accessoryLeft,\n  placeholder,\n  inputRef,\n  inputStyle,\n  inputProps,\n  cancelButtonAction = () => {},\n  onSubmitEditing = () => {},\n  cancelButtonStatus = \"warning\",\n  alwaysShowCancelButton = false,\n}: SearchBarProps) {\n  const [selected, setSelected] = useState(false);\n\n  const darkMode = useAppSelector(selectDarkMode);\n  const theme = useTheme();\n\n  const select = () => {\n    setSelected(true);\n    if (!alwaysShowCancelButton) {\n      LayoutAnimation.configureNext(\n        LayoutAnimation.create(100, \"linear\", \"scaleX\"),\n      );\n    }\n  };\n\n  const deselect = () => {\n    setSelected(false);\n    if (!alwaysShowCancelButton) {\n      LayoutAnimation.configureNext(\n        LayoutAnimation.create(100, \"linear\", \"opacity\"),\n      );\n    }\n  };\n\n  return (\n    <Layout\n      style={{\n        backgroundColor: \"transparent\",\n        flexDirection: \"row\",\n      }}\n    >\n      {accessoryLeft}\n\n      <Input\n        style={{\n          ...inputStyle,\n          borderRadius: 20,\n          flex: 1,\n          borderWidth: 1,\n          borderColor: darkMode\n            ? theme[\"color-basic-500\"]\n            : theme[\"color-basic-100\"],\n        }}\n        placeholderTextColor={theme[\"color-basic-500\"]}\n        accessoryRight={\n          selected && searchTerm.length > 0\n            ? (props) => (\n              <TouchableOpacity onPress={() => onChangeText(\"\")}>\n                <Icon {...props} name=\"times\" pack=\"fontAwesome\" />\n              </TouchableOpacity>\n            )\n            : null\n        }\n        onFocus={select}\n        onBlur={deselect}\n        placeholder={placeholder}\n        value={searchTerm}\n        onChangeText={(text) => {\n          onChangeText(text);\n        }}\n        onSubmitEditing={onSubmitEditing}\n        ref={inputRef}\n        autoCorrect={false}\n        {...inputProps}\n      />\n\n      {alwaysShowCancelButton || selected ? (\n        <Button\n          size=\"small\"\n          status={cancelButtonStatus}\n          appearance=\"ghost\"\n          onPress={() => {\n            Keyboard.dismiss();\n            cancelButtonAction();\n          }}\n        >\n          Cancel\n        </Button>\n      ) : null}\n    </Layout>\n  );\n}\n","import { Input, Layout, useTheme } from \"@ui-kitten/components\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useEffect, useRef, useState } from \"react\";\n\nimport PostsList from \"./PostsList\";\nimport {\n  selectSearchTerm,\n  selectSubmittedSearchTerm,\n  searchTermChanged,\n  searchTermSubmitted,\n  selectTag,\n  selectRecentSearches,\n  recentSearchTermRemoved,\n  recentSearchTermSelected,\n} from \"./discoverSlice\";\nimport { selectDarkMode } from \"../../app/appDataSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport Header from \"../../components/Header\";\nimport SearchBar from \"../../components/SearchBar\";\nimport { CurrentTermLabel } from \"../classPages/ClassesList\";\n\nexport default function SearchPage({ navigation }) {\n  const dispatch = useAppDispatch();\n\n  const searchTerm = useAppSelector(selectSearchTerm);\n  const tag = useAppSelector(selectTag);\n  const submittedSearchTerm = useAppSelector(selectSubmittedSearchTerm);\n  const recentSearches = useAppSelector(selectRecentSearches);\n\n  const inputRef = useRef<Input>(null);\n\n  const darkMode = useAppSelector(selectDarkMode);\n  const theme = useTheme();\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  const onSubmitEditing = async () => {\n    dispatch(searchTermSubmitted(searchTerm));\n  };\n\n  const onChangeText = (text: string) => {\n    dispatch(searchTermChanged(text));\n  };\n\n  const handleRemoveRecentSearch = (searchTerm: string) => {\n    dispatch(recentSearchTermRemoved(searchTerm));\n  };\n\n  const handleClickRecentSearch = (searchTerm: string) => {\n    dispatch(recentSearchTermSelected(searchTerm));\n  };\n\n  let searchBarBackgroundColor = \"\";\n  if (darkMode) {\n    searchBarBackgroundColor = theme[\"color-basic-800\"];\n  } else {\n    searchBarBackgroundColor = theme[\"color-basic-100\"];\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <Layout level=\"2\" style={{ paddingBottom: 15 }}>\n        <Header\n          level=\"2\"\n          center={(\n            <Layout\n              level=\"2\"\n              style={{ flex: 1, backgroundColor: \"transparent\" }}\n            >\n              <SearchBar\n                inputRef={inputRef}\n                inputStyle={{\n                  opacity: 1,\n                  backgroundColor: searchBarBackgroundColor,\n                }}\n                searchTerm={searchTerm}\n                onChangeText={onChangeText}\n                onSubmitEditing={onSubmitEditing}\n                placeholder=\"Search Posts...\"\n                cancelButtonAction={() => navigation.goBack()}\n                cancelButtonStatus=\"basic\"\n                alwaysShowCancelButton\n              />\n            </Layout>\n          )}\n          title=\"\"\n        />\n      </Layout>\n      <PostsList\n        navigation={navigation}\n        tag={tag}\n        searchTerm={submittedSearchTerm}\n        recentSearches={recentSearches}\n        handleRemoveRecentSearch={handleRemoveRecentSearch}\n        handleClickRecentSearch={handleClickRecentSearch}\n        sponsor\n      />\n    </Layout>\n  );\n}\n","import { FontAwesome } from \"@expo/vector-icons\";\nimport { Layout, Text, useTheme } from \"@ui-kitten/components\";\nimport { useState } from \"react\";\nimport { TouchableOpacity, Alert } from \"react-native\";\n\nimport { selectDarkMode, selectUserKey } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport { stringToEmoji } from \"../../../functions\";\nimport {\n  useDeleteCommentMutation,\n  useLikeCommentMutation,\n} from \"../../api/discoverApi\";\n\nexport default function Comment({\n  body,\n  postId,\n  commentId,\n  isOwnComment,\n  userName,\n  numLikes,\n  hasLiked,\n  searchTerm,\n  searchedTag,\n}) {\n  const theme = useTheme();\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [likeComment] = useLikeCommentMutation();\n  const [deleteComment, deleteCommentLoading] = useDeleteCommentMutation();\n\n  const handleLikeComment = async () => {\n    try {\n      await likeComment({\n        commentId,\n        postId,\n        userKey,\n        userName,\n        searchTerm,\n        tag: searchedTag,\n      }).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't like comment\", error);\n    }\n  };\n\n  const handleDeleteComment = () => {\n    try {\n      deleteComment({\n        commentId,\n        postId,\n        userKey,\n        userName,\n        searchTerm,\n        tag: searchedTag,\n      }).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't delete comment\", error);\n    }\n  };\n\n  return (\n    <TouchableOpacity\n      style={{ flexDirection: \"row\", marginVertical: 10, marginHorizontal: 15 }}\n      onPress={() => setIsExpanded(!isExpanded)}\n      onLongPress={() => {\n        if (isOwnComment) {\n          Alert.alert(\"\", body, [\n            {\n              text: \"Cancel\",\n              style: \"cancel\",\n            },\n            {\n              text: \"Delete\",\n              onPress: handleDeleteComment,\n            },\n          ]);\n        }\n      }}\n    >\n      <Layout\n        style={{\n          height: \"100%\",\n          flexDirection: \"row\",\n          flex: 11,\n        }}\n      >\n        <Layout\n          style={{\n            borderRadius: 100,\n            width: 35,\n            height: 35,\n            marginRight: 10,\n            backgroundColor: darkMode\n              ? theme[\"color-basic-600\"]\n              : theme[\"color-basic-300\"],\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Text style={{ fontSize: 15 }}>{stringToEmoji(body)}</Text>\n        </Layout>\n\n        <Text style={{ fontWeight: \"normal\", flex: 1, paddingTop: 7 }}>\n          {`  `}\n          {isExpanded || body.length <= 50 ? body : `${body.slice(0, 50)}...`}\n        </Text>\n      </Layout>\n\n      <TouchableOpacity\n        style={{\n          flexDirection: \"row\",\n          alignSelf: \"center\",\n          alignItems: \"center\",\n        }}\n        onPress={handleLikeComment}\n      >\n        <Text style={{ padding: 5, fontSize: 15 }}>{numLikes}</Text>\n        <FontAwesome\n          size={15}\n          color={\n            hasLiked ? theme[\"color-primary-500\"] : theme[\"color-basic-400\"]\n          }\n          name=\"heart\"\n        />\n      </TouchableOpacity>\n    </TouchableOpacity>\n  );\n}\n","import { A } from \"@expo/html-elements\";\nimport { Input, Text } from \"@ui-kitten/components\";\nimport { Dimensions } from \"react-native\";\n\nimport { selectDarkMode } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport { validURL } from \"../../../functions\";\n\nconst windowWidth = Dimensions.get(\"window\").width;\n\nexport default function SinglePostBody({ type, body, handleLikePost }) {\n  const darkMode = useAppSelector(selectDarkMode);\n\n  if (type === \"contentText\") {\n    return (\n      <Input\n        scrollEnabled={false}\n        multiline\n        disabled\n        value={body}\n        style={{\n          backgroundColor: \"transparent\",\n          borderWidth: 0,\n        }}\n        textStyle={{ color: darkMode ? \"white\" : \"black\" }}\n      />\n    );\n  } if (type === \"contentUrl\") {\n    if (validURL(body)) {\n      return (\n        <A style={{ color: \"blue\" }} href={body}>\n          {body}\n        </A>\n      );\n    }\n    return <Text>{body}</Text>;\n\n  }\n  return <></>;\n}\n","import {\n  Card, Modal, Text, Button\n} from \"@ui-kitten/components\";\nimport { StyleSheet } from \"react-native\";\n\nexport default function DisabledFieldModal({ setShowModal }) {\n  return (\n    <Modal\n      visible\n      backdropStyle={myStyles.backdrop}\n      style={{ width: \"75%\" }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={{ fontSize: 15, paddingTop: 5, paddingBottom: 10 }}>\n          Sorry, we are experiencing technical difficulties and this\n          functionality is currently undergoing maintenance. Please try again\n          later.\n        </Text>\n        <Button\n          onPress={() => {\n            setShowModal(false);\n          }}\n        >\n          Dismiss\n        </Button>\n      </Card>\n    </Modal>\n  );\n}\n\nconst myStyles = StyleSheet.create({\n  backdrop: {\n    backgroundColor: \"rgba(0, 0, 0, 0.65)\",\n  },\n});\n","import { Layout, Spinner } from \"@ui-kitten/components\";\n\nexport default function FullPageSpinner({ opacity = 0.4 }) {\n  return (\n    <Layout\n      style={{\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        width: \"100%\",\n        height: \"100%\",\n        position: \"absolute\",\n        backgroundColor: \"black\",\n        flex: 1,\n        opacity,\n        zIndex: 100,\n      }}\n    >\n      <Spinner size=\"large\" />\n    </Layout>\n  );\n}\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport {\n  Layout,\n  Text,\n  Card,\n  Button,\n  List,\n  Input,\n  useTheme,\n  Spinner,\n  Divider,\n} from \"@ui-kitten/components\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useEffect, useState } from \"react\";\nimport {\n  Keyboard,\n  TouchableWithoutFeedback,\n  ScrollView,\n  TouchableOpacity,\n  RefreshControl,\n} from \"react-native\";\n\nimport Comment from \"./Comment\";\nimport SinglePostBody from \"./SinglePostBody\";\nimport { selectDarkMode, selectUserKey } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport DisabledFieldModal from \"../../../components/DisabledOptionModal\";\nimport FullPageSpinner from \"../../../components/FullPageSpinner\";\nimport { MAX_WIDTH_WEB } from \"../../../constants/discover\";\nimport { stringToEmoji } from \"../../../functions\";\nimport {\n  discoverApiSlice,\n  postsAdapter,\n  postsSelectors,\n  useAddCommentMutation,\n  useDeleteDiscoverPostMutation,\n  useLazyGetPostByIdQuery,\n  useLikePostMutation,\n} from \"../../api/discoverApi\";\nimport { usersApiSlice } from \"../../api/usersApi\";\nimport BottomBar from \"../BottomBar\";\nimport ImageComponent from \"../ImageComponent\";\n\nexport default function SinglePost({\n  route: {\n    params: { _id, searchTerm, searchedTag },\n  },\n  navigation,\n}) {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const [showModal, setShowModal] = useState(false);\n  const [comment, setComment] = useState(\"\");\n  const [inputFocused, setInputFocused] = useState(false);\n\n  const [likePost] = useLikePostMutation();\n  const [refreshPost, { isLoading: refreshPostLoading }] = useLazyGetPostByIdQuery();\n  const [addComment, { isLoading: addCommentLoading }] = useAddCommentMutation();\n  const [deletePost, { isLoading: deletePostLoading }] = useDeleteDiscoverPostMutation();\n  const { data: userData } = usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n  const post = discoverApiSlice.endpoints.getDiscoverPosts.useQueryState(\n    { pageNumber: 1, userKey, userName: userData.userName },\n    {\n      selectFromResult: (result) => postsSelectors.selectById(\n        result.data ?? postsAdapter.getInitialState(),\n        _id,\n      ),\n    },\n  );\n\n  useEffect(() => {\n    if (!post) navigation.goBack();\n  }, [post]);\n\n  const handleRefreshPost = async () => {\n    try {\n      await refreshPost({\n        postId: _id,\n        userKey,\n        userName: userData.userName,\n        searchTerm,\n        tag: searchedTag,\n      }).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't refresh post\", error);\n    }\n  };\n\n  const handleDeletePost = async () => {\n    try {\n      await deletePost({\n        _id,\n        userKey,\n        userName: userData.userName,\n        title: post.title,\n        searchTerm,\n        tag: searchedTag,\n      }).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't delete post\", error);\n    }\n  };\n\n  const handleSubmitComment = async () => {\n    try {\n      await addComment({\n        _id,\n        userKey,\n        userName: userData.userName,\n        text: comment,\n        searchTerm,\n        tag: searchedTag,\n      }).unwrap();\n      setComment(\"\");\n      setInputFocused(false);\n      Keyboard.dismiss();\n    } catch (e) {\n      console.warn(\"Error submitting comment\", e);\n    }\n  };\n\n  const handlePressLike = async () => {\n    try {\n      await likePost({\n        userKey,\n        _id,\n        title: post.title,\n        postAuthor: post.userName,\n        userName: userData.userName,\n        searchTerm,\n        tag: searchedTag,\n      }).unwrap();\n    } catch (error) {\n      console.log(\"Error liking post:\", error);\n    }\n  };\n\n  let body = <></>;\n  if (post?.type === \"contentImage\") {\n    body = (\n      <ImageComponent\n        apiInfo={{\n          userKey,\n          _id,\n          title: post.title,\n          postAuthor: post.userName,\n          userName: userData.userName,\n          searchTerm,\n          searchedTag,\n        }}\n        hasLiked={post.hasLiked}\n        imageId={post.contentImage}\n      />\n    );\n  } else if (post?.type === \"contentText\" || post?.type === \"contentUrl\") {\n    body = (\n      <SinglePostBody\n        handleLikePost={handlePressLike}\n        type={post.type}\n        body={post.contentText || post.contentUrl}\n      />\n    );\n  }\n\n  function TopContent() {\n    return (\n      <Layout style={{ maxWidth: MAX_WIDTH_WEB, alignSelf: \"center\" }}>\n        <Card\n          disabled\n          style={{ margin: 8, borderWidth: 0 }}\n          header={(\n            <Layout>\n              <Text style={{ fontWeight: \"bold\", fontSize: 20 }}>\n                {post.title}\n              </Text>\n            </Layout>\n          )}\n          footer={(\n            <Layout style={{ margin: 0, padding: 0 }}>\n              <BottomBar\n                commentIconShown={false}\n                tags={post.tags}\n                _id={post._id}\n              />\n            </Layout>\n          )}\n        >\n          {body}\n        </Card>\n        {post.userName === userData.userName ? (\n          <Layout style={{ flexDirection: \"row\", width: \"100%\" }}>\n            <Button\n              status=\"danger\"\n              style={{ margin: 8, flex: 1 }}\n              onPress={handleDeletePost}\n            >\n              Delete Post\n            </Button>\n            {/* <Button style={{ margin: 8, flex: 1 }} disabled>\n              Edit Post\n            </Button> */}\n          </Layout>\n        ) : null}\n\n        <Card disabled style={{ borderWidth: 0 }}>\n          <Text\n            style={{\n              fontWeight: \"600\",\n            }}\n          >\n            {`Comments (${post.comments.length})`}\n          </Text>\n        </Card>\n      </Layout>\n    );\n  }\n\n  if (!post) {\n    return null;\n  }\n\n  return (\n    <LinearGradient\n      colors={\n        darkMode\n          ? [theme[\"color-basic-1100\"], theme[\"color-basic-1100\"]]\n          : [theme[\"color-primary-500\"], theme[\"color-success-500\"]]\n      }\n      style={{\n        width: \"100%\", margin: 0, alignItems: \"center\", flex: 1\n      }}\n      start={{ x: 0, y: 0 }}\n      end={{ x: 1, y: 0.4 }}\n    >\n      <Layout style={{ flex: 1 }}>\n        {showModal && <DisabledFieldModal setShowModal={setShowModal} />}\n        {/* Render Comments */}\n        <List\n          onRefresh={handleRefreshPost}\n          showsVerticalScrollIndicator={false}\n          refreshing={refreshPostLoading}\n          ListHeaderComponent={TopContent}\n          contentContainerStyle={{\n            marginHorizontal: 10,\n            maxWidth: 700,\n            alignSelf: \"center\",\n          }}\n          style={{ backgroundColor: \"transparent\" }}\n          data={post.comments}\n          ItemSeparatorComponent={Divider}\n          renderItem={({ item }) => (\n            <Comment\n              body={item.text}\n              postId={post._id}\n              commentId={item._id}\n              numLikes={item.numLikes}\n              hasLiked={item.hasLiked}\n              userName={userData.userName}\n              isOwnComment={item.userName === userData.userName}\n              searchTerm={searchTerm}\n              searchedTag={searchedTag}\n            />\n          )}\n          keyExtractor={(comment) => {\n            return comment._id;\n          }}\n        />\n        <Layout\n          style={{\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            height: 55,\n            bottom: 0,\n            width: \"100%\",\n            paddingVertical: 10,\n            paddingRight: 10,\n            borderColor: darkMode\n              ? theme[\"color-basic-500\"]\n              : theme[\"color-basic-300\"],\n            borderTopWidth: 1,\n          }}\n        >\n          <Layout\n            style={{\n              flex: 1,\n              alignItems: \"center\",\n              justifyContent: \"center\",\n            }}\n          >\n            <Layout\n              style={{\n                borderRadius: 100,\n                width: 35,\n                height: 35,\n                backgroundColor: darkMode\n                  ? theme[\"color-basic-600\"]\n                  : theme[\"color-basic-300\"],\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              }}\n            >\n              <Text style={{ fontSize: 15 }}>\n                {stringToEmoji(userData.userName)}\n              </Text>\n            </Layout>\n          </Layout>\n\n          <Input\n            accessoryRight={\n              inputFocused ? (\n                <TouchableOpacity onPress={handleSubmitComment}>\n                  <FontAwesome5\n                    name=\"arrow-alt-circle-right\"\n                    size={22}\n                    color={theme[\"color-primary-500\"]}\n                  />\n                </TouchableOpacity>\n              ) : null\n            }\n            style={{ flex: 7 }}\n            placeholder=\"Add a comment...\"\n            onFocus={() => setInputFocused(true)}\n            onBlur={() => setInputFocused(false)}\n            value={comment}\n            onChangeText={(text) => setComment(text)}\n            onSubmitEditing={handleSubmitComment}\n          />\n        </Layout>\n        {(deletePostLoading || addCommentLoading) && <FullPageSpinner />}\n      </Layout>\n    </LinearGradient>\n  );\n}\n","import { Feather, FontAwesome5 } from \"@expo/vector-icons\";\nimport { Button, useTheme } from \"@ui-kitten/components\";\nimport React from \"react\";\nimport { ScrollView, View, Text } from \"react-native\";\n\nexport default function Menu({ menuItems, setMenuItems }) {\n  const theme = useTheme();\n\n  return (\n    <View style={{ marginVertical: 10 }}>\n      <ScrollView\n        showsHorizontalScrollIndicator={false}\n        horizontal\n        style={{ flexDirection: \"row\" }}\n      >\n        {Object.entries(menuItems).map(([name, value]: any[], index) => {\n          if (!value.selected) {\n            return (\n              <Button\n                onPress={() => {\n                  setMenuItems({\n                    ...menuItems,\n                    [name]: { selected: !value.selected },\n                  });\n                }}\n                status={value.selected ? \"info\" : \"primary\"}\n                style={{\n                  height: 45,\n                  marginHorizontal: 10,\n                  borderRadius: 20,\n                  backgroundColor: `rgba(${theme[\"color-success-500\"]}, ${\n                    1 - 0.03 * index\n                  })`,\n                  borderColor: `rgba(${theme[\"color-success-500\"]}, ${\n                    1 - 0.03 * index\n                  })`,\n                }}\n                key={index}\n              >\n                <View\n                  style={{ alignItems: \"center\", justifyContent: \"center\" }}\n                >\n                  <Text style={{ color: \"white\" }}>\n                    {name}\n                    {value.selected && (\n                      <Text>\n                        {`    `}\n                        <Feather name=\"x\" size={15} />\n                      </Text>\n                    )}\n                  </Text>\n                </View>\n              </Button>\n            );\n          }\n        })}\n      </ScrollView>\n      <ScrollView\n        showsHorizontalScrollIndicator={false}\n        horizontal\n        style={{ flexDirection: \"row\", marginTop: 3, marginLeft: 8 }}\n      >\n        {Object.entries(menuItems).map(([name, value]: any[], index) => {\n          if (value.selected) {\n            return (\n              <Button\n                accessoryRight={\n                  <FontAwesome5 name=\"times\" size={14} color=\"white\" />\n                }\n                onPress={() => {\n                  setMenuItems({\n                    ...menuItems,\n                    [name]: { selected: !value.selected },\n                  });\n                }}\n                style={{\n                  height: 45,\n                  marginHorizontal: 2,\n                  borderRadius: 20,\n                  backgroundColor: theme[\"color-success-500\"],\n                  borderColor: theme[\"color-success-500\"],\n                }}\n                key={index}\n              >\n                <View\n                  style={{ alignItems: \"center\", justifyContent: \"center\" }}\n                >\n                  <Text style={{ color: \"white\" }}>{name}</Text>\n                </View>\n              </Button>\n            );\n          }\n        })}\n      </ScrollView>\n    </View>\n  );\n}\n","import { apiSlice } from \"./apiSlice\";\n\nexport const sponsorsApiSlice = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    refreshSponsors: builder.query({\n      query: (userKey) => ({\n        url: \"/sponsors\",\n        headers: {\n          userKey,\n        },\n      }),\n      transformResponse: (sponsors: any[]) => {\n        sponsors = sponsors.sort((a, b) => {\n          const textA = a.sponsorName.toUpperCase();\n          const textB = b.sponsorName.toUpperCase();\n          return textA < textB ? 1 : textA > textB ? -1 : 0;\n        });\n\n        return [\n          sponsors.find((sponsor) => sponsor.sponsorName === \"Big Mo's\"),\n          ...sponsors.filter((sponsor) => sponsor.sponsorName !== \"Big Mo's\"),\n        ];\n      },\n    }),\n    postSponsorVisit: builder.mutation({\n      query: ({ userKey, sponsorId }) => ({\n        url: \"/analytics/sponsor/ping\",\n        method: \"POST\",\n        headers: {\n          userKey,\n        },\n        body: {\n          sponsorId,\n        },\n        responseHandler: (response) => response.text(),\n      }),\n    }),\n  }),\n});\n\nexport const { useLazyRefreshSponsorsQuery, usePostSponsorVisitMutation } = sponsorsApiSlice;\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport { Layout, useTheme } from \"@ui-kitten/components\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport _ from \"lodash\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  StyleSheet,\n  Image,\n  TouchableOpacity,\n  SafeAreaView,\n  ScrollView,\n  Linking,\n  View,\n  Text,\n  Platform,\n  Dimensions,\n} from \"react-native\";\n\nimport { selectDarkMode, selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport Menu from \"../../components/Menu\";\nimport {\n  useLazyRefreshSponsorsQuery,\n  usePostSponsorVisitMutation,\n} from \"../api/sponsorsApi\";\n\nconst windowWidth = Dimensions.get(\"window\").width;\n\nexport function SponsorPage({\n  route: {\n    params: { data },\n  },\n}) {\n  const isDarkMode = useAppSelector(selectDarkMode);\n  const sponsorPageStyles = StyleSheet.create({\n    container: {\n      flex: 1,\n    },\n    header: {\n      marginTop: 20,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"100%\",\n    },\n    address: {\n      color: isDarkMode ? \"white\" : \"black\",\n      alignItems: \"center\",\n      margin: 10,\n      borderColor: \"black\",\n      borderWidth: 1,\n      padding: 10,\n    },\n    video: {\n      marginTop: 20,\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n    },\n    title: {\n      color: isDarkMode ? \"white\" : \"black\",\n      fontSize: 26,\n      marginLeft: 10,\n    },\n    subtitle: {\n      color: isDarkMode ? \"white\" : \"black\",\n      fontSize: 14,\n      justifyContent: \"center\",\n    },\n    logo: {\n      width: \"100%\",\n      height: 100,\n    },\n    description: {\n      borderWidth: 1,\n      margin: 10,\n      borderColor: \"#F1E4B5\",\n      borderRadius: 5,\n      width: \"95%\",\n      padding: 10,\n      // backgroundColor: '#F9F9F9',\n    },\n    couponContainer: {\n      width: \"100%\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: 20,\n      marginBottom: 20,\n    },\n    coupon: {\n      width: 400,\n      height: 267,\n    },\n    imageGallery: {\n      justifyContent: \"center\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      margin: 10,\n      marginBottom: 0,\n    },\n    imageStyle: {\n      width: 150,\n      height: 150,\n      paddingTop: 100,\n      margin: 5,\n    },\n    headerText: {\n      color: isDarkMode ? \"white\" : \"black\",\n      fontSize: 20,\n      fontWeight: \"bold\",\n    },\n  });\n  const [imageIndex, setImageIndex] = useState(0);\n  const [visible, setIsVisible] = useState(false);\n  const [canOpenLink, setCanOpenLink] = useState(false);\n\n  const [postSponsorVisitQuery] = usePostSponsorVisitMutation();\n\n  const userKey = useAppSelector(selectUserKey);\n\n  const videoLinkArray = data.videoLink && data.videoLink.split(\"/\");\n  const videoLink = data.videoLink && videoLinkArray[videoLinkArray.length - 1];\n\n  function getSubtitle() {\n    if (data.phoneNumber && data.email) {\n      return `${data.phoneNumber} \\u2022 ${data.email}`;\n    } if (data.phoneNumber) {\n      return data.phoneNumber;\n    } if (data.email) {\n      return data.email;\n    }\n    return null;\n\n  }\n\n  const postSponsorVisit = async () => {\n    try {\n      await postSponsorVisitQuery({ userKey, sponsorId: data._id }).unwrap();\n    } catch (e) {\n      console.warn(\"Error posting sponsor visit: \", e);\n    }\n  };\n\n  useEffect(() => {\n    const funct = async () => {\n      setCanOpenLink(await Linking.canOpenURL(data.website));\n      postSponsorVisit();\n    };\n    funct();\n  }, []);\n\n  function renderWebsiteLink() {\n    if (canOpenLink) {\n      return (\n        <View>\n          <TouchableOpacity\n            onPress={() => {\n              Linking.openURL(data.website);\n            }}\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              alignItems: \"center\",\n            }}\n          >\n            <Text\n              style={{\n                fontSize: 15,\n                color: isDarkMode ? \"#6b7ee5\" : \"#4b5dc7\",\n                paddingRight: 5,\n              }}\n            >\n              Check Out Our Website!\n            </Text>\n            <FontAwesome5 name=\"link\" size={15} color=\"#4b5dc7\" />\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    return null;\n\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <ScrollView>\n        <Layout style={sponsorPageStyles.container}>\n          <View style={sponsorPageStyles.header}>\n            <Image\n              resizeMode=\"contain\"\n              style={sponsorPageStyles.logo}\n              source={{ uri: data.logo }}\n            />\n          </View>\n          <View\n            style={{ width: \"100%\", display: \"flex\", alignItems: \"center\" }}\n          >\n            <Text style={sponsorPageStyles.title}>{data.sponsorName}</Text>\n            <Text style={sponsorPageStyles.subtitle}>{getSubtitle()}</Text>\n          </View>\n\n          {data.location && (\n            <View style={sponsorPageStyles.address}>\n              <Text\n                style={{ fontSize: 18, color: isDarkMode ? \"white\" : \"black\" }}\n              >\n                {data.location}\n              </Text>\n            </View>\n          )}\n\n          <View\n            style={{ width: \"100%\", display: \"flex\", alignItems: \"center\" }}\n          >\n            {renderWebsiteLink()}\n          </View>\n\n          <Layout style={sponsorPageStyles.description}>\n            <Text\n              style={{ fontSize: 17, color: isDarkMode ? \"white\" : \"black\" }}\n            >\n              {data.description}\n            </Text>\n          </Layout>\n          <View\n            style={{\n              width: \"100%\",\n              alignSelf: \"flex-start\",\n              marginLeft: 20,\n              borderBottomColor: \"#F1E4B5\",\n              borderBottomWidth: 2,\n              paddingBottom: 5,\n            }}\n          >\n            <Text style={sponsorPageStyles.headerText}>Image Gallery</Text>\n          </View>\n\n          <View style={sponsorPageStyles.imageGallery}>\n            {data.images.map((img, index) => {\n              return (\n                <TouchableOpacity\n                  onPress={() => {\n                    setImageIndex(index);\n                    setIsVisible(true);\n                  }}\n                >\n                  <Image\n                    style={sponsorPageStyles.imageStyle}\n                    source={{ uri: img }}\n                  />\n                </TouchableOpacity>\n              );\n            })}\n          </View>\n\n          {data.coupons[0] && (\n            <Layout style={sponsorPageStyles.couponContainer}>\n              <Image\n                resizeMode=\"contain\"\n                source={require(\"../../../assets/sponsorPage/coupon.png\")}\n                style={sponsorPageStyles.coupon}\n              />\n              <Text\n                style={{\n                  position: \"absolute\",\n                  fontSize: 30,\n                  textAlign: \"center\",\n                  justifyContent: \"center\",\n                  width: \"75%\",\n                  paddingBottom: 20,\n                  paddingRight: 7,\n                }}\n              >\n                {data.coupons[0].couponDescription}\n              </Text>\n              <Text\n                style={{ fontSize: 15, color: isDarkMode ? \"white\" : \"black\" }}\n              >\n                Show this coupon at the store to redeem.\n              </Text>\n            </Layout>\n          )}\n\n          <View\n            style={{\n              width: \"100%\",\n              alignSelf: \"flex-start\",\n              marginLeft: 20,\n              borderBottomColor: \"#F1E4B5\",\n              borderBottomWidth: 2,\n              paddingBottom: 5,\n            }}\n          >\n            <Text style={sponsorPageStyles.headerText}>Hours</Text>\n          </View>\n          <View\n            style={{\n              justifyContent: \"center\",\n              alignSelf: \"center\",\n              marginLeft: 25,\n              marginBottom: 50,\n            }}\n          >\n            {data.hours.map((day, i) => {\n              return (\n                <Layout\n                  key={i}\n                  style={{\n                    justifyContent: \"space-between\",\n                    flexDirection: \"row\",\n                    width: \"100%\",\n                  }}\n                >\n                  <Text\n                    style={{\n                      marginTop: 10,\n                      color: isDarkMode ? \"white\" : \"black\",\n                    }}\n                  >\n                    {day.dayOfTheWeek}\n                    :\n                  </Text>\n                  <Text\n                    style={{\n                      alignSelf: \"flex-end\",\n                      paddingRight: 30,\n                      marginTop: 10,\n                      color: isDarkMode ? \"white\" : \"black\",\n                    }}\n                  >\n                    {buildTimeString(day)}\n                  </Text>\n                </Layout>\n              );\n            })}\n          </View>\n        </Layout>\n      </ScrollView>\n    </Layout>\n  );\n}\n\nfunction buildTimeString(time) {\n  if (!time.openTime || time.openTime === \"\" || time.openTime === null) {\n    return \"closed\";\n  }\n  return (\n    `${convertTo12HourTime(time.openTime)\n    } - ${\n      convertTo12HourTime(time.closeTime)}`\n  );\n}\n\nfunction convertTo12HourTime(time) {\n  if (time.length !== 5) {\n    time = `0${time}`;\n  }\n  let hours = time.slice(0, 2);\n  const minutes = time.slice(3, 5);\n  let ampm = Number.parseInt(hours) > 12 ? \"pm\" : \"am\";\n  hours %= 12;\n  if (hours === 0) {\n    hours = 12;\n    ampm = \"pm\";\n  }\n  return `${hours}:${minutes}${ampm}`;\n}\n\nexport function SponsorsList({ navigation }) {\n  const theme = useTheme();\n  const isDarkMode = useAppSelector(selectDarkMode);\n  const [sponsorFilters, setSponsorFilters] = useState({});\n  const [gotSponsors, setGotSponsors] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const [refreshSponsorsQuery, { data: sponsors }] = useLazyRefreshSponsorsQuery();\n\n  if (!gotSponsors) {\n    setGotSponsors(true);\n    refreshSponsors();\n  }\n\n  useEffect(() => {\n    if (sponsors?.length > 0) {\n      getFilters();\n    }\n  }, [sponsors]);\n\n  async function refreshSponsors() {\n    try {\n      await refreshSponsorsQuery(userKey).unwrap();\n    } catch (e) {\n      console.warn(\"Error refreshing sponsors: \", e);\n    }\n  }\n\n  function getFilters() {\n    let tabNames = [];\n    const final = [];\n    for (const sponsor of sponsors) {\n      if (sponsor.tags !== undefined) {\n        for (const name of sponsor.tags) {\n          if (!tabNames.includes(name)) {\n            tabNames.push(name);\n          }\n        }\n      }\n    }\n    tabNames = tabNames.sort();\n\n    // Puts 'Other' at the end\n    const temp = tabNames.includes(\"Other\")\n      ? tabNames.findIndex((item) => item === \"Other\")\n      : -1;\n    if (temp !== -1) {\n      tabNames.splice(temp, 1);\n    }\n    tabNames.push(\"Other\");\n\n    const tempFilters = {};\n    for (const name of tabNames) {\n      tempFilters[name] = {\n        selected: false,\n      };\n    }\n    setSponsorFilters(tempFilters);\n  }\n\n  function renderSponsorsBasedOnFilters() {\n    let shouldLimitPrint = false;\n    for (const filterName in sponsorFilters) {\n      if (sponsorFilters[filterName].selected) {\n        shouldLimitPrint = true;\n        break;\n      }\n    }\n    if (!shouldLimitPrint) {\n      return getTheSponsors(sponsors || [], navigation);\n    }\n    const sponsorsToSend = [];\n    for (const filterName in sponsorFilters) {\n      if (sponsorFilters[filterName].selected) {\n        for (const sponsor of sponsors) {\n          if (sponsor.tags.includes(filterName)) {\n            sponsorsToSend.push(sponsor);\n          }\n        }\n      }\n    }\n    return getTheSponsors(sponsorsToSend || [], navigation);\n\n  }\n\n  return (\n    <LinearGradient\n      colors={\n        isDarkMode\n          ? [theme[\"color-basic-1100\"], theme[\"color-basic-1100\"]]\n          : [theme[\"color-primary-500\"], theme[\"color-success-500\"]]\n      }\n      style={{\n        width: \"100%\", margin: 0, alignItems: \"center\", flex: 1\n      }}\n      start={{ x: 0, y: 0 }}\n      end={{ x: 1, y: 0.4 }}\n    >\n      <Layout style={{ flex: 1 }}>\n        <Menu\n          setMenuItems={setSponsorFilters}\n          menuItems={Object.keys(sponsorFilters).length > 0}\n        />\n        <ScrollView\n          showsVerticalScrollIndicator={false}\n          contentContainerStyle={{ alignItems: \"center\" }}\n        >\n          {sponsors?.length === 0 ? (\n            <Text>Nothing to see here</Text>\n          ) : (\n            renderSponsorsBasedOnFilters()\n          )}\n        </ScrollView>\n      </Layout>\n    </LinearGradient>\n  );\n}\n\nfunction getTheSponsors(sponsors, navigation) {\n  const isDarkMode = useAppSelector(selectDarkMode);\n  const listingStyles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: \"#fff\",\n      alignItems: \"center\",\n    },\n    cardContainer: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      width: \"100%\",\n      maxWidth: windowWidth / 2,\n      height: 130,\n      backgroundColor: isDarkMode ? \"#464646\" : \"#fff\",\n      borderRadius: 10,\n      borderWidth: 1,\n      borderColor: isDarkMode ? \"#818181\" : \"#ddd\",\n      borderBottomWidth: isDarkMode ? 1 : 0,\n      shadowColor: \"#000\",\n      shadowOffset: { width: 0, height: 2 },\n      shadowOpacity: 0.2,\n      shadowRadius: 2,\n      elevation: 1,\n      marginLeft: 5,\n      marginRight: 5,\n      marginTop: 10,\n    },\n    text: {\n      flex: 1,\n      color: isDarkMode ? \"white\" : \"black\",\n      fontSize: 20,\n      textAlign: \"center\",\n      marginTop: 5,\n      marginBottom: 5,\n    },\n    image: {\n      width: 120,\n      height: 120,\n      marginLeft: 10,\n      borderRadius: 10,\n    },\n  });\n  if (sponsors.length === 0) {\n    return;\n  }\n  const final = [];\n  const starredFinal = [];\n  for (const sponsor of sponsors) {\n    if (sponsor.coupons && sponsor.coupons.length > 0) {\n      starredFinal.push(\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate(\"SponsorPage\", { data: sponsor });\n          }}\n          style={listingStyles.cardContainer}\n          key={sponsor._id}\n        >\n          {sponsor.coupons?.length ? (\n            <FontAwesome5\n              name=\"star\"\n              color=\"gold\"\n              style={{\n                alignSelf: \"flex-start\",\n                top: 5,\n                left: 5,\n              }}\n            />\n          ) : null}\n\n          <View style={{ flex: 1 }}>\n            <Image\n              resizeMode=\"contain\"\n              style={listingStyles.image}\n              source={{ uri: sponsor.logo }}\n            />\n          </View>\n\n          <Text style={listingStyles.text}>{sponsor.sponsorName}</Text>\n        </TouchableOpacity>,\n      );\n    } else {\n      final.push(\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate(\"SponsorPage\", { data: sponsor });\n          }}\n          style={listingStyles.cardContainer}\n          key={sponsor._id}\n        >\n          {sponsor.coupons?.length ? (\n            <FontAwesome5\n              name=\"star\"\n              color=\"gold\"\n              style={{\n                position: \"absolute\",\n                alignSelf: \"flex-start\",\n                top: 5,\n                left: 5,\n              }}\n            />\n          ) : null}\n\n          <View style={{ flex: 1 }}>\n            <Image\n              resizeMode=\"contain\"\n              style={listingStyles.image}\n              source={{ uri: sponsor.logo }}\n            />\n          </View>\n\n          <Text style={listingStyles.text}>{sponsor.sponsorName}</Text>\n        </TouchableOpacity>,\n      );\n    }\n  }\n  for (const object of final) {\n    starredFinal.push(object);\n  }\n  return starredFinal;\n}\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport {\n  Divider, Layout, Text, useTheme\n} from \"@ui-kitten/components\";\nimport React, { useState } from \"react\";\nimport {\n  Image,\n  Platform,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n} from \"react-native\";\n\nimport CreatePost from \"./CreatePost/CreatePost\";\nimport PostsList from \"./PostsList\";\nimport SearchPage from \"./SearchPage\";\nimport SinglePost from \"./SinglePost/SinglePostPage\";\nimport { selectDarkMode } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport Header from \"../../components/Header\";\nimport SearchBar from \"../../components/SearchBar\";\nimport { SponsorPage } from \"../sponsors/SponsorsList\";\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Discover({ navigation }) {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const accessoryRight = (\n    <TouchableOpacity onPress={() => navigation.navigate(\"CreatePost\")}>\n      <FontAwesome5 name=\"plus\" size={23} color={theme[\"color-primary-500\"]} />\n    </TouchableOpacity>\n  );\n\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28,\n      }}\n      source={require(\"../../../assets/logos/app-logo-transparent.png\")}\n    />\n  );\n\n  let searchBarBackgroundColor = \"\";\n  if (darkMode) {\n    searchBarBackgroundColor = theme[\"color-basic-800\"];\n  } else {\n    searchBarBackgroundColor = theme[\"color-basic-100\"];\n  }\n\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"PostsList\"\n        initialParams={{ sponsor: true }}\n        component={PostsList}\n        options={{\n          title: \"Discover\",\n          header: () => (\n            <Layout level=\"2\" style={{ paddingBottom: 15 }}>\n              <Header\n                level=\"2\"\n                title=\"Discover\"\n                accessoryLeft={accessoryLeft}\n                accessoryRight={accessoryRight}\n                center={(\n                  <Layout level=\"2\" style={{ flex: 1, marginHorizontal: 10 }}>\n                    {Platform.OS === \"ios\" ? (\n                      <SearchBar\n                        inputStyle={{\n                          opacity: 0.8,\n                          backgroundColor: searchBarBackgroundColor,\n                        }}\n                        searchTerm={searchTerm}\n                        onChangeText={setSearchTerm}\n                        placeholder=\"Search Posts...\"\n                        inputProps={{\n                          disabled: true,\n                          onPressIn: () => {\n                            navigation.navigate(\"SearchPage\");\n                          },\n\n                          onBlur: () => {\n                            navigation.goBack();\n                          },\n                        }}\n                      />\n                    ) : (\n                      <Layout\n                        style={{\n                          minHeight: 35,\n                          paddingLeft: 15,\n                          borderRadius: 20,\n                          flex: 1,\n                          borderWidth: 1,\n                          borderColor: darkMode\n                            ? theme[\"color-basic-500\"]\n                            : theme[\"color-basic-100\"],\n                          justifyContent: \"center\",\n                        }}\n                      >\n                        <TouchableWithoutFeedback\n                          onPress={() => {\n                            navigation.navigate(\"SearchPage\");\n                          }}\n                        >\n                          <Text\n                            style={{\n                              color: theme[\"color-basic-400\"],\n                              fontSize: 14,\n                            }}\n                          >\n                            Search Posts...\n                          </Text>\n                        </TouchableWithoutFeedback>\n                      </Layout>\n                    )}\n                  </Layout>\n                )}\n              />\n            </Layout>\n          ),\n        }}\n      />\n      <Stack.Screen\n        name=\"CreatePost\"\n        component={CreatePost}\n        options={{ headerTitle: \"Create a Post\" }}\n      />\n      <Stack.Screen\n        name=\"SinglePost\"\n        component={SinglePost}\n        options={{\n          headerTitle: \"\",\n          title: \"Discover\",\n        }}\n      />\n      <Stack.Screen\n        name=\"SearchPage\"\n        component={SearchPage}\n        options={{ headerShown: false, animation: \"fade\", title: \"Discover\" }}\n      />\n      <Stack.Screen\n        name=\"SponsorPageDiscover\"\n        component={SponsorPage}\n        options={{ headerTitle: \"\", title: \"Discover\" }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { useAppSelector } from \"../../app/hooks\";\nimport { Class } from \"../../app/types\";\nimport { selectClassesList } from \"../classPages/classPagesSlice\";\n\nexport default class CalendarFunctions {\n  convertTo12HourTime(time) {\n    if (time.length !== 5) {\n      time = `0${time}`;\n    }\n    let hours = time.slice(0, 2);\n    const minutes = time.slice(3, 5);\n    let ampm = Number.parseInt(hours) > 12 ? \"pm\" : \"am\";\n    hours %= 12;\n    if (hours === 0) {\n      hours = 12;\n      ampm = \"pm\";\n    }\n    return `${hours}:${minutes}${ampm}`;\n  }\n\n  getColor(string: string) {\n    let final = 0;\n    for (let charIndex = 0; charIndex < string.length; charIndex++) {\n      final += string.charCodeAt(charIndex);\n    }\n    final -= Number(final.toString()[0]) * 10 ** (final.toString().length - 1);\n    final /= 10 ** final.toString().length;\n    return (\n      `hsl(${\n        180 * final + 90\n      },${\n        30 + 65 * final\n      }%,${\n        50 + 15 * final\n      }%)`\n    );\n  }\n\n  stringToColour(str: string) {\n    return this.getColor(str);\n  }\n\n  getMinutesDiff(startTime, endTime, minuteHeight) {\n    if (endTime > startTime) {\n      return (endTime - startTime) * minuteHeight;\n    } if (startTime === endTime) {\n      return 0;\n    }\n    return (startTime - endTime) * -minuteHeight;\n\n  }\n\n  getFullClassData(courseCode: string, allClassData: any): Class {\n    const APIdata = allClassData;\n    const generalCourseCode = courseCode.split(\"-\").slice(0, -1).join(\"-\");\n    return APIdata[generalCourseCode];\n  }\n}\n","import { useNavigation } from \"@react-navigation/native\";\nimport React from \"react\";\nimport {\n  Alert, Dimensions, Text, TouchableOpacity, View\n} from \"react-native\";\n\nimport CalendarFunctions from \"./CalendarFunctions\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport {\n  useGetCurrentSectionQuery,\n  useRemoveClassMutation,\n} from \"../api/classPagesApi\";\n\nexport default function renderItem(\n  masterClassInfo,\n  meetingTime,\n  courseCode,\n  handleClassSelected = (string: string) => {},\n) {\n  const calendarFun = new CalendarFunctions();\n  const universalHeight = (Dimensions.get(\"window\").height - 50) / 12;\n  const minuteHeight = universalHeight / 60;\n\n  const [startHour, startMinute] = meetingTime.startTime.split(\":\");\n  const [endHour, endMinute] = meetingTime.endTime.split(\":\");\n  const color = calendarFun.stringToColour(masterClassInfo.masterCourseCode);\n  const code = courseCode.split(\" \");\n  return (\n    <View\n      key={Math.random()}\n      style={{\n        backgroundColor: color,\n        top: universalHeight * startHour + startMinute * minuteHeight,\n        height:\n          universalHeight * (endHour - startHour)\n          + calendarFun.getMinutesDiff(startMinute, endMinute, minuteHeight),\n        width: \"100%\",\n        position: \"absolute\",\n        margin: 0,\n        justifyContent: \"center\",\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          handleClassSelected(masterClassInfo.masterCourseCode);\n        }}\n        onLongPress={\n          () => {} /* {\n                    Alert.alert(\n                        courseCode,\n                        null,\n                        [\n                            {\n                                text: 'Delete',\n                                onPress: () => {\n\n                                },\n                            },\n                            {\n                                text: 'Cancel',\n                                onPress: () => console.log('Cancel Pressed'),\n                                style: 'cancel',\n                            },\n                        ],\n                        { cancelable: true }\n                    );\n                } */\n        }\n      >\n        <Text\n          adjustsFontSizeToFit\n          numberOfLines={5}\n          style={{\n            color: parseInt(color.slice(1), 16) > 9079434 ? \"black\" : \"white\",\n            fontSize: 11,\n            marginHorizontal: 3,\n            textAlign: \"center\",\n          }}\n        >\n          {code[0]}\n          {' '}\n          {code[1]}\n          {\"\\n\"}\n          {code[2]}\n          {meetingTime.classLocation\n            ? `\\n(${meetingTime.classLocation})`\n            : null}\n        </Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n","import React from \"react\";\nimport {\n  Alert, Dimensions, Text, TouchableOpacity, View\n} from \"react-native\";\nimport Toast from \"react-native-root-toast\";\n\nimport CalendarFunctions from \"./CalendarFunctions\";\nimport { selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport { useRemoveClassMutation } from \"../api/classPagesApi\";\nimport { useEditUserMutation } from \"../api/usersApi\";\n\nexport default function renderCustomEvent(event, userData, userKey, editUser) {\n  const universalHeight = (Dimensions.get(\"window\").height - 50) / 12;\n  const minuteHeight = universalHeight / 60;\n  const calendarFun = new CalendarFunctions();\n  const [startHour, startMinute] = event.startTime.split(\":\");\n  const [endHour, endMinute] = event.endTime.split(\":\");\n  const color = calendarFun.stringToColour(event.name);\n\n  function removeEvent(event: any) {\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify({\n        removeCustomEvent: {\n          name: event.name,\n          startTime: event.startTime,\n          endTime: event.endTime,\n          days: event.days,\n        },\n      }),\n    })\n      .unwrap()\n      .catch(() => {\n        Toast.show(\"Failed to remove event.\\nPlease try again later\", {\n          duration: Toast.durations.SHORT,\n          opacity: 1,\n          position: -100,\n          backgroundColor: \"grey\",\n          shadow: false,\n        });\n      });\n  }\n\n  return (\n    <TouchableOpacity\n      onLongPress={() => {\n        Alert.alert(\n          event.name,\n          `${calendarFun.convertTo12HourTime(event.startTime)\n          } - ${\n            calendarFun.convertTo12HourTime(event.endTime)}`,\n          [\n            {\n              text: \"Remove\",\n              onPress: () => {\n                removeEvent(event);\n              },\n            },\n            {\n              text: \"Back\",\n              onPress: () => {},\n              style: \"cancel\",\n            },\n          ],\n          { cancelable: true },\n        );\n      }}\n      key={event.name + event.days}\n      style={{\n        backgroundColor: color,\n        top: universalHeight * startHour + startMinute * minuteHeight,\n        height:\n          universalHeight * (endHour - startHour)\n          + calendarFun.getMinutesDiff(startMinute, endMinute, minuteHeight),\n        width: \"100%\",\n        position: \"absolute\",\n        justifyContent: \"center\",\n      }}\n    >\n      <Text\n        adjustsFontSizeToFit\n        numberOfLines={endHour - startHour + 2}\n        style={{ color: \"white\", textAlign: \"center\" }}\n      >\n        {event.name}\n      </Text>\n    </TouchableOpacity>\n  );\n}\n","import {\n  Button, Icon, Layout, Text, useTheme\n} from \"@ui-kitten/components\";\nimport Modal from \"react-native-modal\";\n\nimport { selectDarkMode } from \"../app/appDataSlice\";\nimport { useAppSelector } from \"../app/hooks\";\n\ntype ModalContainerProps = {\n  children: React.ReactNode;\n  backDropVisible: boolean;\n  setBackDropVisible: React.Dispatch<React.SetStateAction<boolean>>;\n  title: string;\n};\n\nexport default function ModalContainer({\n  children,\n  backDropVisible,\n  setBackDropVisible,\n  title,\n}: ModalContainerProps) {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Modal\n      backdropOpacity={0}\n      onBackdropPress={() => setBackDropVisible(false)}\n      isVisible={backDropVisible}\n      style={{\n        backgroundColor: darkMode\n          ? theme[\"color-basic-900\"]\n          : theme[\"color-basic-50\"],\n        borderRadius: 20,\n        flex: 1,\n        marginTop: 300,\n        marginBottom: 50,\n        shadowColor: \"#000\",\n        shadowOffset: {\n          width: 0,\n          height: 12,\n        },\n        shadowOpacity: 0.58,\n        shadowRadius: 16.0,\n\n        elevation: 11,\n      }}\n    >\n      <Layout\n        style={{\n          flex: 1,\n          alignItems: \"center\",\n          borderRadius: 20,\n          backgroundColor: darkMode\n            ? theme[\"color-basic-900\"]\n            : theme[\"color-basic-100\"],\n        }}\n      >\n        <Button\n          appearance=\"ghost\"\n          style={{\n            position: \"absolute\",\n            top: 0,\n            right: 0,\n            flex: 1,\n            borderRadius: 20,\n          }}\n          accessoryRight={(props) => (\n            <Icon pack=\"fontAwesome\" name=\"angle-down\" {...props} />\n          )}\n          onPress={() => setBackDropVisible(false)}\n        />\n        <Text category=\"h5\" style={{ marginVertical: 15 }}>\n          {title}\n        </Text>\n        {children}\n      </Layout>\n    </Modal>\n  );\n}\n","import { apiSlice } from \"../api/apiSlice\";\n\nexport const base_URL = \"https://api.athenaserver.com:5678/api\";\n","import { Autocomplete, AutocompleteItem } from \"@ui-kitten/components\";\nimport { useEffect, useState } from \"react\";\n\nimport { selectDarkMode, selectUserKey } from \"../app/appDataSlice\";\nimport { useAppSelector } from \"../app/hooks\";\nimport { base_URL } from \"../features/notifications/constants\";\n\n/**\n * Renders a dropdown with the names filtered as user types\n * @param setHasChosen set function of a useState which contains a boolean determining whether a user has been chosen\n * @param setRecipient set function of a useState which contains is either: 1. a string containing the userName of the user when one has been chosen, 2. null when a user has not been chosen\n * @constructor\n */\nexport default function UserNameSelectionDropDown({\n  setHasChosen,\n  setRecipient,\n  placeholder,\n}) {\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [names, setNames] = useState([]); // filtered list of names\n  const [users, setUsers] = useState([]); // clean list of users\n  const [value, setValue] = useState(\"\"); // typed name\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: \"bold\",\n      textAlign: \"center\",\n      width: \"100%\",\n      color: darkMode ? \"rgb(255,255,255)\" : \"rgb(0,0,0)\",\n    },\n    backdrop: {\n      backgroundColor: darkMode\n        ? \"rgba(141,141,141,0.5)\"\n        : \"rgba(0, 0, 0, 0.5)\",\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15,\n    },\n  };\n\n  useEffect(() => {\n    fetch(`${base_URL}/users/userNamesAndNames`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then(async (data) => {\n      if (data.ok) {\n        const userList = await data.json();\n        setNames(\n          userList.map((user) => {\n            if (user) {\n              return `${user.realName} (${user.userName})`;\n            }\n          }),\n        );\n        setUsers(userList);\n      }\n    });\n  }, []);\n\n  function renderEachDropItem() {\n    const final = [];\n    for (const option in names) {\n      final.push(<AutocompleteItem title={names[option]} key={option} />);\n    }\n    return final;\n  }\n\n  const onChangeText = (query) => {\n    setNames(\n      freshNames().filter(\n        (name) => name?.toLowerCase().includes(query.toLowerCase())\n          || userNameContainsString(name, query),\n      ),\n    );\n    setValue(query);\n  };\n\n  function freshNames() {\n    return users.map((user) => {\n      if (user) {\n        return `${user.realName} (${user.userName})`;\n      }\n    });\n  }\n\n  const userNameContainsString = (name, query) => {\n    const user = users.find(\n      (auser) => auser?.userName.toLowerCase().includes(query.toLowerCase())\n        && auser?.realName === name,\n    );\n    return user !== undefined;\n  };\n\n  function handleSelection(index) {\n    if (index === 0) {\n      setHasChosen(false);\n      setRecipient(null);\n      // @ts-ignore\n      setValue(\"\");\n    } else {\n      setHasChosen(true);\n      setValue(names[index - 1]);\n      setRecipient(findUserNameFromName(names[index - 1]));\n    }\n  }\n\n  function findUserNameFromName(name) {\n    const firstPar = name.indexOf(\"(\");\n    const secondPar = name.indexOf(\")\");\n    return name.slice(firstPar + 1, secondPar);\n  }\n\n  return (\n    <Autocomplete\n      style={myStyles.containerDrop}\n      value={value}\n      placeholder={placeholder ? \"Recipient\" : null}\n      onChangeText={onChangeText}\n      onSelect={handleSelection}\n    >\n      <AutocompleteItem title={\" \"} />\n      {renderEachDropItem()}\n    </Autocomplete>\n  );\n}\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport { Card, Modal, Text } from \"@ui-kitten/components\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Alert, Button, TouchableOpacity, View\n} from \"react-native\";\n\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey,\n} from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport ModalContainer from \"../../../components/ModalContainer\";\nimport UserNameSelectionDropDown from \"../../../components/UserNameSelectionDropDown\";\nimport { useGetCurrentSectionQuery } from \"../../api/classPagesApi\";\nimport { useGetUserInfoQuery } from \"../../api/usersApi\";\nimport { base_URL } from \"../../notifications/constants\";\n\nexport default function ExportModalClass({ classData }) {\n  const isGuest = useAppSelector(selectIsGuest);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <View\n      style={{\n        alignSelf: \"flex-end\",\n        marginRight: \"7%\",\n        flexDirection: \"column-reverse\",\n        marginTop: -10,\n        paddingBottom: 10,\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          if (isGuest) {\n            setShowGuestModal(true);\n          } else {\n            setShowModal(true);\n          }\n        }}\n        style={{\n          alignItems: \"center\",\n        }}\n      >\n        <View\n          style={{\n            height: 45,\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            paddingLeft: 5,\n          }}\n        >\n          <FontAwesome5\n            name=\"file-export\"\n            size={20}\n            color={darkMode ? \"white\" : \"black\"}\n          />\n        </View>\n        <Text style={{ marginTop: -10, fontSize: 10 }}>Share Class</Text>\n      </TouchableOpacity>\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={(\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is locked to our Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          )}\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n      {renderModal(setShowModal, showModal, classData)}\n    </View>\n  );\n}\n\nfunction renderModal(setShowModal, showModal, classData: any) {\n  const { data: userData } = useGetUserInfoQuery(useAppSelector(selectUserKey));\n\n  const [value, setValue] = useState(\"\");\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const [recipient, setRecipient] = useState(null);\n  const [hasChosen, setHasChosen] = useState(false);\n\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: \"bold\",\n      textAlign: \"center\",\n      width: \"100%\",\n      color: darkMode ? \"rgb(255,255,255)\" : \"rgb(0,0,0)\",\n    },\n    backdrop: {\n      backgroundColor: darkMode\n        ? \"rgba(141,141,141,0.5)\"\n        : \"rgba(0, 0, 0, 0.5)\",\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15,\n    },\n  };\n\n  const exportClass = async (recipient) => {\n    try {\n      const status = await fetch(`${base_URL}/users/sendNotification`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          userKey,\n        },\n        body: JSON.stringify({\n          recipients: [recipient],\n          text: JSON.stringify({\n            masterCourseCode: classData.masterCourseCode,\n            courseTerm: classData.courseTerm,\n          }),\n          title: `${userData.realFirstName} shared a course`,\n          isCourseData: true,\n        }),\n      });\n      return status.ok;\n    } catch (e) {\n      console.log(e);\n      return false;\n    }\n  };\n  return (\n    <Modal\n      visible={showModal}\n      backdropStyle={myStyles.backdrop}\n      style={{ width: \"80%\", height: \"70%\" }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={myStyles.modal}>Share This Course</Text>\n        {UserNameSelectionDropDown({\n          setHasChosen,\n          setRecipient,\n          placeholder: true,\n        })}\n        <View>\n          <Button\n            disabled={recipient === null}\n            title=\"Send\"\n            onPress={() => {\n              exportClass(recipient).then((returnValue) => {\n                setShowModal(false);\n                returnValue\n                  ? Alert.alert(\"Message Sent\")\n                  : Alert.alert(\n                    \"Error Sending Message\",\n                    \"Please Try Again Later\",\n                  );\n              });\n            }}\n          />\n          <Button\n            title=\"Dismiss\"\n            onPress={() => {\n              setShowModal(false);\n              setHasChosen(false);\n              setValue(\"\");\n              setRecipient(null);\n            }}\n          />\n        </View>\n      </Card>\n    </Modal>\n  );\n}\n","// This is going to take forever...\nimport { Region } from \"react-native-maps\";\n\nexport const locations = {\n  ClaremontColleges: [34.10042611094802, -117.71002008183225],\n  \"Steele Hall\": [34.10484995720829, -117.71210324868221],\n  \"Adams Hall\": [32.76290904884907, -117.0662288298868],\n  \"Andrew Building\": null,\n  \"Avery Hall\": [34.10402559390241, -117.7059215470358],\n  \"Bauer Center\": [34.10625935916369, -117.70861091635064],\n  \"Broad Center\": [34.10494505589454, -117.70672332698616],\n  \"Bernard Hall\": null,\n  \"Broad Hall\": [34.10462192392436, -117.7058712693149],\n  \"Beckman Hall\": null,\n  \"Balch Hall\": null,\n  Brackett: [34.09834700926052, -117.71012299276501],\n  \"Brackett Observatory\": [34.09834700926052, -117.71012299276501],\n  \"Baxter Hall\": null,\n  \"Biszantz Tennis Center\": [34.10095490591795, -117.70630717402211],\n  \"Carnegie Building\": null,\n  \"Richardson Dance Studio\": [34.10315111680064, -117.7099604470359],\n  Edmunds: null,\n  \"Fletcher Hall\": [34.104073077554126, -117.70639700470716],\n  \"Galileo Hall\": [34.10625489220558, -117.71180151450122],\n  \"Honnold/Mudd Library\": [34.10217613878248, -117.71228898240652],\n  Honnold: [34.10217613878248, -117.71228898240652],\n  \"Claremont Colleges Library\": [34.10217613878248, -117.71228898240652],\n  \"Mudd Library\": [34.10217613878248, -117.71228898240652],\n  \"Humanities Building\": [34.103735329211226, -117.71001297587144],\n  \"Jacobs Science Center\": [34.105831090704534, -117.7117513875151],\n  \"Keck Laboratories\": [34.09325008938014, -117.72347845495186],\n  \"Keck Graduate Institute\": [34.09325008938014, -117.72347845495186],\n  \"Kravis Center\": [34.10187820435941, -117.71108730125341],\n  \"The Kravis Center\": [34.10187820435941, -117.71108730125341],\n  \"Keck Science Center\": [34.10308083314274, -117.70782900285776],\n  \"Bridges Hall of Music\": [34.09741077681766, -117.71380091635093],\n  \"Lebus Court\": [34.097133818486924, -117.7138019163509],\n  \"LeBus Court\": [34.097133818486924, -117.7138019163509],\n  Lincoln: [34.09436321343312, -117.71791431635106],\n  \"McGregor CompSci Center\": [34.105735661459065, -117.71277261820012],\n  \"Mudd Science Library\": [34.10235157034289, -117.71228630285779],\n  \"Oldenborg Center\": [34.0972862770658, -117.71197834518651],\n  Online: null,\n  \"Parsons Engineering Building\": [34.106763408455166, -117.71201133169328],\n  \"Performing Arts Center\": [34.103841861577266, -117.71263855867934],\n  PAC: [34.103841861577266, -117.71263855867934],\n  Pearsons: [34.09909136806275, -117.71531797402218],\n  \"Pearsons Hall\": [34.09909136806275, -117.71531797402218],\n  \"Rains Center\": [34.09962247726175, -117.7116976875152],\n  \"Rembrandt Hall\": [34.09714703734707, -117.71436354518652],\n  \"Roberts North\": [34.10243304031955, -117.71058173613733],\n  \"Roberts South\": [34.1018600288952, -117.7105736895106],\n  \"Roberts Pavilion\": [34.100334255091674, -117.70640981635093],\n  \"Robert Redford Conservcy\": [34.11077818412942, -117.71047418566549],\n  \"Robert Redford Conservancy\": [34.11077818412942, -117.71047418566549],\n  \"Smith Campus Center\": [34.09962026169959, -117.71350964518648],\n  \"Seaver South Laboratory\": [34.100042028976105, -117.71531142101722],\n  \"Seaver North Laboratory\": [34.100042028976105, -117.71531142101722],\n  \"Seaman Hall\": [34.10199315160771, -117.71010893169331],\n  \"Shanahan Center\": [34.10656042476094, -117.71087576052881],\n  \"Drinkward Recital Hall\": [34.10656042476094, -117.71087576052881],\n  Stauffer: [34.102953598099226, -117.71334231635072],\n  \"Stauffer Hall\": [34.102953598099226, -117.71334231635072],\n  \"RC Seaver Biology Bldg\": [34.10023161864675, -117.71627928465743],\n  \"Seaver Biology Building\": [34.10023161864675, -117.71627928465743],\n  \"Seaver Theater\": [34.096747978139696, -117.7104344010084],\n  \"Seaver Theatre\": [34.096747978139696, -117.7104344010084],\n  \"Thatcher Music Bldg\": [34.09754703461027, -117.71440025414981],\n  KSPC: [34.09754703461027, -117.71440025414981],\n  \"Thatcher Music Building\": [34.09754703461027, -117.71440025414981],\n  \"Vita Nova Hall\": [34.10300376863079, -117.70952371635069],\n  TBD: null,\n};\n\nexport const claremontRegion: Region = {\n  latitude: 34.1,\n  longitude: -117.71,\n  latitudeDelta: 0.015,\n  longitudeDelta: 0.015,\n};\n\nexport const americaRegion: Region = {\n  latitude: 30.116386,\n  longitude: -97.299591,\n  latitudeDelta: 80,\n  longitudeDelta: 80,\n};\n\nexport function removeNumbersAndSpaces(name: string): string {\n  let final = \"\";\n  for (const char of name) {\n    if (char.match(/[a-z]/i) || char === \" \") {\n      final += char;\n    }\n  }\n  return final.trim();\n}\n","import {\n  Button,\n  Card,\n  Layout,\n  Modal,\n  Text,\n  useTheme,\n  withStyles,\n} from \"@ui-kitten/components\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useEffect, useRef, useState } from \"react\";\nimport {\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  Platform,\n} from \"react-native\";\nimport openMap from \"react-native-open-maps\";\n\nimport ExportModalClass from \"./exportModalClass\";\nimport { selectDarkMode, selectUserKey } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport ModalContainer from \"../../../components/ModalContainer\";\nimport { base_URL } from \"../../../constants/admin\";\nimport { locations, removeNumbersAndSpaces } from \"../../../constants/map\";\nimport { useIsAllowedToReviewQuery } from \"../../api/classPagesApi\";\nimport { useGetUserInfoQuery } from \"../../api/usersApi\";\n\nfunction SingleClassPage({ eva, navigation, selectedClass = null }) {\n  const [showModal, setShowModal] = useState(false);\n  const scrollViewRef = useRef(null);\n  const theme = useTheme();\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey,\n  });\n  const darkMode = useAppSelector(selectDarkMode);\n  const [professorReviewsObject, setProfessorReviewsObject] = useState({});\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const isHMC = useAppSelector((state) => state.appData.classPages.isHMC);\n  if (!selectedClass) {\n    selectedClass = useAppSelector(\n      (state) => state.appData.classPages.selectedClass,\n    );\n  }\n  const daysOfWeek = [\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n    \"Sunday\",\n  ];\n\n  const backgroundColor = darkMode ? eva.style.dark : eva.style.light;\n\n  const { data: isAllowedToReviewRes } = useIsAllowedToReviewQuery({\n    userKey,\n    masterCourseCode: selectedClass.masterCourseCode,\n  });\n\n  useEffect(() => {\n    if (scrollViewRef?.current) {\n      scrollViewRef.current.scrollTo({\n        y: 0,\n        animated: false,\n      });\n    }\n    if (selectedClass) {\n      for (const time of selectedClass.times) {\n        getReviewsFromProfessor(time);\n      }\n    }\n  }, [selectedClass]);\n\n  async function getReviewsFromProfessor(time) {\n    const name = time.professorName;\n    let lastName;\n    try {\n      lastName = time.professorName.split(\" \")[1];\n    } catch (e) {\n      console.log(\"no last name\");\n      lastName = time.professorName;\n    }\n    const res = await fetch(\n      `${base_URL\n      }/classes/reviews/getReviewsByProfessor`\n        + `?professorName=${\n          lastName\n        }&collegeName=${\n          userData.collegeName}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          userKey,\n        },\n      },\n    );\n    if (res.ok) {\n      const reviews = await res.json();\n      if (reviews.length > 0) {\n        const newObject = {\n          ...professorReviewsObject,\n        };\n        newObject[name] = reviews;\n        setProfessorReviewsObject(newObject);\n      }\n    }\n  }\n\n  function buildTimeString(time) {\n    // Compatibility with new course data layout for multiple times per day\n    if (time.courseSchedule && time.courseSchedule.length > 0) {\n      time = time.courseSchedule[0];\n    }\n\n    if (!time.startTime || time.startTime === \"\" || time.startTime === null) {\n      return \"closed\";\n    }\n    return (\n      `${convertTo12HourTime(time.startTime)\n      } - ${\n        convertTo12HourTime(time.endTime)\n      }\\n`\n    );\n  }\n\n  function convertTo12HourTime(time) {\n    if (time.length !== 5) {\n      time = `0${time}`;\n    }\n    let hours = time.slice(0, 2);\n    const minutes = time.slice(3, 5);\n    let ampm = Number.parseInt(hours) > 12 ? \"pm\" : \"am\";\n    hours %= 12;\n    if (hours === 0) {\n      hours = 12;\n      ampm = \"pm\";\n    }\n    return `${hours}:${minutes}${ampm}`;\n  }\n\n  function getProfessorReviewsList() {\n    const final = [];\n    for (const professor of Object.keys(professorReviewsObject)) {\n      const reviews = professorReviewsObject[professor];\n      final.push(\n        <>\n          <Text style={styles.subHeader}>\n            All Reviews:\n            {professor}\n          </Text>\n          {reviews.length === 0 ? (\n            <Text\n              style={{\n                alignSelf: \"center\",\n                textAlign: \"center\",\n                marginBottom: 10,\n              }}\n            >\n              Something went wrong...\n            </Text>\n          ) : (\n            reviews.map((review, index) => (\n              <Card key={index} disabled>\n                <Text>{`${review.text}\\n\\nPosted: ${review.date}`}</Text>\n              </Card>\n            ))\n          )}\n        </>,\n      );\n    }\n    return final;\n  }\n\n  const averageGradeMSGModal = (\n    <Modal\n      visible={showModal}\n      backdropStyle={styles.backdrop}\n      style={{ width: \"75%\" }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={{ fontSize: 15, paddingTop: 5, paddingBottom: 10 }}>\n          The Athena Network collects and aggregates the data anonymously\n          submitted by the Course Review process and calculates what the average\n          student's experience in this course will look like. Given that it is\n          based on voluntarily submitted data, this information is to be used as\n          a reference only. Please consult your advisor before making any\n          impactful decisions.\n        </Text>\n        <Button onPress={() => setShowModal(false)}>Dismiss</Button>\n      </Card>\n    </Modal>\n  );\n\n  if (!selectedClass.times) {\n    return null;\n  }\n\n  const [schedulePopup, setSchedulePopup] = useState(false);\n  const [allTheChildren, setAllTheChildren] = useState([]);\n\n  function toggleSchedulePopUp(time: any) {\n    const finalDays = {};\n    for (const realTime of time.courseSchedule) {\n      for (const day of daysOfWeek) {\n        if (realTime.daysOfTheWeek.includes(day)) {\n          const addition = `${convertTo12HourTime(realTime.startTime)\n          } - ${\n            convertTo12HourTime(realTime.endTime)}`;\n          if (finalDays[day]?.length > 0) {\n            finalDays[day].push(addition);\n          } else {\n            finalDays[day] = [addition];\n          }\n        }\n      }\n    }\n\n    setAllTheChildren(generateTable(finalDays));\n    setSchedulePopup(true);\n  }\n\n  function generateTable(daysObject: any): any {\n    const daysActive = Object.keys(daysObject);\n    const stringArrays = Object.values(daysObject);\n    return (\n      <Layout style={{ flexDirection: \"row\" }}>\n        <Layout>\n          {daysActive.map((value) => {\n            return (\n              <Layout>\n                <Text\n                  style={{\n                    height: 75,\n                    borderWidth: 1,\n                    borderColor: \"black\",\n                    padding: 10,\n                  }}\n                >\n                  {value}\n                </Text>\n              </Layout>\n            );\n          })}\n        </Layout>\n        <Layout>\n          {stringArrays.map((value: string[]) => {\n            return (\n              <Layout>\n                <Text\n                  style={{\n                    height: 75,\n                    borderWidth: 1,\n                    borderColor: \"black\",\n                    padding: 10,\n                  }}\n                >\n                  {value.join(\"\\n\")}\n                </Text>\n              </Layout>\n            );\n          })}\n        </Layout>\n      </Layout>\n    );\n  }\n\n  return (\n    <LinearGradient\n      colors={\n        darkMode\n          ? [theme[\"color-basic-1100\"], theme[\"color-basic-1100\"]]\n          : [theme[\"color-primary-500\"], theme[\"color-success-500\"]]\n      }\n      style={{\n        width: \"100%\", margin: 0, alignItems: \"center\", flex: 1\n      }}\n      start={{ x: 0, y: 0 }}\n      end={{ x: 1, y: 0.4 }}\n    >\n      <ScrollView\n        contentContainerStyle={{ alignSelf: \"center\", maxWidth: 700 }}\n        style={backgroundColor}\n        showsVerticalScrollIndicator={false}\n        ref={scrollViewRef}\n      >\n        <Layout style={[{ alignItems: \"center\" }, backgroundColor]}>\n          <ExportModalClass classData={selectedClass} />\n          <Text style={styles.title}>{selectedClass.courseName}</Text>\n          <Text style={{ paddingTop: 30 }}>\n            {selectedClass.masterCourseCode}\n          </Text>\n\n          <Text style={styles.subtitle}>\n            {`${selectedClass.courseTerm} \\u2022 credits: ${\n              isHMC ? selectedClass.creditWeightHM : selectedClass.creditWeight\n            }`}\n          </Text>\n          {selectedClass.timeSpentOutOfClass && (\n            <Layout\n              style={[\n                {\n                  flexDirection: \"row\",\n                  alignItems: \"flex-start\",\n                  paddingRight: 5,\n                },\n                backgroundColor,\n              ]}\n            >\n              <Text style={styles.subtitle}>Time Spent Per Week</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>\n                :\n                {' '}\n                {selectedClass.timeSpentOutOfClass}\n                {' '}\n                hours\n              </Text>\n            </Layout>\n          )}\n          {selectedClass.averageGrade && (\n            <Layout\n              style={[\n                {\n                  flexDirection: \"row\",\n                  alignItems: \"flex-start\",\n                  paddingRight: 5,\n                },\n                backgroundColor,\n              ]}\n            >\n              <Text style={styles.subtitle}>Average Grade</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>\n                :\n                {' '}\n                {selectedClass.averageGrade}\n              </Text>\n            </Layout>\n          )}\n          {selectedClass.difficulty && (\n            <Layout\n              style={[\n                {\n                  flexDirection: \"row\",\n                  alignItems: \"flex-start\",\n                  paddingRight: 5,\n                },\n                backgroundColor,\n              ]}\n            >\n              <Text style={styles.subtitle}>Estimated Difficulty</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>\n                :\n                {' '}\n                {selectedClass.difficulty}\n                {' '}\n                / 5\n              </Text>\n            </Layout>\n          )}\n          {selectedClass.rating && (\n            <Layout\n              style={[\n                {\n                  flexDirection: \"row\",\n                  alignItems: \"flex-start\",\n                  paddingRight: 5,\n                },\n                backgroundColor,\n              ]}\n            >\n              <Text style={styles.subtitle}>Average Rating</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>\n                :\n                {selectedClass.rating}\n                {' '}\n                / 5\n              </Text>\n            </Layout>\n          )}\n        </Layout>\n        <Layout style={backgroundColor}>\n          <Text style={styles.courseDescription}>{selectedClass.summary}</Text>\n        </Layout>\n        <Layout style={{ ...backgroundColor, ...styles.boxed }}>\n          <Text style={{ fontSize: 15, fontWeight: \"bold\" }}>\n            Stated Prerequisites:\n          </Text>\n          <Text style={{ fontSize: 15 }}>\n            {selectedClass.prerequisites !== \"\"\n              ? selectedClass.prerequisites\n              : \"none\"}\n          </Text>\n\n          <Text style={{ fontSize: 15, fontWeight: \"bold\" }}>\n            Stated Corequisites:\n          </Text>\n          <Text style={{ fontSize: 15 }}>\n            {selectedClass.corequisites !== \"\"\n              ? selectedClass.corequisites\n              : \"none\"}\n          </Text>\n        </Layout>\n        <Layout style={[{ alignItems: \"flex-end\" }, backgroundColor]}>\n          {(selectedClass.timeSpentOutOfClass\n            || selectedClass.averageGrade\n            || selectedClass.difficulty\n            || selectedClass.rating) && (\n            <TouchableOpacity onPress={() => setShowModal(!showModal)}>\n              <Layout\n                style={[\n                  {\n                    flexDirection: \"row\",\n                    alignItems: \"flex-start\",\n                    paddingRight: 5,\n                  },\n                  backgroundColor,\n                ]}\n              >\n                <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n                <Text style={styles.disclaimer}>How Do We Estimate This?</Text>\n              </Layout>\n            </TouchableOpacity>\n          )}\n        </Layout>\n        <Layout style={backgroundColor}>\n          {selectedClass.times.length > 0 && (\n            <Layout style={backgroundColor}>\n              <Text style={styles.subHeader}>Sections</Text>\n              <Layout style={[styles.section, backgroundColor]}>\n                <Text style={styles.headerText}>Course Code</Text>\n                <Text style={styles.headerText}>SA/ST/PERM</Text>\n                <Text style={styles.headerText}>Professor</Text>\n                <Text style={styles.headerText}>Time</Text>\n                <Text style={styles.headerText}>Location</Text>\n              </Layout>\n            </Layout>\n          )}\n          {selectedClass.times.map((time) => {\n            return (\n              <Layout\n                key={time.courseCode}\n                style={{ backgroundColor, ...styles.section }}\n              >\n                <Text style={styles.sectionText}>{time.courseCode}</Text>\n                <Text style={styles.sectionText}>\n                  {time.seatsFilled}\n                  {' '}\n                  /\n                  {time.seatsFilled + time.seatsAvailable}\n                  {\" \"}\n                  /\n                  {' '}\n                  {time.permCount ? time.permCount : 0}\n                </Text>\n                <Text style={styles.sectionText}>{time.professorName}</Text>\n                <Layout style={styles.sectionText}>\n                  {time?.courseSchedule?.length > 1 ? (\n                    <TouchableOpacity\n                      onPress={() => toggleSchedulePopUp(time)}\n                      disabled={!(time?.courseSchedule?.length > 1)}\n                    >\n                      <Text\n                        style={{\n                          ...styles.sectionText,\n                          color: \"rgba(55,81,211,0.84)\",\n                          textDecorationLine: \"underline\",\n                        }}\n                      >\n                        {Platform.OS === \"web\" ? \"Click\" : \"Press\"}\n                        {' '}\n                        for\n                        {\"\\n\"}\n                        schedule\n                      </Text>\n                    </TouchableOpacity>\n                  ) : (\n                    <Text style={styles.sectionText}>\n                      {buildTimeString(time)}\n                      {time?.courseSchedule?.length > 0\n                        ? time.courseSchedule[0].daysOfTheWeek.join(\", \")\n                        : time.daysOfTheWeek.join(\", \")}\n                    </Text>\n                  )}\n                </Layout>\n                <TouchableOpacity\n                  disabled={\n                    !locations[\n                      removeNumbersAndSpaces(\n                        time.courseSchedule[0].classLocation,\n                      )\n                    ]\n                  }\n                  style={{ flex: 1 }}\n                  onPress={() => {\n                    openMap({\n                      waypoints: [],\n                      provider: \"google\",\n                      query: locations[\n                        removeNumbersAndSpaces(\n                          time.courseSchedule[0].classLocation,\n                        )\n                      ]\n                        .map((number) => number.toString())\n                        .join(\", \"),\n                      zoom: 18,\n                    });\n                  }}\n                >\n                  <Text\n                    style={\n                      locations[\n                        removeNumbersAndSpaces(\n                          time.courseSchedule[0].classLocation,\n                        )\n                      ]\n                        ? {\n                          ...styles.sectionText,\n                          color: \"rgba(55,81,211,0.84)\",\n                          textDecorationLine: \"underline\",\n                        }\n                        : { flex: 1 }\n                    }\n                  >\n                    {time.courseSchedule[0].classLocation\n                      ? time.courseSchedule[0].classLocation\n                      : \"TBD\"}\n                  </Text>\n                </TouchableOpacity>\n              </Layout>\n            );\n          })}\n          {averageGradeMSGModal}\n          <ModalContainer\n            children={allTheChildren}\n            backDropVisible={schedulePopup}\n            setBackDropVisible={setSchedulePopup}\n            title=\"Course Time Schedule\"\n          />\n        </Layout>\n        {isAllowedToReviewRes?.isAllowed ? (\n          <Button\n            style={{ margin: 10 }}\n            onPress={() => {\n              navigation.navigate(\"PostReview\");\n            }}\n          >\n            Post Review\n          </Button>\n        ) : null}\n        <Text style={styles.subHeader}>Class Reviews</Text>\n        {selectedClass.reviews.length === 0 ? (\n          <Text\n            style={{\n              alignSelf: \"center\",\n              textAlign: \"center\",\n              marginBottom: 10,\n            }}\n          >\n            No Class Reviews yet\n          </Text>\n        ) : (\n          selectedClass.reviews.map((review, index) => (\n            <Card key={index} disabled>\n              <Text>{`${review.text}\\n\\nPosted: ${review.date}`}</Text>\n              {review.professor && (\n                <Text>{`Taught By: ${review.professor}`}</Text>\n              )}\n            </Card>\n          ))\n        )}\n        {Object.keys(professorReviewsObject).length !== 0\n          ? getProfessorReviewsList()\n          : null}\n      </ScrollView>\n    </LinearGradient>\n  );\n}\n\nexport default withStyles(SingleClassPage, (theme) => ({\n  dark: {\n    backgroundColor: theme[\"color-basic-900\"],\n  },\n  light: {\n    backgroundColor: theme[\"color-basic-200\"],\n  },\n}));\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 20,\n    marginTop: 20,\n    fontWeight: \"bold\",\n  },\n  subtitle: {\n    fontSize: 16,\n  },\n  courseOpen: {\n    backgroundColor: \"green\",\n    color: \"#fff\",\n    padding: 5,\n    marginRight: 10,\n  },\n  courseClosed: {\n    backgroundColor: \"red\",\n    color: \"#fff\",\n    padding: 5,\n    borderRadius: 5,\n  },\n  header: {\n    alignItems: \"center\",\n  },\n  details: {\n    flexDirection: \"row\",\n    padding: 10,\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n  },\n  courseDescription: {\n    paddingRight: 20,\n    paddingLeft: 20,\n    paddingTop: 10,\n    paddingBottom: 5,\n    fontSize: 17,\n  },\n  BodyContainer: {\n    borderTopWidth: 1,\n    borderTopColor: \"black\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-evenly\",\n    padding: 10,\n    paddingTop: 20,\n    paddingBottom: 20,\n  },\n  boxed: {\n    alignItems: \"center\",\n    margin: 8,\n    borderColor: \"black\",\n    borderWidth: 1,\n    padding: 7,\n  },\n  documentStyle: {\n    width: 150,\n    height: 190,\n    paddingTop: 100,\n  },\n  imageLabel: {\n    fontSize: 12,\n    color: \"black\",\n    padding: 10,\n    textAlign: \"center\",\n  },\n  schedule: {\n    paddingLeft: 20,\n    paddingTop: 10,\n  },\n  graphImage: {\n    width: \"100%\",\n    aspectRatio: 1,\n    resizeMode: \"contain\",\n  },\n  grade: {\n    fontSize: 50,\n    fontWeight: \"bold\",\n    color: \"green\",\n  },\n  reviewText: {\n    fontSize: 16,\n    fontStyle: \"italic\",\n  },\n  reviewBox: {\n    width: \"95%\",\n    padding: 10,\n    borderWidth: 1,\n    borderColor: \"black\",\n    borderRadius: 5,\n    marginBottom: 10,\n  },\n  section: {\n    flexDirection: \"row\",\n    paddingLeft: 5,\n    borderBottomWidth: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  headerText: {\n    fontWeight: \"bold\",\n    fontSize: 13,\n    flex: 1,\n  },\n  sectionText: {\n    flex: 1,\n  },\n  disclaimer: {\n    fontSize: 14,\n    fontStyle: \"italic\",\n  },\n  backdrop: {\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  containerDrop: {\n    height: 42,\n    margin: 12,\n    borderWidth: 1,\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30,\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  subHeader: {\n    fontSize: 20,\n    paddingLeft: 20,\n    paddingBottom: 20,\n    paddingTop: 20,\n    fontWeight: \"bold\",\n  },\n});\n","export const RENDERED_RESULTS_LIMIT = 10;\nexport const NEW_REVIEW_FIELDS = [\n  {\n    label: \"Professor\",\n    id: \"professor\",\n    mandatory: false,\n    type: \"String\",\n  },\n  {\n    label: \"Grade\",\n    id: \"grade\",\n    type: \"DropDown\",\n    mandatory: false,\n    options: [\n      {\n        label: \"A+\",\n        id: \"A\",\n      },\n      {\n        label: \"A\",\n        id: \"A\",\n      },\n      {\n        label: \"A-\",\n        id: \"A\",\n      },\n      {\n        label: \"B+\",\n        id: \"B\",\n      },\n      {\n        label: \"B\",\n        id: \"B\",\n      },\n      {\n        label: \"B-\",\n        id: \"B\",\n      },\n      {\n        label: \"C+\",\n        id: \"C\",\n      },\n      {\n        label: \"C\",\n        id: \"C\",\n      },\n      {\n        label: \"C-\",\n        id: \"C\",\n      },\n      {\n        label: \"D+\",\n        id: \"D\",\n      },\n      {\n        label: \"D\",\n        id: \"D\",\n      },\n      {\n        label: \"D-\",\n        id: \"D\",\n      },\n      {\n        label: \"F+\",\n        id: \"F\",\n      },\n      {\n        label: \"F\",\n        id: \"F\",\n      },\n      {\n        label: \"F-\",\n        id: \"F\",\n      },\n    ],\n  },\n  {\n    label: \"Time Spent in Hours (ie: 7)\",\n    id: \"timeSpent\",\n    mandatory: false,\n    type: \"String\",\n  },\n];\n","import {\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem,\n  Text,\n  useTheme,\n  Button,\n  Spinner,\n  Input,\n} from \"@ui-kitten/components\";\nimport { useState } from \"react\";\nimport { Alert, StyleSheet, ScrollView } from \"react-native\";\n\nimport { selectUserKey } from \"../../../app/appDataSlice\";\nimport { useAppSelector } from \"../../../app/hooks\";\nimport { NEW_REVIEW_FIELDS as fields } from \"../../../constants/classPages\";\nimport { useSendReviewMutation } from \"../../api/classPagesApi\";\n\nexport default function NewReview({ navigation }) {\n  const [body, setBody] = useState({});\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector((state) => state.appData.secure.darkMode);\n  const selectedClass = useAppSelector(\n    (state) => state.appData.classPages.selectedClass,\n  );\n  const [sendReview, { isLoading }] = useSendReviewMutation();\n\n  const theme = useTheme();\n\n  const backgroundColor = darkMode\n    ? theme[\"color-basic-900\"]\n    : theme[\"color-basic-200\"];\n\n  const color = darkMode ? theme[\"color-basic-200\"] : theme[\"color-basic-900\"];\n\n  const handleReviewSubmitted = async () => {\n    try {\n      await sendReview({\n        body: {\n          ...body,\n          masterCourseCode: selectedClass.masterCourseCode,\n        },\n        userKey,\n      }).unwrap();\n      Alert.alert(\n        \"Review Submitted\",\n        `Your review of \"${selectedClass.courseName}\" has been submitted and is now pending approval.\\n\\nThank You!`,\n        [\n          {\n            text: \"OK\",\n            onPress: () => {\n              navigation.goBack();\n            },\n          },\n        ],\n      );\n    } catch (error) {\n      Alert.alert(\n        \"Error\",\n        `There was an error submitting your review. Please try again later.`,\n      );\n      console.warn(\"Error submitting review: \", error);\n    }\n  };\n\n  function renderTheFieldsNecessary(fields) {\n    const changeValue = (theValue, valueToChange) => {\n      const newBody = body;\n      for (const aspect in newBody) {\n        if (\n          newBody[aspect] === null\n          || newBody[aspect] === undefined\n          || newBody[aspect] === \"\"\n        ) {\n          delete newBody[aspect];\n        }\n      }\n      if (theValue !== undefined) {\n        newBody[valueToChange] = theValue;\n      } else if (newBody[valueToChange]) {\n        delete newBody[valueToChange];\n      }\n      setBody(newBody);\n    };\n    const renderFilterParameters = (fields) => {\n      if (fields.length === 0) {\n        return null;\n      }\n      return (\n        <Layout style={{ flexDirection: \"row\", backgroundColor }}>\n          <Text\n            style={{\n              fontSize: 15,\n              paddingLeft: 12,\n              paddingBottom: 5,\n              paddingTop: 5,\n              alignContent: \"center\",\n              fontWeight: \"bold\",\n            }}\n          >\n            Review Details\n          </Text>\n        </Layout>\n      );\n    };\n    const final = [];\n\n    const renderDropDown = (field) => {\n      const [selectedIndex, setSelectedIndex] = useState(new IndexPath(0));\n      const [hasChosen, setHasChosen] = useState(false);\n\n      function currentValue() {\n        return (\n          <Text key=\"gal;fkdjsl;f\">\n            {!hasChosen\n              ? `Choose ${\n                field.label\n              }${field.mandatory ? \" (mandatory)\" : \"\"}`\n              : field.options[selectedIndex.row - 1].label}\n            {\" \"}\n          </Text>\n        );\n      }\n\n      function handleSelection(index) {\n        setSelectedIndex(index);\n        changeValue(\n          index.row === 0 ? undefined : field.options[index.row - 1].id,\n          field.id,\n        );\n        if (index.row === 0) {\n          setHasChosen(false);\n        } else {\n          setHasChosen(true);\n        }\n      }\n\n      return (\n        <Select\n          style={{ ...styles.containerDrop, backgroundColor }}\n          value={currentValue}\n          selectedIndex={selectedIndex}\n          onSelect={handleSelection}\n        >\n          <SelectItem title={\" \"} />\n          {field.options.map(({ label }, index) => (\n            <SelectItem title={label} key={index} />\n          ))}\n        </Select>\n      );\n    };\n    final.push(\n      <Input\n        key=\"lfjdsa;lfaj\"\n        autoCapitalize=\"sentences\"\n        onChangeText={(theValue) => changeValue(theValue, \"text\")}\n        style={{ ...styles.inputBig, backgroundColor, color }}\n        multiline\n        placeholderTextColor={darkMode ? theme[\"color-basic-500\"] : \"gray\"}\n        placeholder=\"Review Text (mandatory)\"\n      />,\n    );\n    for (let i = 0; i < fields.length; i++) {\n      const { type } = fields[i];\n      if (type === \"String\") {\n        final.push(\n          <Input\n            key={i}\n            autoCapitalize=\"words\"\n            clearButtonMode=\"always\"\n            onChangeText={(theValue) => changeValue(theValue, fields[i].id)}\n            style={{ ...styles.input, backgroundColor, color }}\n            placeholderTextColor={darkMode ? theme[\"color-basic-500\"] : \"gray\"}\n            placeholder={\n              fields[i].mandatory\n                ? `${fields[i].label} (mandatory)`\n                : fields[i].label\n            }\n          />,\n        );\n      } else if (type === \"DropDown\") {\n        final.push(renderDropDown(fields[i]));\n      }\n    }\n\n    return (\n      <Layout style={{ backgroundColor }}>\n        {renderFilterParameters(fields)}\n        <Layout style={{ backgroundColor }}>{final}</Layout>\n      </Layout>\n    );\n  }\n\n  return (\n    <ScrollView style={{ backgroundColor }}>\n      <Layout style={{ backgroundColor, ...styles.container }}>\n        <Layout style={{ backgroundColor }}>\n          {renderTheFieldsNecessary(fields)}\n        </Layout>\n        <Button style={{ margin: 12 }} onPress={handleReviewSubmitted}>\n          Post Review\n        </Button>\n      </Layout>\n      {isLoading ? (\n        <Layout\n          style={{\n            backgroundColor: \"transparent\",\n            position: \"absolute\",\n            right: \"50%\",\n            top: \"50%\",\n          }}\n        >\n          <Spinner />\n        </Layout>\n      ) : null}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 50,\n    margin: 12,\n    padding: 10,\n    borderColor: \"#B3B3B3\",\n    borderRadius: 5,\n    borderWidth: 1,\n  },\n  inputBig: {\n    height: 200,\n    margin: 12,\n    padding: 10,\n    borderColor: \"#B3B3B3\",\n    borderRadius: 5,\n    borderWidth: 1,\n  },\n  containerDrop: {\n    height: 42,\n    margin: 12,\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30,\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n  },\n  container: {\n    flex: 1,\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"100%\",\n  },\n  address: {\n    alignItems: \"center\",\n    margin: 10,\n    padding: 10,\n  },\n  video: {\n    marginTop: 20,\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10,\n  },\n  logo: {\n    width: \"100%\",\n    height: 100,\n  },\n  couponContainer: {\n    width: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  coupon: {\n    width: 400,\n    height: 267,\n  },\n  imageGallery: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    margin: 10,\n    marginBottom: 0,\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n});\n","import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\n\nimport InfoPage from \"./InfoPage\";\nimport PostReview from \"./PostReview\";\n\nconst Stack = createNativeStackNavigator();\n\nexport default function SingleClassPage({ bottomSheetRef }) {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"InfoPage\"\n        component={InfoPage}\n        options={{ title: \"ClassPages\" }}\n      />\n      <Stack.Screen\n        name=\"PostReview\"\n        component={PostReview}\n        options={{ title: \"Post Review\" }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { Entypo } from \"@expo/vector-icons\";\nimport {\n  Divider, Layout, Text, useTheme\n} from \"@ui-kitten/components\";\nimport { FlatList, TouchableOpacity } from \"react-native\";\n\ntype AddedClassesProps = {\n  setAddedClassesVisible: (visible: boolean) => void;\n  addedClasses: { [masterCourseCode: string]: string[] };\n  handleRemoveClass: (courseCode: string, masterCourseCode: string) => void;\n  darkMode: boolean;\n};\n\nexport default function AddedClasses({\n  addedClasses,\n  handleRemoveClass,\n  darkMode,\n}: AddedClassesProps) {\n  const theme = useTheme();\n\n  const classes = [];\n  Object.entries(addedClasses).forEach(([masterCourseCode, courseCodes]) => {\n    courseCodes.forEach((courseCode) => {\n      classes.push([masterCourseCode, courseCode]);\n    });\n  });\n\n  const renderItem = ({ item }) => {\n    const [masterCourseCode, courseCode] = item;\n    return (\n      <Layout\n        style={{\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          paddingVertical: 7,\n          backgroundColor: darkMode\n            ? theme[\"color-basic-900\"]\n            : theme[\"color-basic-100\"],\n        }}\n      >\n        <Text style={{ fontSize: 18 }}>{courseCode}</Text>\n\n        <TouchableOpacity\n          onPress={() => handleRemoveClass(courseCode, masterCourseCode)}\n        >\n          <Entypo name=\"cross\" size={28} color=\"red\" />\n        </TouchableOpacity>\n      </Layout>\n    );\n  };\n\n  return (\n    <Layout\n      style={{\n        flex: 1,\n        paddingBottom: 10,\n        backgroundColor: darkMode\n          ? theme[\"color-basic-900\"]\n          : theme[\"color-basic-100\"],\n      }}\n    >\n      <FlatList\n        contentContainerStyle={{ width: 300 }}\n        ListEmptyComponent={(\n          <Text>\n            No classes yet... Click the\n            {\" \"}\n            <Text style={{ fontWeight: \"bold\" }}>+</Text>\n            {' '}\n            next to a class to see\n            it here\n          </Text>\n        )}\n        ItemSeparatorComponent={() => <Divider />}\n        data={classes}\n        renderItem={renderItem}\n      />\n    </Layout>\n  );\n}\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport { Layout, Text } from \"@ui-kitten/components\";\nimport { useRef } from \"react\";\nimport { StyleSheet, Animated, TouchableOpacity } from \"react-native\";\n\nexport default function ClassListItemItem({\n  courseCode,\n  seatsAvailable,\n  seatsFilled,\n  handleAddClass,\n  handleRemoveClass,\n  darkMode,\n  added,\n  masterCourseCode,\n}) {\n  const selectedAnim = useRef(new Animated.Value(1)).current;\n\n  return (\n    <Layout style={styles.dropDownItem}>\n      <Text>{`\\u2022 ${courseCode}`}</Text>\n      <Text\n        style={seatsAvailable > 0 ? styles.isAvailable : styles.notAvailable}\n      >\n        {seatsFilled}\n        {' '}\n        /\n        {seatsFilled + seatsAvailable}\n      </Text>\n      {/* Add / Remove Class */}\n      <TouchableOpacity\n        activeOpacity={1}\n        onPress={() => {\n          if (added) {\n            handleRemoveClass(courseCode, masterCourseCode);\n          } else {\n            handleAddClass(courseCode, masterCourseCode);\n          }\n          Animated.sequence([\n            Animated.spring(selectedAnim, {\n              toValue: 0.0,\n              speed: 16,\n              useNativeDriver: true,\n            }),\n          ]).start(() => {\n            Animated.spring(selectedAnim, {\n              toValue: 1,\n              speed: 16,\n              useNativeDriver: true,\n            }).start();\n          });\n        }}\n      >\n        <Animated.View\n          style={{\n            width: 50,\n            alignItems: \"center\",\n            transform: [\n              {\n                scale: selectedAnim,\n              },\n            ],\n          }}\n        >\n          <FontAwesome5\n            style={{ padding: 5 }}\n            size={24}\n            name={added ? \"times\" : \"plus\"}\n            color={darkMode ? \"white\" : \"black\"}\n          />\n        </Animated.View>\n      </TouchableOpacity>\n    </Layout>\n  );\n}\n\nconst styles = StyleSheet.create({\n  list__container: {\n    margin: 10,\n    marginLeft: 0,\n    height: \"90%\",\n    width: \"100%\",\n  },\n  addedClassesContainer: {\n    position: \"absolute\",\n    zIndex: 1,\n    width: \"60%\",\n    borderTopRightRadius: 20,\n    borderBottomRightRadius: 20,\n    borderColor: \"#c2c2c2\",\n    backgroundColor: \"#f7f7f7\",\n    paddingTop: 5,\n    borderTopWidth: 1.5,\n    borderBottomWidth: 1.5,\n    borderRightWidth: 1.5,\n  },\n  addedClasses: {\n    position: \"absolute\",\n    right: 3,\n    top: 3,\n    padding: 7,\n    margin: 5,\n    backgroundColor: \"#c9c9c9\",\n    borderRadius: 100,\n  },\n  item: {\n    marginBottom: 10,\n    marginTop: 10,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    marginBottom: 5,\n  },\n  buttonContainer: {\n    right: 0,\n    position: \"absolute\",\n    width: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100%\",\n  },\n  button: {\n    padding: 5,\n    borderColor: \"grey\",\n  },\n  dropDown: {\n    backgroundColor: \"#f7f7f7\",\n    paddingLeft: 30,\n    paddingBottom: 10,\n    paddingTop: 10,\n  },\n  dropDownItem: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    height: 54,\n  },\n  isAvailable: {\n    color: \"green\",\n  },\n  notAvailable: {\n    color: \"red\",\n  },\n  loadingMessage: {\n    fontSize: 20,\n    color: \"white\",\n    alignSelf: \"center\",\n    fontStyle: \"italic\",\n  },\n  loadingMessageRefresh: {\n    fontSize: 15,\n    paddingTop: 20,\n    color: \"white\",\n    alignSelf: \"center\",\n    fontWeight: \"bold\",\n  },\n  filters: {\n    backgroundColor: \"white\",\n    alignItems: \"center\",\n    padding: 10,\n  },\n});\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport { Layout, Text } from \"@ui-kitten/components\";\nimport {\n  useEffect, useMemo, useRef, useState\n} from \"react\";\nimport {\n  StyleSheet,\n  TouchableOpacity,\n  LayoutAnimation,\n  UIManager,\n  Platform,\n  Animated,\n} from \"react-native\";\n\nimport ClassListItemItem from \"./ClassListItemItem\";\nimport useTraceUpdate from \"../../hooks/useTraceUpdate\";\n\nif (\n  Platform.OS === \"android\"\n  && UIManager.setLayoutAnimationEnabledExperimental\n) {\n  UIManager.setLayoutAnimationEnabledExperimental(true);\n}\n\nexport default function Item({\n  courseName,\n  masterCourseCode,\n  schedule,\n  menuOpen,\n  setIsMenuOpen,\n  darkMode,\n  handleClassSelected,\n  handleAddClass,\n  handleRemoveClass,\n  inItem,\n}) {\n  const memoizedItem = useMemo(() => {\n    return (\n      <Layout\n        style={{\n          borderRadius: 20,\n          opacity: 1,\n          marginTop: 7,\n          marginRight: 9,\n          marginLeft: 9,\n        }}\n      >\n        {/* Name and master coursecode */}\n        <Layout style={{ marginHorizontal: 20 }}>\n          <Layout>\n            <TouchableOpacity\n              onPress={() => {\n                handleClassSelected(masterCourseCode);\n              }}\n            >\n              <Layout style={styles.item}>\n                <Text style={styles.title}>{courseName}</Text>\n                <Text>{masterCourseCode}</Text>\n              </Layout>\n            </TouchableOpacity>\n\n            {/* Dropdown Menu Toggle */}\n            <TouchableOpacity\n              style={styles.buttonContainer}\n              onPress={() => {\n                if (menuOpen === masterCourseCode) {\n                  setIsMenuOpen(\"\");\n                  LayoutAnimation.configureNext({\n                    duration: 730,\n                    create: { type: \"easeInEaseOut\", property: \"opacity\" },\n                    update: { type: \"spring\", springDamping: 0.8 },\n                  });\n                } else {\n                  setIsMenuOpen(masterCourseCode);\n                  LayoutAnimation.configureNext({\n                    duration: Platform.OS === \"android\" ? 500 : 730,\n                    create: { type: \"easeInEaseOut\", property: \"opacity\" },\n                    update: { type: \"spring\", springDamping: 0.8 },\n                  });\n                }\n              }}\n            >\n              <Layout style={styles.button}>\n                <FontAwesome5\n                  name={\n                    menuOpen === masterCourseCode\n                      ? \"chevron-up\"\n                      : \"chevron-down\"\n                  }\n                  size={20}\n                  color={darkMode ? \"white\" : \"black\"}\n                />\n              </Layout>\n            </TouchableOpacity>\n          </Layout>\n\n          {/* Dropdown Menu */}\n          {menuOpen === masterCourseCode && (\n            <Layout>\n              {schedule.map(\n                ({\n                  _id, courseCode, seatsAvailable, seatsFilled, added\n                }) => (\n                  <ClassListItemItem\n                    key={_id}\n                    courseCode={courseCode}\n                    seatsAvailable={seatsAvailable}\n                    seatsFilled={seatsFilled}\n                    handleAddClass={handleAddClass}\n                    handleRemoveClass={handleRemoveClass}\n                    darkMode={darkMode}\n                    added={added}\n                    masterCourseCode={masterCourseCode}\n                  />\n                ),\n              )}\n            </Layout>\n          )}\n        </Layout>\n      </Layout>\n    );\n  }, [menuOpen, inItem, darkMode]);\n\n  // useTraceUpdate(memoizedItem);\n  return memoizedItem;\n}\n\nconst styles = StyleSheet.create({\n  list__container: {\n    margin: 10,\n    marginLeft: 0,\n    height: \"90%\",\n    width: \"100%\",\n  },\n  addedClassesContainer: {\n    position: \"absolute\",\n    zIndex: 1,\n    width: \"60%\",\n    borderTopRightRadius: 20,\n    borderBottomRightRadius: 20,\n    borderColor: \"#c2c2c2\",\n    backgroundColor: \"#f7f7f7\",\n    paddingTop: 5,\n    borderTopWidth: 1.5,\n    borderBottomWidth: 1.5,\n    borderRightWidth: 1.5,\n  },\n  addedClasses: {\n    position: \"absolute\",\n    right: 3,\n    top: 3,\n    padding: 7,\n    margin: 5,\n    backgroundColor: \"#c9c9c9\",\n    borderRadius: 100,\n  },\n  item: {\n    marginBottom: 10,\n    marginTop: 10,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    marginBottom: 5,\n    marginRight: 30,\n  },\n  buttonContainer: {\n    right: 0,\n    position: \"absolute\",\n    width: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100%\",\n  },\n  button: {\n    padding: 5,\n    borderColor: \"grey\",\n  },\n  dropDown: {\n    backgroundColor: \"#f7f7f7\",\n    paddingLeft: 30,\n    paddingBottom: 10,\n    paddingTop: 10,\n  },\n  dropDownItem: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    height: 54,\n  },\n  isAvailable: {\n    color: \"green\",\n  },\n  notAvailable: {\n    color: \"red\",\n  },\n  loadingMessage: {\n    fontSize: 20,\n    color: \"white\",\n    alignSelf: \"center\",\n    fontStyle: \"italic\",\n  },\n  loadingMessageRefresh: {\n    fontSize: 15,\n    paddingTop: 20,\n    color: \"white\",\n    alignSelf: \"center\",\n    fontWeight: \"bold\",\n  },\n  addClassButton: {\n    padding: 15,\n  },\n  filters: {\n    backgroundColor: \"white\",\n    alignItems: \"center\",\n    padding: 10,\n  },\n});\n","import {\n  Button,\n  CheckBox,\n  Divider,\n  Layout,\n  Text,\n  Toggle,\n  useTheme,\n} from \"@ui-kitten/components\";\nimport { useState } from \"react\";\n\nimport {\n  classPagesSlice,\n  filtersReset,\n  filtersSaved,\n  isHMCUpdated,\n} from \"./classPagesSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\n\nexport default function FilterClasses({ darkMode, setFiltersMenuVisible }) {\n  const theme = useTheme();\n  const initialFilters = classPagesSlice.getInitialState().filters;\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const isHMC = useAppSelector((state) => state.appData.classPages.isHMC);\n\n  const [colleges, setColleges] = useState(filters.colleges);\n\n  const dispatch = useAppDispatch();\n\n  const onChangeIsHMC = (change: boolean) => {\n    dispatch(isHMCUpdated(change));\n  };\n\n  const onChangeFilterCollege = (college: string, change: boolean) => {\n    setColleges({ ...colleges, [college]: change });\n  };\n\n  const resetFilters = () => {\n    setColleges(initialFilters.colleges);\n    dispatch(filtersReset());\n  };\n\n  const saveFilters = () => {\n    dispatch(filtersSaved({ colleges }));\n    setFiltersMenuVisible(false);\n  };\n\n  return (\n    <Layout\n      style={{\n        backgroundColor: darkMode\n          ? theme[\"color-basic-900\"]\n          : theme[\"color-basic-100\"],\n        alignItems: \"center\",\n        padding: 10,\n      }}\n    >\n      <Layout\n        style={{\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          marginBottom: 10,\n          backgroundColor: darkMode\n            ? theme[\"color-basic-900\"]\n            : theme[\"color-basic-100\"],\n        }}\n      >\n        <Text>4C Credits </Text>\n        <Toggle\n          checked={isHMC}\n          onChange={(change) => {\n            onChangeIsHMC(change);\n          }}\n        />\n        <Text> HMC Credits</Text>\n      </Layout>\n      <Divider />\n      <Text style={{ marginVertical: 5 }}>Colleges</Text>\n      <Layout\n        style={{\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        {Object.keys(colleges).map((college) => (\n          <CheckBox\n            style={{\n              backgroundColor: darkMode\n                ? theme[\"color-basic-900\"]\n                : theme[\"color-basic-100\"],\n            }}\n            key={college}\n            checked={colleges[college]}\n            onChange={(change) => {\n              onChangeFilterCollege(college, change);\n            }}\n          >\n            {college}\n          </CheckBox>\n        ))}\n      </Layout>\n      <Button style={{ marginTop: 20 }} onPress={saveFilters}>\n        Update Results\n      </Button>\n      <Button\n        size=\"small\"\n        style={{ marginTop: 20 }}\n        status=\"info\"\n        onPress={resetFilters}\n      >\n        Reset Filters\n      </Button>\n    </Layout>\n  );\n}\n","import { Layout, Text } from \"@ui-kitten/components\";\n\nexport default function Message({ title, item }) {\n  return (\n    <Layout\n      style={{\n        flex: 1,\n        marginTop: 10,\n        alignItems: \"center\",\n        backgroundColor: \"transparent\",\n      }}\n    >\n      <Text style={{ margin: 20, color: \"#fff\" }}>{title}</Text>\n      {item}\n    </Layout>\n  );\n}\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport BottomSheet from \"@gorhom/bottom-sheet/lib/typescript/components/bottomSheet/BottomSheet\";\nimport {\n  Button,\n  Layout,\n  List,\n  Spinner,\n  Text,\n  useTheme,\n} from \"@ui-kitten/components\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useEffect, useRef, useState } from \"react\";\nimport {\n  Keyboard,\n  LayoutAnimation,\n  Platform,\n  RefreshControl,\n  TouchableOpacity,\n} from \"react-native\";\n\nimport AddedClasses from \"./AddedClasses\";\nimport Item from \"./ClassListItem\";\nimport FilterClasses from \"./FilterClasses\";\nimport SingleClassPage from \"./SingleClassPage\";\nimport {\n  classSelected,\n  endOfListReached,\n  resetClasses,\n  searchTermUpdated,\n  selectClassesList,\n  suggestedClassesDimissed,\n} from \"./classPagesSlice\";\nimport { selectDarkMode, selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport Message from \"../../components/Message\";\nimport ModalContainer from \"../../components/ModalContainer\";\nimport SearchBar from \"../../components/SearchBar\";\nimport { RENDERED_RESULTS_LIMIT } from \"../../constants/classPages\";\nimport {\n  useAddClassMutation,\n  useAddMultipleClassesMutation,\n  useLazyGetAllClassesQuery,\n  useRemoveClassMutation,\n} from \"../api/classPagesApi\";\nimport { useGetUserInfoQuery, useLazyGetUserInfoQuery } from \"../api/usersApi\";\nimport { showToast } from \"../../functions\";\n\nexport function CurrentTermLabel({\n  navigation,\n  currentSection,\n  style = {},\n  textStyle = {},\n}) {\n  return (\n    <TouchableOpacity\n      style={style}\n      onPress={() => navigation.navigate(\"SelectTerm\")}>\n      <Text category=\"label\" style={textStyle}>\n        {`Term: ${currentSection}`}\n      </Text>\n    </TouchableOpacity>\n  );\n}\n\nexport default function ClassesList({ navigation }) {\n  const [menuOpen, setMenuOpen] = useState(null);\n  const [addedClassesVisible, setAddedClassesVisible] = useState(false);\n  const [filtersMenuVisible, setFiltersMenuVisible] = useState(false);\n  const [listRef, setListRef] = useState(null);\n\n  const [addClass] = useAddClassMutation();\n  const [addMultipleClasses] = useAddMultipleClassesMutation();\n  const [removeClass] = useRemoveClassMutation();\n  const [fetchUserInfo] = useLazyGetUserInfoQuery();\n  const [getClasses, { isLoading: classListLoading, isError }] =\n    useLazyGetAllClassesQuery();\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection,\n  );\n\n  // Selectors\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const classes = useAppSelector(selectClassesList);\n  const userKey = useAppSelector(selectUserKey);\n  const page = useAppSelector((state) => state.appData.classPages.page);\n  const darkMode = useAppSelector(selectDarkMode);\n  const searchTerm = useAppSelector(\n    (state) => state.appData.classPages.searchTerm,\n  );\n  const renderedClasses = useAppSelector(\n    (state) => state.appData.classPages.renderedClasses,\n  );\n  const suggestedClasses = useAppSelector(\n    (state) => state.appData.classPages.suggestedClasses,\n  );\n\n  const { data: userData, isSuccess: userInfoSuccess } = useGetUserInfoQuery(\n    userKey,\n    { skip: !userKey },\n  );\n  const collegeName = userData?.collegeName || \"claremontColleges\";\n\n  const userName = userData?.userName;\n  const addedClasses = userData?.addedClasses?.classes;\n  const length = userData?.addedClasses?.classes?.[currentSection]\n    ? Object.keys(userData.addedClasses.classes?.[currentSection]).length\n    : 0;\n\n  // Other Hooks\n  const theme = useTheme();\n  const dispatch = useAppDispatch();\n  const bottomSheetRef = useRef<BottomSheet>(null);\n\n  useEffect(() => {\n    fetchClasses();\n  }, []);\n\n  const fetchClasses = () => {\n    if (Object.keys(classes).length === 0) {\n      try {\n        getClasses({\n          userKey,\n          collegeName,\n          courseTerm: currentSection,\n        }).unwrap();\n      } catch (e) {\n        console.warn(\"Error getting classes: \", e);\n      }\n    } else {\n      dispatch(resetClasses());\n    }\n  };\n\n  const isClassAdded = (courseCode: string, masterCourseCode: string) => {\n    return (\n      currentSection in addedClasses &&\n      masterCourseCode in addedClasses[currentSection] &&\n      addedClasses[currentSection][masterCourseCode].includes(courseCode)\n    );\n  };\n\n  const handleRefresh = () => {\n    fetchUserInfo(userKey);\n    fetchClasses();\n  };\n\n  const handleSearch = (searchPhrase: string) => {\n    if (listRef) {\n      listRef.scrollToOffset({ animated: true, offset: 0 });\n    }\n    dispatch(searchTermUpdated(searchPhrase));\n  };\n\n  const handleClassSelected = (courseCode: string) => {\n    dispatch(classSelected(courseCode));\n    if (Platform.OS === \"web\") {\n      navigation.navigate(\"SingleClassPage\");\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  };\n\n  const handleAddClass = (courseCode: string, masterCourseCode: string) => {\n    try {\n      addClass({\n        userKey,\n        courseCode,\n        courseTerm: currentSection,\n        userName,\n        masterCourseCode,\n      }).unwrap();\n    } catch (e) {\n      console.warn(\"Add class error: \", e);\n    }\n  };\n\n  const handleRemoveClass = (courseCode: string, masterCourseCode: string) => {\n    try {\n      removeClass({\n        userKey,\n        courseCode,\n        courseTerm: currentSection,\n        userName,\n        masterCourseCode,\n      }).unwrap();\n    } catch (e) {\n      console.warn(\"Add class error: \", e);\n    }\n  };\n\n  const handleMassImport = async () => {\n    const courseCodes = [\n      ...searchTerm.matchAll(/\\b[A-Z]+\\d+[A-Z]*\\s?[A-Z]+-\\d+\\b/g),\n    ];\n    if (!courseCodes[0]) {\n      showToast(\"No course codes found in search bar\", \"maroon\");\n      return;\n    }\n    const courseCodePairs = courseCodes.reduce((accumulator, courseCode) => {\n      const masterCourseCode = courseCode[0].match(/\\b[A-Z]+\\d+[A-Z]*\\b/);\n      if (\n        !masterCourseCode[0] ||\n        isClassAdded(courseCode[0], masterCourseCode[0])\n      ) {\n        // Skip this course code\n        return accumulator;\n      }\n      return [\n        ...accumulator,\n        { masterCourseCode: masterCourseCode[0], courseCode: courseCode[0] },\n      ];\n    }, []);\n\n    if (courseCodePairs.length === 0) {\n      showToast(\"No new course codes found in search bar\", \"maroon\");\n      return;\n    }\n\n    const message = `Added ${courseCodePairs.length} class(es) to ${currentSection}`;\n\n    try {\n      await addMultipleClasses({\n        userKey,\n        courseCodePairs,\n        courseTerm: currentSection,\n        userName,\n      }).unwrap();\n      showToast(message, \"green\");\n    } catch (e) {\n      console.warn(\"Mass import error: \", e);\n      showToast(\"Error adding classes\", \"maroon\");\n    }\n  };\n\n  const renderItem = ({ item: [masterCourseCode, courseInfo] }) => {\n    // check if course is in addedClasses set and set to true if it is\n    const inItem = [];\n    const schedule = courseInfo.times.map((time) => {\n      if (isClassAdded(time.courseCode, masterCourseCode)) {\n        inItem.push(time.courseCode);\n        return { ...time, added: true };\n      }\n      inItem.push(time.courseCode);\n      return { ...time, added: false };\n    });\n\n    return (\n      <Item\n        courseName={courseInfo.courseName}\n        masterCourseCode={masterCourseCode}\n        schedule={schedule}\n        menuOpen={menuOpen}\n        setIsMenuOpen={setMenuOpen}\n        darkMode={darkMode}\n        handleClassSelected={handleClassSelected}\n        handleAddClass={handleAddClass}\n        handleRemoveClass={handleRemoveClass}\n        inItem={inItem}\n      />\n    );\n  };\n\n  const accessoryLeft = (\n    <Layout style={{ flexDirection: \"row\", backgroundColor: \"transparent\" }}>\n      <TouchableOpacity\n        onPress={() => setAddedClassesVisible(!addedClassesVisible)}\n        style={{ justifyContent: \"center\", marginRight: 10 }}>\n        <FontAwesome5\n          name=\"list-ul\"\n          size={24}\n          color={darkMode ? theme[\"color-basic-500\"] : theme[\"color-basic-200\"]}\n        />\n        {length > 0 ? (\n          <Layout\n            style={{\n              position: \"absolute\",\n              backgroundColor: darkMode ? \"red\" : \"#fff\",\n              borderRadius: 10,\n              paddingHorizontal: 3,\n              right: -7,\n              top: -3,\n            }}>\n            <Text>{length}</Text>\n          </Layout>\n        ) : null}\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={{ justifyContent: \"center\", marginRight: 10 }}\n        onPress={() => setFiltersMenuVisible(!filtersMenuVisible)}>\n        <FontAwesome5\n          name={filtersMenuVisible ? \"chevron-up\" : \"chevron-down\"}\n          size={24}\n          color={darkMode ? theme[\"color-basic-500\"] : theme[\"color-basic-200\"]}\n        />\n      </TouchableOpacity>\n    </Layout>\n  );\n\n  const renderFilteredCollegesList = () => {\n    const filteredColleges = Object.keys(filters.colleges).filter(\n      (c) => filters.colleges[c],\n    );\n\n    if (filteredColleges.length < 5) {\n      return (\n        <Text\n          category=\"label\"\n          style={{ fontStyle: \"italic\", marginTop: 5, color: \"#fff\" }}>\n          {`Colleges: ${filteredColleges.join(\", \")}`}\n        </Text>\n      );\n    }\n    return <Layout style={{ backgroundColor: \"transparent\", marginTop: 20 }} />;\n  };\n\n  const dismissSuggestions = () => {\n    LayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n    dispatch(suggestedClassesDimissed());\n  };\n\n  // Decide what content to render\n  let content: keyof JSX.IntrinsicElements | JSX.Element;\n\n  if (classListLoading || !userInfoSuccess) {\n    content = <Message title=\"Loading Classes\" item={<Spinner />} />;\n  } else if (isError) {\n    content = (\n      <Message\n        title=\"Error Loading Classes\"\n        item={<Button onPress={fetchClasses}>Refresh</Button>}\n      />\n    );\n  } else {\n    content = (\n      <List\n        style={{ backgroundColor: \"transparent\" }}\n        contentContainerStyle={{ paddingBottom: 20 }}\n        ListHeaderComponent={\n          Object.entries(suggestedClasses).length > 0 &&\n          searchTerm.length === 0 && (\n            <List\n              ListHeaderComponent={\n                <Layout\n                  style={{\n                    marginLeft: 20,\n                    marginRight: 25,\n                    backgroundColor: \"transparent\",\n                    flexDirection: \"row\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                  }}>\n                  <Text category=\"label\" style={{ color: \"#fff\" }}>\n                    Suggested Electives\n                  </Text>\n                  <TouchableOpacity onPress={dismissSuggestions}>\n                    <FontAwesome5 name=\"times\" size={24} color=\"#fff\" />\n                  </TouchableOpacity>\n                </Layout>\n              }\n              style={{\n                backgroundColor: \"rgba(0,0,0,.2)\",\n                borderRadius: 20,\n                margin: 10,\n                paddingBottom: 10,\n                paddingTop: 3,\n              }}\n              contentContainerStyle={{ paddingBottom: 100 }}\n              data={Object.entries(suggestedClasses)}\n              renderItem={renderItem}\n              keyExtractor={([courseCode, _]) => courseCode}\n              onScroll={Keyboard.dismiss}\n              scrollEventThrottle={16}\n            />\n          )\n        }\n        data={Object.entries(renderedClasses).slice(\n          0,\n          RENDERED_RESULTS_LIMIT * page,\n        )}\n        renderItem={renderItem}\n        keyExtractor={([courseCode, _]) => courseCode}\n        maxToRenderPerBatch={10}\n        ListEmptyComponent={\n          <Message\n            title=\"No Classes Found\"\n            item={<Button onPress={fetchClasses}>Refresh</Button>}\n          />\n        }\n        initialNumToRender={10}\n        showsVerticalScrollIndicator={false}\n        // ListHeaderComponent={() => <Layout style={{minHeight: 67, opacity: 0}}/>}\n        onEndReachedThreshold={0.5}\n        onEndReached={() => dispatch(endOfListReached())}\n        refreshControl={\n          <RefreshControl\n            refreshing={classListLoading}\n            onRefresh={handleRefresh}\n            title=\"Pull to refresh\"\n            tintColor={theme[\"color-basic-100\"]}\n            titleColor={theme[\"color-basic-100\"]}\n          />\n        }\n        ref={(ref) => {\n          setListRef(ref);\n        }}\n        onScroll={Keyboard.dismiss}\n        scrollEventThrottle={16}\n      />\n    );\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <LinearGradient\n        colors={\n          darkMode\n            ? [theme[\"color-basic-1100\"], theme[\"color-basic-1100\"]]\n            : [theme[\"color-primary-500\"], theme[\"color-success-500\"]]\n        }\n        style={{ width: \"100%\", margin: 0, flex: 1 }}\n        start={{ x: 0, y: 0 }}\n        end={{ x: 1, y: 0.4 }}>\n        <LinearGradient\n          colors={[\n            // 'rgba(219,76,113,1)',\n            // 'rgba(219,76,113,00)',\n\n            \"rgba(225,78,106,0)\",\n            \"rgba(225,78,106,0)\",\n            // 'rgba(225,78,106,.6)',\n            // 'rgba(225,78,106,0)',\n          ]}\n          locations={[0, 1]}\n          style={{\n            zIndex: 1,\n            width: \"100%\",\n            paddingHorizontal: 20,\n            paddingTop: 7,\n          }}>\n          <CurrentTermLabel\n            navigation={navigation}\n            currentSection={currentSection}\n            textStyle={{ color: \"#fff\", paddingBottom: 5, marginLeft: 80 }}\n          />\n          <SearchBar\n            accessoryLeft={accessoryLeft}\n            searchTerm={searchTerm}\n            onChangeText={handleSearch}\n            inputProps={{ autoCorrect: false }}\n            placeholder=\"Search classes...\"\n            alwaysShowCancelButton={Platform.OS === \"web\"}\n            cancelButtonAction={\n              Platform.OS === \"web\" ? handleRefresh : () => undefined\n            }\n          />\n          {searchTerm?.length > 30 ? (\n            <TouchableOpacity\n              style={{ marginLeft: 60, marginTop: 5 }}\n              onPress={handleMassImport}>\n              <Text style={{ color: \"#fff\" }}>\n                <FontAwesome5 name=\"file-import\" color=\"#fff\" />\n                {` Import Full Schedule`}\n              </Text>\n            </TouchableOpacity>\n          ) : null}\n          {renderFilteredCollegesList()}\n        </LinearGradient>\n\n        {content}\n      </LinearGradient>\n\n      <ModalContainer\n        setBackDropVisible={setAddedClassesVisible}\n        backDropVisible={addedClassesVisible}\n        title=\"Added Classes\">\n        {addedClasses && currentSection ? (\n          <AddedClasses\n            setAddedClassesVisible={setAddedClassesVisible}\n            addedClasses={addedClasses[currentSection] || {}}\n            handleRemoveClass={handleRemoveClass}\n            darkMode={darkMode}\n          />\n        ) : (\n          <Layout\n            style={{\n              flex: 1,\n              alignItems: \"center\",\n              borderRadius: 20,\n              paddingTop: 50,\n            }}>\n            <Text>Loading</Text>\n            <Spinner />\n          </Layout>\n        )}\n      </ModalContainer>\n\n      <ModalContainer\n        setBackDropVisible={setFiltersMenuVisible}\n        backDropVisible={filtersMenuVisible}\n        title=\"Filters\">\n        <FilterClasses\n          setFiltersMenuVisible={setFiltersMenuVisible}\n          darkMode={darkMode}\n        />\n      </ModalContainer>\n\n      {Platform.OS !== \"web\" && (\n        <SingleClassPage bottomSheetRef={bottomSheetRef} />\n      )}\n    </Layout>\n  );\n}\n","import BottomSheet from \"@gorhom/bottom-sheet/lib/typescript/components/bottomSheet/BottomSheet\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { Button, Layout, useTheme } from \"@ui-kitten/components\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport moment from \"moment-timezone\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport {\n  Alert,\n  Animated,\n  Dimensions,\n  LogBox,\n  Platform,\n  SafeAreaView,\n  ScrollView,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\n\nimport Toast from \"react-native-root-toast\";\nimport CalendarFunctions from \"./CalendarFunctions\";\nimport renderItem from \"./ScheduledItem\";\nimport renderCustomEvent from \"./customEvent\";\nimport {\n  appDataSlice,\n  selectDarkMode,\n  selectUserKey,\n} from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { useGetCurrentSectionQuery } from '../api/classPagesApi';\nimport {\n  classSelected,\n  selectClassesList,\n} from '../classPages/classPagesSlice';\nimport {\n  useEditUserMutation,\n  useGetUserInfoQuery,\n  usersApiSlice,\n} from \"../api/usersApi\";\nimport SingleClassPage from \"../classPages/SingleClassPage\";\n\nimport { CurrentTermLabel } from \"../classPages/ClassesList\";\n\nLogBox.ignoreAllLogs();\n\nexport default function CalendarPage({ navigation }) {\n  const isWeb = Platform.OS === \"web\";\n  const [editUser] = useEditUserMutation();\n  const userKey = useAppSelector(selectUserKey);\n  const isThreeDay = useAppSelector(\n    (state) => state.appData.calendar.isThreeDay,\n  );\n  const dispatch = useAppDispatch();\n  const bottomSheetRef = useRef<BottomSheet>(null);\n  const darkMode: boolean = useAppSelector(selectDarkMode);\n  const calendarFun = new CalendarFunctions();\n  const universalHeight = (Dimensions.get(\"window\").height - 50) / 12;\n  const threeDayWidth = (Dimensions.get(\"window\").width - 75) / 3;\n  const fiveDayWidth = (Dimensions.get(\"window\").width - 75) / 5;\n  const days = [\n    { day: \"Mon\", id: \"Monday\" },\n    { day: \"Tues\", id: \"Tuesday\" },\n    { day: \"Wed\", id: \"Wednesday\" },\n    { day: \"Thurs\", id: \"Thursday\" },\n    { day: \"Fri\", id: \"Friday\" },\n    { day: \"Sat\", id: \"Saturday\" },\n    { day: \"Sun\", id: \"Sunday\" },\n  ];\n  const times = [\n    \"12:00 AM\",\n    \"1:00 AM\",\n    \"2:00 AM\",\n    \"3:00 AM\",\n    \"4:00 AM\",\n    \"5:00 AM\",\n    \"6:00 AM\",\n    \"7:00 AM\",\n    \"8:00 AM\",\n    \"9:00 AM\",\n    \"10:00 AM\",\n    \"11:00 AM\",\n    \"12:00 PM\",\n    \"1:00 PM\",\n    \"2:00 PM\",\n    \"3:00 PM\",\n    \"4:00 PM\",\n    \"5:00 PM\",\n    \"6:00 PM\",\n    \"7:00 PM\",\n    \"8:00 PM\",\n    \"9:00 PM\",\n    \"10:00 PM\",\n    \"11:00 PM\",\n  ];\n\n  const { data: userData } = useGetUserInfoQuery(userKey);\n  const addedClasses = userData?.addedClasses?.classes;\n  const allClassData = useAppSelector(selectClassesList);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection,\n  );\n\n  const renderCustomEvents = (elem) => {\n    const finalRender = [];\n    if (!userData.customEvents) {\n      return null;\n    }\n    for (const event of userData.customEvents) {\n      if (event.days.includes(elem.id)) {\n        finalRender.push(renderCustomEvent(event, userData, userKey, editUser));\n      } else if (\n        event.date\n        && eventIsThisDay(elem.id, new Date(event.date))\n        && showThisWeek(new Date(event.date))\n      ) {\n        finalRender.push(renderCustomEvent(event, userData, userKey, editUser));\n      }\n    }\n    return finalRender;\n  };\n\n  function eventIsThisDay(dayString: string, date: Date) {\n    const dayOfWeek = adjustDays(date.getDay());\n    return dayString === days[dayOfWeek].id;\n  }\n\n  function adjustDays(dayOfWeek) {\n    if (dayOfWeek === 0) {\n      dayOfWeek = 6;\n    } else {\n      dayOfWeek -= 1;\n    }\n    return dayOfWeek;\n  }\n\n  function getMs(hours, minutes, seconds) {\n    let final = 0;\n    final += hours * 3600000;\n    final += minutes * 60000;\n    final += seconds * 1000;\n    return final;\n  }\n\n  function showThisWeek(dateOfEvent: Date) {\n    const currentDate = new Date();\n    const currentDayOfWeek = adjustDays(currentDate.getDay());\n    const startOfWeek = new Date(\n      currentDate.valueOf()\n        - currentDayOfWeek * 86400000\n        - getMs(\n          currentDate.getHours(),\n          currentDate.getMinutes(),\n          currentDate.getSeconds(),\n        ),\n    );\n    const endOfWeek = new Date(\n      currentDate.valueOf()\n        + (6 - currentDayOfWeek) * 86400000\n        + getMs(\n          23 - currentDate.getHours(),\n          59 - currentDate.getMinutes(),\n          59 - currentDate.getSeconds(),\n        ),\n    );\n    return !(\n      dateOfEvent.valueOf() > endOfWeek.valueOf()\n      || dateOfEvent.valueOf() < startOfWeek.valueOf()\n    );\n  }\n\n  const handleClassSelected = (courseCode: string) => {\n    dispatch(classSelected(courseCode));\n    if (Platform.OS === \"web\") {\n      navigation.navigate(\"SingleClassPage\");\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  };\n\n  function renderDashes() {\n    const final = [];\n    for (let i = 0; i < 24; i++) {\n      final.push(\n        <View\n          style={{\n            width: (isThreeDay ? threeDayWidth : fiveDayWidth) * 0.73016,\n            marginLeft: (isThreeDay ? threeDayWidth : fiveDayWidth) * 0.14286,\n            top: universalHeight * i,\n            position: \"absolute\",\n            height: universalHeight,\n            borderBottomWidth: Platform.OS === \"web\" ? 1.2 : 0.7,\n            borderBottomColor: darkMode ? \"rgb(68,68,68)\" : \"rgb(204,204,204)\",\n          }}\n        />,\n      );\n    }\n    return final;\n  }\n\n  const renderClasses = (elem) => {\n    const classes = [];\n    Object.keys(addedClasses).map((term) => {\n      if (term === currentSection) {\n        Object.keys(addedClasses[term]).map((masterCourseCode) => {\n          for (const courseCode of addedClasses[term][masterCourseCode]) {\n            try {\n              const data = calendarFun.getFullClassData(\n                courseCode,\n                allClassData,\n              );\n              const data2 = data.times.find(\n                (time) => time.courseCode === courseCode,\n              );\n              for (const meetingTime of data2.courseSchedule) {\n                for (const day in meetingTime.daysOfTheWeek) {\n                  if (meetingTime.daysOfTheWeek[day] === elem.id) {\n                    classes.push(\n                      renderItem(\n                        data,\n                        meetingTime,\n                        courseCode,\n                        handleClassSelected,\n                      ),\n                    );\n                  }\n                }\n              }\n            } catch (e) {\n              console.log(e);\n            }\n          }\n        });\n      }\n    });\n    return classes;\n  };\n\n  const topBar = useRef(null);\n  const [startingOffset, setStartingOffset] = useState({ x: 0, y: 292 });\n\n  return (\n    <View style={{ flex: 1, backgroundColor: darkMode ? null : \"white\" }}>\n      {/* Times */}\n      <CurrentTermLabel\n        navigation={navigation}\n        currentSection={currentSection}\n        style={{ margin: 10 }}\n      />\n      <ScrollView\n        horizontal\n        snapToInterval={isThreeDay ? threeDayWidth : fiveDayWidth}\n        showsHorizontalScrollIndicator={false}\n        style={{ marginLeft: 75, height: isWeb ? 50 : undefined }}\n        ref={topBar}\n      >\n        <View style={{ flexDirection: \"row\" }}>\n          {days.map((elem) => {\n            return (\n              <View>\n                <View\n                  style={{\n                    borderColor: darkMode ? \"#7a7a7a\" : \"#525252\",\n                    borderBottomWidth: 1,\n                    width: \"100%\",\n                  }}\n                >\n                  <Text\n                    style={{\n                      textAlign: \"center\",\n                      color: darkMode ? \"#7a7a7a\" : \"#525252\",\n                      width: isThreeDay ? threeDayWidth : fiveDayWidth,\n                    }}\n                  >\n                    {elem.day}\n                  </Text>\n                </View>\n              </View>\n            );\n          })}\n        </View>\n      </ScrollView>\n      <ScrollView\n        contentOffset={startingOffset}\n        showsVerticalScrollIndicator={false}\n        bounces={false}\n      >\n        <View style={{ flexDirection: \"row\" }}>\n          <View\n            style={{\n              justifyContent: \"space-around\",\n              // height: 1000,\n            }}\n          >\n            {times.map((time) => {\n              return (\n                <Text\n                  style={{\n                    height: universalHeight,\n                    width: 75,\n                    borderWidth: 1,\n                    borderColor: darkMode ? \"#7a7a7a\" : \"#525252\",\n                    textAlign: \"center\",\n                    color: darkMode ? \"#7a7a7a\" : \"#525252\",\n                  }}\n                >\n                  {time}\n                </Text>\n              );\n            })}\n          </View>\n          {/* Classes */}\n          <ScrollView\n            horizontal\n            snapToInterval={isThreeDay ? threeDayWidth : fiveDayWidth}\n            decelerationRate=\"normal\"\n            showsHorizontalScrollIndicator={false}\n            bounces={false}\n            scrollEventThrottle={1}\n            onScroll={(e) => topBar.current.scrollTo({\n              x: e.nativeEvent.contentOffset.x,\n              animated: false,\n              useNativeDriver: true,\n            })}\n            onMomentumScrollBegin={(e) => topBar.current.scrollTo({\n              x: e.nativeEvent.contentOffset.x,\n              animated: false,\n              useNativeDriver: true,\n            })}\n          >\n            <View style={{ flexDirection: \"row\" }}>\n              {days.map((elem) => {\n                return (\n                  <View>\n                    {renderDashes()}\n                    <View\n                      key={elem.day}\n                      style={{\n                        width: isThreeDay ? threeDayWidth : fiveDayWidth,\n                      }}\n                    >\n                      {userData?.addedClasses && renderClasses(elem)}\n                      {userData?.addedClasses && renderCustomEvents(elem)}\n                    </View>\n                    <View\n                      style={{\n                        height: \"100%\",\n                        width: 1,\n                        backgroundColor: darkMode ? \"#7a7a7a\" : \"#525252\",\n                      }}\n                    />\n                  </View>\n                );\n              })}\n            </View>\n          </ScrollView>\n        </View>\n      </ScrollView>\n\n      {Platform.OS !== \"web\" && (\n        <SingleClassPage bottomSheetRef={bottomSheetRef} />\n      )}\n    </View>\n  );\n}\n\nconst myStyles = {\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30,\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  button: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3,\n    backgroundColor: \"black\",\n  },\n  timeButton: {\n    width: 100,\n    height: 50,\n    marginHorizontal: 40,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 4,\n    backgroundColor: \"#c45269\",\n  },\n  timeText: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  actualTimeText: {\n    fontSize: 13,\n    lineHeight: 18,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n};\n\nconst sponsorPageStyles = {\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"100%\",\n  },\n  address: {\n    alignItems: \"center\",\n    margin: 10,\n    borderColor: \"black\",\n    borderWidth: 1,\n    padding: 10,\n  },\n  video: {\n    marginTop: 20,\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10,\n  },\n  logo: {\n    width: \"100%\",\n    height: 100,\n  },\n  description: {\n    borderWidth: 1,\n    margin: 10,\n    borderColor: \"#5d5c5c\",\n    borderRadius: 5,\n    width: \"95%\",\n    padding: 10,\n    backgroundColor: \"rgba(178,166,166,0.22)\",\n  },\n  couponContainer: {\n    width: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  coupon: {\n    width: 400,\n    height: 267,\n  },\n  imageGallery: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    margin: 10,\n    marginBottom: 0,\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n};\n","import DateTimePicker from \"@react-native-community/datetimepicker\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport {\n  Button,\n  Text,\n  CheckBox,\n  Input,\n  Layout,\n  Select,\n  SelectItem\n} from \"@ui-kitten/components\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport {\n  Keyboard,\n  Platform,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View\n} from \"react-native\";\nimport Toast from \"react-native-root-toast\";\nimport Loader from \"react-native-three-dots-loader\";\n\nimport { selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport WrapItems from \"../../components/WrapItems\";\nimport { useEditUserMutation, useGetUserInfoQuery } from \"../api/usersApi\";\n\nexport default function CreateCustomEvent() {\n  const [editUser] = useEditUserMutation();\n  const [showDots, setShowDots] = useState(false);\n  const navigation = useNavigation();\n  const dateToUse = new Date();\n  const [selectedDate, setSelectedDate] = useState(dateToUse);\n  const [isOneDay, setIsOneDay] = useState(false);\n  const [allValuesPopulated, setAllValuesPopulated] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState([]);\n  const [daysArray, setDaysArray] = useState([]);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [eventTitle, setEventTitle] = useState(\"\");\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey,\n  });\n\n  const daysOfWeek = [\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n    \"Sunday\",\n  ];\n\n  useEffect(() => {\n    setAllValuesPopulated(\n      (isOneDay\n        ? selectedDate.toISOString() !== dateToUse.toISOString()\n        : daysArray.length >= 1)\n        && eventTitle !== \"\"\n        && startTime < endTime,\n    );\n  }, [daysArray, eventTitle, startTime, endTime, selectedDate, isOneDay]);\n\n  function addEvent() {\n    setShowDots(true);\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify({\n        addCustomEvent: {\n          name: eventTitle,\n          startTime: startTime.toTimeString().slice(0, 5),\n          endTime: endTime.toTimeString().slice(0, 5),\n          days: daysArray,\n          date:\n            selectedDate.toISOString() !== dateToUse.toISOString()\n              ? selectedDate.toISOString()\n              : null,\n        },\n      }),\n    })\n      .unwrap()\n      .then(async () => {\n        setTimeout(() => {\n          setShowDots(false);\n          navigation.goBack();\n        }, 2000);\n      })\n      .catch(() => {\n        setShowDots(false);\n        Toast.show(\"Failed to add event.\\nPlease try again later\", {\n          duration: Toast.durations.LONG,\n          opacity: 1,\n          position: -100,\n          backgroundColor: \"grey\",\n          shadow: false,\n        });\n      });\n    /*\n        fetch(base_URL + '/users/' + userData.userName, {\n            method: 'PATCH',\n            body: JSON.stringify({\n                \"addCustomEvent\": {\n                    \"name\": eventTitle,\n                    \"startTime\": startTime.toTimeString().slice(0, 5),\n                    \"endTime\": endTime.toTimeString().slice(0, 5),\n                    \"days\": daysArray\n                },\n            }),\n            headers: {\n                'content-type': 'application/json',\n                userKey: userKey\n            }\n        }).then((res) => {\n            if (res.ok) {\n                navigation.goBack()\n            } else {\n                Toast.show(\n                    \"Failed to add event\\nStatus: \" + res.status,\n                    {\n                        duration: Toast.durations.LONG,\n                        opacity: 1,\n                        position: -100,\n                        backgroundColor: 'grey',\n                        shadow: false,\n                    }\n                );\n            }\n        }) */\n  }\n\n  // Needed because Android date picker uses a modal\n  const [showTimePickerAndroid, setShowTimePickerAndroid] = useState(false);\n\n  const timePickerOptions = useMemo(\n    () => ({\n      \"Start Time\": { time: startTime, setTime: setStartTime },\n      \"End Time\": { time: endTime, setTime: setEndTime },\n    }),\n    [startTime, setStartTime, endTime, setEndTime],\n  );\n\n  const formatAMPM = (date: Date) => {\n    let hours = date.getHours();\n    let minutes: string | number = date.getMinutes();\n    const ampm = hours >= 12 ? \"pm\" : \"am\";\n    hours %= 12;\n    hours = hours || 12;\n    minutes = minutes < 10 ? `0${minutes}` : minutes;\n    return `${hours}:${minutes} ${ampm}`;\n  };\n\n  const Title = (\n    <Layout\n      style={{\n        flexDirection: \"row\",\n        justifyContent: \"space-evenly\",\n        alignItems: \"center\",\n        marginTop: 15,\n      }}\n    >\n      <Input\n        label=\"Title\"\n        disabled={showDots}\n        placeholder=\"Title of Event\"\n        value={eventTitle}\n        style={{ flex: 5 }}\n        onChangeText={(title) => {\n          setEventTitle(title);\n        }}\n      />\n    </Layout>\n  );\n\n  function TimePicker() {\n    if (Platform.OS === \"android\") {\n      return (\n        <Layout\n          style={{\n            flexDirection: \"row\",\n            justifyContent: \"space-around\",\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: \"center\" }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n                <Button\n                  onPress={() => {\n                    setShowTimePickerAndroid(true);\n                  }}\n                >\n                  {formatAMPM(time)}\n                </Button>\n                {showTimePickerAndroid && (\n                  <DateTimePicker\n                    mode=\"time\"\n                    onChange={(change, date) => {\n                      setTime(date);\n                      setShowTimePickerAndroid(false);\n                    }}\n                    value={time}\n                  />\n                )}\n              </Layout>\n            ),\n          )}\n        </Layout>\n      );\n    }\n    if (Platform.OS === \"ios\") {\n      return (\n        <Layout\n          style={{\n            flexDirection: \"row\",\n            justifyContent: \"space-around\",\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: \"center\" }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n\n                <DateTimePicker\n                  mode=\"time\"\n                  onChange={(change, date) => {\n                    setTime(date);\n                  }}\n                  value={time}\n                />\n              </Layout>\n            ),\n          )}\n        </Layout>\n      );\n    }\n  }\n\n  if (Platform.OS === \"web\") {\n    return (\n      <Text>\n        Creating Events is not supported on the web. Download the app on the App\n        Store or Play Store to make a new Event.\n      </Text>\n    );\n  }\n\n  const renderMultiSelectDropDown = () => {\n    function renderEachDropItem() {\n      const final = [];\n      for (const option of daysOfWeek) {\n        final.push(<SelectItem title={option} />);\n      }\n      return final;\n    }\n    function toggleValue(index) {\n      setSelectedIndex(index);\n      const newSelection = index.map((littleIndex) => {\n        return daysOfWeek[littleIndex - 1];\n      });\n      setDaysArray(newSelection);\n    }\n    function calculateSelectedValues() {\n      const finalArray = selectedIndex.map((littleIndex) => {\n        return `${daysOfWeek[littleIndex - 1]}, `;\n      });\n      if (finalArray.length > 0) {\n        let finalObject = finalArray.at(-1);\n        finalObject = finalObject.replace(\", \", \"\");\n        finalArray.splice(-1, 1);\n        finalArray.push(finalObject);\n        return finalArray;\n      }\n    }\n    return (\n      <Layout\n        style={{\n          flexDirection: \"row\",\n          justifyContent: \"space-evenly\",\n          alignItems: \"center\",\n          marginTop: 15,\n        }}\n        level=\"1\"\n      >\n        <Select\n          style={{ flex: 5 }}\n          multiSelect\n          label=\"Days\"\n          disabled={showDots}\n          value={daysArray.length > 0 ? calculateSelectedValues() : null}\n          selectedIndex={selectedIndex}\n          onSelect={(index) => toggleValue(index)}\n        >\n          {renderEachDropItem()}\n        </Select>\n      </Layout>\n    );\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n        <WrapItems childStyle={{ marginVertical: 10, marginHorizontal: 15 }}>\n          {Title}\n          <TimePicker />\n          <CheckBox\n            style={{ alignSelf: \"center\", marginTop: 20 }}\n            checked={isOneDay}\n            onChange={(nextChecked) => {\n              setDaysArray([]);\n              setSelectedIndex([]);\n              setSelectedDate(dateToUse);\n              setIsOneDay(nextChecked);\n            }}\n          >\n            One Time Event\n          </CheckBox>\n          {isOneDay ? (\n            <DateTimePicker\n              testID=\"datePicker\"\n              value={selectedDate}\n              mode=\"date\"\n              style={{ alignSelf: \"center\", marginVertical: 15 }}\n              onChange={(event, date) => setSelectedDate(date)}\n            />\n          ) : (\n            renderMultiSelectDropDown()\n          )}\n          <TouchableOpacity\n            style={{\n              backgroundColor: allValuesPopulated\n                ? \"#a245ee\"\n                : \"rgba(162,69,238,0.34)\",\n              width: \"35%\",\n              alignSelf: \"center\",\n              height: 45,\n              borderRadius: 3,\n              alignItems: \"center\",\n              justifyContent: \"center\",\n            }}\n            onPress={addEvent}\n            disabled={!allValuesPopulated || showDots}\n          >\n            <View>\n              <Text style={{ color: \"#f2f0f1\", fontSize: 15 }}>\n                Create Event\n              </Text>\n            </View>\n          </TouchableOpacity>\n          {showDots && (\n            <Loader\n              style={{\n                position: \"absolute\",\n                marginTop: \"30%\",\n                marginHorizontal: \"auto\",\n              }}\n            />\n          )}\n        </WrapItems>\n      </TouchableWithoutFeedback>\n    </Layout>\n  );\n}\n","import {\n  Autocomplete,\n  AutocompleteItem,\n  Card,\n  Modal,\n} from \"@ui-kitten/components\";\nimport {\n  JSXElementConstructor,\n  ReactElement,\n  useEffect,\n  useState,\n} from \"react\";\nimport {\n  Alert, Button, View, Text\n} from \"react-native\";\n\nimport renderItem from \"./ScheduledItem\";\nimport { selectDarkMode, selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport UserNameSelectionDropDown from \"../../components/UserNameSelectionDropDown\";\nimport { useGetCurrentSectionQuery } from \"../api/classPagesApi\";\nimport { useGetUserInfoQuery } from \"../api/usersApi\";\nimport { base_URL } from \"../notifications/constants\";\n\nexport default function renderModal(setShowModal, showModal) {\n  const { data: userData } = useGetUserInfoQuery(useAppSelector(selectUserKey));\n  const { data: currentSection } = useGetCurrentSectionQuery();\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const [names, setNames] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [value, setValue] = useState(\"\");\n  const [hasChosen, setHasChosen] = useState(false);\n  const [recipient, setRecipient] = useState(null);\n\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: \"bold\",\n      textAlign: \"center\",\n      width: \"100%\",\n      color: darkMode ? \"rgb(255,255,255)\" : \"rgb(0,0,0)\",\n    },\n    backdrop: {\n      backgroundColor: darkMode\n        ? \"rgba(141,141,141,0.5)\"\n        : \"rgba(0, 0, 0, 0.5)\",\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15,\n    },\n  };\n\n  useEffect(() => {\n    fetch(`${base_URL}/users/userNamesAndNames`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then(async (data) => {\n      if (data.ok) {\n        const userList = await data.json();\n        setNames(\n          userList.map((user) => {\n            if (user) {\n              return `${user.realName} (${user.userName})`;\n            }\n          }),\n        );\n        setUsers(userList);\n      }\n    });\n  }, []);\n\n  const exportSchedule = async (recipient) => {\n    function convert(addedClasses) {\n      const final = [];\n      Object.keys(addedClasses).map((term) => {\n        if (term === currentSection) {\n          Object.keys(addedClasses[term]).map((masterCourseCode) => {\n            for (const courseCode of addedClasses[term][masterCourseCode]) {\n              final.push({\n                courseCode,\n                courseTerm: currentSection,\n              });\n            }\n          });\n        }\n      });\n      return final;\n    }\n    const status = await fetch(`${base_URL}/users/sendNotification`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n      body: JSON.stringify({\n        recipients: [recipient],\n        text: JSON.stringify(convert(userData.addedClasses?.classes)),\n        title: `${userData.realFirstName}'s Schedule`,\n        isSchedule: true,\n      }),\n    });\n    return status.ok;\n  };\n  return (\n    <Modal\n      visible={showModal}\n      backdropStyle={myStyles.backdrop}\n      style={{ width: \"80%\", height: \"70%\" }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={myStyles.modal}>Share Your Schedule</Text>\n        {UserNameSelectionDropDown({\n          setHasChosen,\n          setRecipient,\n          placeholder: false,\n        })}\n        <View>\n          <Button\n            disabled={recipient === null}\n            title=\"Send\"\n            onPress={() => {\n              exportSchedule(recipient).then((returnValue) => {\n                setShowModal(false);\n                returnValue\n                  ? Alert.alert(\"Message Sent\")\n                  : Alert.alert(\n                    \"Error Sending Message\",\n                    \"Please Try Again Later\",\n                  );\n              });\n            }}\n          />\n          <Button\n            title=\"Dismiss\"\n            onPress={() => {\n              setShowModal(false);\n            }}\n          />\n        </View>\n      </Card>\n    </Modal>\n  );\n}\n","import {\n  Button,\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem,\n  Text,\n} from \"@ui-kitten/components\";\nimport React, { useState } from \"react\";\nimport { View, TouchableOpacity } from \"react-native\";\n\nimport { currentSectionUpdated } from \"./classPagesSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { useLazyGetAllClassesQuery } from \"../api/classPagesApi\";\nimport { usersApiSlice } from \"../api/usersApi\";\n\nexport default function SelectTerm({ navigation }) {\n  const dispatch = useAppDispatch();\n\n  const availableSections = useAppSelector(\n    (state) => state.appData.classPages.availableSections,\n  );\n  const userKey = useAppSelector((state) => state.appData.secure.userKey);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection,\n  );\n\n  const { data: userDataCache } = usersApiSlice.endpoints.getUserInfo.useQueryState(userKey, {\n    skip: !userKey,\n  });\n  const [getAllClasses] = useLazyGetAllClassesQuery();\n\n  const startIndexValue = availableSections.findIndex((term) => term == currentSection) || 0;\n\n  const [selectedSectionIndex, setSelectedSectionIndex] = useState<IndexPath>(\n    new IndexPath(startIndexValue),\n  );\n\n  const saveChanges = () => {\n    if (availableSections[selectedSectionIndex.row] !== currentSection) {\n      try {\n        getAllClasses({\n          userKey,\n          collegeName: userDataCache.collegeName,\n          courseTerm: availableSections[selectedSectionIndex.row],\n        }).unwrap();\n\n        dispatch(\n          currentSectionUpdated(availableSections[selectedSectionIndex.row]),\n        );\n      } catch (e) {\n        console.log(\"Changing section: could not fetch classes\", e);\n      }\n    }\n\n    navigation.goBack();\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <Layout\n        style={{\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          margin: 20,\n          marginTop: 60,\n        }}\n      >\n        <TouchableOpacity\n          onPress={() => {\n            navigation.goBack();\n          }}\n        >\n          <Text>Cancel</Text>\n        </TouchableOpacity>\n\n        <Text category=\"s1\">Select Term</Text>\n\n        <TouchableOpacity onPress={saveChanges}>\n          <Text>Save</Text>\n        </TouchableOpacity>\n      </Layout>\n\n      <Select\n        style={{ margin: 20 }}\n        label=\"Term\"\n        value={availableSections[selectedSectionIndex.row]}\n        selectedIndex={selectedSectionIndex}\n        onSelect={(index: IndexPath) => {\n          setSelectedSectionIndex(index);\n        }}\n      >\n        {availableSections.map((term, index) => (\n          <SelectItem key={index} title={term} />\n        ))}\n      </Select>\n    </Layout>\n  );\n}\n","import { FontAwesome5, MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport {\n  Button, Layout, Text, useTheme\n} from \"@ui-kitten/components\";\nimport React, { useState } from \"react\";\nimport {\n  Dimensions,\n  Image,\n  Platform,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport Toggle from \"react-native-toggle-element\";\n\nimport CalendarPage from \"./CalendarPage\";\nimport CreateCustomEvent from \"./CreateCustomEvent\";\nimport { isThreeDaySet } from \"./calendarSlice\";\nimport renderModal from \"./exportModal\";\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey,\n} from \"../../app/appDataSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport Header from \"../../components/Header\";\nimport ModalContainer from \"../../components/ModalContainer\";\nimport SelectTerm from \"../classPages/SelectTerm\";\nimport SingleClassPage from \"../classPages/SingleClassPage\";\nimport { base_URL } from \"../notifications/constants\";\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Calendar() {\n  const navigation = useNavigation();\n  const isThreeDay = useAppSelector(\n    (state) => state.appData.calendar.isThreeDay,\n  );\n  const theme = useTheme();\n  const dispatch = useAppDispatch();\n  const isGuest = useAppSelector(selectIsGuest);\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const [showModal, setShowModal] = useState(false);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  async function sendNotification(bodyTosend) {\n    await fetch(`${base_URL}/users/sendNotification`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n      body: JSON.stringify(bodyTosend),\n    });\n  }\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28,\n        alignItems: \"center\",\n      }}\n      source={require(\"../../../assets/logos/app-logo-transparent.png\")}\n    />\n  );\n\n  const title = (\n    <View\n      style={{\n        alignItems: \"center\",\n        paddingRight: 20,\n      }}\n    >\n      {Dimensions.get(\"window\").width < 525 && (\n        <Toggle\n          leftComponent={\n            <MaterialCommunityIcons name=\"numeric-5\" size={25} color=\"#fff\" />\n          }\n          rightComponent={\n            <MaterialCommunityIcons name=\"numeric-3\" size={25} color=\"#fff\" />\n          }\n          trackBar={{\n            activeBackgroundColor: theme[\"color-primary-500\"],\n            inActiveBackgroundColor: theme[\"color-primary-500\"],\n            width: 60,\n            height: 23,\n          }}\n          thumbButton={{\n            width: 30,\n            height: 30,\n            activeBackgroundColor: theme[\"color-primary-800\"],\n            inActiveBackgroundColor: theme[\"color-primary-300\"],\n            activeColor: theme[\"color-primary-100\"],\n            inActiveColor: \"#fff\",\n            borderWidth: 5,\n          }}\n          value={isThreeDay}\n          onPress={(bool) => dispatch(isThreeDaySet(!bool))}\n        />\n      )}\n    </View>\n  );\n  const accessoryRight = (\n    <View\n      style={{\n        paddingHorizontal: 0,\n        alignItems: \"center\",\n        flexDirection: \"row\",\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          if (isGuest) {\n            setShowGuestModal(true);\n          } else {\n            // @ts-ignore\n            navigation.navigate(\"CreateCustomEvent\");\n          }\n        }}\n        style={{\n          marginRight: 10,\n          alignItems: \"center\",\n        }}\n      >\n        <View\n          style={{\n            height: 45,\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <FontAwesome5\n            name=\"plus\"\n            size={20}\n            color={darkMode ? \"white\" : \"black\"}\n          />\n          <Text style={{ paddingTop: 5, fontSize: 10 }}>Add Event</Text>\n        </View>\n      </TouchableOpacity>\n      {Platform.OS !== \"web\" && (\n        <TouchableOpacity\n          onPress={() => {\n            if (isGuest) {\n              setShowGuestModal(true);\n            } else {\n              setShowModal(true);\n            }\n          }}\n          style={{\n            alignItems: \"center\",\n          }}\n        >\n          <View\n            style={{\n              height: 45,\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            <FontAwesome5\n              name=\"file-export\"\n              size={20}\n              color={darkMode ? \"white\" : \"black\"}\n            />\n            <Text style={{ paddingTop: 5, fontSize: 10 }}>Share Schedule</Text>\n          </View>\n        </TouchableOpacity>\n      )}\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={(\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is locked to our Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          )}\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n      {renderModal(setShowModal, showModal)}\n    </View>\n  );\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"CalendarPage\"\n        component={CalendarPage}\n        options={{\n          header: () => {\n            return (\n              <Layout style={{ paddingBottom: 10 }}>\n                <Header\n                  center={title}\n                  accessoryRight={accessoryRight}\n                  accessoryLeft={accessoryLeft}\n                  title=\"Calendar\"\n                />\n              </Layout>\n            );\n          },\n        }}\n      />\n      <Stack.Screen\n        name=\"CreateCustomEvent\"\n        component={CreateCustomEvent}\n        options={{ headerTitle: \"Add Event\" }}\n      />\n      {Platform.OS === \"web\" && (\n        <Stack.Screen\n          name=\"SingleClassPage\"\n          component={SingleClassPage}\n          options={{ headerShown: false, headerTitle: \"Class Pages\" }}\n        />\n      )}\n      <Stack.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: \"Select Term\",\n          headerShown: false,\n          animation: \"slide_from_bottom\",\n          gestureDirection: \"vertical\",\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","export const departments = [\n  \"AFRI\",\n  \"AMST\",\n  \"ANTH\",\n  \"ARBC\",\n  \"ARBT\",\n  \"ARCN\",\n  \"ARHI\",\n  \"ART\",\n  \"ASAM\",\n  \"ASIA\",\n  \"ASTR\",\n  \"BIOL\",\n  \"CASA\",\n  \"CGH\",\n  \"CGS\",\n  \"CHEM\",\n  \"CHIN\",\n  \"CHLT\",\n  \"CHNT\",\n  \"CHST\",\n  \"CLAS\",\n  \"CLES\",\n  \"COGS\",\n  \"CORE\",\n  \"CREA\",\n  \"CSCI\",\n  \"CSMT\",\n  \"DANC\",\n  \"DS\",\n  \"EA\",\n  \"ECON\",\n  \"EDUC\",\n  \"ENGL\",\n  \"ENGR\",\n  \"ENTR\",\n  \"EURO\",\n  \"FGSS\",\n  \"FHS\",\n  \"FREN\",\n  \"FS\",\n  \"FWS\",\n  \"GEOG\",\n  \"GEOL\",\n  \"GERM\",\n  \"GLAS\",\n  \"GOVT\",\n  \"GREK\",\n  \"GRMT\",\n  \"GWS\",\n  \"HIST\",\n  \"HMSC\",\n  \"HSA\",\n  \"HUM\",\n  \"ID\",\n  \"IR\",\n  \"ITAL\",\n  \"JAPN\",\n  \"JPNT\",\n  \"KORE\",\n  \"KRNT\",\n  \"LAMS\",\n  \"LAS\",\n  \"LAST\",\n  \"LATN\",\n  \"LEAD\",\n  \"LGCS\",\n  \"LGST\",\n  \"LIT\",\n  \"MATH\",\n  \"MCBI\",\n  \"MCSI\",\n  \"MES\",\n  \"MLLC\",\n  \"MOBI\",\n  \"MS\",\n  \"MSL\",\n  \"MUS\",\n  \"NEUR\",\n  \"ORST\",\n  \"PE\",\n  \"PHIL\",\n  \"PHYS\",\n  \"POLI\",\n  \"PONT\",\n  \"PORT\",\n  \"POST\",\n  \"PPA\",\n  \"PPE\",\n  \"PSYC\",\n  \"RLIT\",\n  \"RLST\",\n  \"RUSS\",\n  \"RUST\",\n  \"SCI\",\n  \"SOC\",\n  \"SPAN\",\n  \"SPCH\",\n  \"STS\",\n  \"TEST\",\n  \"THEA\",\n  \"THES\",\n  \"WRIT\",\n];\n","import {\n  Autocomplete,\n  AutocompleteItem,\n  Button,\n  Card,\n  Input,\n  Layout,\n  Text,\n} from \"@ui-kitten/components\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { Keyboard, TouchableWithoutFeedback } from \"react-native\";\n\nimport synonyms from \"./synonyms.json\";\nimport { useAppDispatch, useAppSelector } from \"../../../app/hooks\";\nimport WrapItems from \"../../../components/WrapItems\";\nimport { departments } from \"../../../constants/electiveGenerator\";\nimport { showToast } from \"../../../functions\";\nimport {\n  electiveGeneratorSelected,\n  selectClassesList,\n  suggestedClassesUpdated,\n} from \"../classPagesSlice\";\n\nexport default function ElectiveGenerator({ navigation }: any) {\n  const dispatch = useAppDispatch();\n  const [departmentQuery, setDepartmentQuery] = useState(\"\");\n  const [departmentOptions, setDepartmentOptions] = useState(departments);\n  const [description, setDescription] = useState(\"\");\n\n  const classes = useAppSelector(selectClassesList);\n\n  const getClassesByDepartment = useCallback((department: string) => {\n    if (department === \"All Departments\") return Object.entries(classes);\n    return Object.entries(classes).filter(([key, _]) => {\n      const classDepartment = key.split(\" \")[0];\n      return classDepartment === department;\n    });\n  }, []);\n\n  useEffect(() => {\n    dispatch(electiveGeneratorSelected());\n  }, []);\n\n  const onChangeDepartmentText = useCallback((query: string): void => {\n    setDepartmentQuery(query);\n    setDepartmentOptions(\n      departments.filter((department) => department.includes(query.toUpperCase()),),\n    );\n  }, []);\n\n  const onSubmit = () => {\n    Keyboard.dismiss();\n    if (!departmentQuery || !description) {\n      showToast(\"Please fill out all fields\", \"red\");\n      return;\n    }\n    const cleanedDescription = description\n      .toLowerCase()\n      .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n      .replace(/\\s{2,}/g, \" \");\n    const classesByDepartment = getClassesByDepartment(departmentQuery);\n    // Compare text in user input to class descriptions and return top 5 matches\n    classesByDepartment.sort((a, b) => {\n      const aWords = getWords(`${a[1].summary} ${a[1].courseName}`);\n      const bWords = getWords(`${b[1].summary} ${b[1].courseName}`);\n\n      const aMatches = aWords.filter((word) => cleanedDescription.includes(word),);\n      const bMatches = bWords.filter((word) => cleanedDescription.includes(word),);\n      return bMatches.length - aMatches.length;\n    });\n\n    const matches = Object.fromEntries(classesByDepartment.slice(0, 5));\n    dispatch(suggestedClassesUpdated(matches));\n    navigation.goBack();\n    showToast(\"Suggested classes updated!\", \"green\");\n  };\n\n  // Helper functions\n  const getWords = (text: string) => {\n    const wordList = text\n      .toLowerCase()\n      .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n      .replace(/\\s{2,}/g, \" \")\n      .split(\" \");\n\n    let wordListWithSynonyms = [];\n\n    for (const word of wordList) {\n      if (synonyms[word]) {\n        wordListWithSynonyms.push(word);\n        wordListWithSynonyms = wordListWithSynonyms.concat(synonyms[word]);\n      }\n    }\n\n    return wordListWithSynonyms;\n  };\n\n  return (\n    <TouchableWithoutFeedback onPress={Keyboard.dismiss} style={{ flex: 1 }}>\n      <Layout style={{ flex: 1 }}>\n        <WrapItems childStyle={{ margin: 20 }}>\n          <Card activeOpacity={1} disabled>\n            <Text category=\"s1\" style={{ textAlign: \"center\" }}>\n              Choose a department and write a description about what inspires\n              you.\n              {`\\n\\n`}\n              Then let our powerful AI choose the best electives for\n              you!\n            </Text>\n          </Card>\n          <Autocomplete\n            label=\"Department\"\n            onSelect={(index) => setDepartmentQuery(departmentOptions[index])}\n            onChangeText={onChangeDepartmentText}\n            value={departmentQuery}\n          >\n            {departmentOptions.map((option) => (\n              <AutocompleteItem title={option} key={option} />\n            ))}\n          </Autocomplete>\n          <Input\n            label=\"Description\"\n            multiline\n            textStyle={{ minHeight: 100 }}\n            value={description}\n            onChangeText={(text) => setDescription(text)}\n          />\n          <Button onPress={onSubmit}>Submit</Button>\n        </WrapItems>\n      </Layout>\n    </TouchableWithoutFeedback>\n  );\n}\n","import { BottomSheetScrollView, TouchableOpacity } from \"@gorhom/bottom-sheet\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport {\n  Button, Card, Layout, Modal, Text\n} from \"@ui-kitten/components\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { ScrollView, StyleSheet, View } from \"react-native\";\n\nimport { selectDarkMode, selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport { useIsAllowedToReviewQuery } from \"../api/classPagesApi\";\nimport ExportModalClass from \"../classPages/SingleClassPage/exportModalClass\";\n\nexport default function SingleClassPage({ selectedClass }) {\n  const [showModal, setShowModal] = useState(false);\n  const darkMode = useAppSelector(selectDarkMode);\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const backgroundColor = darkMode\n    ? { backgroundColor: \"#1F1F1F\" }\n    : { backgroundColor: \"#F5F5F5\" };\n\n  useEffect(() => {\n    console.log(`THE CLASS IS HERE: ${selectedClass}`);\n  }, []);\n\n  function buildTimeString(time) {\n    if (!time.startTime || time.startTime === \"\" || time.startTime === null) {\n      return \"closed\";\n    }\n    return (\n      `${convertTo12HourTime(time.startTime)\n      } - ${\n        convertTo12HourTime(time.endTime)\n      }\\n`\n    );\n  }\n\n  function convertTo12HourTime(time) {\n    if (time.length !== 5) {\n      time = `0${time}`;\n    }\n    let hours = time.slice(0, 2);\n    const minutes = time.slice(3, 5);\n    let ampm = Number.parseInt(hours) > 12 ? \"pm\" : \"am\";\n    hours %= 12;\n    if (hours === 0) {\n      hours = 12;\n      ampm = \"pm\";\n    }\n    return `${hours}:${minutes}${ampm}`;\n  }\n\n  const averageGradeMSGModal = (\n    <Modal\n      visible={showModal}\n      backdropStyle={styles.backdrop}\n      style={{ width: \"75%\" }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={{ fontSize: 15, paddingTop: 5, paddingBottom: 10 }}>\n          The Athena Network collects and aggregates the data anonymously\n          submitted by the Course Review process and calculates what the average\n          student's experience in this course will look like. Given that it is\n          based on voluntarily submitted data, this information is to be used as\n          a reference only. Please consult your advisor before making any\n          impactful decisions.\n        </Text>\n        <Button onPress={() => setShowModal(false)}>Dismiss</Button>\n      </Card>\n    </Modal>\n  );\n\n  if (!selectedClass?.times) {\n    return null;\n  }\n\n  return (\n    <ScrollView style={backgroundColor}>\n      <Layout style={[{ alignItems: \"center\" }, backgroundColor]}>\n        <ExportModalClass classData={selectedClass} />\n        <Text style={styles.title}>{selectedClass.courseName}</Text>\n        <Text style={{ paddingTop: 30 }}>{selectedClass.masterCourseCode}</Text>\n\n        <Text style={styles.subtitle}>\n          {`${selectedClass.courseTerm} \\u2022 credits: ${\n            filters.isHMC\n              ? selectedClass.creditWeightHM\n              : selectedClass.creditWeight\n          }`}\n        </Text>\n        {selectedClass.timeSpentOutOfClass && (\n          <Layout\n            style={[\n              {\n                flexDirection: \"row\",\n                alignItems: \"flex-start\",\n                paddingRight: 5,\n              },\n              backgroundColor,\n            ]}\n          >\n            <Text style={styles.subtitle}>Time Spent Per Week</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>\n              :\n              {' '}\n              {selectedClass.timeSpentOutOfClass}\n              {' '}\n              hours\n            </Text>\n          </Layout>\n        )}\n        {selectedClass.averageGrade && (\n          <Layout\n            style={[\n              {\n                flexDirection: \"row\",\n                alignItems: \"flex-start\",\n                paddingRight: 5,\n              },\n              backgroundColor,\n            ]}\n          >\n            <Text style={styles.subtitle}>Average Grade</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>\n              :\n              {selectedClass.averageGrade}\n            </Text>\n          </Layout>\n        )}\n        {selectedClass.difficulty && (\n          <Layout\n            style={[\n              {\n                flexDirection: \"row\",\n                alignItems: \"flex-start\",\n                paddingRight: 5,\n              },\n              backgroundColor,\n            ]}\n          >\n            <Text style={styles.subtitle}>Estimated Difficulty</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>\n              :\n              {' '}\n              {selectedClass.difficulty}\n              {' '}\n              / 5\n            </Text>\n          </Layout>\n        )}\n        {selectedClass.rating && (\n          <Layout\n            style={[\n              {\n                flexDirection: \"row\",\n                alignItems: \"flex-start\",\n                paddingRight: 5,\n              },\n              backgroundColor,\n            ]}\n          >\n            <Text style={styles.subtitle}>Average Rating</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>\n              :\n              {selectedClass.rating}\n              {' '}\n              / 5\n            </Text>\n          </Layout>\n        )}\n      </Layout>\n      <Layout style={backgroundColor}>\n        <Text style={styles.courseDescription}>{selectedClass.summary}</Text>\n      </Layout>\n      <Layout style={{ ...backgroundColor, ...styles.boxed }}>\n        <Text style={{ fontSize: 15, fontWeight: \"bold\" }}>\n          Stated Prerequisites:\n        </Text>\n        <Text style={{ fontSize: 15 }}>\n          {selectedClass.prerequisites !== \"\"\n            ? selectedClass.prerequisites\n            : \"none\"}\n        </Text>\n\n        <Text style={{ fontSize: 15, fontWeight: \"bold\" }}>\n          Stated Corequisites:\n        </Text>\n        <Text style={{ fontSize: 15 }}>\n          {selectedClass.corequisites !== \"\"\n            ? selectedClass.corequisites\n            : \"none\"}\n        </Text>\n\n        <Text style={{ fontSize: 15, fontWeight: \"bold\" }}>\n          Number of PERMs:\n        </Text>\n        <Text style={{ fontSize: 15 }}>\n          {selectedClass.permCount ? selectedClass.permCount.toString() : \"0\"}\n        </Text>\n      </Layout>\n      <Layout style={[{ alignItems: \"flex-end\" }, backgroundColor]}>\n        {(selectedClass.timeSpentOutOfClass\n          || selectedClass.averageGrade\n          || selectedClass.difficulty\n          || selectedClass.rating) && (\n          <TouchableOpacity onPress={() => setShowModal(!showModal)}>\n            <Layout\n              style={[\n                {\n                  flexDirection: \"row\",\n                  alignItems: \"flex-start\",\n                  paddingRight: 5,\n                },\n                backgroundColor,\n              ]}\n            >\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.disclaimer}>How Do We Estimate This?</Text>\n            </Layout>\n          </TouchableOpacity>\n        )}\n      </Layout>\n      <Layout style={backgroundColor}>\n        {selectedClass.times.length > 0 && (\n          <Layout style={backgroundColor}>\n            <Text style={styles.subHeader}>Sections</Text>\n            <Layout style={[styles.section, backgroundColor]}>\n              <Text style={styles.headerText}>Course Code</Text>\n              <Text style={styles.headerText}>Seats</Text>\n              <Text style={styles.headerText}>Professor</Text>\n              <Text style={styles.headerText}>Time</Text>\n              <Text style={styles.headerText}>Location</Text>\n            </Layout>\n          </Layout>\n        )}\n        {selectedClass.times.map((time) => {\n          return (\n            <Layout\n              key={time.courseCode}\n              style={{ backgroundColor, ...styles.section }}\n            >\n              <Text style={styles.sectionText}>{time.courseCode}</Text>\n              <Text style={styles.sectionText}>\n                {time.seatsFilled}\n                {' '}\n                /\n                {time.seatsFilled + time.seatsAvailable}\n              </Text>\n              <Text style={styles.sectionText}>{time.professorName}</Text>\n              <Text style={styles.sectionText}>\n                {buildTimeString(time)}\n                {time.daysOfTheWeek.join(\", \")}\n              </Text>\n              <Text style={styles.sectionText}>\n                {time.classLocation ? time.classLocation : \"TBD\"}\n              </Text>\n            </Layout>\n          );\n        })}\n        {averageGradeMSGModal}\n      </Layout>\n      <Text style={styles.subHeader}>Reviews</Text>\n      {selectedClass.reviews.length === 0 ? (\n        <Text style={{ alignSelf: \"center\", marginBottom: 10 }}>\n          No Reviews yet\n        </Text>\n      ) : (\n        selectedClass.reviews.map((review, index) => (\n          <Card key={index} disabled>\n            <Text>{`${review.text}\\n\\nPosted: ${review.date}`}</Text>\n            {review.professor && (\n              <Text>{`Taught By: ${review.professor}`}</Text>\n            )}\n          </Card>\n        ))\n      )}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n  subtitle: {\n    fontSize: 16,\n  },\n  courseOpen: {\n    backgroundColor: \"green\",\n    color: \"#fff\",\n    padding: 5,\n    marginRight: 10,\n  },\n  courseClosed: {\n    backgroundColor: \"red\",\n    color: \"#fff\",\n    padding: 5,\n    borderRadius: 5,\n  },\n  header: {\n    alignItems: \"center\",\n  },\n  details: {\n    flexDirection: \"row\",\n    padding: 10,\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n  },\n  courseDescription: {\n    paddingRight: 20,\n    paddingLeft: 20,\n    paddingTop: 10,\n    paddingBottom: 5,\n    fontSize: 17,\n  },\n  BodyContainer: {\n    borderTopWidth: 1,\n    borderTopColor: \"black\",\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-evenly\",\n    padding: 10,\n    paddingTop: 20,\n    paddingBottom: 20,\n  },\n  boxed: {\n    alignItems: \"center\",\n    margin: 8,\n    borderColor: \"black\",\n    borderWidth: 1,\n    padding: 7,\n  },\n  documentStyle: {\n    width: 150,\n    height: 190,\n    paddingTop: 100,\n  },\n  imageLabel: {\n    fontSize: 12,\n    color: \"black\",\n    padding: 10,\n    textAlign: \"center\",\n  },\n  schedule: {\n    paddingLeft: 20,\n    paddingTop: 10,\n  },\n  graphImage: {\n    width: \"100%\",\n    aspectRatio: 1,\n    resizeMode: \"contain\",\n  },\n  grade: {\n    fontSize: 50,\n    fontWeight: \"bold\",\n    color: \"green\",\n  },\n  reviewText: {\n    fontSize: 16,\n    fontStyle: \"italic\",\n  },\n  reviewBox: {\n    width: \"95%\",\n    padding: 10,\n    borderWidth: 1,\n    borderColor: \"black\",\n    borderRadius: 5,\n    marginBottom: 10,\n  },\n  section: {\n    flexDirection: \"row\",\n    paddingLeft: 5,\n    borderBottomWidth: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  headerText: {\n    fontWeight: \"bold\",\n    fontSize: 13,\n    flex: 1,\n  },\n  sectionText: {\n    flex: 1,\n  },\n  disclaimer: {\n    fontSize: 14,\n    fontStyle: \"italic\",\n  },\n  backdrop: {\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  containerDrop: {\n    height: 42,\n    margin: 12,\n    borderWidth: 1,\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30,\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  subHeader: {\n    fontSize: 20,\n    paddingLeft: 20,\n    paddingBottom: 20,\n    paddingTop: 20,\n    fontWeight: \"bold\",\n  },\n});\n","import { FontAwesome5, FontAwesome } from \"@expo/vector-icons\";\nimport BottomSheet from \"@gorhom/bottom-sheet/lib/typescript/components/bottomSheet/BottomSheet\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport {\n  IndexPath,\n  Select,\n  SelectItem,\n  Layout,\n  Text,\n  Button,\n  Input,\n  List,\n} from \"@ui-kitten/components\";\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  Alert,\n  Animated,\n  Dimensions,\n  Image,\n  KeyboardAvoidingView,\n  Platform,\n  RefreshControl,\n  SafeAreaView,\n  ScrollView,\n  StyleSheet,\n  TextInput,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View,\n} from \"react-native\";\nimport GestureRecognizer from \"react-native-swipe-gestures\";\nimport { SwipeRow } from \"react-native-swipe-list-view\";\n\nimport { base_URL } from \"./constants\";\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey,\n} from \"../../app/appDataSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport BackButton from \"../../components/BackButton\";\n\nimport ModalContainer from \"../../components/ModalContainer\";\nimport UserNameSelectionDropDown from \"../../components/UserNameSelectionDropDown\";\nimport { useGetCurrentSectionQuery } from \"../api/classPagesApi\";\nimport { useGetUserInfoQuery } from \"../api/usersApi\";\nimport CalendarFunctions from \"../calendar/CalendarFunctions\";\nimport renderItem from \"../calendar/ScheduledItem\";\nimport renderCustomEvent from \"../calendar/customEvent\";\nimport {\n  classSelected,\n  selectClassesList,\n} from \"../classPages/classPagesSlice\";\nimport { Class } from \"../../app/types\";\nimport SingleClassPage from \"./notificationSinglePage\";\n\nconst NotificationHomePage = createNativeStackNavigator();\n\nexport default function NotificationsNavigation({ navigation }) {\n  const [notifications, setNotifications] = useState([]);\n  const [selectedIndex, setSelectedIndex] = React.useState([]);\n  const [hasChosen, setHasChosen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [isOpen, setIsOpen] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const isGuest = useAppSelector(selectIsGuest);\n\n  useEffect(() => {\n    refreshNotifications();\n    fetch(`${base_URL}/users/getUserNameList`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then(async (data) => {\n      if (data.ok) {\n        const newUsers = (await data.json()).map((userName) => {\n          return {\n            label: userName,\n            id: userName,\n          };\n        });\n        setUsers(newUsers);\n      }\n    });\n  }, []);\n  async function refreshNotifications() {\n    fetch(`${base_URL}/users/getNotifications`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then((res) => {\n      res.text().then((notifications) => {\n        notifications = JSON.parse(notifications);\n        // @ts-ignore\n        setNotifications(notifications);\n      });\n    });\n  }\n  async function sendNotification(bodyTosend) {\n    await fetch(`${base_URL}/users/sendNotification`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n      body: JSON.stringify(bodyTosend),\n    });\n  }\n  function createNotificationButton() {\n    navigation.navigate(\"CreateNotification\");\n  }\n  function clearNotifications() {\n    fetch(`${base_URL}/users/clearNotifications`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then(() => {\n      refreshNotifications();\n    });\n  }\n  const navigationHeader = (navigation) => (\n    <Layout\n      style={{\n        width: \"100%\",\n        justifyContent: \"space-between\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        flex: 1,\n        backgroundColor: \"transparent\",\n      }}\n    >\n      {Platform.OS === \"ios\" && <BackButton navigation={navigation} />}\n\n      <Layout\n        style={{\n          paddingBottom: 5,\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          flex: 1,\n          backgroundColor: \"transparent\",\n        }}\n      >\n        {/* <Image\n          style={{\n            height: 28,\n            width: 28,\n          }}\n          source={require('../../../assets/logos/app-logo.png')}\n        /> */}\n        <Text\n          style={{\n            paddingTop: 3,\n            fontSize: 20,\n            fontWeight: \"500\",\n            color: darkMode ? \"#fff\" : \"#000\",\n          }}\n        >\n          Notifications\n        </Text>\n      </Layout>\n      <Layout\n        style={{\n          alignSelf: \"flex-end\",\n          paddingRight: 40,\n          paddingBottom: 10,\n          flexDirection: \"row\",\n          backgroundColor: \"transparent\",\n        }}\n      >\n        <TouchableOpacity\n          style={{\n            paddingLeft: 20,\n            marginRight: Platform.OS == \"android\" ? 50 : 0,\n          }}\n          onPress={() => {\n            if (isGuest) {\n              setShowGuestModal(true);\n            } else {\n              createNotificationButton();\n            }\n          }}\n        >\n          <FontAwesome5 size={25} color=\"#1E90FF\" name=\"plus\" />\n        </TouchableOpacity>\n        {showGuestModal && (\n          <ModalContainer\n            title=\"Wait!\"\n            children={(\n              <Text style={{ paddingHorizontal: 30 }}>\n                This feature is locked to our Guest Users. Please create a free\n                account with us to take advantage this feature.\n              </Text>\n            )}\n            backDropVisible={showGuestModal}\n            setBackDropVisible={setShowGuestModal}\n          />\n        )}\n        {/* <TouchableOpacity\n\n          onPress={() => {\n            Alert.alert(\n              'Caution',\n              'Are you sure you want to clear your notifications?\\nThis action cannot be undone.',\n              [\n                {\n                  text: 'No',\n                  style: 'cancel',\n                },\n                {\n                  text: 'Yes',\n                  onPress: async () => {\n                    clearNotifications();\n                  },\n                },\n              ]\n            );\n          }}>\n          <FontAwesome5 size={25} color={'#d71717'} name=\"times\" />\n        </TouchableOpacity>\n        /* <TouchableOpacity\n          style={{ paddingLeft: 20 }}\n          onPress={() => {\n            refreshNotifications();\n          }}>\n          <FontAwesome size={25} color={'#1E90FF'} name=\"rotate-right\" />\n        </TouchableOpacity> */}\n      </Layout>\n    </Layout>\n  );\n  function Notifications({ navigation }) {\n    const [refreshing, setRefreshing] = useState(false);\n    const [isMoving, setIsMoving] = useState(false);\n\n    const onRefresh = useCallback(() => {\n      setRefreshing(true);\n      refreshNotifications().then(() => {\n        setRefreshing(false);\n      });\n    }, []);\n    async function handleOnLeftSwipe(postId) {\n      const newNotifications = notifications.map((not) => {\n        if (not._id !== postId) {\n          return not;\n        }\n      });\n      console.log(newNotifications);\n      setNotifications(newNotifications);\n      const res = await fetch(`${base_URL}/users/removeNotification`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          userKey,\n        },\n        body: JSON.stringify({\n          id: postId,\n        }),\n        redirect: \"follow\",\n      });\n      if (res.ok) {\n        refreshNotifications();\n      } else {\n        console.log(await res.json());\n      }\n      setIsOpen(false);\n      setIsMoving(false);\n    }\n\n    const renderItem = ({ item: notification }) => {\n      return (\n        <Layout>\n          {notification && (\n            // @ts-ignore\n            <SwipeRow\n              disableRightSwipe\n              onSwipeValueChange={(status) => {\n                if (status.value < -Dimensions.get(\"window\").width * (1 / 3)) {\n                  if (!isOpen) {\n                    setIsOpen(true);\n                    handleOnLeftSwipe(notification._id);\n                  }\n                } else if (status.value < -5) {\n                  setIsMoving(true);\n                } else {\n                  setIsMoving(false);\n                }\n              }}\n              useNativeDriver\n            >\n              <Layout\n                style={{\n                  alignItems: \"flex-end\",\n                  justifyContent: \"center\",\n                  alignSelf: \"center\",\n                  width: \"95%\",\n                  height: 75,\n                  borderRadius: 11,\n                  backgroundColor: \"#ce0f0f\",\n                  marginLeft: 5,\n                  paddingRight: 20,\n                  marginRight: 5,\n                  marginTop: 10,\n                }}\n              >\n                <Text style={{ color: \"#fff\" }}>Delete</Text>\n              </Layout>\n              <TouchableWithoutFeedback\n                style={{\n                  alignItems: \"center\",\n                  alignSelf: \"center\",\n                  width: \"95%\",\n                  height: 75,\n                  borderRadius: 10,\n                  marginLeft: 5,\n                  marginRight: 5,\n                  marginTop: 10,\n                }}\n                onPress={() => {\n                  navigation.navigate(\"SingleNotification\", {\n                    data: notification,\n                  });\n                }}\n                key={notification?._id}\n              >\n                <Layout\n                  style={{\n                    alignItems: \"center\",\n                    alignSelf: \"center\",\n                    width: \"95%\",\n                    height: 75,\n                    borderRadius: 10,\n                    backgroundColor: darkMode ? \"#333333\" : \"#ebebeb\",\n                    shadowColor: \"#000\",\n                    shadowOffset: { width: 0, height: 1 },\n                    shadowOpacity: 0.2,\n                    shadowRadius: 2,\n                    elevation: 1,\n                    marginLeft: 5,\n                    marginRight: 5,\n                    marginTop: 10,\n                  }}\n                >\n                  <Text\n                    style={{\n                      paddingTop: 5,\n                      fontWeight: \"bold\",\n                      fontSize: 20,\n                    }}\n                  >\n                    {notification?.title}\n                  </Text>\n                  <Text style={{}}>\n                    From:\n                    {notification?.from}\n                  </Text>\n                  {notification?.creationDate ? (\n                    <Text style={{ fontStyle: \"italic\", fontSize: 12 }}>\n                      {notification?.creationDate}\n                    </Text>\n                  ) : null}\n                </Layout>\n              </TouchableWithoutFeedback>\n            </SwipeRow>\n          )}\n        </Layout>\n      );\n    };\n\n    return (\n      <Layout style={{ flex: 1 }}>\n        {notifications.length === 0 ? (\n          <Layout style={{ alignItems: \"center\" }}>\n            <Text\n              style={{\n                paddingTop: \"25%\",\n                paddingBottom: 10,\n                textAlign: \"center\",\n              }}\n            >\n              No New Notifications\n            </Text>\n            <TouchableOpacity\n              onPress={() => {\n                refreshNotifications();\n              }}\n            >\n              <FontAwesome size={25} color=\"#1E90FF\" name=\"rotate-right\" />\n            </TouchableOpacity>\n          </Layout>\n        ) : null}\n        <List\n          style={{ backgroundColor: \"transparent\" }}\n          contentContainerStyle={{ flex: 1 }}\n          data={notifications}\n          scrollEnabled={!isMoving}\n          renderItem={renderItem}\n          onRefresh={refreshNotifications}\n          refreshing={refreshing}\n        />\n      </Layout>\n    );\n  }\n\n  function getDateText(text) {\n    const spaceIndex = text.indexOf(\" \");\n    const first = text.substring(0, spaceIndex);\n    const second = text.substring(spaceIndex + 1);\n    return `${second} |  ${first}`;\n  }\n\n  function SingleNotification({\n    route: {\n      params: { data },\n    },\n  }) {\n    navigation = useNavigation();\n    const { data: currentSection } = useGetCurrentSectionQuery();\n\n    const listToRemove = [];\n    if (data.isSchedule) {\n      const jsonSchedule = JSON.parse(data.message);\n      let thereIsAtLeastOne = false;\n      for (const index in jsonSchedule) {\n        if (jsonSchedule[index].courseTerm === currentSection) {\n          thereIsAtLeastOne = true;\n        } else {\n          listToRemove.push(index);\n        }\n      }\n      for (const index of listToRemove) {\n        jsonSchedule.splice(index, 1);\n      }\n      if (!thereIsAtLeastOne) {\n        Alert.alert(\n          \"This schedule is either empty or contains outdated class information\",\n        );\n        navigation.goBack();\n      }\n      return thereIsAtLeastOne ? (\n        <Layout>{Calendar(jsonSchedule)}</Layout>\n      ) : null;\n    } if (data.isCourseData) {\n      const allClassData = useAppSelector(selectClassesList);\n      const courseSimpleData = JSON.parse(data.message);\n      if (courseSimpleData.courseTerm === currentSection) {\n        return (\n          <SingleClassPage\n            selectedClass={allClassData[courseSimpleData.masterCourseCode]}\n          />\n        );\n      }\n      Alert.alert(\"This course contains outdated information\");\n      navigation.goBack();\n      return null;\n\n    }\n    return (\n      <KeyboardAvoidingView\n        style={{ flex: 1 }}\n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n      >\n        <ScrollView contentContainerStyle={{ flex: 1 }}>\n          <Layout style={sponsorPageStyles.container}>\n            <Layout\n              style={{ width: \"100%\", alignItems: \"center\", marginTop: 20 }}\n            >\n              <Text style={sponsorPageStyles.title}>{data.title}</Text>\n            </Layout>\n\n            {data.from && (\n              <Layout style={sponsorPageStyles.address}>\n                <Layout style={{ flexDirection: \"row\" }}>\n                  <Text style={{ fontSize: 15, fontWeight: \"bold\" }}>\n                    From:\n                    {\" \"}\n                  </Text>\n                  <Text style={{ fontSize: 15 }}>{data.from}</Text>\n                </Layout>\n                <Layout style={{ flexDirection: \"row\" }}>\n                  <Text style={{ fontSize: 15 }}>\n                    {getDateText(data.creationDate)}\n                  </Text>\n                </Layout>\n              </Layout>\n            )}\n            <Layout style={sponsorPageStyles.description}>\n              <Text>{data.message}</Text>\n            </Layout>\n            {data.repliable && (\n              <TouchableOpacity\n                onPress={() => {\n                  // TODO: reply\n                }}\n                style={myStyles.button}\n              >\n                <Text style={myStyles.text}>Reply</Text>\n              </TouchableOpacity>\n            )}\n          </Layout>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    );\n  }\n  function CreateNotification({ navigation }) {\n    const [body, setBody] = useState({});\n    const [done, setDone] = useState(false);\n    const [recipient, setRecipient] = useState(null);\n    const [hasChosen, setHasChosen] = useState(false);\n\n    useEffect(() => {\n      changeValue(hasChosen ? [recipient] : null, \"recipients\");\n    }, [recipient, hasChosen]);\n\n    function checkForDone(tempBody) {\n      if (tempBody.recipients && tempBody.title && tempBody.text) {\n        setDone(true);\n      } else {\n        setDone(false);\n      }\n    }\n\n    const changeValue = (theValue, valueToChange) => {\n      const newBody = body;\n      for (const aspect in newBody) {\n        if (\n          newBody[aspect] === null\n          || newBody[aspect] === undefined\n          || newBody[aspect] === \"\"\n        ) {\n          delete newBody[aspect];\n        }\n      }\n      if (theValue !== undefined) {\n        newBody[valueToChange] = theValue;\n      } else if (newBody[valueToChange]) {\n        delete newBody[valueToChange];\n      }\n      console.log(JSON.stringify(newBody));\n      checkForDone(newBody);\n      setBody(newBody);\n    };\n\n    function renderInputFields() {\n      const renderHeader = () => {\n        return (\n          <Layout style={{ flexDirection: \"row\" }}>\n            <Text\n              style={{\n                fontSize: 15,\n                paddingLeft: 12,\n                paddingBottom: 5,\n                paddingTop: 5,\n                alignContent: \"center\",\n                fontWeight: \"bold\",\n              }}\n            >\n              Send Message\n            </Text>\n          </Layout>\n        );\n      };\n      const final = [];\n      final.push(\n        <View\n          style={{\n            height: 50,\n            margin: 12,\n            padding: 10,\n          }}\n        >\n          {UserNameSelectionDropDown({\n            setHasChosen,\n            setRecipient,\n            placeholder: true,\n          })}\n        </View>,\n      );\n      final.push(\n        <Input\n          autoCapitalize=\"words\"\n          onChangeText={(theValue) => changeValue(theValue, \"title\")}\n          style={myStyles.input}\n          placeholderTextColor=\"gray\"\n          placeholder=\"Title\"\n        />,\n      );\n      final.push(\n        <Input\n          autoCapitalize=\"sentences\"\n          onChangeText={(theValue) => changeValue(theValue, \"text\")}\n          style={myStyles.inputBig}\n          multiline\n          textStyle={{ minHeight: 150 }}\n          placeholderTextColor=\"gray\"\n          placeholder=\"Body\"\n        />,\n      );\n\n      return (\n        <Layout style={{ flex: 1 }}>\n          {renderHeader()}\n          {final}\n        </Layout>\n      );\n    }\n    return (\n      <SafeAreaView style={{ flex: 1 }}>\n        <KeyboardAvoidingView\n          style={{ flex: 1 }}\n          behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        >\n          <ScrollView contentContainerStyle={{ flex: 1 }}>\n            <Layout style={sponsorPageStyles.container}>\n              <Layout style={sponsorPageStyles.description}>\n                {renderInputFields()}\n                <Button\n                  disabled={!done}\n                  onPress={async () => {\n                    // console.log(JSON.stringify(body));\n                    await sendNotification(body);\n                    navigation.navigate(\"Notifications\");\n                  }}\n                >\n                  <Text style={myStyles.text}>Send Message</Text>\n                </Button>\n              </Layout>\n            </Layout>\n          </ScrollView>\n        </KeyboardAvoidingView>\n      </SafeAreaView>\n    );\n  }\n  return (\n    <NotificationHomePage.Navigator initialRouteName=\"Notifications & Messages\">\n      <NotificationHomePage.Screen\n        options={({ navigation }) => ({\n          title: \"Notifications\",\n          headerTitle: () => {\n            return navigationHeader(navigation);\n          },\n        })}\n        name=\"Notifications\"\n        component={Notifications}\n      />\n      <NotificationHomePage.Screen\n        name=\"SingleNotification\"\n        component={SingleNotification}\n        options={{ headerTitle: \"\" }}\n      />\n      <NotificationHomePage.Screen\n        name=\"CreateNotification\"\n        component={CreateNotification}\n        options={{ headerTitle: \"\" }}\n      />\n    </NotificationHomePage.Navigator>\n  );\n}\n\nfunction convertTo12HourTime(time) {\n  if (time.length !== 5) {\n    time = `0${time}`;\n  }\n  let hours = time.slice(0, 2);\n  const minutes = time.slice(3, 5);\n  let ampm = Number.parseInt(hours) > 12 ? \"pm\" : \"am\";\n  hours %= 12;\n  if (hours === 0) {\n    hours = 12;\n    ampm = \"pm\";\n  }\n  return `${hours}:${minutes}${ampm}`;\n}\n\nfunction getMinutesDiff(startTime, endTime) {\n  if (endTime > startTime) {\n    return (endTime - startTime) * 0.7;\n  } if (startTime === endTime) {\n    return 0;\n  }\n  return (startTime - endTime) * -0.7;\n\n}\n\nfunction Calendar(userData) {\n  const allClassData = useAppSelector(selectClassesList);\n  const { data: currentSection, isLoading: isCurrentSectionLoading } = useGetCurrentSectionQuery();\n  const darkMode: boolean = useAppSelector(selectDarkMode);\n  const calendarFun = new CalendarFunctions();\n  const days = [\n    { day: \"Mon\", id: \"Monday\" },\n    { day: \"Tues\", id: \"Tuesday\" },\n    { day: \"Wed\", id: \"Wednesday\" },\n    { day: \"Thurs\", id: \"Thursday\" },\n    { day: \"Fri\", id: \"Friday\" },\n    { day: \"Sat\", id: \"Saturday\" },\n    { day: \"Sun\", id: \"Sunday\" },\n  ];\n  const times = [\n    \"12:00 AM\",\n    \"1:00 AM\",\n    \"2:00 AM\",\n    \"3:00 AM\",\n    \"4:00 AM\",\n    \"5:00 AM\",\n    \"6:00 AM\",\n    \"7:00 AM\",\n    \"8:00 AM\",\n    \"9:00 AM\",\n    \"10:00 AM\",\n    \"11:00 AM\",\n    \"12:00 PM\",\n    \"1:00 PM\",\n    \"2:00 PM\",\n    \"3:00 PM\",\n    \"4:00 PM\",\n    \"5:00 PM\",\n    \"6:00 PM\",\n    \"7:00 PM\",\n    \"8:00 PM\",\n    \"9:00 PM\",\n    \"10:00 PM\",\n    \"11:00 PM\",\n  ];\n\n  function renderDashes() {\n    const final = [];\n    for (let i = 0; i < 24; i++) {\n      final.push(\n        <Layout\n          style={{\n            width: 46,\n            marginLeft: 9,\n            top: 41.7 * i,\n            position: \"absolute\",\n            height: 41.7,\n            borderBottomWidth: 0.7,\n            borderBottomColor: darkMode ? \"rgb(68,68,68)\" : \"rgb(204,204,204)\",\n          }}\n        />,\n      );\n    }\n    return final;\n  }\n\n  const renderClasses = (elem) => {\n    const classes = [];\n    for (const course of userData) {\n      if (course.courseTerm === currentSection) {\n        const data = calendarFun.getFullClassData(\n          course.courseCode,\n          allClassData,\n        );\n        const data2 = data.times.find(\n          (time) => time.courseCode === course.courseCode,\n        );\n        for (const day in data2.daysOfTheWeek) {\n          if (data2.daysOfTheWeek[day] === elem.id) {\n            classes.push(renderItem(data, course.courseCode, () => {}));\n          }\n        }\n      }\n    }\n\n    return classes;\n  };\n\n  const topBar = useRef(null);\n\n  return (\n    <SafeAreaView\n      style={{\n        marginTop: 0,\n        marginLeft: 0,\n        paddingBottom: 15,\n        marginBottom: 20,\n      }}\n    >\n      {/* Times */}\n      <ScrollView\n        horizontal\n        snapToInterval={63}\n        showsHorizontalScrollIndicator={false}\n        style={{ marginLeft: 75 }}\n        ref={topBar}\n      >\n        <View style={{ flexDirection: \"row\" }}>\n          {days.map((elem) => {\n            return (\n              <Layout>\n                <Layout\n                  style={{\n                    borderColor: darkMode ? \"#7a7a7a\" : \"#525252\",\n                    borderBottomWidth: 1,\n                    width: \"100%\",\n                  }}\n                >\n                  <Text\n                    style={{\n                      textAlign: \"center\",\n                      color: darkMode ? \"#7a7a7a\" : \"#525252\",\n                      width: 63,\n                    }}\n                  >\n                    {elem.day}\n                  </Text>\n                </Layout>\n              </Layout>\n            );\n          })}\n        </View>\n      </ScrollView>\n      <ScrollView\n        contentOffset={{ x: 0, y: 292 }}\n        showsVerticalScrollIndicator={false}\n        bounces={false}\n      >\n        <View style={{ flexDirection: \"row\" }}>\n          <View\n            style={{\n              justifyContent: \"space-around\",\n              height: 1000,\n            }}\n          >\n            {times.map((time) => {\n              return (\n                <Text\n                  style={{\n                    textAlign: \"center\",\n                    color: darkMode ? \"#7a7a7a\" : \"#525252\",\n                    paddingTop: \"15%\",\n                    height: 43,\n                    width: 75,\n                    borderWidth: 1,\n                    borderColor: darkMode ? \"#7a7a7a\" : \"#525252\",\n                  }}\n                >\n                  {time}\n                </Text>\n              );\n            })}\n          </View>\n          {/* Classes */}\n          <ScrollView\n            horizontal\n            snapToInterval={63}\n            decelerationRate=\"normal\"\n            showsHorizontalScrollIndicator={false}\n            bounces={false}\n            scrollEventThrottle={1}\n            onScroll={(e) => topBar.current.scrollTo({\n              x: e.nativeEvent.contentOffset.x,\n              animated: false,\n              useNativeDriver: true,\n            })}\n            onMomentumScrollBegin={(e) => topBar.current.scrollTo({\n              x: e.nativeEvent.contentOffset.x,\n              animated: false,\n              useNativeDriver: true,\n            })}\n          >\n            <View style={{ flexDirection: \"row\" }}>\n              {days.map((elem) => {\n                return (\n                  <Layout>\n                    {renderDashes()}\n                    <Layout key={elem.day} style={{ width: 63 }}>\n                      {renderClasses(elem)}\n                    </Layout>\n                    <Layout\n                      style={{\n                        height: \"100%\",\n                        width: 1,\n                        backgroundColor: darkMode ? \"#7a7a7a\" : \"#525252\",\n                      }}\n                    />\n                  </Layout>\n                );\n              })}\n            </View>\n          </ScrollView>\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n}\n\nconst sponsorPageStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"100%\",\n  },\n  address: {\n    alignItems: \"center\",\n    margin: 10,\n    borderColor: \"black\",\n    borderWidth: 1,\n    padding: 10,\n  },\n  video: {\n    marginTop: 20,\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10,\n  },\n  logo: {\n    width: \"100%\",\n    height: 100,\n  },\n  description: {\n    flex: 1,\n    margin: 10,\n    borderRadius: 5,\n    width: \"95%\",\n    padding: 10,\n  },\n  couponContainer: {\n    width: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  coupon: {\n    width: 400,\n    height: 267,\n  },\n  imageGallery: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    margin: 10,\n    marginBottom: 0,\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n});\n\nconst myStyles = StyleSheet.create({\n  inputBig: {\n    height: 200,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30,\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n  },\n  button: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3,\n  },\n  timeButton: {\n    width: 100,\n    height: 50,\n    marginHorizontal: 40,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 4,\n  },\n  timeText: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  actualTimeText: {\n    fontSize: 13,\n    lineHeight: 18,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  timeStyle: {\n    flex: 0.3,\n    borderWidth: 2,\n    borderLeftColor: \"white\",\n  },\n});\n\nconst listingStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n  },\n  cardContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    width: \"95%\",\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#ddd\",\n    borderBottomWidth: 0,\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10,\n  },\n  containerForNotifications: {\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    width: \"95%\",\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#ddd\",\n    borderBottomWidth: 0,\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10,\n  },\n  text: {\n    flex: 1,\n    fontSize: 20,\n    textAlign: \"center\",\n    marginTop: 5,\n    marginBottom: 5,\n  },\n  image: {\n    width: \"100%\",\n    height: \"100%\",\n    borderRadius: 10,\n  },\n});\n","import {\n  Input, Layout, Spinner, Text\n} from \"@ui-kitten/components\";\nimport { TouchableWithoutFeedback } from \"@ui-kitten/components/devsupport\";\nimport { useState } from \"react\";\nimport {\n  Keyboard,\n  KeyboardAvoidingView,\n  Platform,\n  TouchableOpacity,\n} from \"react-native\";\n\nimport { selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport WrapItems from \"../../components/WrapItems\";\nimport { useEditUserMutation, useGetUserInfoQuery } from \"../api/usersApi\";\n\nfunction EditProfileHeader({ navigation, saveChanges }) {\n  return (\n    <Layout\n      style={{\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        margin: 20,\n        marginTop: Platform.OS !== \"ios\" ? 40 : 20,\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          navigation.goBack();\n        }}\n      >\n        <Text>Cancel</Text>\n      </TouchableOpacity>\n      <Text category=\"s1\">Edit Profile</Text>\n      <TouchableOpacity onPress={saveChanges}>\n        <Text>Save</Text>\n      </TouchableOpacity>\n    </Layout>\n  );\n}\n\nexport default function EditUser({ navigation }) {\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey,\n  });\n\n  const inputs = [\n    {\n      placeholder: \"*******\",\n      label: \"password\",\n      name: \"password\",\n    },\n    {\n      placeholder: userData.realFirstName,\n      label: \"First Name\",\n      name: \"realFirstName\",\n    },\n    {\n      placeholder: userData.realLastName,\n      label: \"Last Name\",\n      name: \"realLastName\",\n    },\n    {\n      placeholder: userData.profileDescription,\n      label: \"Profile Description\",\n      name: \"profileDescription\",\n      propOptions: { multiline: true, textStyle: { minHeight: 64 } },\n    },\n    {\n      placeholder: userData.linkedin,\n      label: \"LinkedIn\",\n      name: \"linkedin\",\n    },\n    {\n      placeholder: userData.major,\n      label: \"Major\",\n      name: \"major\",\n    },\n  ];\n\n  const [fields, setFields] = useState(\n    Object.fromEntries(inputs.map((input) => [input.name, \"\"])),\n  );\n  const [editUser, { isLoading }] = useEditUserMutation();\n\n  const saveChanges = async () => {\n    const changedFields = Object.entries(fields).filter(\n      ([_, value]) => value !== \"\",\n    );\n\n    try {\n      if (changedFields.length > 0) {\n        await editUser({\n          userKey,\n          userName: userData.userName,\n          fields: Object.fromEntries(changedFields),\n        }).unwrap();\n      }\n\n      navigation.goBack();\n    } catch (err) {\n      console.log(\"Error editing user\", err);\n    }\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      {isLoading ? (\n        <Layout\n          style={{\n            flex: 1,\n            backgroundColor: \"transparent\",\n            position: \"absolute\",\n            top: \"30%\",\n            right: \"50%\",\n            zIndex: 1,\n          }}\n        >\n          <Spinner size=\"medium\" />\n        </Layout>\n      ) : null}\n\n      <EditProfileHeader navigation={navigation} saveChanges={saveChanges} />\n      <KeyboardAvoidingView\n        style={{ flex: 1 }}\n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n      >\n        <TouchableWithoutFeedback\n          style={{ flex: 1 }}\n          onPress={Keyboard.dismiss}\n        >\n          <WrapItems\n            style={{ marginVertical: 20 }}\n            childStyle={{ marginHorizontal: 40, marginVertical: 10 }}\n          >\n            {inputs.map(({\n              placeholder, label, name, propOptions\n            }) => (\n              <Input\n                key={name}\n                placeholder={placeholder}\n                label={label}\n                onChangeText={(text) => setFields({ ...fields, [name]: text })}\n                {...propOptions}\n              />\n            ))}\n          </WrapItems>\n        </TouchableWithoutFeedback>\n      </KeyboardAvoidingView>\n    </Layout>\n  );\n}\n","import {\n  Button, Divider, Layout, Text, Toggle\n} from \"@ui-kitten/components\";\nimport Constants from \"expo-constants\";\nimport React, { useState } from \"react\";\nimport { useColorScheme } from \"react-native\";\n\nimport {\n  deviceDarkModeSet,\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey,\n  reset as resetAppData,\n  useDeviceColorSchemeSet,\n} from \"../../app/appDataSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport ModalContainer from \"../../components/ModalContainer\";\nimport WrapItems from \"../../components/WrapItems\";\nimport { apiSlice } from \"../api/apiSlice\";\nimport { useDeleteAccountMutation, useGetUserInfoQuery } from \"../api/usersApi\";\nimport { reset as resetClassPages } from \"../classPages/classPagesSlice\";\nimport { reset as resetDiscover } from \"../discover/discoverSlice\";\n\nexport default function SettingsPage({ navigation }) {\n  const darkMode = useAppSelector(selectDarkMode);\n  const useDeviceColorScheme = useAppSelector(\n    (state) => state.appData.secure.useDeviceColorScheme,\n  );\n  const userKey = useAppSelector(selectUserKey);\n  const isGuest = useAppSelector(selectIsGuest);\n  const colorScheme = useColorScheme();\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey,\n  });\n  const dispatch = useAppDispatch();\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [deleteAccount, { isLoading }] = useDeleteAccountMutation();\n\n  const logOut = () => {\n    dispatch(resetClassPages());\n    dispatch(resetDiscover());\n    dispatch(resetAppData());\n    dispatch(apiSlice.util.resetApiState());\n  };\n\n  const handleDeleteAccount = async () => {\n    try {\n      await deleteAccount({ userKey, userName: userData.userName }).unwrap();\n      logOut();\n    } catch (e) {\n      console.warn(\"Error deleting account: \", e);\n    }\n  };\n\n  const handleUseDeviceSettingToggled = (checked: boolean) => {\n    dispatch(useDeviceColorSchemeSet(checked));\n    if (checked) {\n      dispatch(deviceDarkModeSet(colorScheme === \"dark\"));\n    }\n  };\n\n  const handleDarkModeToggled = (checked: boolean) => {\n    dispatch(useDeviceColorSchemeSet(false));\n    dispatch(deviceDarkModeSet(checked));\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <Layout\n        style={{\n          flexDirection: \"row\",\n          marginHorizontal: 20,\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          flex: 1,\n        }}\n      >\n        <Layout>\n          <Text category=\"h2\">\n            {userData?.realFirstName}\n            {' '}\n            {userData?.realLastName}\n          </Text>\n          <Text category=\"h6\" status=\"success\">\n            @\n            {userData?.userName}\n          </Text>\n        </Layout>\n        <Layout>\n          <Button\n            onPress={() => {\n              if (isGuest) {\n                setShowGuestModal(true);\n              } else {\n                navigation.navigate(\"EditUser\");\n              }\n            }}\n          >\n            Edit\n          </Button>\n        </Layout>\n      </Layout>\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={(\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is locked to our Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          )}\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n\n      <Divider />\n\n      <Layout\n        style={{\n          flex: 5,\n          justifyContent: \"space-between\",\n          marginHorizontal: 20,\n        }}\n      >\n        <Layout>\n          <Text category=\"h6\" style={{ textAlign: \"center\", marginTop: 20 }}>\n            Dark Mode\n          </Text>\n          <Layout\n            style={{\n              marginTop: 20,\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <Text>Use Device Setting</Text>\n            <Toggle\n              onChange={(checked) => handleUseDeviceSettingToggled(checked)}\n              checked={useDeviceColorScheme}\n            />\n          </Layout>\n          <Layout\n            style={{\n              marginTop: 20,\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              opacity: useDeviceColorScheme ? 0.4 : 1,\n            }}\n          >\n            <Text>Dark Mode</Text>\n            <Toggle\n              onChange={(checked) => handleDarkModeToggled(checked)}\n              checked={darkMode}\n            />\n          </Layout>\n        </Layout>\n\n        <WrapItems\n          childStyle={{ marginVertical: 3 }}\n          style={{ alignItems: \"center\", marginBottom: 10 }}\n        >\n          <Button onPress={logOut} status=\"warning\" appearance=\"outline\">\n            Log Out\n          </Button>\n          <Button\n            onPress={handleDeleteAccount}\n            status=\"danger\"\n            appearance=\"ghost\"\n          >\n            Delete Account\n          </Button>\n          <Text>\n            {Constants?.manifest2?.extra?.expoClient?.version\n              ? `Version ${Constants.manifest2.extra.expoClient.version}`\n              : \"\"}\n          </Text>\n        </WrapItems>\n      </Layout>\n    </Layout>\n  );\n}\n","import { HeaderBackButton } from \"@react-navigation/elements\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { Text, useTheme } from \"@ui-kitten/components\";\nimport { Platform, TouchableOpacity } from \"react-native\";\n\nimport EditUser from \"./EditUser\";\nimport SettingsPage from \"./SettingsPage\";\nimport { selectDarkMode } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport BackButton from \"../../components/BackButton\";\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Settings() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerStyle: {\n          backgroundColor: darkMode ? theme[\"color-basic-800\"] : \"#fff\",\n        },\n      }}\n    >\n      <Stack.Screen\n        name=\"SettingsPage\"\n        component={SettingsPage}\n        options={({ navigation }) => ({\n          title: \"Settings\",\n          headerLeft: (props) => (\n            <BackButton navigation={navigation} {...props} />\n          ),\n        })}\n      />\n      <Stack.Group screenOptions={{ presentation: \"modal\" }}>\n        <Stack.Screen\n          name=\"EditUser\"\n          component={EditUser}\n          options={{ headerShown: false }}\n        />\n      </Stack.Group>\n    </Stack.Navigator>\n  );\n}\n","import { FontAwesome5, Ionicons, Foundation } from \"@expo/vector-icons\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport {\n  Button, Layout, Text, useTheme\n} from \"@ui-kitten/components\";\nimport React, { useEffect, useState } from \"react\";\nimport { Image, Platform, TouchableOpacity } from \"react-native\";\n\nimport ClassesList from \"./ClassesList\";\nimport ElectiveGenerator from \"./ElectiveGenerator\";\nimport SelectTerm from \"./SelectTerm\";\nimport SingleClassPage from \"./SingleClassPage/index\";\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey,\n} from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport Header from \"../../components/Header\";\nimport NotificationsNavigation from \"../notifications/Notifications\";\nimport { base_URL } from \"../notifications/constants\";\nimport Settings from \"../settings/index\";\nimport { SponsorsList, SponsorPage } from \"../sponsors/SponsorsList\";\n\nconst Stack = createNativeStackNavigator();\n\nexport default function SearchClasses({ navigation }) {\n  const theme = useTheme();\n  const hasSelectedElectiveGenerator = useAppSelector(\n    (state) => state.appData.classPages.hasSelectedElectiveGen,\n  );\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [numberOfNotifications, setNumberOfNotifications] = useState(0);\n\n  function refreshNotifications() {\n    fetch(`${base_URL}/users/getNotifications`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then((res) => {\n      res.text().then((notifications) => {\n        notifications = JSON.parse(notifications);\n        setNumberOfNotifications(notifications.length);\n      });\n    });\n  }\n\n  useEffect(() => {\n    refreshNotifications();\n    setInterval(() => {\n      refreshNotifications();\n    }, 60000); // refresh every minute\n  }, []);\n\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28,\n      }}\n      source={require(\"../../../assets/logos/app-logo-transparent.png\")}\n    />\n  );\n\n  const accessoryRight = (\n    <Layout\n      style={{\n        flexDirection: \"row\",\n        width: 120,\n        justifyContent: \"space-between\",\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate(\"ElectiveGenerator\");\n        }}\n        style={{ flexDirection: \"row\", alignItems: \"center\" }}\n      >\n        {hasSelectedElectiveGenerator ? (\n          <FontAwesome5\n            name=\"brain\"\n            size={23}\n            color={\n              darkMode ? theme[\"color-basic-200\"] : theme[\"color-basic-800\"]\n            }\n          />\n        ) : (\n          <Foundation\n            name=\"burst-new\"\n            size={30}\n            color={theme[\"color-warning-500\"]}\n          />\n        )}\n      </TouchableOpacity>\n\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate(\"SponsorsList\");\n        }}\n        style={{ flexDirection: \"row\", alignItems: \"center\" }}\n      >\n        <FontAwesome5\n          name=\"shopping-bag\"\n          size={23}\n          color={darkMode ? theme[\"color-basic-200\"] : theme[\"color-basic-800\"]}\n        />\n      </TouchableOpacity>\n\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate(\"Settings\");\n        }}\n        style={{ flexDirection: \"row\", alignItems: \"center\" }}\n      >\n        <Ionicons\n          name=\"settings\"\n          size={23}\n          color={darkMode ? theme[\"color-basic-200\"] : theme[\"color-basic-800\"]}\n        />\n      </TouchableOpacity>\n\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate(\"NotificationsPage\");\n        }}\n        style={{ flexDirection: \"row\", alignItems: \"center\" }}\n      >\n        <FontAwesome5\n          name=\"bell\"\n          size={23}\n          color={darkMode ? theme[\"color-basic-200\"] : theme[\"color-basic-800\"]}\n        />\n        {numberOfNotifications > 0 ? (\n          <Layout\n            style={{\n              position: \"absolute\",\n              backgroundColor: darkMode ? \"red\" : \"#fff\",\n              borderRadius: 10,\n              paddingHorizontal: 3,\n              right: -7,\n              top: -3,\n            }}\n          >\n            <Text>{numberOfNotifications}</Text>\n          </Layout>\n        ) : null}\n      </TouchableOpacity>\n    </Layout>\n  );\n\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"ClassesList\"\n        component={ClassesList}\n        options={{\n          header: () => (\n            <Layout style={{ paddingBottom: 10 }}>\n              <Header\n                accessoryLeft={accessoryLeft}\n                accessoryRight={accessoryRight}\n                title=\"Athena\"\n              />\n            </Layout>\n          ),\n          title: \"ClassPages\",\n        }}\n      />\n      <Stack.Screen\n        name=\"Settings\"\n        component={Settings}\n        options={{\n          headerShown: false,\n        }}\n      />\n      <Stack.Group screenOptions={{ headerTitle: \"Sponsors\" }}>\n        <Stack.Screen\n          name=\"SponsorsList\"\n          component={SponsorsList}\n          options={{ title: \"Sponsors\" }}\n        />\n        <Stack.Screen\n          name=\"SponsorPage\"\n          component={SponsorPage}\n          options={{ title: \"Sponsors\" }}\n        />\n      </Stack.Group>\n      <Stack.Screen\n        name=\"NotificationsPage\"\n        component={NotificationsNavigation}\n        options={{ headerShown: false, title: \"Notifications\" }}\n      />\n      <Stack.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: \"Select Term\",\n          headerShown: false,\n          animation: \"slide_from_bottom\",\n          gestureDirection: \"vertical\",\n        }}\n      />\n      <Stack.Screen\n        name=\"ElectiveGenerator\"\n        component={ElectiveGenerator}\n        options={{\n          title: \"Elective Generator\",\n          animation: \"slide_from_bottom\",\n          gestureDirection: \"vertical\",\n        }}\n      />\n      {Platform.OS === \"web\" && (\n        <Stack.Screen\n          name=\"SingleClassPage\"\n          component={SingleClassPage}\n          options={{\n            headerShown: false,\n            title: \"ClassPages\",\n          }}\n        />\n      )}\n    </Stack.Navigator>\n  );\n}\n","export default {\n  \"color-basic-100\": \"#FFFFFF\",\n  \"color-basic-200\": \"#F5F5F5\",\n  \"color-basic-300\": \"#D4D4D4\",\n  \"color-basic-400\": \"#B3B3B3\",\n  \"color-basic-500\": \"#808080\",\n  \"color-basic-600\": \"#4A4A4A\",\n  \"color-basic-700\": \"#383838\",\n  \"color-basic-800\": \"#292929\",\n  \"color-basic-900\": \"#1F1F1F\",\n  \"color-basic-1000\": \"#141414\",\n  \"color-basic-1100\": \"#000000\",\n  \"color-primary-100\": \"#FFE0D8\",\n  \"color-primary-200\": \"#FFBBB2\",\n  \"color-primary-300\": \"#FF8E8B\",\n  \"color-primary-400\": \"#FF6F78\",\n  \"color-primary-500\": \"#FF3F5E\",\n  \"color-primary-600\": \"#DB2E5A\",\n  \"color-primary-700\": \"#B71F54\",\n  \"color-primary-800\": \"#93144C\",\n  \"color-primary-900\": \"#7A0C47\",\n  \"color-success-100\": \"#FBD4F0\",\n  \"color-success-200\": \"#F8ABE8\",\n  \"color-success-300\": \"#EA7EDC\",\n  \"color-success-400\": \"#D55AD0\",\n  \"color-success-500\": \"#b42bba\",\n  \"color-success-600\": \"#8F1F9F\",\n  \"color-success-700\": \"#6E1585\",\n  \"color-success-800\": \"#500D6B\",\n  \"color-success-900\": \"#3A0859\",\n  \"color-info-100\": \"#CDFDFE\",\n  \"color-info-200\": \"#9CF4FE\",\n  \"color-info-300\": \"#6AE4FC\",\n  \"color-info-400\": \"#45D0FA\",\n  \"color-info-500\": \"#09B0F7\",\n  \"color-info-600\": \"#0689D4\",\n  \"color-info-700\": \"#0466B1\",\n  \"color-info-800\": \"#02498F\",\n  \"color-info-900\": \"#013476\",\n  \"color-warning-100\": \"#FFF6CC\",\n  \"color-warning-200\": \"#FFEA99\",\n  \"color-warning-300\": \"#FFDC66\",\n  \"color-warning-400\": \"#FFCD3F\",\n  \"color-warning-500\": \"#FFB600\",\n  \"color-warning-600\": \"#DB9600\",\n  \"color-warning-700\": \"#B77800\",\n  \"color-warning-800\": \"#935C00\",\n  \"color-warning-900\": \"#7A4800\",\n  \"color-danger-100\": \"#FEE5DE\",\n  \"color-danger-200\": \"#FEC6BE\",\n  \"color-danger-300\": \"#FEA09D\",\n  \"color-danger-400\": \"#FD858D\",\n  \"color-danger-500\": \"#FC5D77\",\n  \"color-danger-600\": \"#D8436A\",\n  \"color-danger-700\": \"#B52E5E\",\n  \"color-danger-800\": \"#921D51\",\n  \"color-danger-900\": \"#781149\",\n  \"color-grey-800\": \"#1F1F1F\",\n  \"color-grey-700\": \"#2F2F2F\",\n  \"color-grey-600\": \"#3F3F3F\",\n  \"color-grey-500\": \"#4F4F4F\",\n  \"color-grey-400\": \"#5F5F5F\",\n  \"color-grey-300\": \"#6F6F6F\",\n  \"color-grey-200\": \"#7F7F7F\",\n  \"color-grey-100\": \"#8F8F8F\",\n  \"color-grey-50\": \"#9F9F9F\",\n};\n","import { FontAwesome5 } from \"@expo/vector-icons\";\nimport React from \"react\";\nimport { StyleSheet } from \"react-native\";\n\nexport const FontAwesomeIconsPack = {\n  name: \"fontAwesome\",\n  icons: createIconsMap(),\n};\n\nfunction createIconsMap() {\n  return new Proxy(\n    {},\n    {\n      get(target, name) {\n        return IconProvider(name);\n      },\n    },\n  );\n}\n\nconst IconProvider = (name) => ({\n  toReactElement: (props) => FontAwesomeIcon({ name, ...props }),\n});\n\nfunction FontAwesomeIcon({ name, style }) {\n  const { height, tintColor, ...iconStyle } = StyleSheet.flatten(style);\n  return (\n    <FontAwesome5\n      name={name}\n      size={height}\n      color={tintColor}\n      style={iconStyle}\n    />\n  );\n}\n","import { Feather } from \"@expo/vector-icons\";\nimport React from \"react\";\nimport { StyleSheet } from \"react-native\";\n\nexport const FeatherIconsPack = {\n  name: \"feather\",\n  icons: createIconsMap(),\n};\n\nfunction createIconsMap() {\n  return new Proxy(\n    {},\n    {\n      get(target, name) {\n        return IconProvider(name);\n      },\n    },\n  );\n}\n\nconst IconProvider = (name) => ({\n  toReactElement: (props) => FeatherIcon({ name, ...props }),\n});\n\nfunction FeatherIcon({ name, style }) {\n  const { height, tintColor, ...iconStyle } = StyleSheet.flatten(style);\n  return (\n    <Feather name={name} size={height} color={tintColor} style={iconStyle} />\n  );\n}\n","import { FontAwesome } from \"@expo/vector-icons\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport {\n  Card,\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem,\n  Divider,\n} from \"@ui-kitten/components\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport moment from \"moment-timezone\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport {\n  View,\n  Image,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  TextInput,\n  RefreshControl,\n  KeyboardAvoidingView,\n  Platform,\n  Dimensions,\n} from \"react-native\";\nimport { LineChart } from \"react-native-chart-kit\";\n\nimport { selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport { base_URL } from \"../../constants/admin\";\n\nconst AdminHomePage = createNativeStackNavigator();\n\nexport default function AdminHomeNavigation() {\n  const [adminCommands, setAdminCommands] = useState([]);\n  const userKey = useAppSelector(selectUserKey);\n  useEffect(() => {\n    getAdminCommands();\n  }, []);\n  async function getAdminCommands() {\n    const adminURL = `${base_URL}/adminCommands`;\n    const res = await fetch(`${adminURL}/getAdminCommands`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    });\n    console.log(adminCommands);\n    let commands: any[] = await res.json();\n    const filter = await fetch(`${adminURL}/toggleAdminCommands`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n      body: \"{}\",\n    });\n    const filterObject = (await filter.json()).currentAdminCommandsStatus;\n    console.log(filterObject);\n    commands = commands.sort((a, b) => {\n      const textA = a.label.toUpperCase();\n      const textB = b.label.toUpperCase();\n      return textA < textB ? -1 : textA > textB ? 1 : 0;\n    });\n    const finalCommandList = [];\n    for (const command of commands) {\n      if (filterObject[command.label]) {\n        finalCommandList.push(command);\n      }\n    }\n    // @ts-ignore\n    setAdminCommands(finalCommandList);\n    return commands;\n  }\n\n  const [refreshing, setRefreshing] = useState(false);\n\n  const onRefresh = useCallback(() => {\n    setRefreshing(true);\n    setAdminCommands([]);\n    getAdminCommands().then((commands) => setRefreshing(false));\n  }, []);\n\n  function AdminHome({ navigation }) {\n    return (\n      <ScrollView\n        refreshControl={\n          <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n        }\n      >\n        {adminCommands?.length === 0 ? <Text>No Commands Yet. Rip</Text> : null}\n        {adminCommands?.map((command) => {\n          return (\n            <TouchableOpacity\n              onPress={() => {\n                navigation.navigate(\"AdminCommand\", { data: command });\n              }}\n              style={listingStyles.cardContainer}\n              key={command.url}\n            >\n              <Text style={listingStyles.text}>{command.label}</Text>\n            </TouchableOpacity>\n          );\n        })}\n      </ScrollView>\n    );\n  }\n\n  return (\n    <AdminHomePage.Navigator initialRouteName=\"AdminHome\">\n      <AdminHomePage.Screen\n        options={{\n          // title: 'Admin Home',\n          /* headerTitle: () => {\n                        return adminControlPanelHeader;\n                    }, */\n          headerShown: false,\n        }}\n        name=\"AdminHome\"\n        component={AdminHome}\n      />\n      <AdminHomePage.Screen\n        name=\"AdminCommand\"\n        component={AdminCommand}\n        options={{ headerTitle: \"\" }}\n      />\n    </AdminHomePage.Navigator>\n  );\n}\n\nfunction AdminCommand({\n  route: {\n    params: { data },\n  },\n}) {\n  const [info, setInfo] = useState({});\n  const [isFileUpload, setIsFileUpload] = useState(false);\n  const [body, setBody] = useState({});\n  const [users, setUsers] = useState([]);\n  const [fileUploads, setFileUploads] = useState([]);\n  const [sponsors, setSponsors] = useState([]);\n  const [status, setStatus] = useState(\"0\");\n  const [allFieldsFilled, setAllFieldsFilled] = useState(false);\n  const [buttonPushed, setButtonPushed] = useState(false); // refresh button\n  const userKey = useAppSelector(selectUserKey);\n\n  useEffect(() => {\n    // Check for first button render\n    checkForFieldsFilled(body);\n    // Fetch User List\n    fetch(`${base_URL}/users/getUserNameList`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then(async (data) => {\n      if (data.ok) {\n        const newUsers = (await data.json()).map((userName) => {\n          return {\n            label: userName,\n            id: userName,\n          };\n        });\n        setUsers(newUsers);\n      }\n    });\n    // Fetch Sponsor List\n    fetch(`${base_URL}/sponsors/`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then(async (data) => {\n      if (data.ok) {\n        const sponsors = (await data.json()).map((sponsor) => {\n          return {\n            label: sponsor.sponsorName,\n            id: sponsor._id,\n          };\n        });\n        setSponsors(sponsors);\n      }\n    });\n    // Fetch File upload List\n    fetch(`${base_URL}/adminCommands/getReferenceImages`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then(async (data) => {\n      if (data.ok) {\n        const images = (await data.json()).map((imageName) => {\n          return {\n            label: imageName,\n            id: imageName,\n          };\n        });\n        setFileUploads(images);\n      }\n    });\n  }, []);\n\n  function checkForFieldsFilled(body) {\n    for (const field of data.fields) {\n      if (field.mandatory) {\n        if (body[field.id] === undefined || body[field.id] === null) {\n          setAllFieldsFilled(false);\n          return;\n        }\n      }\n    }\n    setAllFieldsFilled(true);\n  }\n\n  const sendApiData = (data, userKey) => {\n    let additionToUrl = \"\";\n    for (const aspect in body) {\n      if (body[aspect].paramOverride) {\n        additionToUrl += body[aspect];\n        break;\n      }\n    }\n    if (JSON.stringify(body, null, 2) !== \"{}\" && data.apiType === \"GET\") {\n      for (const aspect in body) {\n        if (additionToUrl === \"\") {\n          additionToUrl = \"?\";\n        } else {\n          additionToUrl += \"&\";\n        }\n        additionToUrl += `${aspect}=${body[aspect]}`;\n      }\n    }\n    const newUrl = data.url + additionToUrl;\n    console.log(`isFileUpload: ${isFileUpload}`);\n    if (!isFileUpload) {\n      fetch(newUrl, {\n        method: data.apiType,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          userKey,\n        },\n        body:\n          JSON.stringify(body, null, 2) !== \"{}\" && data.apiType !== \"GET\"\n            ? JSON.stringify(body)\n            : undefined,\n      }).then((res) => {\n        // @ts-ignore\n        setStatus(res.status);\n        res.text().then((text) => {\n          try {\n            const text2 = JSON.parse(text);\n            setInfo(text2);\n          } catch (err) {\n            setInfo(text);\n          }\n        });\n      });\n    } else {\n      const formdata = new FormData();\n      for (const item in body) {\n        if (!item.includes(\"picture\")) {\n          formdata.append(item, body[item]);\n        } else {\n          formdata.append(item, {\n            // @ts-ignore\n            uri: body[item].uri,\n            name: item,\n            type: \"image/jpg\",\n          });\n        }\n      }\n      fetch(newUrl, {\n        body: formdata,\n        redirect: \"follow\",\n        method: data.apiType,\n        headers: {\n          userKey,\n        },\n      }).then((res) => {\n        // @ts-ignore\n        setStatus(res.status);\n        res.text().then((text) => {\n          try {\n            const text2 = JSON.parse(text);\n            setInfo(text2);\n          } catch (err) {\n            setInfo(text);\n          }\n        });\n      });\n    }\n  };\n\n  if (buttonPushed) {\n    setButtonPushed(false);\n    sendApiData(data, userKey);\n  }\n\n  function renderEachDropItem(field) {\n    if (field.data) {\n      // This is where we can add preset lists if we can't use something hardcoded on the server\n      switch (field.data) {\n        case \"users\": {\n          field.options = users;\n          break;\n        }\n        case \"sponsors\": {\n          field.options = sponsors;\n          break;\n        }\n        case \"fileUploads\": {\n          field.options = fileUploads;\n          break;\n        }\n      }\n    }\n    const final = [];\n    for (const option of field.options) {\n      final.push(<SelectItem title={option.label} />);\n    }\n    return final;\n  }\n\n  function renderTheFieldsNecessary(fields) {\n    const changeValue = (theValue, valueToChange) => {\n      const newBody = body;\n      for (const aspect in newBody) {\n        if (\n          newBody[aspect] === null\n          || newBody[aspect] === undefined\n          || newBody[aspect] === \"\"\n        ) {\n          delete newBody[aspect];\n        }\n      }\n      if (theValue !== undefined) {\n        newBody[valueToChange] = theValue;\n      } else if (newBody[valueToChange]) {\n        delete newBody[valueToChange];\n      }\n      console.log(newBody);\n      setBody(newBody);\n      checkForFieldsFilled(newBody);\n    };\n\n    const fileUploadTemplate = (field) => {\n      const pickImage = async () => {\n        const result = await ImagePicker.launchImageLibraryAsync({\n          allowsEditing: false,\n        });\n        if (!result.cancelled) {\n          changeValue(result, field.id);\n        }\n      };\n\n      return (\n        <View>\n          {/* Image Picker */}\n          <TouchableOpacity\n            onPress={() => {\n              pickImage();\n            }}\n            style={{\n              height: 80,\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              borderRadius: 8,\n              paddingVertical: 8,\n              flexDirection: \"row\",\n              backgroundColor: \"#dbdbdb\",\n              marginVertical: 15,\n              marginHorizontal: 5,\n            }}\n          >\n            <Layout\n              style={{\n                flex: 1,\n                flexDirection: \"row\",\n                height: \"100%\",\n                marginHorizontal: 10,\n                backgroundColor: \"#dbdbdb\",\n              }}\n            >\n              <Layout\n                style={{\n                  flex: 1,\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  height: \"100%\",\n                  borderRadius: 10,\n                  backgroundColor: \"#bfbfbf\",\n                }}\n              >\n                {body && body[field?.id] ? (\n                  <Image\n                    source={{ uri: body[field.id].uri }}\n                    style={{ width: \"90%\", height: \"90%\", borderRadius: 10 }}\n                  />\n                ) : (\n                  <FontAwesome name=\"image\" size={40} color=\"grey\" />\n                )}\n              </Layout>\n              <Layout\n                style={{\n                  backgroundColor: \"#dbdbdb\",\n                  flex: 4,\n                  height: \"100%\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                <Text\n                  style={{\n                    fontSize: 17,\n                  }}\n                >\n                  {body && body[field?.id]\n                    ? \"Select Another Image\"\n                    : \"Select Image\"}\n                </Text>\n              </Layout>\n            </Layout>\n          </TouchableOpacity>\n        </View>\n      );\n    };\n    const renderFilterParameters = (fields) => {\n      if (fields.length === 0) {\n        return null;\n      }\n      return (\n        <View style={{ flexDirection: \"row\" }}>\n          <Text\n            style={{\n              fontSize: 15,\n              paddingLeft: 12,\n              paddingBottom: 5,\n              paddingTop: 5,\n              alignContent: \"center\",\n              fontWeight: \"bold\",\n            }}\n          >\n            Filters/Parameters\n          </Text>\n        </View>\n      );\n    };\n    const final = [];\n\n    function renderStringArray(field) {\n      const valuesToSend = {};\n      function changeStringValue(theValue, miniField, field) {\n        valuesToSend[miniField] = theValue;\n        const newFieldForBody = [];\n        for (const value of Object.values(valuesToSend)) {\n          newFieldForBody.push(value);\n        }\n        changeValue(newFieldForBody, field.id);\n      }\n      const tempFinal = [];\n      tempFinal.push(\n        <Text\n          style={{\n            fontSize: 14,\n            paddingLeft: 5,\n            paddingBottom: 3,\n            paddingTop: 3,\n          }}\n        >\n          {field.mandatory ? `${field.label} (mandatory)` : field.label}\n        </Text>,\n      );\n      for (const eachOne in field.stringArray) {\n        tempFinal.push(\n          <TextInput\n            autoCapitalize=\"none\"\n            onChangeText={(theValue) => changeStringValue(\n              theValue,\n              field.stringArray[eachOne].label,\n              field,\n            )}\n            style={myStyles.indentedInput}\n            placeholderTextColor=\"gray\"\n            placeholder={\n              field.stringArray[eachOne].mandatory\n                ? `${field.stringArray[eachOne].label} (mandatory)`\n                : field.stringArray[eachOne].label\n            }\n          />,\n        );\n      }\n      return tempFinal;\n    }\n\n    const renderMultiSelectDropDown = (field) => {\n      const [selectedIndex, setSelectedIndex] = useState([]);\n      const [hasChosen, setHasChosen] = useState(false);\n      function toggleValue(index) {\n        setHasChosen(true);\n        setSelectedIndex(index);\n        const newSelection = Array.isArray(index)\n          ? index.map((littleIndex) => {\n            return field.options[littleIndex.row].id;\n          })\n          : field.options[index.row].id;\n        changeValue(newSelection, field.id);\n      }\n      function calculateSelectedValues() {\n        const finalArray = selectedIndex.map((littleIndex) => {\n          return `${field.options[littleIndex.row].label}, `;\n        });\n        if (finalArray.length > 0) {\n          let finalObject = finalArray.at(-1);\n          finalObject = finalObject.replace(\", \", \"\");\n          finalArray.splice(-1, 1);\n          finalArray.push(finalObject);\n          return finalArray;\n        }\n        return field.mandatory ? `${field.label} (mandatory)` : field.label;\n\n      }\n      return (\n        <Layout style={myStyles.containerDrop} level=\"1\">\n          <Select\n            multiSelect\n            value={hasChosen ? calculateSelectedValues() : field.label}\n            selectedIndex={selectedIndex}\n            onSelect={(index) => toggleValue(index)}\n          >\n            {renderEachDropItem(field)}\n          </Select>\n        </Layout>\n      );\n    };\n\n    const renderDropDown = (field) => {\n      const [selectedIndex, setSelectedIndex] = useState(new IndexPath(0));\n      const [hasChosen, setHasChosen] = useState(false);\n\n      function currentValue() {\n        return (\n          <Text>\n            {!hasChosen\n              ? `Choose ${\n                field.label\n              }${field.mandatory ? \" (mandatory)\" : \"\"}`\n              : field.options[selectedIndex.row - 1].label}\n            {\" \"}\n          </Text>\n        );\n      }\n\n      function handleSelection(index) {\n        setSelectedIndex(index);\n        changeValue(\n          index.row === 0 ? undefined : field.options[index.row - 1].id,\n          field.id,\n        );\n        if (index.row === 0) {\n          setHasChosen(false);\n        } else {\n          setHasChosen(true);\n        }\n      }\n\n      return (\n        <Select\n          style={myStyles.containerDrop}\n          value={currentValue}\n          selectedIndex={selectedIndex}\n          onSelect={handleSelection}\n        >\n          <SelectItem title={\" \"} />\n          {renderEachDropItem(field)}\n        </Select>\n      );\n    };\n\n    for (let i = 0; i < fields.length; i++) {\n      const { type } = fields[i];\n      if (type === \"Boolean\") {\n        final.push(trueFalseTemplate(fields[i]));\n      } else if (type === \"String\") {\n        final.push(\n          <TextInput\n            autoCapitalize=\"none\"\n            clearButtonMode=\"always\"\n            onChangeText={(theValue) => changeValue(theValue, fields[i].id)}\n            style={myStyles.input}\n            placeholderTextColor=\"gray\"\n            placeholder={\n              fields[i].mandatory\n                ? `${fields[i].label} (mandatory)`\n                : fields[i].label\n            }\n          />,\n        );\n      } else if (type === \"ArrayString\") {\n        final.push(renderStringArray(fields[i]));\n      } else if (type === \"DropDown\") {\n        final.push(renderDropDown(fields[i]));\n      } else if (type === \"MultiSelectDropDown\") {\n        final.push(renderMultiSelectDropDown(fields[i]));\n      } else if (type === \"BigString\") {\n        final.push(\n          <TextInput\n            autoCapitalize=\"sentences\"\n            clearButtonMode=\"always\"\n            onChangeText={(theValue) => changeValue(theValue, fields[i].id)}\n            style={myStyles.inputBig}\n            multiline\n            placeholderTextColor=\"gray\"\n            placeholder={\n              fields[i].mandatory\n                ? `${fields[i].label} (mandatory)`\n                : fields[i].label\n            }\n          />,\n        );\n      } else if (type === \"FileUpload\") {\n        if (!isFileUpload) {\n          setIsFileUpload(true);\n        }\n        final.push(fileUploadTemplate(fields[i]));\n      }\n    }\n    return (\n      <View>\n        {renderFilterParameters(fields)}\n        <View>{final}</View>\n      </View>\n    );\n  }\n\n  const trueFalseTemplate = (field) => {\n    const [selectedIndex, setSelectedIndex] = useState();\n    const boolValues = [\"false\", \"true\"];\n    // @ts-ignore\n    const displayValue = boolValues[selectedIndex - 1];\n    const renderOption = (displayValue) => <SelectItem title={displayValue} />;\n    const changeEverything = (value) => {\n      setSelectedIndex(value);\n      if (value.row === 0) {\n        const newBody = body;\n        newBody[field.id] = false;\n        setBody(newBody);\n      } else if (value.row === 1) {\n        const newBody = body;\n        newBody[field.id] = true;\n        setBody(newBody);\n      }\n    };\n    return (\n      <Layout style={styles.container} level=\"1\">\n        <Select\n          label={field.label}\n          selectedIndex={selectedIndex}\n          value={displayValue}\n          onSelect={(index) => changeEverything(index)}\n          placeholder={\n            field.mandatory ? `${field.label} (mandatory)` : `${field.label}`\n          }\n        >\n          {boolValues.map(renderOption)}\n        </Select>\n      </Layout>\n    );\n  };\n\n  function showResponseData(actions) {\n    if (JSON.stringify(info, null, 2) === \"{}\") {\n      return null;\n    }\n    const informationToShow = [];\n\n    // use this one for displaying everything pretty\n    if (Array.isArray(info)) {\n      if (data.isDateGraph) {\n        // check for need for rendering graphs\n        const timeFrames = [\n          \"2week-unique\",\n          \"2week-total\",\n          \"month-unique\",\n          \"6month-total\",\n        ];\n        for (const item of timeFrames) {\n          const dataToShow = {\n            labels: getDates(item),\n            datasets: [\n              {\n                data: getData(item),\n              },\n            ],\n          };\n          informationToShow.push(renderOneGraph(dataToShow, item));\n        }\n      }\n      for (const oneElement of info) {\n        informationToShow.push(\n          renderOneCard(oneElement, actions || []),\n        );\n      }\n    } else {\n      informationToShow.push(\n        <Text style={{ flexShrink: 1 }}>\n          {typeof info === \"string\" ? info : JSON.stringify(info, null, 2)}\n        </Text>,\n      );\n    }\n\n    function getData(timeFrame) {\n      const final = [];\n      switch (timeFrame) {\n        case \"2week-unique\": {\n          for (let i = 13; i >= 0; i--) {\n            const day = moment()\n              .tz(\"America/Los_Angeles\")\n              .subtract(i, \"days\")\n              .format(\"YYYY-MM-DD\");\n            let counter = 0;\n            const usersToday = [];\n            // @ts-ignore\n            for (const instance of info) {\n              const { userName } = instance;\n              if (instance.date === day && !usersToday.includes(userName)) {\n                usersToday.push(userName);\n                counter++;\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n        case \"2week-total\": {\n          for (let i = 13; i >= 0; i--) {\n            const day = moment()\n              .tz(\"America/Los_Angeles\")\n              .subtract(i, \"days\")\n              .format(\"YYYY-MM-DD\");\n            let counter = 0;\n            const usersToday = [];\n            // @ts-ignore\n            for (const instance of info) {\n              const { userName } = instance;\n              if (instance.date === day) {\n                usersToday.push(userName);\n                counter++;\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n        case \"month-unique\": {\n          for (let i = 4; i > 0; i--) {\n            const weekStart = moment()\n              .tz(\"America/Los_Angeles\")\n              .subtract(i, \"weeks\")\n              .format(\"YYYY-MM-DD\");\n            const weekEnd = moment()\n              .tz(\"America/Los_Angeles\")\n              .subtract(i - 1, \"weeks\")\n              .format(\"YYYY-MM-DD\");\n            let counter = 0;\n            const usersMonth = [];\n            // @ts-ignore\n            for (const instance of info) {\n              if (\n                instance.date > weekStart\n                && instance.date <= weekEnd\n                && !usersMonth.includes(instance.userName)\n              ) {\n                counter++;\n                usersMonth.push(instance.userName);\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n        case \"6month-total\": {\n          for (let i = 6; i > 0; i--) {\n            const monthStart = moment()\n              .tz(\"America/Los_Angeles\")\n              .subtract(i, \"months\")\n              .format(\"YYYY-MM-DD\");\n            const monthEnd = moment()\n              .tz(\"America/Los_Angeles\")\n              .subtract(i - 1, \"months\")\n              .format(\"YYYY-MM-DD\");\n            let counter = 0;\n            // @ts-ignore\n            for (const instance of info) {\n              if (instance.date > monthStart && instance.date <= monthEnd) {\n                counter++;\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n      }\n      return final;\n    }\n\n    function getDates(timeFrame) {\n      const final = [];\n      switch (timeFrame) {\n        case \"2week-unique\": {\n          for (let i = 13; i >= 0; i--) {\n            final.push(\n              moment()\n                .tz(\"America/Los_Angeles\")\n                .subtract(i, \"days\")\n                .format(\"MM/DD\"),\n            );\n          }\n          break;\n        }\n        case \"2week-total\": {\n          for (let i = 13; i >= 0; i--) {\n            final.push(\n              moment()\n                .tz(\"America/Los_Angeles\")\n                .subtract(i, \"days\")\n                .format(\"MM/DD\"),\n            );\n          }\n          break;\n        }\n        case \"month-unique\": {\n          for (let i = 4; i > 0; i--) {\n            final.push(\n              `${moment()\n                .tz(\"America/Los_Angeles\")\n                .subtract(i, \"weeks\")\n                .add(1, \"days\")\n                .format(\"MM/DD\")\n              }-${\n                moment()\n                  .tz(\"America/Los_Angeles\")\n                  .subtract(i - 1, \"weeks\")\n                  .format(\"MM/DD\")}`,\n            );\n          }\n          break;\n        }\n        case \"6month-total\": {\n          for (let i = 6; i > 0; i--) {\n            final.push(\n              `${moment()\n                .tz(\"America/Los_Angeles\")\n                .subtract(i, \"months\")\n                .add(1, \"days\")\n                .format(\"MM/DD\")\n              }-${\n                moment()\n                  .tz(\"America/Los_Angeles\")\n                  .subtract(i - 1, \"months\")\n                  .format(\"MM/DD\")}`,\n            );\n          }\n          break;\n        }\n      }\n      return final;\n    }\n\n    function renderOneGraph(graphData, timeFrame) {\n      return (\n        <View style={{ paddingBottom: 10 }}>\n          <Text>\n            Timeframe:\n            {timeFrame}\n          </Text>\n          <LineChart\n            data={graphData}\n            width={Dimensions.get(\"window\").width}\n            height={400}\n            verticalLabelRotation={60}\n            fromZero\n            xLabelsOffset={-10}\n            segments={8}\n            chartConfig={{\n              backgroundColor: \"#bdbdbd\",\n              decimalPlaces: 0,\n              color: (opacity = 1) => `rgba(255, 255, 255, ${opacity})`,\n              labelColor: (opacity = 1) => `rgba(255, 255, 255, ${opacity})`,\n              style: {\n                borderRadius: 16,\n              },\n              propsForDots: {\n                r: \"6\",\n                strokeWidth: \"2\",\n                stroke: \"#333333\",\n              },\n            }}\n          />\n        </View>\n      );\n    }\n\n    function renderOneCard(cardInfo, actions) {\n      const finalText = [];\n      for (const aspect in cardInfo) {\n        if (aspect !== \"_id\" && aspect !== \"__v\") {\n          finalText.push(\n            <View style={{ flexDirection: \"row\", flexWrap: \"wrap\" }}>\n              <Text style={{ fontWeight: \"bold\" }}>{`${aspect} : `}</Text>\n              <Text>{JSON.stringify(cardInfo[aspect], null, \"\\t\")}</Text>\n            </View>,\n          );\n        }\n      }\n      let renderedActions = null;\n      // @ts-ignore\n      if (actions !== []) {\n        renderedActions = [];\n        for (const action of actions) {\n          renderedActions.push(renderButtonForCard(action, cardInfo));\n        }\n      }\n\n      function renderButtonForCard(action, cardInfo) {\n        return (\n          <View style={{ marginHorizontal: 20 }}>\n            <TouchableOpacity\n              style={{\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                width: 100,\n                height: 40,\n                backgroundColor: action.color ? action.color : \"gray\",\n                elevation: 3,\n              }}\n              onPress={() => {\n                const params = {};\n                for (const parameter of action.params) {\n                  params[parameter] = cardInfo[parameter]\n                    ? cardInfo[parameter]\n                    : undefined;\n                }\n                fetch(action.url, {\n                  method: action.method,\n                  headers: {\n                    \"Content-Type\": \"application/json\",\n                    userKey,\n                  },\n                  body: JSON.stringify(params),\n                }).then((res) => {\n                  if (res.ok) {\n                    setButtonPushed(true);\n                  }\n                  // res.text().then(final => console.log(final))\n                });\n              }}\n            >\n              {/* @ts-ignore */}\n              <Text style={myStyles.buttonText}>{action.label}</Text>\n            </TouchableOpacity>\n          </View>\n        );\n      }\n\n      return (\n        <View>\n          <Card>\n            {finalText}\n            <View\n              style={{\n                paddingTop: 15,\n                width: \"95%\",\n                flexDirection: \"row\",\n                alignSelf: \"center\",\n                alignContent: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              {renderedActions}\n            </View>\n          </Card>\n          <Divider />\n        </View>\n      );\n    }\n\n    return (\n      <View style={{ flexShrink: 1 }}>\n        <Text\n          style={{\n            fontSize: 20,\n            paddingLeft: 20,\n            paddingBottom: 0,\n            paddingTop: 20,\n            fontWeight: \"bold\",\n          }}\n        >\n          Server Response\n        </Text>\n        <Text\n          style={{\n            fontSize: 13,\n            paddingLeft: 20,\n            paddingBottom: 10,\n            paddingTop: 5,\n            fontStyle: \"italic\",\n          }}\n        >\n          Status Code:\n          {' '}\n          {status}\n        </Text>\n        <View style={{ paddingTop: 10, backgroundColor: \"lightgray\" }}>\n          {informationToShow}\n        </View>\n      </View>\n    );\n  }\n\n  return (\n    <KeyboardAvoidingView\n      behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n    >\n      <ScrollView style={{ height: \"100%\" }}>\n        <View style={sponsorPageStyles.container}>\n          <View\n            style={{ width: \"100%\", display: \"flex\", alignItems: \"center\" }}\n          >\n            <Text style={sponsorPageStyles.title}>{data.label}</Text>\n          </View>\n\n          {data.url && (\n            // @ts-ignore\n            <View style={sponsorPageStyles.address}>\n              <Text style={{ fontSize: 18 }}>{data.url}</Text>\n            </View>\n          )}\n          <View style={sponsorPageStyles.description}>\n            {renderTheFieldsNecessary(data.fields)}\n          </View>\n          {allFieldsFilled && (\n            <TouchableOpacity\n              onPress={() => {\n                sendApiData(data, userKey);\n                // @ts-ignore\n              }}\n              style={myStyles.button}\n            >\n              <Text style={myStyles.text}>Send Call</Text>\n            </TouchableOpacity>\n          )}\n          {showResponseData(data.actions)}\n        </View>\n      </ScrollView>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst sponsorPageStyles = {\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"100%\",\n  },\n  address: {\n    alignItems: \"center\",\n    margin: 10,\n    borderColor: \"black\",\n    borderWidth: 1,\n    padding: 10,\n  },\n  video: {\n    marginTop: 20,\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10,\n  },\n  logo: {\n    width: \"100%\",\n    height: 100,\n  },\n  description: {\n    borderWidth: 1,\n    margin: 10,\n    borderColor: \"#5d5c5c\",\n    borderRadius: 5,\n    width: \"95%\",\n    padding: 10,\n    backgroundColor: \"rgba(178,166,166,0.22)\",\n  },\n  couponContainer: {\n    width: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  coupon: {\n    width: 400,\n    height: 267,\n  },\n  imageGallery: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    margin: 10,\n    marginBottom: 0,\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n};\n\nconst myStyles = {\n  inputBig: {\n    height: 200,\n    backgroundColor: \"white\",\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  input: {\n    backgroundColor: \"#ffffff\",\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  containerDrop: {\n    backgroundColor: \"#ffffff\",\n    height: 42,\n    margin: 12,\n    borderWidth: 1,\n  },\n  indentedInput: {\n    backgroundColor: \"#ffffff\",\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30,\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  buttonText: {\n    fontSize: 13,\n    flexWrap: \"wrap\",\n    lineHeight: 15,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  button: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3,\n    backgroundColor: \"black\",\n  },\n};\n\nconst listingStyles = {\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n  },\n  cardContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    width: \"95%\",\n    height: 75,\n    backgroundColor: \"#bbbbbb\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#ddd\",\n    borderBottomWidth: 0,\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10,\n  },\n  text: {\n    flex: 1,\n    fontSize: 20,\n    textAlign: \"center\",\n    marginTop: 5,\n    marginBottom: 5,\n  },\n  image: {\n    width: \"100%\",\n    height: \"100%\",\n    borderRadius: 10,\n  },\n};\n\nconst styles = {\n  imagesContainer: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    padding: 10,\n    paddingTop: 20,\n  },\n  imageContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  imageLabel: {\n    fontSize: 12,\n    color: \"black\",\n    padding: 10,\n    textAlign: \"center\",\n  },\n  cardContainer: {\n    backgroundColor: \"#FFF\",\n    borderWidth: 0,\n    flex: 1,\n    justifyContent: \"center\",\n    margin: 0,\n    padding: 0,\n  },\n  container: {\n    flex: 1,\n  },\n};\n","import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { Layout } from \"@ui-kitten/components\";\nimport React, { useState } from \"react\";\nimport { Image, TouchableOpacity } from \"react-native\";\n\nimport AdminHomeNavigation from \"./adminPanel\";\nimport { selectDarkMode, selectUserKey } from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport Header from \"../../components/Header\";\nimport { base_URL } from \"../notifications/constants\";\n\nconst AdminStack = createNativeStackNavigator();\nexport default function AdminPanel() {\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28,\n        alignItems: \"center\",\n      }}\n      source={require(\"../../../assets/logos/app-logo-transparent.png\")}\n    />\n  );\n\n  return (\n    <AdminStack.Navigator>\n      <AdminStack.Screen\n        options={{\n          header: () => {\n            return (\n              <Layout style={{ paddingBottom: 10 }}>\n                <Header accessoryLeft={accessoryLeft} title=\"Admin Panel\" />\n              </Layout>\n            );\n          },\n        }}\n        name=\"AdminStack\"\n        component={AdminHomeNavigation}\n      />\n    </AdminStack.Navigator>\n  );\n}\n","import { Image, View } from \"react-native\";\n\nexport default function WebSplashScreen() {\n  return (\n    <View\n      style={{\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <Image\n        source={require(\"../../assets/logos/splash-logo.png\")}\n        style={{ width: 300, height: 300 }}\n      />\n    </View>\n  );\n}\n","import Loader from 'react-native-three-dots-loader';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { useIsFocused, useNavigation } from '@react-navigation/native';\nimport { Text } from '@ui-kitten/components';\nimport * as ImagePicker from \"expo-image-picker\";\nimport React, { useEffect, useState } from 'react';\nimport {\n  Alert,\n  Dimensions,\n  FlatList,\n  Image,\n  Keyboard,\n  KeyboardAvoidingView,\n  LogBox,\n  Platform,\n  SafeAreaView,\n  TextInput,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport Toast from \"react-native-root-toast\";\nimport { io } from \"socket.io-client\";\nimport { selectUserKey } from '../../../app/appDataSlice';\n\nimport { useAppSelector } from \"../../../app/hooks\";\nimport SearchBar from \"../../../components/SearchBar\";\nimport { base_URL } from \"../../../constants/admin\";\nimport { useGetCurrentSectionQuery } from \"../../api/classPagesApi\";\nimport { useGetUserInfoQuery } from '../../api/usersApi';\n\nexport default function SingleChatRoom({\n  route: {\n    params: { data },\n  },\n}) {\n  const [imagePickerStatus, requestImagePickerPermission] = ImagePicker.useMediaLibraryPermissions();\n  const [cameraStatus, requestCameraPermission] = ImagePicker.useCameraPermissions();\n  const [filter, setFilter] = useState(\"\");\n  const [showSearch, setShowSearch] = useState(false);\n  const [photoSelected, setPhotoSelected] = useState({\n    date: null,\n    id: null,\n    contentImage: null,\n  });\n  const [keyboardShown, setKeyboardShown] = useState(false);\n  const [retryNumber, setRetryNumber] = useState(0);\n  const [failedConnection, setFailedConnection] = useState(false);\n  const [hardDisableSend, setHardDisableSend] = useState(false);\n  const navigation = useNavigation();\n  const [message, setMessage] = useState(\"\");\n  const [filteredMessageList, setFilteredMessageList] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey,\n  });\n  const { data: currentSection, isLoading: isCurrentSectionLoading } = useGetCurrentSectionQuery();\n  const [messageList, setMessageList] = useState([]);\n  const socket = io(`${base_URL}/realTimeChat/${data.id}`, {\n    auth: {\n      userKey,\n    },\n  });\n\n  useEffect(() => {\n    // Bug with some component i guess cause i didn't use animated anything, yet expo has a seizure and spams warnings\n    LogBox.ignoreLogs([\"Animated: `useNativeDriver`\"]);\n\n    // Keyboard listeners\n    const showListener = Keyboard.addListener(\"keyboardWillShow\", () => {\n      setKeyboardShown(true);\n    });\n    const hideListener = Keyboard.addListener(\"keyboardWillHide\", () => {\n      setKeyboardShown(false);\n    });\n\n    return () => {\n      showListener.remove();\n      hideListener.remove();\n    };\n  }, []);\n\n  useEffect(() => {\n    navigation.setOptions({\n      headerTitle:\n        data.id === \"public\"\n          ? \"Public\"\n          : data.id === \"admin\"\n            ? \"Admin\"\n            : data.id,\n      headerRight: () => (\n        <TouchableOpacity\n          onPress={() => {\n            setFilter(\"\");\n            setShowSearch(!showSearch);\n          }}\n        >\n          <FontAwesome5 name=\"search\" size={20} color=\"black\" />\n        </TouchableOpacity>\n      ),\n    });\n  }, [showSearch]);\n\n  useEffect(() => {\n    // maintenance\n\n    // socket logic\n    socket.connect();\n    const timer = setTimeout(() => {\n      socket.off(\"connect\");\n      socket.off(\"newMessage\");\n      socket.disconnect();\n      socket.close();\n      setFailedConnection(true);\n    }, 10000);\n    socket.on(\"connect\", () => {\n      console.log(\"connected\");\n      clearTimeout(timer);\n      getMessages();\n    });\n    return () => {\n      setLoaded(false);\n      socket.disconnect();\n      socket.off(\"connect\");\n      socket.off(\"newMessage\");\n    };\n  }, [useIsFocused(), retryNumber]);\n\n  // Add all new message changes here\n  useEffect(() => {\n    socket.on(\"imageMessageServer\", (msg) => {\n      addMessage(msg);\n    });\n    socket.on(\"newMessage\", (msg) => {\n      addMessage(msg);\n    });\n    socket.on(\"deleteMessage\", (msg) => {\n      const index = messageList.findIndex((mess) => isEqualTo(mess, msg));\n      if (index !== -1) {\n        setMessageList([...messageList].splice(index, 1));\n      }\n    });\n    return () => {\n      socket.off(\"imageMessageServer\");\n      socket.off(\"newMessage\");\n      socket.off(\"deleteMessage\");\n    };\n  }, [messageList]);\n\n  function getMessages() {\n    fetch(`${base_URL}/chatRooms/getMessages?roomId=${data.id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        userKey,\n      },\n    }).then(async (data) => {\n      if (!data.ok) {\n        setFailedConnection(true);\n      } else {\n        data.json().then(async (array) => {\n          setMessageList(array);\n          setLoaded(true);\n        });\n      }\n    });\n  }\n\n  useEffect(() => {\n    setFilteredMessageList(\n      messageList.filter((mess) => (mess.user + mess.message).toLowerCase().includes(filter.toLowerCase()),),\n    );\n  }, [filter]);\n\n  function addMessage(messageToAdd) {\n    const myMessage = messageList.find((mess) => isEqualTo(mess, messageToAdd));\n    if (myMessage) {\n      delete myMessage.isUnsent;\n      setMessageList(\n        [...messageList]\n          .filter((mess) => !isEqualTo(mess, messageToAdd))\n          .concat(myMessage),\n      );\n    } else {\n      setMessageList([...messageList].concat(messageToAdd));\n    }\n  }\n\n  function isEqualTo(message1, message2) {\n    try {\n      return message1.user === message2.user && message1.date === message2.date;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  async function activateCamera() {\n    const date = new Date().toISOString();\n    const response = await requestCameraPermission();\n    if (response.granted || cameraStatus.granted) {\n      const result = await ImagePicker.launchCameraAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      });\n      if (!result.canceled) {\n        setMessage(\"\");\n        setPhotoSelected({\n          id: userData.userName + date + data.id + currentSection,\n          contentImage: result.assets[0],\n          date,\n        });\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera is required. Please enable it in your phone's settings.\",\n      );\n    }\n  }\n\n  async function selectPhoto() {\n    const date = new Date().toISOString();\n    const response = await requestImagePickerPermission();\n    if (response.granted || imagePickerStatus.granted) {\n      const result = await ImagePicker.launchImageLibraryAsync({\n        allowsEditing: false,\n      });\n      if (!result.canceled) {\n        setMessage(\"\");\n        setPhotoSelected({\n          id: userData.userName + date + data.id + currentSection,\n          contentImage: result.assets[0],\n          date,\n        });\n\n        if (Platform.OS === \"android\") {\n          Toast.show(\"Don't worry if the image seems blurry on the sides.\", {\n            duration: Toast.durations.LONG,\n            opacity: 1,\n            position: -100,\n            backgroundColor: \"grey\",\n            shadow: false,\n          });\n        }\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera roll is required. Please enable it in your phone's settings.\",\n      );\n    }\n  }\n\n  function deleteTheMessage(messageToDelete) {\n    if (messageToDelete.user === userData.userName) {\n      socket.emit(\"deleteMyMessage\", messageToDelete);\n      setMessageList(\n        messageList.filter((mess) => !isEqualTo(mess, messageToDelete)),\n      );\n      Toast.show(\"Message Deleted\", {\n        duration: Toast.durations.SHORT,\n        opacity: 0.7,\n        position: Toast.positions.CENTER,\n        backgroundColor: \"grey\",\n        shadow: false,\n      });\n    }\n  }\n\n  async function sendNewMessage() {\n    setHardDisableSend(true); // basically a semaphore lol\n    if (message !== \"\") {\n      const newMessage = {\n        message,\n        date: new Date().toISOString(),\n        user: userData.userName,\n        isUnsent: true,\n      };\n      setMessageList([...messageList].concat(newMessage));\n      delete newMessage.isUnsent;\n      socket.emit(\"newMessageClient\", newMessage);\n      setMessage(\"\");\n    }\n    if (photoSelected.id !== null) {\n      const { date } = photoSelected;\n      setMessageList(\n        [...messageList].concat({\n          isImage: true,\n          isUnsent: true,\n          message: photoSelected.contentImage.uri,\n          user: userData.userName,\n          date,\n        }),\n      );\n\n      const photo = photoSelected;\n      setPhotoSelected({ date: null, id: null, contentImage: null });\n\n      const formdata = new FormData();\n      formdata.append(\"picture\", {\n        // @ts-ignore\n        uri: photo.contentImage.uri,\n        name: \"picture\",\n        type: \"image/jpg\",\n      });\n      formdata.append(\"id\", photo.id);\n      formdata.append(\"date\", date);\n      const res = await fetch(`${base_URL}/chatRooms/uploadImage`, {\n        method: \"POST\",\n        redirect: \"follow\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          userKey,\n        },\n        body: formdata,\n      });\n      if (res.ok) {\n        const newMessage = {\n          date,\n          user: userData.userName,\n          message: photo.id,\n        };\n        socket.emit(\"imageMessageClient\", newMessage);\n      }\n    }\n    setHardDisableSend(false);\n  }\n\n  function deletionAlert(messageToDelete) {\n    if (messageToDelete.user === userData.userName) {\n      Alert.alert(\n        \"Delete Message\",\n        \"This action cannot be undone\",\n        [\n          {\n            text: \"Confirm\",\n            onPress: () => {\n              deleteTheMessage(messageToDelete);\n            },\n          },\n          {\n            text: \"Cancel\",\n            style: \"cancel\",\n          },\n        ],\n        { cancelable: true },\n      );\n    }\n  }\n\n  const renderItem = ({ item }) => (\n    <TouchableOpacity\n      disabled={item?.isUnsent}\n      onLongPress={() => deletionAlert(item)}\n      style={{\n        opacity: item?.isUnsent ? 0.4 : 1,\n        flexDirection: \"row\",\n        marginVertical: 5,\n        minHeight: item.isImage ? windowHeight * 0.25 : undefined,\n        width: \"100%\",\n      }}\n    >\n      <Text style={{ paddingRight: 10, fontWeight: \"bold\" }}>\n        {item.user}\n        :\n      </Text>\n      {item.isImage ? (\n        <Image\n          source={{ uri: item.message }}\n          style={{ flex: 1, resizeMode: \"contain\" }}\n        />\n      ) : (\n        <Text style={{ flex: 1, flexWrap: \"wrap\" }}>{item.message}</Text>\n      )}\n    </TouchableOpacity>\n  );\n  const windowHeight = Dimensions.get(\"screen\").height;\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <KeyboardAvoidingView style={{ flex: 1 }}>\n        <View\n          style={[\n            styles.messagingScreen,\n            { paddingVertical: 5, paddingHorizontal: 10 },\n          ]}\n        >\n          {messageList.length > 0 ? (\n            <View style={{ flex: 1 }}>\n              {showSearch && (\n                <SearchBar\n                  searchTerm={filter}\n                  onChangeText={setFilter}\n                  inputProps={{ autoCorrect: false }}\n                  placeholder=\"Search\"\n                />\n              )}\n              <FlatList\n                style={{}}\n                data={\n                  filter === \"\"\n                    ? [...messageList].reverse()\n                    : [...filteredMessageList].reverse()\n                }\n                renderItem={renderItem}\n                keyExtractor={(item) => item?.date + item?.user}\n                inverted\n              />\n            </View>\n          ) : failedConnection ? (\n            <TouchableOpacity\n              onPress={() => {\n                setFailedConnection(false);\n                setRetryNumber(retryNumber + 1);\n              }}\n            >\n              <Text style={{ marginTop: \"10%\", textAlign: \"center\" }}>\n                Connection Failed\n                {\"\\n\"}\n                Press to Reload\n              </Text>\n            </TouchableOpacity>\n          ) : loaded ? (\n            <Text style={{ textAlign: \"center\" }}>No chats yet :/</Text>\n          ) : (\n            <View style={{ marginTop: \"20%\" }}>\n              <Loader />\n            </View>\n          )}\n        </View>\n\n        <View style={styles.messagingInputContainer}>\n          {!keyboardShown && (\n            <TouchableOpacity\n              onPress={activateCamera}\n              disabled={\n                hardDisableSend\n                || !loaded\n                || messageList.some((msg) => msg.isUnsent)\n              }\n              style={{\n                alignSelf: \"center\",\n                paddingRight: 5,\n              }}\n            >\n              <FontAwesome5\n                name=\"camera\"\n                size={20}\n                color={\n                  !hardDisableSend\n                  && loaded\n                  && !messageList.some((msg) => msg.isUnsent)\n                    ? \"black\"\n                    : \"gray\"\n                }\n              />\n            </TouchableOpacity>\n          )}\n          {!photoSelected.contentImage ? (\n            <View style={styles.messagingInput}>\n              <TextInput\n                placeholder=\"Begin Typing...\"\n                placeholderTextColor=\"gray\"\n                editable={loaded}\n                value={message}\n                multiline\n                onChangeText={(value) => setMessage(value)}\n              />\n            </View>\n          ) : (\n            <View\n              style={{\n                ...styles.messagingInput,\n                paddingHorizontal: 10,\n                height: 150,\n              }}\n            >\n              <Image\n                source={{ uri: photoSelected.contentImage?.uri }}\n                style={{ flex: 1, borderRadius: 10 }}\n              />\n              <TouchableOpacity\n                onPress={() => {\n                  setPhotoSelected({\n                    id: null,\n                    contentImage: null,\n                    date: null,\n                  });\n                }}\n                style={{ position: \"absolute\", marginLeft: 15, marginTop: 10 }}\n              >\n                <FontAwesome5\n                  name=\"times\"\n                  size={25}\n                  color=\"#ff2e2e\"\n                  style={{}}\n                />\n              </TouchableOpacity>\n            </View>\n          )}\n          {!keyboardShown && (\n            <TouchableOpacity\n              onPress={selectPhoto}\n              disabled={\n                hardDisableSend\n                || !loaded\n                || messageList.some((msg) => msg.isUnsent)\n              }\n              style={{\n                width: \"15%\",\n                alignSelf: \"center\",\n                paddingRight: 10,\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              <FontAwesome5\n                name=\"image\"\n                size={30}\n                color={\n                  !hardDisableSend\n                  && loaded\n                  && !messageList.some((msg) => msg.isUnsent)\n                    ? \"black\"\n                    : \"gray\"\n                }\n              />\n            </TouchableOpacity>\n          )}\n          <TouchableOpacity\n            style={{\n              ...styles.messagingButtonContainer,\n              backgroundColor:\n                !hardDisableSend\n                && loaded\n                && !messageList.some((msg) => msg.isUnsent)\n                  ? \"#a245ee\"\n                  : \"rgba(162,69,238,0.34)\",\n            }}\n            onPress={sendNewMessage}\n            disabled={\n              hardDisableSend\n              || !loaded\n              || messageList.some((msg) => msg.isUnsent)\n            }\n          >\n            <View>\n              <Text style={{ color: \"#f2f0f1\", fontSize: 15 }}>Send</Text>\n            </View>\n          </TouchableOpacity>\n        </View>\n      </KeyboardAvoidingView>\n    </SafeAreaView>\n  );\n}\n\nconst styles = {\n  messagingScreen: {\n    flex: 1,\n  },\n  messagingInputContainer: {\n    width: \"100%\",\n    minHeight: 30,\n    backgroundColor: \"white\",\n    paddingVertical: 15,\n    paddingHorizontal: 15,\n    justifyContent: \"center\",\n    flexDirection: \"row\",\n  },\n  messagingInput: {\n    borderWidth: 1,\n    padding: 10,\n    paddingTop: 5,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginHorizontal: 10,\n    borderRadius: 20,\n  },\n  messagingButtonContainer: {\n    width: \"20%\",\n    alignSelf: \"center\",\n    height: 40,\n    borderRadius: 3,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n};\n","import { FontAwesome } from \"@expo/vector-icons\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { Layout, Text, List } from \"@ui-kitten/components\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport {\n  Image, ScrollView, StyleSheet, TouchableOpacity\n} from \"react-native\";\n\nimport SingleChatRoom from \"./singleChatPage/SingleChatRoom.native\";\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey,\n} from \"../../app/appDataSlice\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport ModalContainer from \"../../components/ModalContainer\";\nimport { usersApiSlice } from \"../api/usersApi\";\nimport { CurrentTermLabel } from \"../classPages/ClassesList\";\nimport SelectTerm from \"../classPages/SelectTerm\";\n\nconst ChatRoomsNavigator = createNativeStackNavigator();\n\nexport default function ChatsRoomNavigation({ navigation }) {\n  const darkMode = useAppSelector(selectDarkMode);\n  const navigationHeader = (navigation) => (\n    <Layout\n      style={{\n        width: \"100%\",\n        justifyContent: \"space-between\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        flex: 1,\n        backgroundColor: \"transparent\",\n      }}\n    >\n      <Layout\n        style={{\n          paddingBottom: 5,\n          flexDirection: \"row\",\n          alignContent: \"center\",\n          flex: 1,\n          backgroundColor: \"transparent\",\n        }}\n      >\n        <Image\n          style={{\n            height: 28,\n            width: 28,\n          }}\n          source={require(\"../../../assets/logos/app-logo.png\")}\n        />\n        <Text\n          style={{\n            paddingTop: 3,\n            paddingLeft: 10,\n            fontSize: 20,\n            fontWeight: \"500\",\n            color: darkMode ? \"#fff\" : \"#000\",\n          }}\n        >\n          Chats\n        </Text>\n      </Layout>\n      <Layout\n        style={{\n          alignSelf: \"flex-end\",\n          paddingRight: 40,\n          paddingBottom: 10,\n          flexDirection: \"row\",\n          backgroundColor: \"transparent\",\n        }}\n      />\n    </Layout>\n  );\n\n  return (\n    <ChatRoomsNavigator.Navigator initialRouteName=\"Chats\">\n      <ChatRoomsNavigator.Screen\n        options={({ navigation }) => ({\n          title: \"Chats\",\n          headerTitle: () => {\n            return navigationHeader(navigation);\n          },\n        })}\n        name=\"Chats\"\n        component={Chats}\n      />\n      <ChatRoomsNavigator.Screen\n        name=\"SingleChatRoom\"\n        component={SingleChatRoom}\n        options={{ headerTitle: \"\" }}\n      />\n      <ChatRoomsNavigator.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: \"Select Term\",\n          headerShown: false,\n          animation: \"slide_from_bottom\",\n          gestureDirection: \"vertical\",\n        }}\n      />\n    </ChatRoomsNavigator.Navigator>\n  );\n}\n\nfunction Chats({ navigation }) {\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const isGuest = useAppSelector(selectIsGuest);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [refreshing, setRefreshing] = useState(false);\n  const [isMoving, setIsMoving] = useState(false);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection,\n  );\n  const [availableChats, setAvailableChats] = useState([]);\n  const { data: userData } = usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n\n  function generateChatRooms() {\n    const chats = [];\n    if (userData.permissionLevel === \"admin\") {\n      chats.push({\n        title: \"Admin Chatroom\",\n        lastModifiedDate: \"\",\n        id: \"admin\",\n      });\n    }\n    try {\n      for (const section of Object.entries(userData.addedClasses.classes)) {\n        if (section[0] === currentSection) {\n          for (const course of Object.values(section[1])) {\n            chats.push({\n              title: course[0],\n              lastModifiedDate: \"\",\n              id: course[0].replace(\" \", \"\"),\n            });\n          }\n        }\n      }\n    } catch (e) {\n      console.log(e.message);\n    }\n    setAvailableChats(chats);\n  }\n\n  useEffect(() => {\n    setRefreshing(true);\n    generateChatRooms();\n    setRefreshing(false);\n  }, [useIsFocused, currentSection]);\n\n  const onRefresh = useCallback(() => {\n    setRefreshing(true);\n    generateChatRooms();\n    setRefreshing(false);\n  }, []);\n\n  const renderItem = ({ item }) => {\n    return (\n      <Layout>\n        <ScrollView>\n          <TouchableOpacity\n            style={{\n              alignItems: \"center\",\n              alignSelf: \"center\",\n              width: \"95%\",\n              borderRadius: 10,\n              marginLeft: 5,\n              marginRight: 5,\n              marginTop: 10,\n            }}\n            onPress={() => {\n              if (isGuest) {\n                setShowGuestModal(true);\n              } else {\n                navigation.navigate(\"SingleChatRoom\", {\n                  data: item,\n                });\n              }\n            }}\n            key={item?.id}\n          >\n            <Layout\n              style={{\n                alignItems: \"center\",\n                alignSelf: \"center\",\n                width: \"95%\",\n                height: 75,\n                borderRadius: 10,\n                backgroundColor: darkMode ? \"#333333\" : \"#ebebeb\",\n                shadowColor: \"#000\",\n                shadowOffset: { width: 0, height: 1 },\n                shadowOpacity: 0.2,\n                shadowRadius: 2,\n                elevation: 1,\n                marginLeft: 5,\n                marginRight: 5,\n                marginTop: 10,\n                justifyContent: \"center\",\n              }}\n            >\n              <Text\n                style={{\n                  fontWeight: \"bold\",\n                  fontSize: 20,\n                }}\n              >\n                {item?.title}\n              </Text>\n              {item?.lastModifiedDate ? (\n                <Text style={{ fontStyle: \"italic\", fontSize: 12 }}>\n                  {item?.lastModifiedDate}\n                </Text>\n              ) : null}\n            </Layout>\n          </TouchableOpacity>\n        </ScrollView>\n        {showGuestModal && (\n          <ModalContainer\n            title=\"Wait!\"\n            children={(\n              <Text style={{ paddingHorizontal: 30 }}>\n                This feature is locked to our Guest Users. Please create a free\n                account with us to take advantage this feature.\n              </Text>\n            )}\n            backDropVisible={showGuestModal}\n            setBackDropVisible={setShowGuestModal}\n          />\n        )}\n      </Layout>\n    );\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <CurrentTermLabel\n        navigation={navigation}\n        currentSection={currentSection}\n        style={{ marginTop: 20, marginLeft: 20 }}\n      />\n      {availableChats.length === 0 ? (\n        <Layout style={{ alignItems: \"center\" }}>\n          <Text\n            style={{\n              paddingTop: \"25%\",\n              paddingBottom: 10,\n              textAlign: \"center\",\n            }}\n          >\n            No Available Chat Rooms\n          </Text>\n          <TouchableOpacity\n            onPress={() => {\n              refreshAvailableChats();\n            }}\n          >\n            <FontAwesome size={25} color=\"#1E90FF\" name=\"rotate-right\" />\n          </TouchableOpacity>\n        </Layout>\n      ) : null}\n      <List\n        style={{ backgroundColor: \"transparent\" }}\n        contentContainerStyle={{ flex: 1 }}\n        data={availableChats}\n        scrollEnabled={!isMoving}\n        renderItem={renderItem}\n        onRefresh={onRefresh}\n        refreshing={refreshing}\n      />\n    </Layout>\n  );\n}\n\nconst sponsorPageStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"100%\",\n  },\n  address: {\n    alignItems: \"center\",\n    margin: 10,\n    borderColor: \"black\",\n    borderWidth: 1,\n    padding: 10,\n  },\n  video: {\n    marginTop: 20,\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10,\n  },\n  logo: {\n    width: \"100%\",\n    height: 100,\n  },\n  description: {\n    flex: 1,\n    margin: 10,\n    borderRadius: 5,\n    width: \"95%\",\n    padding: 10,\n  },\n  couponContainer: {\n    width: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  coupon: {\n    width: 400,\n    height: 267,\n  },\n  imageGallery: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    margin: 10,\n    marginBottom: 0,\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n});\n\nconst myStyles = StyleSheet.create({\n  inputBig: {\n    height: 200,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30,\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n  },\n  button: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3,\n  },\n  timeButton: {\n    width: 100,\n    height: 50,\n    marginHorizontal: 40,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 4,\n  },\n  timeText: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  actualTimeText: {\n    fontSize: 13,\n    lineHeight: 18,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n  timeStyle: {\n    flex: 0.3,\n    borderWidth: 2,\n    borderLeftColor: \"white\",\n  },\n});\n\nconst listingStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n  },\n  cardContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    width: \"95%\",\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#ddd\",\n    borderBottomWidth: 0,\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10,\n  },\n  containerForNotifications: {\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    width: \"95%\",\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#ddd\",\n    borderBottomWidth: 0,\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10,\n  },\n  text: {\n    flex: 1,\n    fontSize: 20,\n    textAlign: \"center\",\n    marginTop: 5,\n    marginBottom: 5,\n  },\n  image: {\n    width: \"100%\",\n    height: \"100%\",\n    borderRadius: 10,\n  },\n});\n","import React, { useEffect, useRef, useState } from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistStore } from 'redux-persist';\nimport * as eva from '@eva-design/eva';\nimport {\n  ApplicationProvider,\n  IconRegistry,\n  Text,\n  useTheme,\n} from '@ui-kitten/components';\nimport {\n  DarkTheme,\n  DefaultTheme,\n  NavigationContainer,\n} from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport * as ExpoSplashScreen from 'expo-splash-screen';\nimport { Ionicons } from '@expo/vector-icons';\nimport { StatusBar } from 'expo-status-bar';\nimport { GestureHandlerRootView } from 'react-native-gesture-handler';\nimport { RootSiblingParent } from 'react-native-root-siblings';\nimport Constants from 'expo-constants';\nimport { isDevice } from 'expo-device';\nimport * as Notifications from 'expo-notifications';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport {\n  Alert, Platform, useColorScheme, Dimensions\n} from 'react-native';\nimport { BottomSheetModalProvider } from '@gorhom/bottom-sheet';\nimport * as Linking from 'expo-linking';\nimport { store } from './src/app/store';\n\nimport Auth from './src/features/authentication';\nimport Discover from './src/features/discover';\nimport Calendar from './src/features/calendar';\nimport ClassPages from './src/features/classPages';\nimport { useAppDispatch, useAppSelector } from './src/app/hooks';\nimport {\n  deviceDarkModeSet,\n  mobileSiteSet,\n  selectDarkMode,\n  selectUserKey,\n  userKeyUpdated,\n} from './src/app/appDataSlice';\nimport Theme from './src/theme/custom-theme';\nimport {\n  useAddExpoPushTokenMutation,\n  useGetUserInfoQuery,\n  useLazyGetUserInfoQuery,\n  useTrackLoginMutation,\n} from './src/features/api/usersApi';\nimport {\n  useLazyGetAllClassesQuery,\n  useLazyGetAllSectionsQuery,\n} from './src/features/api/classPagesApi';\nimport { FontAwesomeIconsPack } from './src/theme/font-awesome-icons';\nimport { useLazyGetCurrentVersionQuery } from './src/features/api/apiSlice';\nimport { FeatherIconsPack } from './src/theme/feather-icons';\nimport AdminPanel from './src/features/adminPanel';\nimport WebSplashScreen from './src/components/WebSplashScreen';\nimport { versionCompare } from './src/functions';\nimport {\n  availableSectionsListUpdated,\n  currentSectionUpdated,\n} from './src/features/classPages/classPagesSlice';\nimport ChatsRoomNavigation from './src/features/chats/ChatRooms';\n\nconst windowWidth = Dimensions.get('window').width;\nconst persistor = persistStore(store);\nconst Stack = createNativeStackNavigator();\nconst Tab = createBottomTabNavigator();\nconst prefix = Linking.createURL('/');\n\nExpoSplashScreen.preventAutoHideAsync();\n\nNotifications.setNotificationHandler({\n  handleNotification: async () => ({\n    shouldShowAlert: true,\n    shouldPlaySound: false,\n    shouldSetBadge: false,\n  }),\n});\n\nconst registerForPushNotificationsAsync = async () => {\n  let token: string;\n  if (isDevice && Platform.OS !== 'web') {\n    const { status: existingStatus } = await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    if (existingStatus !== 'granted') {\n      const { status } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== 'granted') {\n      alert('Failed to get push token for push notification!');\n      return;\n    }\n    token = (await Notifications.getExpoPushTokenAsync()).data;\n    console.log(token);\n  }\n\n  if (Platform.OS === 'android') {\n    Notifications.setNotificationChannelAsync('default', {\n      name: 'default',\n      importance: Notifications.AndroidImportance.MAX,\n      vibrationPattern: [0, 250, 250, 250],\n      lightColor: '#FF231F7C',\n    });\n  }\n\n  return token;\n};\n\nexport default function Entry() {\n  return (\n    <Provider store={store}>\n      <PersistGate persistor={persistor}>\n        <RootSiblingParent>\n          <GestureHandlerRootView style={{ flex: 1 }}>\n            <BottomSheetModalProvider>\n              <App />\n            </BottomSheetModalProvider>\n          </GestureHandlerRootView>\n        </RootSiblingParent>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nfunction App() {\n  const colorScheme = useColorScheme();\n  const dispatch = useAppDispatch();\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const useDeviceColorScheme = useAppSelector(\n    (state) => state.appData.secure.useDeviceColorScheme\n  );\n  const localCurrentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n  const [isReady, setIsReady] = useState(false);\n  const [trackLogin] = useTrackLoginMutation();\n  const [getAllSections] = useLazyGetAllSectionsQuery();\n  const [getAllClasses] = useLazyGetAllClassesQuery();\n  const [getCurrentVersion] = useLazyGetCurrentVersionQuery();\n  const [getUserInfo, { data: userData, isError }] = useLazyGetUserInfoQuery();\n  const [addExpoPushToken] = useAddExpoPushTokenMutation();\n\n  const [notification, setNotification] = useState(false);\n  const notificationListener = useRef();\n  const responseListener = useRef();\n\n  const linking = {\n    prefixes: [prefix],\n  };\n\n  useEffect(() => {\n    const prepare = async () => {\n      try {\n        const fetchedCurrentSection = await getAllSections().unwrap();\n\n        // Check for user key\n        if (userKey) {\n          const fetchedUserData = await getUserInfo(userKey).unwrap();\n          await trackLogin(userKey);\n\n          // Notfication token setup\n          try {\n            const expoPushToken = await registerForPushNotificationsAsync();\n            if (expoPushToken) {\n              await addExpoPushToken({\n                userKey,\n                expoPushToken,\n                userName: fetchedUserData.userName,\n              }).unwrap();\n            }\n          } catch (e) {\n            console.warn('Failed to set up expo push token', e);\n          }\n\n          dispatch(\n            availableSectionsListUpdated(fetchedCurrentSection.availableTerms)\n          );\n\n          // Check for current section and update class list if outdated\n          if (\n            Platform.OS === 'web'\n            || fetchedCurrentSection.currentTerm !== localCurrentSection\n          ) {\n            console.log();\n            dispatch(currentSectionUpdated(fetchedCurrentSection.currentTerm));\n            try {\n              getAllClasses({\n                userKey,\n                collegeName: fetchedUserData.collegeName,\n                courseTerm: fetchedCurrentSection.currentTerm,\n              }).unwrap();\n            } catch (e) {\n              console.log('Section is outdated: could not fetch classes', e);\n            }\n          }\n        }\n\n        notificationListener.current = Notifications.addNotificationReceivedListener((notification) => {\n          setNotification(notification);\n        });\n\n        responseListener.current = Notifications.addNotificationResponseReceivedListener((response) => {\n          console.log(response);\n        });\n\n        checkForUpdates();\n      } catch (e) {\n        dispatch(userKeyUpdated('')); // Clear userKey if login fails\n        console.warn('Login Fail', e);\n      } finally {\n        setIsReady(true);\n        await ExpoSplashScreen.hideAsync();\n      }\n    };\n    console.log('Preparing app');\n\n    prepare();\n\n    return () => {\n      if (notificationListener.current) {\n        Notifications.removeNotificationSubscription(\n          notificationListener.current\n        );\n      }\n\n      if (responseListener.current) {\n        Notifications.removeNotificationSubscription(responseListener.current);\n      }\n    };\n  }, [userKey]);\n\n  useEffect(() => {\n    if (useDeviceColorScheme) {\n      dispatch(deviceDarkModeSet(colorScheme === 'dark'));\n    }\n  }, [colorScheme]);\n\n  useEffect(() => {\n    dispatch(mobileSiteSet(windowWidth < 768));\n  }, [windowWidth]);\n\n  const checkForUpdates = async () => {\n    try {\n      // Check for current version\n      const currentVersion = Constants?.manifest2?.extra?.expoClient?.version;\n\n      const res = await getCurrentVersion().unwrap();\n      const currentFrontEndVersion = res?.currentFrontEndVersion.currentFrontEndVersion;\n\n      if (\n        Platform.OS !== 'web'\n        && currentVersion !== undefined\n        && versionCompare(currentFrontEndVersion, currentVersion) > 0\n      ) {\n        Alert.alert('There is a new version available!', '', [\n          {\n            text:\n              Platform.OS === 'android'\n                ? 'Update on the Play Store'\n                : 'Update on the App Store',\n            onPress: () => Linking.openURL(\n              Platform.OS === 'android'\n                ? 'market://details?id=com.theathenanetwork.app'\n                : 'https://apps.apple.com/us/app/athena-network/id1628317342'\n            ),\n          },\n          {\n            text: 'Cancel',\n            style: 'cancel',\n          },\n        ]);\n      }\n    } catch (e) {\n      console.warn('Update check failed', e);\n    }\n  };\n\n  if (!isReady) {\n    if (Platform.OS === 'web') {\n      return <WebSplashScreen />;\n    }\n    return null;\n\n  }\n\n  return (\n    <NavigationContainer\n      documentTitle={{\n        formatter: (options, route) => `${options?.title ?? route?.name} - Athena Network`,\n      }}\n      theme={darkMode ? DarkTheme : DefaultTheme}\n      // linking={linking}\n      // fallback={<WebSplashScreen />}\n    >\n      <ApplicationProvider\n        {...eva}\n        theme={{ ...(darkMode ? eva.dark : eva.light), ...Theme }}\n      >\n        <StatusBar style={darkMode ? 'light' : 'dark'} />\n        <IconRegistry icons={[FontAwesomeIconsPack, FeatherIconsPack]} />\n\n        <Stack.Navigator screenOptions={{ headerShown: false }}>\n          {userData && !isError ? (\n            <Stack.Screen name=\"Tabs\" component={TabsPage} />\n          ) : (\n            <Stack.Screen name=\"Auth\" component={Auth} />\n          )}\n        </Stack.Navigator>\n      </ApplicationProvider>\n    </NavigationContainer>\n  );\n}\n\nfunction TabsPage() {\n  const theme = useTheme();\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey,\n  });\n  const [isDev] = useState(!!__DEV__);\n\n  return (\n    <Tab.Navigator\n      initialRouteName={isDev ? 'ClassPages' : 'Discover'}\n      screenOptions={({ route }) => ({\n        // detachInactiveScreens: false,\n        // unmountOnBlur: false,\n        tabBarHideOnKeyboard: Platform.OS === 'android',\n        tabBarIcon: ({ focused }) => {\n          // Create type for icon name\n          type IoniconsIconName = React.ComponentProps<typeof Ionicons>['name'];\n          let iconName: IoniconsIconName = 'ios-home';\n\n          if (route.name === 'ClassPages') {\n            iconName = focused ? 'book' : 'book-outline';\n          } else if (route.name === 'Discover') {\n            iconName = focused ? 'compass' : 'compass-outline';\n          } else if (route.name === 'Calendar') {\n            iconName = focused ? 'calendar' : 'calendar-outline';\n          } else if (route.name === 'ChatsRoomNavigation') {\n            iconName = focused ? 'chatbubbles' : 'chatbubbles-outline';\n          }\n\n          return (\n            <Ionicons\n              name={iconName}\n              size={25}\n              color={\n                focused ? theme['color-primary-500'] : theme['color-basic-500']\n              }\n            />\n          );\n        },\n        tabBarStyle: { paddingTop: 5 },\n        tabBarItemStyle: {},\n        headerShown: false,\n        lazy: true,\n      })}\n    >\n      <Tab.Screen\n        name=\"ClassPages\"\n        component={ClassPages}\n        options={{\n          unmountOnBlur: true,\n          tabBarLabel: () => (\n            <Text\n              style={{\n                margin: Platform.OS === 'web' ? 15 : undefined,\n                fontSize: 12,\n              }}\n            >\n              Class Pages\n            </Text>\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"Calendar\"\n        component={Calendar}\n        options={{\n          unmountOnBlur: true,\n          tabBarLabel: () => (\n            <Text\n              style={{\n                margin: Platform.OS === 'web' ? 15 : undefined,\n                fontSize: 12,\n              }}\n            >\n              Calendar\n            </Text>\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"ChatsRoomNavigation\"\n        component={ChatsRoomNavigation}\n        options={{\n          unmountOnBlur: true,\n          tabBarLabel: () => (\n            <Text\n              style={{\n                margin: Platform.OS === 'web' ? 15 : undefined,\n                fontSize: 12,\n              }}\n            >\n              Chats\n            </Text>\n          ),\n        }}\n      />\n      <Tab.Screen\n        name=\"Discover\"\n        component={Discover}\n        options={{\n          unmountOnBlur: false,\n          tabBarLabel: () => (\n            <Text\n              style={{\n                margin: Platform.OS === 'web' ? 15 : undefined,\n                fontSize: 12,\n              }}\n            >\n              Discover\n            </Text>\n          ),\n        }}\n      />\n      {userData?.permissionLevel === 'admin' && (\n        <Tab.Screen\n          name=\"Admin\"\n          component={AdminPanel}\n          options={{\n            unmountOnBlur: false,\n            tabBarLabel: () => (\n              <Text\n                style={{\n                  margin: Platform.OS === 'web' ? 15 : undefined,\n                  fontSize: 12,\n                }}\n              >\n                Admin\n              </Text>\n            ),\n          }}\n        />\n      )}\n    </Tab.Navigator>\n  );\n}\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n"],"sourceRoot":""}