{"version":3,"sources":["assets/logos/app-logo-transparent.png","assets/logos/splash-logo.png","node_modules/moment/locale sync /^/.//.*$","assets/logos/owl-black-text.png","assets/logos/owl-white-text.png","assets/sponsorPage/coupon.png","assets/tutorial/1.jpg","assets/tutorial/2.jpg","assets/tutorial/3.jpg","src/features/api/apiSlice.ts","src/features/api/usersApi.ts","src/constants/classPages.ts","src/functions.ts","src/features/api/classPagesApi.ts","src/app/appDataSlice.ts","src/app/SecureStorage.ts","src/features/calendar/calendarSlice.ts","src/features/classPages/classPagesSlice.ts","src/features/discover/discoverSlice.ts","src/app/storage.ts","src/app/store.ts","src/app/hooks.ts","src/components/WebSplashScreen.tsx","src/constants/admin.ts","src/features/adminPanel/adminPanel.tsx","src/components/Header.tsx","src/features/adminPanel/index.tsx","src/features/authentication/ForgotPassword/EnterCodePage.tsx","src/features/authentication/ForgotPassword/EnterEmailPage.tsx","src/features/authentication/ForgotPassword/index.tsx","src/features/authentication/Login.tsx","src/features/authentication/Signup/SignupForm.tsx","src/features/authentication/Signup/VerifyEmail.tsx","src/components/BackButton.tsx","src/features/authentication/Signup/index.tsx","src/features/authentication/index.tsx","src/components/ModalContainer.tsx","src/components/FullPageSpinner.tsx","src/features/classPages/SelectTerm.tsx","src/components/Message.tsx","src/components/SearchBar.tsx","src/features/classPages/StarredClasses.tsx","src/features/classPages/AddedClasses.tsx","src/features/classPages/ClassListItemItem.tsx","src/features/classPages/ClassListItem.tsx","src/features/classPages/FilterClasses.tsx","src/constants/map.ts","src/features/classPages/SingleClassPage/InfoPage.tsx","src/features/classPages/SingleClassPage/PostReview.tsx","src/features/classPages/SingleClassPage/index.tsx","src/features/classPages/ClassesList.tsx","src/features/combinedCalender/classList/index.tsx","src/features/notifications/constants.tsx","src/features/calendar/CalendarFunctions.ts","src/features/calendar/ScheduledItem.tsx","src/features/calendar/customEvent.tsx","src/features/calendar/CalendarRender.tsx","src/features/calendar/CalendarPage.tsx","src/components/WrapItems.tsx","src/features/calendar/CreateCustomEvent.tsx","src/components/UserNameSelectionDropDown.tsx","src/features/calendar/exportModal.tsx","src/features/calendar/index.tsx","src/features/chats/CreateChatRoom.tsx","src/features/chats/singleChatPage/SingleChatRoom.tsx","src/features/chats/ChatRooms.tsx","src/features/classPages/SingleClassPage/exportModalClass.tsx","src/features/notifications/notificationSinglePage.tsx","src/features/notifications/Notifications.tsx","src/features/settings/EditUser.tsx","src/features/settings/SettingsPage.tsx","src/features/settings/index.tsx","src/components/Menu.tsx","src/features/api/sponsorsApi.ts","src/features/sponsors/SponsorsList.tsx","src/constants/electiveGenerator.ts","src/features/classPages/ElectiveGenerator/index.tsx","src/constants/discover.ts","src/features/classPages/index.tsx","src/features/combinedCalender/index.tsx","src/theme/custom-theme.ts","src/theme/feather-icons.tsx","src/theme/font-awesome-icons.tsx","App.tsx","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","apiSlice","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getCurrentVersion","query","useLazyGetCurrentVersionQuery","usersApiSlice","injectEndpoints","overrideExisting","getUserInfo","providesTags","userKey","url","headers","transformErrorResponse","response","status","error","transformResponse","classes","starredClasses","rest","addedClasses","length","orderedClasses","forEach","courseCode","courseTerm","push","schoolParts","split","school","masterCourseCode","slice","join","login","mutation","userName","password","isGuest","params","trackLogin","method","responseHandler","text","deleteAccount","editUser","invalidatesTags","body","fields","getCollegeList","getChatRooms","json","createChatRoom","recipients","nameOfChatRoom","JSON","stringify","userList","name","addOrRemoveUserFromChatRoom","chatRoomId","signupUser","verifySignup","resetPassword","email","addExpoPushToken","expoPushToken","removeExpoPushToken","useAddOrRemoveUserFromChatRoomMutation","useCreateChatRoomMutation","useGetChatRoomsMutation","useTrackLoginMutation","useGetUserInfoQuery","useLazyGetUserInfoQuery","useLoginMutation","useDeleteAccountMutation","useEditUserMutation","useGetCollegeListQuery","useSignupUserMutation","useVerifySignupMutation","useResetPasswordMutation","useAddExpoPushTokenMutation","useRemoveExpoPushTokenMutation","NEW_REVIEW_FIELDS","label","mandatory","type","options","dayToICalAbbrev","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","showToast","message","backgroundColor","arguments","undefined","Toast","show","duration","durations","LONG","opacity","position","shadow","dateStringtoICal","dateStr","dateObject","Date","getFullYear","String","getMonth","padStart","getDate","exportToICal","events","startDateStr","endDateStr","until","startDate","startDateTime","iCalString","_ref","entries","_ref2","_slicedToArray","index1","courseSection","_ref3","courseSchedule","_ref4","index2","time","days","daysOfTheWeek","day","startTime","endTimeParts","endTime","courseName","professorName","classLocation","getMasterCourseCodeFromCourseCode","courseCodeParts","getTimeAsNumberOfMinutes","timeParts","parseInt","addCourseInjections","courses","addKeyWords","course","keywords","masterCourseCodeParts","editedNumberPart","replace","combined","getProfessorNames","times","professorNames","fromEntries","_ref5","_ref6","key","value","_objectSpread","scale","size","width","classPagesApi","getAllClasses","pageNumber","collegeName","omitReviews","getCurrentSection","currentTerm","getAllSections","addClass","classesToAdd","onQueryStarted","_onQueryStarted","_asyncToGenerator","dispatch","queryFulfilled","patchResult","util","updateQueryData","draft","_defineProperty","undo","_x","_x2","apply","addMultipleClasses","courseCodePairs","courseCodePair","_onQueryStarted2","_ref7","_ref8","_x3","_x4","removeClass","_ref9","classesToRemove","_onQueryStarted3","_ref10","_ref11","filter","classCode","_x5","_x6","addStarredClass","_ref12","starredClassesToAdd","_onQueryStarted4","_ref13","_ref14","some","_x7","_x8","removeStarredClass","_ref15","starredClassesToRemove","_onQueryStarted5","_ref16","_ref17","_x9","_x10","isAllowedToReview","_ref18","sendReview","_ref19","swapCoursePriority","_ref20","firstPosition","secondPosition","termToUpdate","_onQueryStarted6","_ref21","_ref22","temp","i","_x11","_x12","getReviewsByClass","_ref23","getTermDates","_ref24","sectionCode","currentSection","useGetCurrentSectionQuery","useGetAllClassesQuery","useAddClassMutation","useAddMultipleClassesMutation","useRemoveClassMutation","useIsAllowedToReviewQuery","useSendReviewMutation","useLazyGetAllClassesQuery","useLazyGetAllSectionsQuery","useRemoveStarredClassMutation","useAddStarredClassMutation","useSwapCoursePriorityMutation","useGetReviewsByClassMutation","useGetTermDatesMutation","initialState","isMobile","darkMode","useDeviceColorScheme","deviceExpoPushToken","connectedToInternet","appDataSlice","createSlice","reducers","reset","userKeyUpdated","state","action","payload","setIsGuest","deviceDarkModeSet","useDeviceColorSchemeSet","mobileSiteSet","deviceExpoPushTokenSet","netInfoChecked","deleteAllAppData","extraReducers","addMatcher","matchRejected","initiate","selectDarkMode","appData","secure","selectUserKey","selectIsGuest","_appDataSlice$actions","actions","defaultReplacer","replaceCharacter","isThreeDay","calendarSlice","isThreeDaySet","filteredClasses","renderedClasses","availableSections","selectedClass","searchTerm","page","isHMC","filters","filterConflicts","colleges","HM","CM","PO","PZ","SC","hasSelectedElectiveGen","suggestedClasses","orderedAddedClasses","totalCredits","credits","hmcCredits","userData","classPagesSlice","addClassInjections","currentSectionUpdated","availableSectionsListUpdated","endOfListReached","resetClasses","caseReducers","creditsRecalculated","searchResultsFiltered","suggestedClassesUpdated","suggestedClassesDimissed","electiveGeneratorSelected","classSelected","selectedClassCleared","filtersSaved","isHMCUpdated","recalculateTotalCredits","allClasses","filtersReset","newResultsArray","numFilters","collegeAbr","substring","newResultsObject","timeWindow","doesClassConflict","searchTermUpdated","setUserData","clearUserData","filterListBySearchTerm","filteredClassesValues","values","class_","searchResult","fuzzysort","go","threshold","allowTypo","result","obj","setClassesInState","matchFulfilled","getOrderedClassesFromApiRes","numCourses","creditWeight","creditWeightHM","schedule","addedClass","addedTimes","addedTime","addedSchedule","addedTimeStart","addedTimeEnd","scheduleTimeStart","scheduleTimeEnd","includes","selectClassesList","classPages","submittedSearchTerm","tag","recentSearches","discoverSlice","searchTermSubmitted","unshift","searchTermChanged","recentSearchTermSelected","tagSelected","recentSearchTermRemoved","term","SecureStorage","replacer","getItem","SecureStore","setItem","removeItem","createSecureStorage","securePersistConfig","storage","Platform","OS","AsyncStorage","cpPersistConfig","ExpoFileSystemStorage","whitelist","discoverPersistConfig","rootReducer","combineReducers","persistReducer","classPagesReducer","appDataReducer","discover","discoverReducer","calendar","calendarReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","immutableCheck","concat","useAppDispatch","useDispatch","useAppSelector","useSelector","WebSplashScreen","View","style","flex","justifyContent","alignItems","Image","source","require","height","base_URL","AdminHomePage","Manager","randomizationFactor","addTrailingSlash","autoConnect","createNativeStackNavigator","AdminHomeNavigation","useState","adminCommands","setAdminCommands","getAdminCommands","adminURL","res","fetch","commands","filterObject","currentAdminCommandsStatus","sort","a","b","textA","toUpperCase","textB","finalCommandList","command","useEffect","refreshing","setRefreshing","onRefresh","useCallback","then","Navigator","initialRouteName","Screen","headerShown","component","navigation","ScrollView","refreshControl","RefreshControl","Text","TouchableOpacity","onPress","navigate","data","listingStyles","cardContainer","AdminCommand","headerTitle","route","info","setInfo","isFileUpload","setIsFileUpload","setBody","users","setUsers","fileUploads","setFileUploads","sponsors","setSponsors","setStatus","allFieldsFilled","setAllFieldsFilled","buttonPushed","setButtonPushed","checkForFieldsFilled","field","ok","newUsers","sponsor","sponsorName","_id","images","imageName","sendApiData","additionToUrl","aspect","paramOverride","apiType","newUrl","formdata","FormData","item","append","uri","redirect","text2","parse","err","renderEachDropItem","final","option","title","trueFalseTemplate","selectedIndex","setSelectedIndex","boolValues","displayValue","styles","container","level","onSelect","index","row","newBody","changeEverything","placeholder","KeyboardAvoidingView","behavior","sponsorPageStyles","display","address","fontSize","description","changeValue","theValue","valueToChange","renderStringArray","valuesToSend","tempFinal","paddingLeft","paddingBottom","paddingTop","TextInput","autoCapitalize","onChangeText","miniField","newFieldForBody","changeStringValue","stringArray","eachOne","myStyles","indentedInput","placeholderTextColor","renderMultiSelectDropDown","hasChosen","setHasChosen","containerDrop","multiSelect","finalArray","littleIndex","finalObject","at","splice","calculateSelectedValues","newSelection","Array","isArray","toggleValue","clearButtonMode","input","IndexPath","renderDropDown","inputBig","multiline","pickImage","ImagePicker","allowsEditing","cancelled","borderRadius","paddingVertical","flexDirection","marginVertical","marginHorizontal","FontAwesome","color","fileUploadTemplate","alignContent","fontWeight","renderFilterParameters","renderTheFieldsNecessary","button","graphData","timeFrame","informationToShow","isDateGraph","dataToShow","labels","getDates","datasets","getData","Dimensions","get","verticalLabelRotation","fromZero","xLabelsOffset","segments","chartConfig","decimalPlaces","labelColor","propsForDots","r","strokeWidth","stroke","oneElement","renderOneCard","flexShrink","moment","tz","subtract","format","counter","usersToday","instance","date","weekStart","weekEnd","usersMonth","monthStart","monthEnd","add","cardInfo","finalText","flexWrap","renderedActions","renderButtonForCard","elevation","parameter","buttonText","alignSelf","fontStyle","showResponseData","header","marginTop","margin","borderColor","borderWidth","padding","video","marginLeft","logo","couponContainer","marginBottom","coupon","imageGallery","imageStyle","headerText","marginRight","lineHeight","letterSpacing","paddingHorizontal","borderBottomWidth","shadowColor","shadowOffset","shadowOpacity","shadowRadius","textAlign","image","imagesContainer","imageContainer","imageLabel","Header","accessoryLeft","accessoryRight","center","Constants","statusBarHeight","AdminStack","AdminPanel","EnterCodePage","category","routes","EnterEmailPage","setEmail","inputRef","useRef","isLoading","isError","netInfo","useNetInfo","current","focus","onSubmit","isConnected","unwrap","alert","ref","onSubmitEditing","Keyboard","dismiss","disabled","Stack","ForgotPassword","screenOptions","LightModeLogo","DarkModeLogo","Login","_useState","_useState2","setUserName","_useState3","_useState4","setPassword","_useState5","_useState6","loginError","setLoginError","_useLoginMutation","_useLoginMutation2","_useLazyGetUserInfoQu","_useLazyGetUserInfoQu2","loadingUserInfo","_useTrackLoginMutatio","_useLazyGetAllSection","passwordRef","React","handleLogin","NetInfo","allSections","availableTerms","guestLogin","_jsx","TouchableWithoutFeedback","children","_jsxs","Layout","inputView","Input","autoComplete","keyboardType","blurOnSubmit","secureTextEntry","forgot_button","Spinner","loginBtn","maxWidth","signupBtn","StyleSheet","create","guestButton","Signup","realFirstName","setRealFirstName","realLastName","setRealLastName","_useState7","_useState8","_useState9","_useState10","major","setMajor","_useState11","_useState12","_useState13","_useState14","simplifiedSignup","setSimplifiedSignUp","_useState15","humanReadableCollegeName","_useState16","userCollege","setUserCollege","collegeList","_useSignupUserMutatio","_useSignupUserMutatio2","signupLoading","firstNameInputRef","lastNameInputRef","passwordInputRef","majorInputRef","handleSubmitButton","test","isValidEmail","validateInput","_e$data","SectionStyle","labelSection","inputStyle","underlineColorAndroid","defaultValue","returnKeyType","Select","onFocus","newObject","college","SelectItem","zIndex","top","left","CheckBox","checked","onChange","nextChecked","buttonStyle","buttonTextStyle","paddingRight","errorTextStyle","successTextStyle","minHeight","minWidth","VerifyEmail","verificationCode","setVerificationCode","verifyCode","getUserInfoLoading","handleVerifyCodeButton","BackButton","props","HeaderBackButton","goBack","labelVisible","theme","useTheme","headerStyle","headerLeft","SignupForm","Auth","ModalContainer","backDropVisible","setBackDropVisible","clickBackdropToClose","coverScreen","modalStyle","modalProps","backdropOpacity","onBackdropPress","isVisible","appearance","right","pack","FullPageSpinner","SelectTerm","userDataCache","useQueryState","skip","_useLazyGetAllClasses","_useLazyGetAllClasses2","isFetching","startIndexValue","findIndex","selectedSectionIndex","setSelectedSectionIndex","saveChanges","Message","SearchBar","inputProps","cancelButtonAction","cancelButtonStatus","showCancelButton","alwaysShowCancelButton","showXButton","selected","setSelected","searchbarWidth","setSearchbarWidth","onLayout","event","nativeEvent","layout","LayoutAnimation","configureNext","onBlur","autoCorrect","StarredClasses","setAddedClassesVisible","bottomSheetRef","isWeb","useNavigation","starredCourses","setStarredCourses","allClassesList","FlatList","contentContainerStyle","automaticallyAdjustsScrollIndicatorInsets","indicatorStyle","showsVerticalScrollIndicator","ItemSeparatorComponent","renderItem","courseData","snapToIndex","handleClassSelected","handleRemoveStarredClass","Entypo","AddedClasses","handleRemoveClass","handleSwapAddedClasses","addedClassesList","_ref2$item","drag","isActive","ScaleDecorator","onLongPress","Ionicons","_bottomSheetRef$curre","DraggableFlatList","persistentScrollbar","ListEmptyComponent","Divider","onDragEnd","from","to","keyExtractor","ListHeaderComponent","ListFooterComponent","_Fragment","ClassListItemItem","seatsAvailable","seatsFilled","handleAddClass","added","_useRemoveStarredClas","_useAddStarredClassMu","selectedAnim","Animated","Value","isStarred","courseCodeToSearch","dropDownItem","isAvailable","notAvailable","transform","FontAwesome5","toggleStarCourse","list__container","addedClassesContainer","borderTopRightRadius","borderBottomRightRadius","borderTopWidth","borderRightWidth","buttonContainer","dropDown","loadingMessage","loadingMessageRefresh","Item","menuOpen","setIsMenuOpen","inItem","useMemo","itemWeb","property","update","springDamping","UIManager","setLayoutAnimationEnabledExperimental","addClassButton","FilterClasses","setFiltersMenuVisible","initialFilters","getInitialState","setColleges","setFilterConflicts","Toggle","change","onChangeIsHMC","onChangeFilterCollege","Button","locations","ClaremontColleges","Brackett","Carnegie","Edmunds","Honnold","Lincoln","Online","PAC","Pearsons","Stauffer","KSPC","TBD","removeNumbersAndSpaces","char","match","trim","withStyles","eva","_ref$selectedClass","showModal","setShowModal","scrollViewRef","showCourseModal","setShowCourseModal","courseModalChildren","setCourseModalChildren","showGuestModal","setShowGuestModal","professorReviewsObject","setProfessorReviewsObject","averageRating","setAverageRating","averageDifficulty","setAverageDifficulty","_useGetReviewsByClass","_useGetReviewsByClass2","reviewsLoading","reviews","setReviews","daysOfWeek","dark","light","isAllowedToReviewRes","userHasCourse","courseToggleChildren","courseForToggle","getRatingFromReviews","fetchedReviews","totalAverage","review","rating","toFixed","getDifficultyFromReviews","difficulty","_getReviews","getReviewsFromProfessor","_getReviewsFromProfessor","buildTimeString","convertTo12HourTime","hours","minutes","ampm","Number","scrollTo","y","animated","getReviews","averageGradeMSGModal","Modal","visible","backdropStyle","backdrop","Card","getProfessorsList","list","_useState17","_useState18","schedulePopup","setSchedulePopup","_useState19","_useState20","allTheChildren","setAllTheChildren","toggleSchedulePopUp","finalDays","realTime","_finalDays$day","addition","daysObject","daysActive","stringArrays","generateTable","_useAddClassMutation","_useRemoveClassMutati","LinearGradient","colors","start","x","end","subtitle","timeSpentOutOfClass","averageGrade","courseDescription","summary","boxed","prerequisites","corequisites","disclaimer","subHeader","section","_time$courseSchedule","_time$courseSchedule2","_time$courseSchedule3","sectionText","textDecorationLine","permCount","openMap","waypoints","provider","number","toString","zoom","isAllowed","professorList","content","professor","renderReviews","getProfessorReviewsList","courseOpen","courseClosed","details","BodyContainer","borderTopColor","documentStyle","graphImage","aspectRatio","resizeMode","grade","reviewText","reviewBox","NewReview","showConfirmationModal","setShowConfirmationModal","showErrorModal","setShowErrorModal","handleReviewSubmitted","successChildren","errorChildren","SingleClassPage","InfoPage","PostReview","CurrentTermLabel","_ref$style","_ref$textStyle","textStyle","_ref$disabled","ClassesList","_userData$addedClasse","_userData$addedClasse2","setMenuOpen","addedClassesVisible","filtersMenuVisible","listRef","setListRef","renderedResultsLimit","setRenderedResultsLimit","isDividerClicked","setIsDividerClicked","_useAddMultipleClasse","_useSwapCoursePriorit","swapAddedClasses","fetchUserInfo","getClasses","_useLazyGetAllClasses3","classListLoading","_useGetUserInfoQuery","userInfoSuccess","isSuccess","searchBarWaitId","_panResponder","getPanResponder","dimensions","useWindowDimensions","bottomHeight","setBottomHeight","topHeight","fetchClasses","isClassAdded","PanResponder","onMoveShouldSetResponderCapture","onMoveShouldSetPanResponderCapture","onPanResponderGrant","gestureState","onPanResponderMove","newBottom","moveY","onPanResponderRelease","handleRefresh","handleMassImport","courseCodes","_toConsumableArray","matchAll","reduce","accumulator","matches","collegeParts","newCourseCode","_ref6$item","courseInfo","inItemSize","List","Presets","easeInEaseOut","onScroll","scrollEventThrottle","maxToRenderPerBatch","initialNumToRender","onEndReachedThreshold","onEndReached","tintColor","titleColor","cursor","searchPhrase","scrollToOffset","offset","clearTimeout","setTimeout","filteredColleges","c","renderFilteredCollegesList","panHandlers","addedClassesWebView","ClassListPage","CalendarFunctions","string","charIndex","charCodeAt","str","this","getColor","minuteHeight","allClassData","ScheduledItem","masterClassInfo","meetingTime","_ref$handleClassSelec","setMenuCourseCode","_ref$disableLongPress","disableLongPress","_ref$extraTransparenc","extraTransparency","calendarFun","universalHeight","_meetingTime$startTim","_meetingTime$startTim2","startHour","startMinute","_meetingTime$endTime$","_meetingTime$endTime$2","endHour","endMinute","stringToColour","getMinutesDiff","adjustsFontSizeToFit","numberOfLines","renderCustomEvent","setMenuEvent","CalendarRender","overrideData","showOverlay","setShowOverlay","_useEditUserMutation","topBar","verticalRef","isRightWindowOpen","setIsRightWindowOpen","setCurrentTime","startingOffset","rightWidth","setRightWidth","menuCourseCode","menuCustomEvent","setMenuCustomEvent","leftWidth","minimumWidth","threeDayWidth","fiveDayWidth","overrideClassesToRender","setOverrideClassesToRender","today","getDay","_getOverrideCourseData","stringOverrideData","getOverrideCourseData","_verticalRef$current","setInterval","renderCustomEvents","elem","disableInteractions","finalRender","customEvents","eventIsThisDay","showThisWeek","newRight","moveX","dayString","dayOfWeek","adjustDays","getMs","seconds","dateOfEvent","currentDate","currentDayOfWeek","startOfWeek","valueOf","getHours","getMinutes","getSeconds","endOfWeek","renderDashes","borderBottomColor","renderClasses","reverse","getFullClassData","data2","find","RenderedItem","renderClassesForOverride","_loop","courseTime","renderDeleteModal","onRemove","onCancel","maxHeight","animationOut","masterRender","horizontal","snapToInterval","showsHorizontalScrollIndicator","userSelect","contentOffset","bounces","decelerationRate","useNativeDriver","onMomentumScrollBegin","removeCustomEvent","catch","bottom","CalendarPage","LogBox","ignoreAllLogs","WrapItems","childStyle","LayoutProps","Children","child","CreateCustomEvent","showDots","setShowDots","dateToUse","selectedDate","setSelectedDate","isOneDay","setIsOneDay","allValuesPopulated","setAllValuesPopulated","daysArray","setDaysArray","setStartTime","setEndTime","eventTitle","setEventTitle","toISOString","showTimePickerAndroid","setShowTimePickerAndroid","timePickerOptions","setTime","formatAMPM","Title","mode","testID","addCustomEvent","toTimeString","UserNameSelectionDropDown","setRecipient","names","setNames","setValue","modal","user","realName","userNameContainsString","auser","toLowerCase","firstPar","indexOf","secondPar","findUserNameFromName","renderModal","recipient","exportSchedule","convert","isSchedule","returnValue","Alert","Calendar","showWebModal","setShowWebModal","leftComponent","rightComponent","trackBar","activeBackgroundColor","inActiveBackgroundColor","thumbButton","activeColor","inActiveColor","bool","animationDuration","flatMap","animation","gestureDirection","CreateChatRoom","isDisabled","setIsDisabled","setNameOfChatRoom","setRecipients","nameToAdd","handleAddValue","SingleChatRoom","_photoSelected$conten","_ImagePicker$useMedia","_ImagePicker$useMedia2","imagePickerStatus","requestImagePickerPermission","_ImagePicker$useCamer","_ImagePicker$useCamer2","cameraStatus","requestCameraPermission","setFilter","showSearch","setShowSearch","contentImage","photoSelected","setPhotoSelected","_useAddOrRemoveUserFr","addOrRemoveUser","isCustomRoom","keyboardShown","setKeyboardShown","retryNumber","setRetryNumber","failedConnection","setFailedConnection","hardDisableSend","setHardDisableSend","showUserList","setShowUserList","setMessage","filteredMessageList","setFilteredMessageList","_useState21","_useState22","loaded","setLoaded","_useState23","_useState24","showDeletion","setShowDeletion","_useState25","_useState26","itemToRemove","setItemToRemove","_useGetCurrentSection","_useState27","_useState28","messageList","setMessageList","socket","io","auth","isUserBlocked","dataToUse","blockedUsers","addMessage","messageToAdd","myMessage","mess","isEqualTo","isUnsent","message1","message2","_activateCamera","granted","mediaTypes","Images","canceled","assets","_selectPhoto","_sendNewMessage","newMessage","emit","isImage","photo","ignoreLogs","showListener","addListener","hideListener","remove","setOptions","headerRight","connect","timer","off","disconnect","close","on","array","useIsFocused","msg","toSpliced","windowHeight","SafeAreaView","messagingScreen","toSorted","unblockUser","blockUser","newUserData","positions","CENTER","messageToDelete","SHORT","deleteTheMessage","inverted","Loader","messagingInputContainer","messagingInput","editable","messagingButtonContainer","ChatRoomsNavigator","ChatsRoomNavigation","Chats","_useGetChatRoomsMutat","availableChats","setAvailableChats","generateChatRooms","realPayload","chats","permissionLevel","lastModifiedDate","chat","timeButton","timeText","actualTimeText","timeStyle","borderLeftColor","containerForNotifications","ExportModalClass","classData","exportClass","isCourseData","NotificationHomePage","NotificationsNavigation","notifications","setNotifications","isOpen","setIsOpen","refreshNotifications","bodyTosend","createNotificationButton","getDateText","spaceIndex","first","isMoving","setIsMoving","postId","newNotifications","not","scrollEnabled","notification","disableRightSwipe","onSwipeValueChange","handleOnLeftSwipe","creationDate","courseSimpleData","repliable","done","setDone","tempBody","renderInputFields","sendNotification","EditProfileHeader","EditUser","inputs","profileDescription","propOptions","linkedin","setFields","_useEditUserMutation2","changedFields","SettingsPage","_Constants$manifest2$","_Constants$manifest","_Constants$manifest$e","_Constants$manifest$e2","_Constants$manifest2","settingsDisabled","setSettingsDisabled","_useRemoveExpoPushTok","colorScheme","useColorScheme","_useDeleteAccountMuta","currentVersion","manifest2","extra","expoClient","version","manifest","logOut","willRemoveExpoPushToken","resetAppData","resetApiState","handleDeleteAccount","handleSettingsChange","settingName","settings","handleUseDeviceSettingToggled","handleDarkModeToggled","newReview","alertNotifications","chatNotifications","displayNames","Settings","Group","presentation","Menu","menuItems","setMenuItems","Feather","sponsorsApiSlice","refreshSponsors","postSponsorVisit","sponsorId","useLazyRefreshSponsorsQuery","usePostSponsorVisitMutation","windowWidth","SponsorPage","isDarkMode","setImageIndex","setIsVisible","canOpenLink","setCanOpenLink","postSponsorVisitQuery","videoLinkArray","videoLink","Linking","canOpenURL","website","funct","phoneNumber","location","openURL","img","coupons","couponDescription","dayOfTheWeek","openTime","closeTime","SponsorsList","sponsorFilters","setSponsorFilters","gotSponsors","setGotSponsors","refreshSponsorsQuery","tabNames","tags","tempFilters","getFilters","shouldLimitPrint","filterName","getTheSponsors","sponsorsToSend","renderSponsorsBasedOnFilters","starredFinal","object","departments","ElectiveGenerator","departmentQuery","setDepartmentQuery","departmentOptions","setDepartmentOptions","setDescription","getClassesByDepartment","department","onChangeDepartmentText","getWords","wordList","wordListWithSynonyms","word","synonyms","activeOpacity","cleanedDescription","classesByDepartment","aWords","bWords","aMatches","SearchClasses","hasSelectedElectiveGenerator","numberOfNotifications","setNumberOfNotifications","Foundation","CombinedClassPages","_useGetTermDatesMutat","icons","Proxy","target","IconProvider","toReactElement","flatten","iconStyle","FeatherIcon","FontAwesomeIcon","persistor","persistStore","Tab","createBottomTabNavigator","ExpoSplashScreen","Notifications","handleNotification","_handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","registerForPushNotificationsAsync","token","isDevice","existingStatus","finalStatus","importance","MAX","vibrationPattern","lightColor","App","localCurrentSection","lastNetInfo","isReady","setIsReady","setNotification","_useLazyGetCurrentVer","userDataFromApi","_useAddExpoPushTokenM","notificationListener","responseListener","netInfoHook","handleOnline","checkForUpdates","prepare","currentData","fetchedCurrentSection","fetchedUserData","currentFrontEndVersion","v1","v2","lexicographical","zeroExtend","v1parts","v2parts","isValidPart","every","NaN","versionCompare","NavigationContainer","documentTitle","formatter","DarkTheme","DefaultTheme","fallback","ApplicationProvider","Theme","StatusBar","IconRegistry","FontAwesomeIconsPack","FeatherIconsPack","overflow","TabsPage","questionList","surveyData","setSurveyData","showTutorial","setShowTutorial","surveyAnswers","setSurveyAnswers","showSurvey","setShowSurvey","submitSurvey","responseDataEntries","questionIndex","surveyId","createButtons","Radio","newOption","newData","new","buildSurveyChildren","tabBarHideOnKeyboard","tabBarIcon","focused","iconName","tabBarStyle","ClassPages","tabBarLabel","unmountOnBlur","registerRootComponent","Provider","PersistGate","RootSiblingParent","GestureHandlerRootView","BottomSheetModalProvider"],"mappings":"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,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,KACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,MACA,MACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,OACA,OACA,KACA,MACA,MACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,MACA,OACA,OACA,OACA,QC9Ea,SAASC,GAAkB,GAAsB,IAApB7qC,EAAU,EAAVA,WACpCtS,EAAWmP,KACjB,EAA8CsB,mBAAS,IAAG,WAAnD2sC,EAAe,KAAEC,EAAkB,KAC1C,EAAkD5sC,mBAASysC,IAAY,WAAhEI,EAAiB,KAAEC,EAAoB,KAC9C,EAAsC9sC,mBAAS,IAAG,WAA3C2G,EAAW,KAAEomC,EAAc,KAE5B/nD,EAAU4Z,GAAehD,IAEzBoxC,EAAyB1rC,uBAAY,SAAC2rC,GAC1C,MAAmB,oBAAfA,EAAyC5pD,OAAOwI,QAAQ7G,GACrD3B,OAAOwI,QAAQ7G,GAASgM,QAAO,YAAe,IAAD,WAAZ5C,EAAG,KAAG,KAE5C,OADwBA,EAAIzI,MAAM,KAAK,KACZsnD,OAE5B,IAEH/rC,qBAAU,WACR3R,EAASwJ,QACR,IAEH,IAAMm0C,EAAyB5rC,uBAAY,SAACrd,GAC1C2oD,EAAmB3oD,GACnB6oD,EACEL,GAAYz7C,QAAO,SAACi8C,GAAU,OAC5BA,EAAWtxC,SAAS1X,EAAM6c,qBAG7B,IAkCGqsC,EAAW,SAAC1mD,GAChB,IAAM2mD,EAAW3mD,EACd6zC,cACA1sC,QAAQ,+BAAgC,IACxCA,QAAQ,UAAW,KACnBjI,MAAM,KAEL0nD,EAAuB,GAE3B,IAAK,IAAMC,KAAQF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","file":"static/js/app.fe87f755.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/app-logo-transparent.1ede614a.png\";","module.exports = __webpack_public_path__ + \"static/media/splash-logo.2b1029f0.png\";","var map = {\n\t\"./af\": 399,\n\t\"./af.js\": 399,\n\t\"./ar\": 400,\n\t\"./ar-dz\": 401,\n\t\"./ar-dz.js\": 401,\n\t\"./ar-kw\": 402,\n\t\"./ar-kw.js\": 402,\n\t\"./ar-ly\": 403,\n\t\"./ar-ly.js\": 403,\n\t\"./ar-ma\": 404,\n\t\"./ar-ma.js\": 404,\n\t\"./ar-ps\": 405,\n\t\"./ar-ps.js\": 405,\n\t\"./ar-sa\": 406,\n\t\"./ar-sa.js\": 406,\n\t\"./ar-tn\": 407,\n\t\"./ar-tn.js\": 407,\n\t\"./ar.js\": 400,\n\t\"./az\": 408,\n\t\"./az.js\": 408,\n\t\"./be\": 409,\n\t\"./be.js\": 409,\n\t\"./bg\": 410,\n\t\"./bg.js\": 410,\n\t\"./bm\": 411,\n\t\"./bm.js\": 411,\n\t\"./bn\": 412,\n\t\"./bn-bd\": 413,\n\t\"./bn-bd.js\": 413,\n\t\"./bn.js\": 412,\n\t\"./bo\": 414,\n\t\"./bo.js\": 414,\n\t\"./br\": 415,\n\t\"./br.js\": 415,\n\t\"./bs\": 416,\n\t\"./bs.js\": 416,\n\t\"./ca\": 417,\n\t\"./ca.js\": 417,\n\t\"./cs\": 418,\n\t\"./cs.js\": 418,\n\t\"./cv\": 419,\n\t\"./cv.js\": 419,\n\t\"./cy\": 420,\n\t\"./cy.js\": 420,\n\t\"./da\": 421,\n\t\"./da.js\": 421,\n\t\"./de\": 422,\n\t\"./de-at\": 423,\n\t\"./de-at.js\": 423,\n\t\"./de-ch\": 424,\n\t\"./de-ch.js\": 424,\n\t\"./de.js\": 422,\n\t\"./dv\": 425,\n\t\"./dv.js\": 425,\n\t\"./el\": 426,\n\t\"./el.js\": 426,\n\t\"./en-au\": 427,\n\t\"./en-au.js\": 427,\n\t\"./en-ca\": 428,\n\t\"./en-ca.js\": 428,\n\t\"./en-gb\": 429,\n\t\"./en-gb.js\": 429,\n\t\"./en-ie\": 430,\n\t\"./en-ie.js\": 430,\n\t\"./en-il\": 431,\n\t\"./en-il.js\": 431,\n\t\"./en-in\": 432,\n\t\"./en-in.js\": 432,\n\t\"./en-nz\": 433,\n\t\"./en-nz.js\": 433,\n\t\"./en-sg\": 434,\n\t\"./en-sg.js\": 434,\n\t\"./eo\": 435,\n\t\"./eo.js\": 435,\n\t\"./es\": 436,\n\t\"./es-do\": 437,\n\t\"./es-do.js\": 437,\n\t\"./es-mx\": 438,\n\t\"./es-mx.js\": 438,\n\t\"./es-us\": 439,\n\t\"./es-us.js\": 439,\n\t\"./es.js\": 436,\n\t\"./et\": 440,\n\t\"./et.js\": 440,\n\t\"./eu\": 441,\n\t\"./eu.js\": 441,\n\t\"./fa\": 442,\n\t\"./fa.js\": 442,\n\t\"./fi\": 443,\n\t\"./fi.js\": 443,\n\t\"./fil\": 444,\n\t\"./fil.js\": 444,\n\t\"./fo\": 445,\n\t\"./fo.js\": 445,\n\t\"./fr\": 446,\n\t\"./fr-ca\": 447,\n\t\"./fr-ca.js\": 447,\n\t\"./fr-ch\": 448,\n\t\"./fr-ch.js\": 448,\n\t\"./fr.js\": 446,\n\t\"./fy\": 449,\n\t\"./fy.js\": 449,\n\t\"./ga\": 450,\n\t\"./ga.js\": 450,\n\t\"./gd\": 451,\n\t\"./gd.js\": 451,\n\t\"./gl\": 452,\n\t\"./gl.js\": 452,\n\t\"./gom-deva\": 453,\n\t\"./gom-deva.js\": 453,\n\t\"./gom-latn\": 454,\n\t\"./gom-latn.js\": 454,\n\t\"./gu\": 455,\n\t\"./gu.js\": 455,\n\t\"./he\": 456,\n\t\"./he.js\": 456,\n\t\"./hi\": 457,\n\t\"./hi.js\": 457,\n\t\"./hr\": 458,\n\t\"./hr.js\": 458,\n\t\"./hu\": 459,\n\t\"./hu.js\": 459,\n\t\"./hy-am\": 460,\n\t\"./hy-am.js\": 460,\n\t\"./id\": 461,\n\t\"./id.js\": 461,\n\t\"./is\": 462,\n\t\"./is.js\": 462,\n\t\"./it\": 463,\n\t\"./it-ch\": 464,\n\t\"./it-ch.js\": 464,\n\t\"./it.js\": 463,\n\t\"./ja\": 465,\n\t\"./ja.js\": 465,\n\t\"./jv\": 466,\n\t\"./jv.js\": 466,\n\t\"./ka\": 467,\n\t\"./ka.js\": 467,\n\t\"./kk\": 468,\n\t\"./kk.js\": 468,\n\t\"./km\": 469,\n\t\"./km.js\": 469,\n\t\"./kn\": 470,\n\t\"./kn.js\": 470,\n\t\"./ko\": 471,\n\t\"./ko.js\": 471,\n\t\"./ku\": 472,\n\t\"./ku-kmr\": 473,\n\t\"./ku-kmr.js\": 473,\n\t\"./ku.js\": 472,\n\t\"./ky\": 474,\n\t\"./ky.js\": 474,\n\t\"./lb\": 475,\n\t\"./lb.js\": 475,\n\t\"./lo\": 476,\n\t\"./lo.js\": 476,\n\t\"./lt\": 477,\n\t\"./lt.js\": 477,\n\t\"./lv\": 478,\n\t\"./lv.js\": 478,\n\t\"./me\": 479,\n\t\"./me.js\": 479,\n\t\"./mi\": 480,\n\t\"./mi.js\": 480,\n\t\"./mk\": 481,\n\t\"./mk.js\": 481,\n\t\"./ml\": 482,\n\t\"./ml.js\": 482,\n\t\"./mn\": 483,\n\t\"./mn.js\": 483,\n\t\"./mr\": 484,\n\t\"./mr.js\": 484,\n\t\"./ms\": 485,\n\t\"./ms-my\": 486,\n\t\"./ms-my.js\": 486,\n\t\"./ms.js\": 485,\n\t\"./mt\": 487,\n\t\"./mt.js\": 487,\n\t\"./my\": 488,\n\t\"./my.js\": 488,\n\t\"./nb\": 489,\n\t\"./nb.js\": 489,\n\t\"./ne\": 490,\n\t\"./ne.js\": 490,\n\t\"./nl\": 491,\n\t\"./nl-be\": 492,\n\t\"./nl-be.js\": 492,\n\t\"./nl.js\": 491,\n\t\"./nn\": 493,\n\t\"./nn.js\": 493,\n\t\"./oc-lnc\": 494,\n\t\"./oc-lnc.js\": 494,\n\t\"./pa-in\": 495,\n\t\"./pa-in.js\": 495,\n\t\"./pl\": 496,\n\t\"./pl.js\": 496,\n\t\"./pt\": 497,\n\t\"./pt-br\": 498,\n\t\"./pt-br.js\": 498,\n\t\"./pt.js\": 497,\n\t\"./ro\": 499,\n\t\"./ro.js\": 499,\n\t\"./ru\": 500,\n\t\"./ru.js\": 500,\n\t\"./sd\": 501,\n\t\"./sd.js\": 501,\n\t\"./se\": 502,\n\t\"./se.js\": 502,\n\t\"./si\": 503,\n\t\"./si.js\": 503,\n\t\"./sk\": 504,\n\t\"./sk.js\": 504,\n\t\"./sl\": 505,\n\t\"./sl.js\": 505,\n\t\"./sq\": 506,\n\t\"./sq.js\": 506,\n\t\"./sr\": 507,\n\t\"./sr-cyrl\": 508,\n\t\"./sr-cyrl.js\": 508,\n\t\"./sr.js\": 507,\n\t\"./ss\": 509,\n\t\"./ss.js\": 509,\n\t\"./sv\": 510,\n\t\"./sv.js\": 510,\n\t\"./sw\": 511,\n\t\"./sw.js\": 511,\n\t\"./ta\": 512,\n\t\"./ta.js\": 512,\n\t\"./te\": 513,\n\t\"./te.js\": 513,\n\t\"./tet\": 514,\n\t\"./tet.js\": 514,\n\t\"./tg\": 515,\n\t\"./tg.js\": 515,\n\t\"./th\": 516,\n\t\"./th.js\": 516,\n\t\"./tk\": 517,\n\t\"./tk.js\": 517,\n\t\"./tl-ph\": 518,\n\t\"./tl-ph.js\": 518,\n\t\"./tlh\": 519,\n\t\"./tlh.js\": 519,\n\t\"./tr\": 520,\n\t\"./tr.js\": 520,\n\t\"./tzl\": 521,\n\t\"./tzl.js\": 521,\n\t\"./tzm\": 522,\n\t\"./tzm-latn\": 523,\n\t\"./tzm-latn.js\": 523,\n\t\"./tzm.js\": 522,\n\t\"./ug-cn\": 524,\n\t\"./ug-cn.js\": 524,\n\t\"./uk\": 525,\n\t\"./uk.js\": 525,\n\t\"./ur\": 526,\n\t\"./ur.js\": 526,\n\t\"./uz\": 527,\n\t\"./uz-latn\": 528,\n\t\"./uz-latn.js\": 528,\n\t\"./uz.js\": 527,\n\t\"./vi\": 529,\n\t\"./vi.js\": 529,\n\t\"./x-pseudo\": 530,\n\t\"./x-pseudo.js\": 530,\n\t\"./yo\": 531,\n\t\"./yo.js\": 531,\n\t\"./zh-cn\": 532,\n\t\"./zh-cn.js\": 532,\n\t\"./zh-hk\": 533,\n\t\"./zh-hk.js\": 533,\n\t\"./zh-mo\": 534,\n\t\"./zh-mo.js\": 534,\n\t\"./zh-tw\": 535,\n\t\"./zh-tw.js\": 535\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 851;","module.exports = __webpack_public_path__ + \"static/media/owl-black-text.6f7231df.png\";","module.exports = __webpack_public_path__ + \"static/media/owl-white-text.9861cc3f.png\";","module.exports = __webpack_public_path__ + \"static/media/coupon.84c88381.png\";","module.exports = __webpack_public_path__ + \"static/media/1.162f82b6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/2.d2718c50.jpg\";","module.exports = __webpack_public_path__ + \"static/media/3.9827fb28.jpg\";","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const apiSlice = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://api.athenaserver.com:5678/api'\n    // baseUrl: 'http://localhost:1234/api'\n  }),\n  tagTypes: ['User', 'Posts'],\n  endpoints: (builder) => ({\n    getCurrentVersion: builder.query<any, void>({\n      query: () => '/randomShit/getCurrentVersion'\n    })\n  })\n});\n\nexport const { useLazyGetCurrentVersionQuery } = apiSlice;\n","import {\n  AddedClasses,\n  UserData,\n  UserDataApiRes\n} from '../../app/types';\nimport { apiSlice } from './apiSlice';\n\nexport const usersApiSlice = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    getUserInfo: builder.query({\n      providesTags: ['User'],\n      query: (userKey: string) => ({\n        url: '/users/me',\n        headers: {\n          userKey\n        }\n      }),\n      transformErrorResponse: (response) => {\n        if (response.status === 401) {\n          return { error: 'Unauthorized' };\n        }\n        return response;\n      },\n      transformResponse: ({\n        classes,\n        starredClasses,\n        ...rest\n      }: UserDataApiRes) => {\n        const addedClasses = {\n          length: 0,\n          classes: {},\n          orderedClasses: {},\n          starredClasses: {}\n        } as AddedClasses;\n\n        // Add classes to orderedClasses\n        classes.forEach(({ courseCode, courseTerm }) => {\n          if (courseTerm in addedClasses.orderedClasses) {\n            addedClasses.orderedClasses[courseTerm].push(courseCode);\n          } else {\n            addedClasses.orderedClasses[courseTerm] = [courseCode];\n          }\n        });\n        // Add classes to unordered classes\n        for (const { courseCode, courseTerm } of classes) {\n          try {\n            let schoolParts = courseCode.split('-');\n            schoolParts = schoolParts[schoolParts.length - 2].split(' ');\n            const school = schoolParts[schoolParts.length - 1];\n            const masterCourseCode = `${courseCode\n              .split(' ')\n              .slice(0, 2)\n              .join(' ')} ${school}`;\n            if (courseTerm in addedClasses.classes) {\n              if (masterCourseCode in addedClasses.classes[courseTerm]) {\n                addedClasses.classes[courseTerm][masterCourseCode].push(\n                  courseCode\n                );\n              } else {\n                addedClasses.classes[courseTerm][masterCourseCode] = [\n                  courseCode\n                ];\n              }\n            } else {\n              addedClasses.classes[courseTerm] = {\n                [masterCourseCode]: [courseCode]\n              };\n            }\n\n            addedClasses.length++;\n          } catch (e) {\n            console.warn('Error Adding Classes To State', e);\n          }\n        }\n        // Add classes to starred classes\n        for (const { courseCode, courseTerm } of starredClasses) {\n          try {\n            let schoolParts = courseCode.split('-');\n            schoolParts = schoolParts[schoolParts.length - 2].split(' ');\n            const school = schoolParts[schoolParts.length - 1];\n            const masterCourseCode = `${courseCode\n              .split(' ')\n              .slice(0, 2)\n              .join(' ')} ${school}`;\n            if (courseTerm in addedClasses.starredClasses) {\n              if (masterCourseCode in addedClasses.starredClasses[courseTerm]) {\n                addedClasses.starredClasses[courseTerm][masterCourseCode].push(\n                  courseCode\n                );\n              } else {\n                addedClasses.starredClasses[courseTerm][masterCourseCode] = [\n                  courseCode\n                ];\n              }\n            } else {\n              addedClasses.starredClasses[courseTerm] = {\n                [masterCourseCode]: [courseCode]\n              };\n            }\n          } catch (e) {\n            console.warn('Error Adding Starred Classes To State', e);\n          }\n        }\n\n        return { addedClasses, starredClasses, ...rest } as UserData;\n      }\n    }),\n    login: builder.mutation({\n      query: ({ userName, password, isGuest }) => ({\n        url: `/users/login`,\n        params: isGuest\n          ? {\n              userName,\n              password,\n              isGuest\n            }\n          : {\n              userName,\n              password\n            }\n      })\n    }),\n    trackLogin: builder.mutation({\n      query: (userKey) => ({\n        url: `/analytics/login/openedApp`,\n        method: 'POST',\n        headers: {\n          userKey\n        },\n        responseHandler: (response) => response.text()\n      })\n    }),\n    deleteAccount: builder.mutation({\n      query: ({ userKey, userName }) => ({\n        url: '/users',\n        method: 'DELETE',\n        headers: {\n          userKey\n        },\n        params: {\n          userName\n        }\n      })\n    }),\n    editUser: builder.mutation({\n      invalidatesTags: ['User'],\n      query: ({ userKey, userName, fields }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          'content-type': 'application/json',\n          userKey\n        },\n        body: fields\n      })\n    }),\n    getCollegeList: builder.query<any, void>({\n      query: () => '/randomShit/getCollegeList'\n    }),\n    getChatRooms: builder.mutation({\n      query: ({ userKey }) => ({\n        url: `/chatRooms/listOfChatRooms`,\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json',\n          userKey\n        },\n        responseHandler: (response) => response.json()\n      })\n    }),\n    createChatRoom: builder.mutation({\n      query: ({ userKey, recipients, nameOfChatRoom }) => ({\n        url: `/chatRooms/newChatRoom`,\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n          userKey\n        },\n        body: JSON.stringify({\n          userList: recipients,\n          name: nameOfChatRoom\n        }),\n        responseHandler: (response) => response.text()\n      })\n    }),\n    addOrRemoveUserFromChatRoom: builder.mutation({\n      query: ({ userKey, chatRoomId, userName }) => ({\n        url: `/chatRooms/addOrRemoveUser`,\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n          userKey\n        },\n        body: JSON.stringify({\n          chatRoomId: chatRoomId,\n          userName: userName\n        })\n      })\n    }),\n    signupUser: builder.mutation({\n      query: (body) => ({\n        url: '/users',\n        method: 'POST',\n        body,\n        responseHandler: (response) => response.text()\n      })\n    }),\n    verifySignup: builder.mutation({\n      query: (code) => ({\n        url: '/users/verification',\n        method: 'POST',\n        body: { code }\n      })\n    }),\n    resetPassword: builder.mutation({\n      query: (email) => ({\n        url: '/users/forgotPassword',\n        params: {\n          email\n        },\n        responseHandler: (response) => response.text()\n      })\n    }),\n    addExpoPushToken: builder.mutation({\n      query: ({ userName, expoPushToken, userKey }) => ({\n        url: `/users/addExpoPushKey/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          expoPushToken\n        }\n      })\n    }),\n    removeExpoPushToken: builder.mutation({\n      query: ({ userName, expoPushToken, userKey }) => ({\n        url: `/users/removeExpoPushKey/${userName}`,\n        method: 'DELETE',\n        headers: {\n          userKey\n        },\n        body: {\n          expoPushToken\n        }\n      })\n    })\n  })\n});\n\nexport const {\n  useAddOrRemoveUserFromChatRoomMutation,\n  useCreateChatRoomMutation,\n  useGetChatRoomsMutation,\n  useTrackLoginMutation,\n  useGetUserInfoQuery,\n  useLazyGetUserInfoQuery,\n  useLoginMutation,\n  useDeleteAccountMutation,\n  useEditUserMutation,\n  useGetCollegeListQuery,\n  useSignupUserMutation,\n  useVerifySignupMutation,\n  useResetPasswordMutation,\n  useAddExpoPushTokenMutation,\n  useRemoveExpoPushTokenMutation\n} = usersApiSlice;\n","export const RENDERED_RESULTS_LIMIT_MOBILE = 10;\nexport const RENDERED_RESULTS_LIMIT_DESKTOP = 20;\nexport const NEW_REVIEW_FIELDS = [\n  {\n    label: 'Professor',\n    id: 'professor',\n    mandatory: false,\n    type: 'DropDown',\n    options: []\n  },\n  {\n    label: 'Grade',\n    id: 'grade',\n    type: 'DropDown',\n    mandatory: false,\n    options: [\n      {\n        label: 'A+',\n        id: 'A'\n      },\n      {\n        label: 'A',\n        id: 'A'\n      },\n      {\n        label: 'A-',\n        id: 'A'\n      },\n      {\n        label: 'B+',\n        id: 'B'\n      },\n      {\n        label: 'B',\n        id: 'B'\n      },\n      {\n        label: 'B-',\n        id: 'B'\n      },\n      {\n        label: 'C+',\n        id: 'C'\n      },\n      {\n        label: 'C',\n        id: 'C'\n      },\n      {\n        label: 'C-',\n        id: 'C'\n      },\n      {\n        label: 'D+',\n        id: 'D'\n      },\n      {\n        label: 'D',\n        id: 'D'\n      },\n      {\n        label: 'D-',\n        id: 'D'\n      },\n      {\n        label: 'F+',\n        id: 'F'\n      },\n      {\n        label: 'F',\n        id: 'F'\n      },\n      {\n        label: 'F-',\n        id: 'F'\n      }\n    ]\n  },\n  {\n    label: 'Time Spent in Hours (ie: 7)',\n    id: 'timeSpent',\n    mandatory: false,\n    type: 'String'\n  }\n];\n\nexport const dayToICalAbbrev = {\n  Monday: 'MO',\n  Tuesday: 'TU',\n  Wednesday: 'WE',\n  Thursday: 'TH',\n  Friday: 'FR',\n  Saturday: 'SA',\n  Sunday: 'SU'\n};","import Toast from 'react-native-root-toast';\n\nimport { Class, ClassTime, ClassesObject } from './app/types';\nimport { EMOJI_LIST, IMAGE_BUCKET_URL } from './constants/discover';\nimport { dayToICalAbbrev } from './constants/classPages';\n\nexport function getRndInteger(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport function getImageUrl(imageId: string) {\n  return `${IMAGE_BUCKET_URL}/${imageId}.jpg`;\n}\n\nexport function nFormatter(num: number, digits: number) {\n  const lookup = [\n    { value: 1, symbol: '' },\n    { value: 1e3, symbol: 'k' },\n    { value: 1e6, symbol: 'M' },\n    { value: 1e9, symbol: 'G' },\n    { value: 1e12, symbol: 'T' },\n    { value: 1e15, symbol: 'P' },\n    { value: 1e18, symbol: 'E' }\n  ];\n  const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n  const item = lookup\n    .slice()\n    .reverse()\n    .find((item) => {\n      return num >= item.value;\n    });\n  return item\n    ? (num / item.value).toFixed(digits).replace(rx, '$1') + item.symbol\n    : '0';\n}\n\nexport function versionCompare(v1: string, v2: string, options?: any) {\n  const lexicographical = options && options.lexicographical;\n  const zeroExtend = options && options.zeroExtend;\n  let v1parts = v1.split('.') as any[];\n  let v2parts = v2.split('.') as any[];\n\n  function isValidPart(x) {\n    return (lexicographical ? /^\\d+[A-Za-z]*$/ : /^\\d+$/).test(x);\n  }\n\n  if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {\n    return NaN;\n  }\n\n  if (zeroExtend) {\n    while (v1parts.length < v2parts.length) v1parts.push('0');\n    while (v2parts.length < v1parts.length) v2parts.push('0');\n  }\n\n  if (!lexicographical) {\n    v1parts = v1parts.map(Number);\n    v2parts = v2parts.map(Number);\n  }\n\n  for (let i = 0; i < v1parts.length; ++i) {\n    if (v2parts.length === i) {\n      return 1;\n    }\n\n    if (v1parts[i] === v2parts[i]) {\n      continue;\n    } else if (v1parts[i] > v2parts[i]) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n\n  if (v1parts.length !== v2parts.length) {\n    return -1;\n  }\n\n  return 0;\n}\n\nexport const stringToEmoji = (str: string) => {\n  if (!str) {\n    return '';\n  }\n  let dec = 0;\n  for (let i = 0; i < str.length; ++i) {\n    dec += str.charCodeAt(i) << i;\n  }\n  const emoji = EMOJI_LIST[dec % EMOJI_LIST.length];\n  return emoji;\n};\n\nexport function validURL(str: string) {\n  const pattern = new RegExp(\n    '^(https?:\\\\/\\\\/)?' + // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n      '(\\\\#[-a-z\\\\d_]*)?$',\n    'i'\n  ); // fragment locator\n  return !!pattern.test(str);\n}\n\nexport function showToast(message: string, backgroundColor = '#000') {\n  Toast.show(message, {\n    duration: Toast.durations.LONG,\n    opacity: 1,\n    position: -100,\n    backgroundColor,\n    shadow: false\n  });\n}\n\n// Format range with 12 hour time\nexport const FormatTimeRange = (start: string, end: string) => {\n  const startDate = new Date(start);\n  const endDate = new Date(end);\n\n  const startHours = startDate.getHours() % 12 || 12;\n  const startMinutes = startDate.getMinutes();\n  const startAmPm = startDate.getHours() >= 12 ? 'pm' : 'am';\n  const endHours = endDate.getHours() % 12 || 12;\n  const endMinutes = endDate.getMinutes();\n  const endAmPm = endDate.getHours() >= 12 ? 'pm' : 'am';\n  return `${startHours}:${startMinutes}${startAmPm} - ${endHours}:${endMinutes}${endAmPm}`;\n};\n\nconst weekDayNumberToName = {\n  0: 'Sunday',\n  1: 'Monday',\n  2: 'Tuesday',\n  3: 'Wednesday',\n  4: 'Thursday',\n  5: 'Friday',\n  6: 'Saturday'\n};\n\nexport const FormatDate = (date: string) => {\n  const newDate = new Date(date);\n\n  const weekDay = newDate.getDay();\n  const month = newDate.getMonth() + 1;\n  const day = newDate.getDate();\n  return `${weekDayNumberToName[weekDay]}, ${month}/${day}`;\n};\n\nconst dateStringtoICal = (dateStr: string) => {\n  const dateObject = new Date(dateStr);\n  const year = dateObject.getFullYear();\n  const month = String(dateObject.getMonth() + 1).padStart(2, '0');\n  const day = String(dateObject.getDate()).padStart(2, '0');\n  return `${year}${month}${day}T`;\n};\n\nexport const exportToICal = (\n  events: ClassTime[],\n  startDateStr: string,\n  endDateStr: string\n): string => {\n  const until = dateStringtoICal(endDateStr) + '000000';\n  const startDate = dateStringtoICal(startDateStr);\n  const startDateTime = startDate + '000000';\n  let iCalString =\n    'BEGIN:VCALENDAR\\nCALSCALE:GREGORIAN\\nPRODID:AthenaCalendar\\nVERSION:2.0';\n\n  for (const [index1, courseSection] of events.entries()) {\n    for (const [index2, time] of courseSection.courseSchedule.entries()) {\n      const days = time.daysOfTheWeek\n        .map((day) => dayToICalAbbrev[day])\n        .join(',');\n      const startTime = time.startTime.split(':').join('') + '00';\n      const endTimeParts = time.endTime.split(':');\n      const endTime = endTimeParts.join('') + endTimeParts[1];\n      iCalString += `\nBEGIN:VEVENT\nUID:${index1}${index2}@default\nCLASS:PUBLIC\nDESCRIPTION:${courseSection.courseCode} ${courseSection.courseName}\\\\n${\n        courseSection.professorName\n      }\nRRULE:FREQ=WEEKLY;UNTIL=${until};INTERVAL=1;BYDAY=${days}\nDTSTAMP;VALUE=DATE-TIME:${startDateTime}\nDTSTART;VALUE=DATE-TIME:${startDate + startTime}\nDTEND;VALUE=DATE-TIME:${startDate + endTime}\nLOCATION:${time.classLocation}\nSUMMARY;LANGUAGE=en-us:${courseSection.courseName}\nTRANSP:TRANSPARENT\nEND:VEVENT`;\n    }\n  }\n\n  iCalString += '\\nEND:VCALENDAR';\n\n  return iCalString;\n};\n\nexport const getMasterCourseCodeFromCourseCode = (courseCode: string) => {\n  const courseCodeParts = courseCode.split('-');\n  return courseCodeParts.slice(0, courseCodeParts.length - 1).join('-');\n};\n\nexport const getTimeAsNumberOfMinutes = (time: string) => {\n  var timeParts = time.split(':');\n\n  var timeInMinutes = parseInt(timeParts[0]) * 60 + parseInt(timeParts[1]);\n\n  return timeInMinutes;\n};\n\nexport function isValidEmail(email: string) {\n  const regex =\n    /^(([^<>()\\[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return regex.test(email);\n}\n\nexport function addCourseInjections(courses: ClassesObject) {\n  const addKeyWords = (course: Class): string => {\n    let keywords = [];\n\n    try {\n      const masterCourseCodeParts = course.masterCourseCode.split(' ');\n      // if (MASTERCOURSECODE_KEYWORDS[masterCourseCodeParts[0]]) {\n      //   keywords.push(MASTERCOURSECODE_KEYWORDS[masterCourseCodeParts[0]])\n      // }\n      const editedNumberPart = masterCourseCodeParts[1].replace(/^0+/i, '');\n      // unknown number of total parts\n      masterCourseCodeParts[1] = editedNumberPart;\n\n      const combined = masterCourseCodeParts.join(' ');\n\n      keywords.push(combined);\n    } catch (e) {}\n\n    return keywords.join(', ');\n  };\n\n  const getProfessorNames = (times) => {\n    const professorNames = [];\n    for (const time of times) {\n      if (time.professorName) {\n        professorNames.push(time.professorName);\n      }\n    }\n    return professorNames.join(', ');\n  };\n  return Object.fromEntries(\n    Object.entries(courses).map(([key, value]) => {\n      return [\n        key,\n        {\n          ...value,\n          professorNames: getProfessorNames(value.times),\n          keywords: addKeyWords(value)\n        }\n      ];\n    })\n  );\n}\n\n//Guideline sizes are based on standard ~5\" screen mobile device\nconst guidelineBaseWidth = 350;\n\nexport const scale = (size: number, width: number) =>\n  (width / guidelineBaseWidth) * size;\n","import { apiSlice } from './apiSlice';\nimport { usersApiSlice } from './usersApi';\nimport {\n  AllSectionsResponse,\n  Class,\n  SwapCoursePriorityInput,\n  UserData\n} from '../../app/types';\nimport { addCourseInjections } from '../../functions';\n\nexport const classPagesApi = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    getAllClasses: builder.query({\n      query: ({ userKey, pageNumber, courseTerm, collegeName }) => ({\n        url: `/classes/masterClassList/${collegeName}`,\n        headers: {\n          userKey\n        },\n        params: {\n          pageNumber,\n          courseTerm,\n          omitReviews: true\n        }\n      }),\n      transformResponse: (response: { [masterCourseCode: string]: Class }) => {\n        return addCourseInjections(response);\n      }\n    }),\n    getCurrentSection: builder.query<string, void>({\n      query: () => '/randomShit/currentTerm',\n      transformResponse: (response: { currentTerm: string }) =>\n        response.currentTerm\n    }),\n    getAllSections: builder.query<AllSectionsResponse, void>({\n      query: () => '/randomShit/getAllTerms'\n    }),\n    addClass: builder.mutation({\n      query: ({ userKey, courseCode, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          classesToAdd: [{ courseCode, courseTerm }]\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCode, masterCourseCode, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              // Add to ordered Added Classes\n              if (!(courseTerm in draft.addedClasses.orderedClasses)) {\n                draft.addedClasses.orderedClasses[courseTerm] = [courseCode];\n              } else {\n                draft.addedClasses.orderedClasses[courseTerm].push(courseCode);\n              }\n\n              // Add to unordered Added Classes\n              if (!(courseTerm in draft.addedClasses.classes)) {\n                draft.addedClasses.classes[courseTerm] = {\n                  [masterCourseCode]: [courseCode]\n                };\n              } else if (\n                !(masterCourseCode in draft.addedClasses.classes[courseTerm])\n              ) {\n                draft.addedClasses.classes[courseTerm][masterCourseCode] = [\n                  courseCode\n                ];\n              } else {\n                draft.addedClasses.classes[courseTerm][masterCourseCode].push(\n                  courseCode\n                );\n              }\n              draft.addedClasses.length++;\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch (e) {\n          if (e.error.status !== 500) {\n            patchResult.undo();\n          }\n        }\n      }\n    }),\n    addMultipleClasses: builder.mutation<\n      { userData: UserData },\n      {\n        userKey: string;\n        courseTerm: string;\n        userName: string;\n        courseCodePairs: {\n          courseCode: string;\n          masterCourseCode: string;\n        }[];\n      }\n    >({\n      query: ({ userKey, courseCodePairs, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          classesToAdd: courseCodePairs.map((courseCodePair) => ({\n            courseCode: courseCodePair.courseCode,\n            courseTerm\n          }))\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCodePairs, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              for (const { masterCourseCode, courseCode } of courseCodePairs) {\n                if (!(courseTerm in draft.addedClasses.classes)) {\n                  draft.addedClasses.classes[courseTerm] = {\n                    [masterCourseCode]: [courseCode]\n                  };\n                } else if (\n                  !(masterCourseCode in draft.addedClasses.classes[courseTerm])\n                ) {\n                  draft.addedClasses.classes[courseTerm][masterCourseCode] = [\n                    courseCode\n                  ];\n                } else {\n                  draft.addedClasses.classes[courseTerm][masterCourseCode].push(\n                    courseCode\n                  );\n                }\n                draft.addedClasses.length++;\n              }\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch (e) {\n          if (e.error.status !== 500) {\n            patchResult.undo();\n          }\n        }\n      }\n    }),\n    removeClass: builder.mutation({\n      query: ({ userKey, courseCode, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          classesToRemove: [{ courseCode, courseTerm }]\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCode, masterCourseCode, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              // Delete from ordered Added Classes\n              draft.addedClasses.orderedClasses[courseTerm] =\n                draft.addedClasses.orderedClasses[courseTerm].filter(\n                  (classCode) => classCode !== courseCode\n                );\n\n              // Delete from unordered Added Classes\n\n              draft.addedClasses.classes[courseTerm][masterCourseCode] =\n                draft.addedClasses.classes[courseTerm][masterCourseCode].filter(\n                  (classCode) => classCode !== courseCode\n                );\n              // Delete the master course code if there are no more classes\n              if (\n                draft.addedClasses.classes[courseTerm][masterCourseCode]\n                  .length === 0\n              ) {\n                delete draft.addedClasses.classes[courseTerm][masterCourseCode];\n              }\n              draft.addedClasses.length--;\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch (e) {\n          if (e.error.status !== 500) {\n            patchResult.undo();\n          }\n        }\n      }\n    }),\n\n    addStarredClass: builder.mutation({\n      query: ({ userKey, courseCode, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          starredClassesToAdd: [{ courseCode, courseTerm }]\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCode, masterCourseCode, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              if (\n                !draft.starredClasses.some(\n                  (course) =>\n                    course.courseTerm === courseTerm &&\n                    course.courseCode === courseCode\n                )\n              ) {\n                draft.starredClasses.push({\n                  courseCode: courseCode,\n                  courseTerm: courseTerm\n                });\n              }\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch (e) {\n          if (e.error.status !== 500) {\n            patchResult.undo();\n          }\n        }\n      }\n    }),\n    removeStarredClass: builder.mutation({\n      query: ({ userKey, courseCode, courseTerm, userName }) => ({\n        url: `/users/${userName}`,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          starredClassesToRemove: [{ courseCode, courseTerm }]\n        }\n      }),\n      async onQueryStarted(\n        { userKey, courseCode, masterCourseCode, courseTerm },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              draft.starredClasses = draft.starredClasses.filter(\n                (course) =>\n                  course.courseCode !== courseCode ||\n                  course.courseTerm !== courseTerm\n              );\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch (e) {\n          if (e.error.status !== 500) {\n            patchResult.undo();\n          }\n        }\n      }\n    }),\n\n    isAllowedToReview: builder.query({\n      query: ({ masterCourseCode, userKey }) => ({\n        url: '/users/isAllowedToReview',\n        method: 'GET',\n        params: {\n          masterCourseCode\n        },\n        headers: {\n          userKey\n        }\n      })\n    }),\n    sendReview: builder.mutation({\n      query: ({ userKey, body }) => ({\n        url: '/classes/userReview',\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body,\n        responseHandler: (response) => response.text()\n      })\n    }),\n    swapCoursePriority: builder.mutation<any, SwapCoursePriorityInput>({\n      query: ({\n        userName,\n        firstPosition,\n        secondPosition,\n        termToUpdate,\n        userKey\n      }) => ({\n        url: '/users/' + userName,\n        method: 'PATCH',\n        headers: {\n          userKey\n        },\n        body: {\n          swapCoursePriority: {\n            firstPosition,\n            secondPosition,\n            termToUpdate\n          }\n        }\n      }),\n      async onQueryStarted(\n        { firstPosition, secondPosition, termToUpdate, userKey },\n        { dispatch, queryFulfilled }\n      ) {\n        const patchResult = dispatch(\n          usersApiSlice.util.updateQueryData(\n            'getUserInfo',\n            userKey,\n            (draft) => {\n              // move classes around in list\n              if (firstPosition > secondPosition) {\n                const temp =\n                  draft.addedClasses.orderedClasses[termToUpdate][\n                    firstPosition\n                  ];\n\n                for (let i = firstPosition; i > secondPosition; i--) {\n                  draft.addedClasses.orderedClasses[termToUpdate][i] =\n                    draft.addedClasses.orderedClasses[termToUpdate][i - 1];\n                }\n\n                draft.addedClasses.orderedClasses[termToUpdate][\n                  secondPosition\n                ] = temp;\n              } else {\n                const temp =\n                  draft.addedClasses.orderedClasses[termToUpdate][\n                    firstPosition\n                  ];\n\n                for (let i = firstPosition; i < secondPosition; i++) {\n                  draft.addedClasses.orderedClasses[termToUpdate][i] =\n                    draft.addedClasses.orderedClasses[termToUpdate][i + 1];\n                }\n\n                draft.addedClasses.orderedClasses[termToUpdate][\n                  secondPosition\n                ] = temp;\n              }\n            }\n          )\n        );\n\n        try {\n          await queryFulfilled;\n        } catch (e) {\n          if (e.error.status !== 500) {\n            patchResult.undo();\n          }\n        }\n      }\n    }),\n    getReviewsByClass: builder.mutation({\n      query: ({ masterCourseCode, userKey }) => ({\n        url: '/classes/getReviews/' + masterCourseCode,\n        method: 'GET',\n        headers: {\n          userKey\n        }\n      })\n    }),\n    getTermDates: builder.mutation<\n      { startDate: string; endDate: string },\n      { userKey: string; currentSection: string }\n    >({\n      query: ({ userKey, currentSection }) => ({\n        url: 'randomShit/getTermDates',\n        method: 'GET',\n        headers: {\n          userKey\n        },\n        body: {\n          sectionCode: currentSection\n        }\n      })\n    })\n  })\n});\n\nexport const {\n  useGetAllClassesQuery,\n  useGetCurrentSectionQuery,\n  useAddClassMutation,\n  useAddMultipleClassesMutation,\n  useRemoveClassMutation,\n  useIsAllowedToReviewQuery,\n  useSendReviewMutation,\n  useLazyGetAllClassesQuery,\n  useLazyGetAllSectionsQuery,\n  useRemoveStarredClassMutation,\n  useAddStarredClassMutation,\n  useSwapCoursePriorityMutation,\n  useGetReviewsByClassMutation,\n  useGetTermDatesMutation\n} = classPagesApi;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport type { RootState } from './store';\nimport { classPagesApi } from '../features/api/classPagesApi';\nimport { usersApiSlice } from '../features/api/usersApi';\n\n// Define a type for the slice state\ninterface AppDataState {\n  userKey: string;\n  isGuest: boolean;\n  isMobile: boolean;\n  darkMode: boolean;\n  useDeviceColorScheme: boolean;\n  deviceExpoPushToken?: string;\n  connectedToInternet?: boolean;\n}\n\n// Define the initial state using that type\nconst initialState: AppDataState = {\n  userKey: '',\n  isGuest: false,\n  isMobile: false,\n  darkMode: false,\n  useDeviceColorScheme: false,\n  deviceExpoPushToken: undefined,\n  connectedToInternet: undefined\n};\n\nexport const appDataSlice = createSlice({\n  name: 'appData',\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    userKeyUpdated: (state, action: PayloadAction<string>) => {\n      state.userKey = action.payload;\n    },\n    setIsGuest: (state, action: PayloadAction<boolean>) => {\n      state.isGuest = action.payload;\n    },\n    deviceDarkModeSet: (state, action: PayloadAction<boolean>) => {\n      state.darkMode = action.payload;\n    },\n    useDeviceColorSchemeSet: (state, action: PayloadAction<boolean>) => {\n      state.useDeviceColorScheme = action.payload;\n    },\n    mobileSiteSet: (state, action: PayloadAction<boolean>) => {\n      state.isMobile = action.payload;\n    },\n    deviceExpoPushTokenSet: (state, action: PayloadAction<string>) => {\n      state.deviceExpoPushToken = action.payload;\n    },\n    netInfoChecked: (state, action: PayloadAction<boolean>) => {\n      state.connectedToInternet = action.payload;\n    },\n    deleteAllAppData: (state) => {\n      state.userKey = '';\n      state.isGuest = false;\n      state.darkMode = false;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addMatcher(\n      classPagesApi.endpoints.addClass.matchRejected,\n      (state, action) => {\n        usersApiSlice.endpoints.getUserInfo.initiate(state.userKey);\n      }\n    );\n  }\n});\n\n// Selectors\nexport const selectDarkMode = (state: RootState) =>\n  state.appData.secure.darkMode;\n\nexport const selectUserKey = (state: RootState) => state.appData.secure.userKey;\n\nexport const selectIsGuest = (state: RootState) => state.appData.secure.isGuest;\n\nexport const selectMobile = (state: RootState) => state.appData.secure.isMobile;\n\n// Actions\nexport const {\n  userKeyUpdated,\n  setIsGuest,\n  deleteAllAppData,\n  reset,\n  deviceDarkModeSet,\n  useDeviceColorSchemeSet,\n  mobileSiteSet,\n  deviceExpoPushTokenSet,\n  netInfoChecked\n} = appDataSlice.actions;\n\nexport default appDataSlice.reducer;\n","import * as SecureStore from 'expo-secure-store';\n\nexport default function createSecureStorage(options: any = {}) {\n  const replaceCharacter = options.replaceCharacter || '_';\n  const replacer = options.replacer || defaultReplacer;\n\n  return {\n    getItem: (key: string) => SecureStore.getItemAsync(replacer(key, replaceCharacter), options),\n    setItem: (key: string, value: string) => SecureStore.setItemAsync(replacer(key, replaceCharacter), value, options),\n    removeItem: (key: string) => SecureStore.deleteItemAsync(replacer(key, replaceCharacter), options)\n  };\n}\n\nfunction defaultReplacer(key: string, replaceCharacter: string) {\n  return key.replace(/[^a-z0-9.\\-_]/gi, replaceCharacter);\n}\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { PayloadAction } from '@reduxjs/toolkit';\n\ninterface CalendarState {\n  isThreeDay: boolean;\n}\n\nconst initialState: CalendarState = {\n  isThreeDay: false\n};\n\nexport const calendarSlice = createSlice({\n  name: 'discover',\n  initialState,\n  reducers: {\n    reset: (state) => (state = initialState),\n    isThreeDaySet: (state, action: PayloadAction<boolean>) => {\n      state.isThreeDay = action.payload;\n    }\n  }\n});\n\nexport const { reset, isThreeDaySet } = calendarSlice.actions;\n\nexport default calendarSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport fuzzysort from 'fuzzysort';\n\nimport type { RootState } from '../../app/store';\nimport {\n  AddedClasses,\n  Class,\n  ClassesObject,\n  CourseSchedule,\n  Filters,\n  UserData\n} from '../../app/types';\nimport {\n  addCourseInjections,\n  getMasterCourseCodeFromCourseCode,\n  getTimeAsNumberOfMinutes\n} from '../../functions';\nimport { classPagesApi } from '../api/classPagesApi';\nimport { usersApiSlice } from '../api/usersApi';\n\n// Define a type for the slice state\ninterface ClassPagesState {\n  classes: { [masterCourseCode: string]: Class };\n  filteredClasses: { [masterCourseCode: string]: Class };\n  renderedClasses: { [masterCourseCode: string]: Class };\n  currentSection: string;\n  availableSections: string[];\n  searchTerm: string;\n  selectedClass: any;\n  page: number;\n  filters: Filters;\n  isHMC: boolean;\n  hasSelectedElectiveGen: boolean;\n  suggestedClasses: { [masterCourseCode: string]: Class };\n  orderedAddedClasses: AddedClasses['orderedClasses'];\n  totalCredits: { credits: number; hmcCredits: number };\n  userData: UserData; // enables offlines mode\n}\n\n// Define the initial state using that type\nconst initialState: ClassPagesState = {\n  classes: {},\n  filteredClasses: {},\n  renderedClasses: {},\n  currentSection: '',\n  availableSections: [],\n  selectedClass: {},\n  searchTerm: '',\n  page: 1,\n  isHMC: undefined,\n  filters: {\n    filterConflicts: false,\n    colleges: { HM: false, CM: false, PO: false, PZ: false, SC: false }\n  },\n  hasSelectedElectiveGen: false,\n  suggestedClasses: {},\n  orderedAddedClasses: {},\n  totalCredits: { credits: 0, hmcCredits: 0 },\n  userData: undefined\n};\n\nexport const classPagesSlice = createSlice({\n  name: 'classPages',\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    addClassInjections: (state) => {\n      state.classes = addCourseInjections(state.classes);\n    },\n    currentSectionUpdated: (state, action: PayloadAction<string>) => {\n      state.currentSection = action.payload;\n    },\n    availableSectionsListUpdated: (state, action: PayloadAction<string[]>) => {\n      state.availableSections = action.payload;\n    },\n    endOfListReached: (state) => {\n      state.page++;\n    },\n    resetClasses: (state) => {\n      state.page = 1;\n      state.searchTerm = '';\n\n      classPagesSlice.caseReducers.creditsRecalculated(state);\n      classPagesSlice.caseReducers.searchResultsFiltered(state);\n    },\n    suggestedClassesUpdated: (\n      state,\n      action: PayloadAction<{ [masterCourseCode: string]: Class }>\n    ) => {\n      state.suggestedClasses = action.payload;\n    },\n    suggestedClassesDimissed: (state) => {\n      state.suggestedClasses = {};\n    },\n    electiveGeneratorSelected: (state) => {\n      state.hasSelectedElectiveGen = true;\n    },\n    classSelected: (state, action: PayloadAction<string>) => {\n      state.selectedClass = state.classes[action.payload];\n    },\n    selectedClassCleared: (state) => {\n      state.selectedClass = {};\n    },\n    filtersSaved: (state, action: PayloadAction<Filters>) => {\n      state.filters = action.payload;\n      classPagesSlice.caseReducers.searchResultsFiltered(state);\n    },\n    isHMCUpdated: (state, action: PayloadAction<boolean>) => {\n      state.isHMC = action.payload;\n    },\n    creditsRecalculated: (state) => {\n      state.totalCredits = recalculateTotalCredits({\n        orderedAddedClasses: state.orderedAddedClasses[state.currentSection],\n        allClasses: state.classes\n      });\n    },\n    filtersReset: (state) => {\n      state.filters = initialState.filters;\n\n      classPagesSlice.caseReducers.searchResultsFiltered(state);\n    },\n    searchResultsFiltered: (state) => {\n      // Update the renderedClasses object with the new filters\n      let newResultsArray = Object.entries(state.classes);\n\n      const numFilters = Object.entries(state.filters.colleges).filter(\n        ([_, isFiltered]) => isFiltered\n      ).length;\n\n      if (\n        numFilters !== 0 &&\n        numFilters !== Object.keys(state.filters.colleges).length\n      ) {\n        newResultsArray = newResultsArray.filter(([masterCourseCode, _]) => {\n          // filter by college\n          const collegeAbr = masterCourseCode.substring(\n            masterCourseCode.length - 2,\n            masterCourseCode.length\n          );\n          return state.filters.colleges[collegeAbr];\n        });\n      }\n\n      const newResultsObject = Object.fromEntries(newResultsArray);\n      // filter conflicting times\n      if (\n        state.filters.filterConflicts &&\n        state.orderedAddedClasses[state.currentSection] &&\n        state.orderedAddedClasses[state.currentSection].length\n      ) {\n        newResultsArray.forEach(([masterCourseCode, _]) => {\n          newResultsObject[masterCourseCode].times = newResultsObject[\n            masterCourseCode\n          ].times.filter((time) => {\n            for (const timeWindow of time.courseSchedule) {\n              if (\n                doesClassConflict(\n                  timeWindow,\n                  state.orderedAddedClasses[state.currentSection],\n                  state.classes\n                )\n              ) {\n                return false;\n              }\n            }\n            return true;\n          });\n\n          if (newResultsObject[masterCourseCode].times.length == 0) {\n            delete newResultsObject[masterCourseCode];\n          }\n        });\n      }\n\n      state.filteredClasses = newResultsObject;\n      state.renderedClasses = { ...state.filteredClasses };\n    },\n    searchTermUpdated: (state, action: PayloadAction<string>) => {\n      state.searchTerm = action.payload;\n    },\n    setUserData: (state, action: PayloadAction<UserData>) => {\n      // enables offline mode\n      state.userData = action.payload;\n    },\n    clearUserData: (state) => {\n      state.userData = undefined;\n      state.orderedAddedClasses = {};\n      state.totalCredits = { credits: 0, hmcCredits: 0 };\n    },\n    filterListBySearchTerm: (state) => {\n      state.page = 1;\n      if (state.searchTerm === '') {\n        classPagesSlice.caseReducers.resetClasses(state);\n      } else {\n        const filteredClassesValues = Object.values(state.filteredClasses);\n\n        // so that professor names are included in the search results\n        const atLeastOneOfTheFirstFiveClassesHasProfessor =\n          filteredClassesValues\n            .slice(0, 5)\n            .some((class_) => class_.times[0].professorName && class_.keywords);\n        if (!atLeastOneOfTheFirstFiveClassesHasProfessor) {\n          classPagesSlice.caseReducers.addClassInjections(state);\n        }\n\n        const searchResult = fuzzysort.go(\n          state.searchTerm,\n          filteredClassesValues,\n          {\n            keys: [\n              'courseName',\n              'masterCourseCode',\n              'professorNames',\n              'keywords'\n            ],\n            threshold: -1000,\n            allowTypo: true\n          }\n        );\n\n        state.renderedClasses = Object.fromEntries(\n          searchResult.map((result) => [\n            result.obj.masterCourseCode,\n            result.obj\n          ])\n        );\n      }\n    },\n    // For offline mode only\n    setClassesInState(state, action: PayloadAction<ClassesObject>) {\n      state.classes = action.payload;\n      state.filteredClasses = action.payload;\n      state.renderedClasses = action.payload;\n\n      if (state.orderedAddedClasses[state.currentSection]) {\n        state.totalCredits = recalculateTotalCredits({\n          allClasses: state.classes,\n          orderedAddedClasses: state.orderedAddedClasses[state.currentSection]\n        });\n      }\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addMatcher(\n      classPagesApi.endpoints.getAllClasses.matchFulfilled,\n      (state, { payload }) => {\n        state.classes = payload;\n        state.filteredClasses = payload;\n        state.renderedClasses = payload;\n\n        if (state.orderedAddedClasses[state.currentSection]) {\n          state.totalCredits = recalculateTotalCredits({\n            allClasses: state.classes,\n            orderedAddedClasses: state.orderedAddedClasses[state.currentSection]\n          });\n        }\n      }\n    );\n    builder.addMatcher(\n      usersApiSlice.endpoints.getUserInfo.matchFulfilled,\n      (state, { payload }) => {\n        state.orderedAddedClasses = payload.addedClasses.orderedClasses;\n\n        if (Object.keys(state.classes).length) {\n          state.totalCredits = recalculateTotalCredits({\n            orderedAddedClasses:\n              state.orderedAddedClasses[state.currentSection],\n            allClasses: state.classes\n          });\n        }\n      }\n    );\n    builder.addMatcher(\n      classPagesApi.endpoints.addClass.matchFulfilled,\n      (state, { payload }) => {\n        state.orderedAddedClasses = getOrderedClassesFromApiRes(\n          payload.userData.classes\n        );\n\n        state.totalCredits = recalculateTotalCredits({\n          orderedAddedClasses: state.orderedAddedClasses[state.currentSection],\n          allClasses: state.classes\n        });\n      }\n    );\n    builder.addMatcher(\n      classPagesApi.endpoints.removeClass.matchFulfilled,\n      (state, { payload }) => {\n        state.orderedAddedClasses = getOrderedClassesFromApiRes(\n          payload.userData.classes\n        );\n\n        state.totalCredits = recalculateTotalCredits({\n          orderedAddedClasses: state.orderedAddedClasses[state.currentSection],\n          allClasses: state.classes\n        });\n      }\n    );\n    builder.addMatcher(\n      classPagesApi.endpoints.swapCoursePriority.matchFulfilled,\n      (state, { payload }) => {\n        state.orderedAddedClasses = getOrderedClassesFromApiRes(\n          payload.userData.classes\n        );\n      }\n    );\n  }\n});\n\n/**\n *\n * Helper Functions\n *\n */\n\nconst recalculateTotalCredits = ({\n  addedClasses,\n  orderedAddedClasses,\n  allClasses\n}: {\n  addedClasses?: AddedClasses['classes']['term'];\n  orderedAddedClasses?: AddedClasses['orderedClasses']['term'];\n  allClasses: ClassPagesState['classes'];\n}): ClassPagesState['totalCredits'] => {\n  let totalCredits = {\n    credits: 0,\n    hmcCredits: 0\n  } as ClassPagesState['totalCredits'];\n\n  try {\n    if (addedClasses && Object.keys(addedClasses).length) {\n      for (const masterCourseCode in addedClasses) {\n        const course = allClasses[masterCourseCode];\n\n        const numCourses = addedClasses[masterCourseCode].length;\n\n        totalCredits.credits += course.creditWeight * numCourses;\n        totalCredits.hmcCredits += course.creditWeightHM * numCourses;\n      }\n    } else if (orderedAddedClasses) {\n      for (const courseCode of orderedAddedClasses) {\n        const masterCourseCode = getMasterCourseCodeFromCourseCode(courseCode);\n        const course = allClasses[masterCourseCode];\n\n        totalCredits.credits += course.creditWeight;\n        totalCredits.hmcCredits += course.creditWeightHM;\n      }\n    }\n  } catch (e) {\n    console.warn('Error calculating credits', e);\n  }\n\n  return totalCredits;\n};\n\nconst doesClassConflict = (\n  schedule: CourseSchedule,\n  orderedAddedClasses: string[],\n  classes: { [masterCourseCode: string]: Class }\n) => {\n  for (const addedClass of orderedAddedClasses) {\n    const masterCourseCode = getMasterCourseCodeFromCourseCode(addedClass);\n    const addedTimes = classes[masterCourseCode].times;\n\n    for (const addedTime of addedTimes) {\n      for (const addedSchedule of addedTime.courseSchedule) {\n        const addedTimeStart = getTimeAsNumberOfMinutes(\n          addedSchedule.startTime\n        );\n        const addedTimeEnd = getTimeAsNumberOfMinutes(addedSchedule.endTime);\n        const scheduleTimeStart = getTimeAsNumberOfMinutes(schedule.startTime);\n        const scheduleTimeEnd = getTimeAsNumberOfMinutes(schedule.endTime);\n        if (\n          addedSchedule.daysOfTheWeek.filter((day) =>\n            schedule.daysOfTheWeek.includes(day)\n          ).length > 0 &&\n          ((scheduleTimeStart >= addedTimeStart &&\n            scheduleTimeStart < addedTimeEnd) ||\n            (scheduleTimeEnd > addedTimeStart &&\n              scheduleTimeEnd <= addedTimeEnd) ||\n            (scheduleTimeStart <= addedTimeStart &&\n              scheduleTimeEnd >= addedTimeEnd))\n        ) {\n          return true;\n        }\n      }\n    }\n  }\n\n  return false;\n};\n\nconst getOrderedClassesFromApiRes = (\n  classes: { courseCode: string; courseTerm: string }[]\n) => {\n  let orderedClasses: AddedClasses['orderedClasses'] = {};\n  classes.forEach(({ courseCode, courseTerm }) => {\n    if (!orderedClasses[courseTerm]) {\n      orderedClasses[courseTerm] = [];\n    }\n    orderedClasses[courseTerm].push(courseCode);\n  });\n  return orderedClasses;\n};\n\n// Selectors\nexport const selectClassesList = (state: RootState) =>\n  state.appData.classPages.classes;\n\nexport const selectRenderedClassesList = (state: RootState) =>\n  state.appData.classPages.renderedClasses;\n\n// Actions\nexport const {\n  currentSectionUpdated,\n  endOfListReached,\n  searchTermUpdated,\n  resetClasses,\n  classSelected,\n  selectedClassCleared,\n  reset,\n  filtersSaved,\n  filtersReset,\n  isHMCUpdated,\n  availableSectionsListUpdated,\n  electiveGeneratorSelected,\n  suggestedClassesUpdated,\n  suggestedClassesDimissed,\n  creditsRecalculated,\n  filterListBySearchTerm,\n  clearUserData,\n  setUserData\n} = classPagesSlice.actions;\n\nexport default classPagesSlice.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { PayloadAction } from '@reduxjs/toolkit';\n\nimport { RootState } from '../../app/store';\n\ninterface DiscoverState {\n  searchTerm: string;\n  submittedSearchTerm: string;\n  tag: string;\n  recentSearches: string[];\n}\nconst initialState: DiscoverState = {\n  searchTerm: '',\n  submittedSearchTerm: '',\n  tag: '',\n  recentSearches: []\n};\n\nexport const discoverSlice = createSlice({\n  name: 'discover',\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    searchTermSubmitted: (state, action: PayloadAction<string>) => {\n      state.submittedSearchTerm = action.payload;\n      if (action.payload && !state.recentSearches.includes(action.payload)) {\n        state.recentSearches.unshift(action.payload);\n      }\n    },\n    searchTermChanged: (state, action: PayloadAction<string>) => {\n      state.searchTerm = action.payload;\n      if (action.payload === '') {\n        state.submittedSearchTerm = '';\n      }\n    },\n    recentSearchTermSelected: (state, action: PayloadAction<string>) => {\n      state.searchTerm = action.payload;\n      state.submittedSearchTerm = action.payload;\n    },\n    tagSelected: (state, action: PayloadAction<string>) => {\n      state.tag = action.payload;\n    },\n    recentSearchTermRemoved: (state, action: PayloadAction<string>) => {\n      state.recentSearches = state.recentSearches.filter(\n        (term) => term !== action.payload\n      );\n    }\n  }\n});\n\nexport const {\n  reset,\n  searchTermChanged,\n  searchTermSubmitted,\n  tagSelected,\n  recentSearchTermSelected,\n  recentSearchTermRemoved\n} = discoverSlice.actions;\n\nexport const selectSearchTerm = (state: RootState) => state.appData.discover.searchTerm;\nexport const selectSubmittedSearchTerm = (state: RootState) => state.appData.discover.submittedSearchTerm;\nexport const selectTag = (state: RootState) => state.appData.discover.tag;\nexport const selectRecentSearches = (state: RootState) => state.appData.discover.recentSearches;\n\nexport default discoverSlice.reducer;\n","// import createSecureStore from \"redux-persist-expo-securestore\"\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as ExpoSecureStorage from 'expo-secure-store';\nimport { Platform } from 'react-native';\nimport { combineReducers } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport ExpoFileSystemStorage from 'redux-persist-expo-filesystem';\n\nimport createSecureStorage from './SecureStorage';\nimport appDataReducer from '../app/appDataSlice';\nimport calendarReducer from '../features/calendar/calendarSlice';\nimport classPagesReducer from '../features/classPages/classPagesSlice';\nimport discoverReducer from '../features/discover/discoverSlice';\n\n// Secure storage\n\n// const SecureStorage = createSecureStore();\nconst SecureStorage = createSecureStorage();\n\nconst securePersistConfig = {\n  key: 'secure',\n  storage: Platform.OS === 'web' ? AsyncStorage : SecureStorage\n};\n\n// Non-secure (AsyncStorage) storage\nconst cpPersistConfig = {\n  key: 'classPages',\n  storage: Platform.OS === 'android' ? ExpoFileSystemStorage : AsyncStorage,\n  whitelist:\n    Platform.OS === 'web'\n      ? ['currentSection', 'hasSelectedElectiveGen']\n      : ['classes', 'currentSection', 'isHMC', 'hasSelectedElectiveGen', 'orderedAddedClasses']\n};\n\nconst discoverPersistConfig = {\n  key: 'discover',\n  storage: Platform.OS === 'android' ? ExpoFileSystemStorage : AsyncStorage,\n  whitelist: ['recentSearches']\n};\n\n// Combine them together\nexport const rootReducer = combineReducers({\n  classPages: persistReducer(cpPersistConfig, classPagesReducer),\n  secure: persistReducer(securePersistConfig, appDataReducer),\n  discover: persistReducer(discoverPersistConfig, discoverReducer),\n  calendar: calendarReducer\n});\n","import { configureStore } from '@reduxjs/toolkit';\nimport {\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER\n} from 'redux-persist';\n\nimport { rootReducer } from './storage';\nimport { apiSlice } from '../features/api/apiSlice';\n\nexport const store = configureStore({\n  reducer: {\n    appData: rootReducer,\n    [apiSlice.reducerPath]: apiSlice.reducer\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n    serializableCheck: false,\n    immutableCheck: false\n  }).concat(apiSlice.middleware)\n});\n\n// serializableCheck: {\n//   ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n//   ignoredPaths: [\n//     'appData.classPages.classes',\n//     'addData.classPages.renderedClasses',\n//   ],\n// },\n// immutableCheck: {\n//   ignoredPaths: [\n//     'appData.classPages.classes',\n//     'addData.classPages.renderedClasses',\n//   ],\n// },\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\n\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch: () => AppDispatch = useDispatch;\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { Image, View } from 'react-native';\n\nexport default function WebSplashScreen() {\n  return (\n    <View\n      style={{\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      }}\n    >\n      <Image\n        source={require('../../assets/logos/splash-logo.png')}\n        style={{ width: 300, height: 300 }}\n      />\n    </View>\n  );\n}\n","import { Manager } from 'socket.io-client';\n\nexport const base_URL = 'https://api.athenaserver.com:5678/api';\n\nexport const manager = new Manager(base_URL, {\n  randomizationFactor: 0.5,\n  addTrailingSlash: false,\n  autoConnect: false\n});\n","import { FontAwesome } from '@expo/vector-icons';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport {\n  Card,\n  Divider,\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem\n} from '@ui-kitten/components';\nimport * as ImagePicker from 'expo-image-picker';\nimport moment from 'moment-timezone';\nimport { useCallback, useEffect, useState } from 'react';\nimport {\n  Dimensions,\n  Image,\n  KeyboardAvoidingView,\n  Platform,\n  RefreshControl,\n  ScrollView,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  View\n} from 'react-native';\nimport { LineChart } from 'react-native-chart-kit';\n\nimport { selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport { base_URL } from '../../constants/admin';\n\nconst AdminHomePage = createNativeStackNavigator();\n\nexport default function AdminHomeNavigation() {\n  const [adminCommands, setAdminCommands] = useState([]);\n  const userKey = useAppSelector(selectUserKey);\n  useEffect(() => {\n    getAdminCommands();\n  }, []);\n  async function getAdminCommands() {\n    const adminURL = `${base_URL}/adminCommands`;\n    const res = await fetch(`${adminURL}/getAdminCommands`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    });\n    let commands: any[] = await res.json();\n    const filter = await fetch(`${adminURL}/toggleAdminCommands`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      },\n      body: '{}'\n    });\n    const filterObject = (await filter.json()).currentAdminCommandsStatus;\n    commands = commands.sort((a, b) => {\n      const textA = a.label.toUpperCase();\n      const textB = b.label.toUpperCase();\n      return textA < textB ? -1 : textA > textB ? 1 : 0;\n    });\n    const finalCommandList = [];\n    for (const command of commands) {\n      if (filterObject[command.label]) {\n        finalCommandList.push(command);\n      }\n    }\n    // @ts-ignore\n    setAdminCommands(finalCommandList);\n    return commands;\n  }\n\n  const [refreshing, setRefreshing] = useState(false);\n\n  const onRefresh = useCallback(() => {\n    setRefreshing(true);\n    setAdminCommands([]);\n    getAdminCommands().then((commands) => setRefreshing(false));\n  }, []);\n\n  function AdminHome({ navigation }) {\n    return (\n      <ScrollView\n        refreshControl={\n          <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n        }\n      >\n        {adminCommands?.length === 0 ? <Text>No Commands Yet. Rip</Text> : null}\n        {adminCommands?.map((command) => {\n          return (\n            <TouchableOpacity\n              onPress={() => {\n                navigation.navigate('AdminCommand', { data: command });\n              }}\n              style={listingStyles.cardContainer}\n              key={command.url}\n            >\n              <Text style={listingStyles.text}>{command.label}</Text>\n            </TouchableOpacity>\n          );\n        })}\n      </ScrollView>\n    );\n  }\n\n  return (\n    <AdminHomePage.Navigator initialRouteName=\"AdminHome\">\n      <AdminHomePage.Screen\n        options={{\n          // title: 'Admin Home',\n          /* headerTitle: () => {\n                        return adminControlPanelHeader;\n                    }, */\n          headerShown: false\n        }}\n        name=\"AdminHome\"\n        component={AdminHome}\n      />\n      <AdminHomePage.Screen\n        name=\"AdminCommand\"\n        component={AdminCommand}\n        options={{ headerTitle: '' }}\n      />\n    </AdminHomePage.Navigator>\n  );\n}\n\nfunction AdminCommand({\n  route: {\n    params: { data }\n  }\n}) {\n  const [info, setInfo] = useState({});\n  const [isFileUpload, setIsFileUpload] = useState(false);\n  const [body, setBody] = useState({});\n  const [users, setUsers] = useState([]);\n  const [fileUploads, setFileUploads] = useState([]);\n  const [sponsors, setSponsors] = useState([]);\n  const [status, setStatus] = useState('0');\n  const [allFieldsFilled, setAllFieldsFilled] = useState(false);\n  const [buttonPushed, setButtonPushed] = useState(false); // refresh button\n  const userKey = useAppSelector(selectUserKey);\n\n  useEffect(() => {\n    // Check for first button render\n    checkForFieldsFilled(body);\n    // Fetch User List\n    fetch(`${base_URL}/users/getUserNameList`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const newUsers = (await data.json()).map((userName) => {\n          return {\n            label: userName,\n            id: userName\n          };\n        });\n        setUsers(newUsers);\n      }\n    });\n    // Fetch Sponsor List\n    fetch(`${base_URL}/sponsors/`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const sponsors = (await data.json()).map((sponsor) => {\n          return {\n            label: sponsor.sponsorName,\n            id: sponsor._id\n          };\n        });\n        setSponsors(sponsors);\n      }\n    });\n    // Fetch File upload List\n    fetch(`${base_URL}/adminCommands/getReferenceImages`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const images = (await data.json()).map((imageName) => {\n          return {\n            label: imageName,\n            id: imageName\n          };\n        });\n        setFileUploads(images);\n      }\n    });\n  }, []);\n\n  function checkForFieldsFilled(body) {\n    for (const field of data.fields) {\n      if (field.mandatory) {\n        if (body[field.id] === undefined || body[field.id] === null) {\n          setAllFieldsFilled(false);\n          return;\n        }\n      }\n    }\n    setAllFieldsFilled(true);\n  }\n\n  const sendApiData = (data, userKey) => {\n    let additionToUrl = '';\n    for (const aspect in body) {\n      if (body[aspect].paramOverride) {\n        additionToUrl += body[aspect];\n        break;\n      }\n    }\n    if (JSON.stringify(body, null, 2) !== '{}' && data.apiType === 'GET') {\n      for (const aspect in body) {\n        if (additionToUrl === '') {\n          additionToUrl = '?';\n        } else {\n          additionToUrl += '&';\n        }\n        additionToUrl += `${aspect}=${body[aspect]}`;\n      }\n    }\n    const newUrl = data.url + additionToUrl;\n    if (!isFileUpload) {\n      fetch(newUrl, {\n        method: data.apiType,\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        },\n        body:\n          JSON.stringify(body, null, 2) !== '{}' && data.apiType !== 'GET'\n            ? JSON.stringify(body)\n            : undefined\n      }).then((res) => {\n        // @ts-ignore\n        setStatus(res.status);\n        res.text().then((text) => {\n          try {\n            const text2 = JSON.parse(text);\n            setInfo(text2);\n          } catch (err) {\n            setInfo(text);\n          }\n        });\n      });\n    } else {\n      const formdata = new FormData();\n      for (const item in body) {\n        if (!item.includes('picture')) {\n          formdata.append(item, body[item]);\n        } else {\n          formdata.append(item, {\n            // @ts-ignore\n            uri: body[item].uri,\n            name: item,\n            type: 'image/jpg'\n          });\n        }\n      }\n      fetch(newUrl, {\n        body: formdata,\n        redirect: 'follow',\n        method: data.apiType,\n        headers: {\n          userKey\n        }\n      }).then((res) => {\n        // @ts-ignore\n        setStatus(res.status);\n        res.text().then((text) => {\n          try {\n            const text2 = JSON.parse(text);\n            setInfo(text2);\n          } catch (err) {\n            setInfo(text);\n          }\n        });\n      });\n    }\n  };\n\n  if (buttonPushed) {\n    setButtonPushed(false);\n    sendApiData(data, userKey);\n  }\n\n  function renderEachDropItem(field) {\n    if (field.data) {\n      // This is where we can add preset lists if we can't use something hardcoded on the server\n      switch (field.data) {\n        case 'users': {\n          field.options = users;\n          break;\n        }\n        case 'sponsors': {\n          field.options = sponsors;\n          break;\n        }\n        case 'fileUploads': {\n          field.options = fileUploads;\n          break;\n        }\n      }\n    }\n    const final = [];\n    for (const option of field.options) {\n      final.push(<SelectItem title={option.label} />);\n    }\n    return final;\n  }\n\n  function renderTheFieldsNecessary(fields) {\n    const changeValue = (theValue, valueToChange) => {\n      const newBody = body;\n      for (const aspect in newBody) {\n        if (\n          newBody[aspect] === null ||\n          newBody[aspect] === undefined ||\n          newBody[aspect] === ''\n        ) {\n          delete newBody[aspect];\n        }\n      }\n      if (theValue !== undefined) {\n        newBody[valueToChange] = theValue;\n      } else if (newBody[valueToChange]) {\n        delete newBody[valueToChange];\n      }\n      setBody(newBody);\n      checkForFieldsFilled(newBody);\n    };\n\n    const fileUploadTemplate = (field) => {\n      const pickImage = async () => {\n        const result = await ImagePicker.launchImageLibraryAsync({\n          allowsEditing: false\n        });\n        if (!result.cancelled) {\n          changeValue(result, field.id);\n        }\n      };\n\n      return (\n        <View>\n          {/* Image Picker */}\n          <TouchableOpacity\n            onPress={() => {\n              pickImage();\n            }}\n            style={{\n              height: 80,\n              justifyContent: 'center',\n              alignItems: 'center',\n              borderRadius: 8,\n              paddingVertical: 8,\n              flexDirection: 'row',\n              backgroundColor: '#dbdbdb',\n              marginVertical: 15,\n              marginHorizontal: 5\n            }}\n          >\n            <Layout\n              style={{\n                flex: 1,\n                flexDirection: 'row',\n                height: '100%',\n                marginHorizontal: 10,\n                backgroundColor: '#dbdbdb'\n              }}\n            >\n              <Layout\n                style={{\n                  flex: 1,\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  height: '100%',\n                  borderRadius: 10,\n                  backgroundColor: '#bfbfbf'\n                }}\n              >\n                {body && body[field?.id] ? (\n                  <Image\n                    source={{ uri: body[field.id].uri }}\n                    style={{ width: '90%', height: '90%', borderRadius: 10 }}\n                  />\n                ) : (\n                  <FontAwesome name=\"image\" size={40} color=\"grey\" />\n                )}\n              </Layout>\n              <Layout\n                style={{\n                  backgroundColor: '#dbdbdb',\n                  flex: 4,\n                  height: '100%',\n                  justifyContent: 'center',\n                  alignItems: 'center'\n                }}\n              >\n                <Text\n                  style={{\n                    fontSize: 17\n                  }}\n                >\n                  {body && body[field?.id]\n                    ? 'Select Another Image'\n                    : 'Select Image'}\n                </Text>\n              </Layout>\n            </Layout>\n          </TouchableOpacity>\n        </View>\n      );\n    };\n    const renderFilterParameters = (fields) => {\n      if (fields.length === 0) {\n        return null;\n      }\n      return (\n        <View style={{ flexDirection: 'row' }}>\n          <Text\n            style={{\n              fontSize: 15,\n              paddingLeft: 12,\n              paddingBottom: 5,\n              paddingTop: 5,\n              alignContent: 'center',\n              fontWeight: 'bold'\n            }}\n          >\n            Filters/Parameters\n          </Text>\n        </View>\n      );\n    };\n    const final = [];\n\n    function renderStringArray(field) {\n      const valuesToSend = {};\n      function changeStringValue(theValue, miniField, field) {\n        valuesToSend[miniField] = theValue;\n        const newFieldForBody = [];\n        for (const value of Object.values(valuesToSend)) {\n          newFieldForBody.push(value);\n        }\n        changeValue(newFieldForBody, field.id);\n      }\n      const tempFinal = [];\n      tempFinal.push(\n        <Text\n          style={{\n            fontSize: 14,\n            paddingLeft: 5,\n            paddingBottom: 3,\n            paddingTop: 3\n          }}\n        >\n          {field.mandatory ? `${field.label} (mandatory)` : field.label}\n        </Text>\n      );\n      for (const eachOne in field.stringArray) {\n        tempFinal.push(\n          <TextInput\n            autoCapitalize=\"none\"\n            onChangeText={(theValue) =>\n              changeStringValue(\n                theValue,\n                field.stringArray[eachOne].label,\n                field\n              )\n            }\n            style={myStyles.indentedInput}\n            placeholderTextColor=\"gray\"\n            placeholder={\n              field.stringArray[eachOne].mandatory\n                ? `${field.stringArray[eachOne].label} (mandatory)`\n                : field.stringArray[eachOne].label\n            }\n          />\n        );\n      }\n      return tempFinal;\n    }\n\n    const renderMultiSelectDropDown = (field) => {\n      const [selectedIndex, setSelectedIndex] = useState([]);\n      const [hasChosen, setHasChosen] = useState(false);\n      function toggleValue(index) {\n        setHasChosen(true);\n        setSelectedIndex(index);\n        const newSelection = Array.isArray(index)\n          ? index.map((littleIndex) => {\n              return field.options[littleIndex.row].id;\n            })\n          : field.options[index.row].id;\n        changeValue(newSelection, field.id);\n      }\n      function calculateSelectedValues() {\n        const finalArray = selectedIndex.map((littleIndex) => {\n          return `${field.options[littleIndex.row].label}, `;\n        });\n        if (finalArray.length > 0) {\n          let finalObject = finalArray.at(-1);\n          finalObject = finalObject.replace(', ', '');\n          finalArray.splice(-1, 1);\n          finalArray.push(finalObject);\n          return finalArray;\n        }\n        return field.mandatory ? `${field.label} (mandatory)` : field.label;\n      }\n      return (\n        <Layout style={myStyles.containerDrop} level=\"1\">\n          <Select\n            multiSelect\n            value={hasChosen ? calculateSelectedValues() : field.label}\n            selectedIndex={selectedIndex}\n            onSelect={(index) => toggleValue(index)}\n          >\n            {renderEachDropItem(field)}\n          </Select>\n        </Layout>\n      );\n    };\n\n    const renderDropDown = (field) => {\n      const [selectedIndex, setSelectedIndex] = useState(new IndexPath(0));\n      const [hasChosen, setHasChosen] = useState(false);\n\n      function currentValue() {\n        return (\n          <Text>\n            {!hasChosen\n              ? `Choose ${field.label}${field.mandatory ? ' (mandatory)' : ''}`\n              : field.options[selectedIndex.row - 1].label}{' '}\n          </Text>\n        );\n      }\n\n      function handleSelection(index) {\n        setSelectedIndex(index);\n        changeValue(\n          index.row === 0 ? undefined : field.options[index.row - 1].id,\n          field.id\n        );\n        if (index.row === 0) {\n          setHasChosen(false);\n        } else {\n          setHasChosen(true);\n        }\n      }\n\n      return (\n        <Select\n          style={myStyles.containerDrop}\n          value={currentValue}\n          selectedIndex={selectedIndex}\n          onSelect={handleSelection}\n        >\n          <SelectItem title={' '} />\n          {renderEachDropItem(field)}\n        </Select>\n      );\n    };\n\n    for (let i = 0; i < fields.length; i++) {\n      const { type } = fields[i];\n      if (type === 'Boolean') {\n        final.push(trueFalseTemplate(fields[i]));\n      } else if (type === 'String') {\n        final.push(\n          <TextInput\n            autoCapitalize=\"none\"\n            clearButtonMode=\"always\"\n            onChangeText={(theValue) => changeValue(theValue, fields[i].id)}\n            style={myStyles.input}\n            placeholderTextColor=\"gray\"\n            placeholder={\n              fields[i].mandatory\n                ? `${fields[i].label} (mandatory)`\n                : fields[i].label\n            }\n          />\n        );\n      } else if (type === 'ArrayString') {\n        final.push(renderStringArray(fields[i]));\n      } else if (type === 'DropDown') {\n        final.push(renderDropDown(fields[i]));\n      } else if (type === 'MultiSelectDropDown') {\n        final.push(renderMultiSelectDropDown(fields[i]));\n      } else if (type === 'BigString') {\n        final.push(\n          <TextInput\n            autoCapitalize=\"sentences\"\n            clearButtonMode=\"always\"\n            onChangeText={(theValue) => changeValue(theValue, fields[i].id)}\n            style={myStyles.inputBig}\n            multiline\n            placeholderTextColor=\"gray\"\n            placeholder={\n              fields[i].mandatory\n                ? `${fields[i].label} (mandatory)`\n                : fields[i].label\n            }\n          />\n        );\n      } else if (type === 'FileUpload') {\n        if (!isFileUpload) {\n          setIsFileUpload(true);\n        }\n        final.push(fileUploadTemplate(fields[i]));\n      }\n    }\n    return (\n      <View>\n        {renderFilterParameters(fields)}\n        <View>{final}</View>\n      </View>\n    );\n  }\n\n  const trueFalseTemplate = (field) => {\n    const [selectedIndex, setSelectedIndex] = useState();\n    const boolValues = ['false', 'true'];\n    // @ts-ignore\n    const displayValue = boolValues[selectedIndex - 1];\n    const renderOption = (displayValue) => <SelectItem title={displayValue} />;\n    const changeEverything = (value) => {\n      setSelectedIndex(value);\n      if (value.row === 0) {\n        const newBody = body;\n        newBody[field.id] = false;\n        setBody(newBody);\n      } else if (value.row === 1) {\n        const newBody = body;\n        newBody[field.id] = true;\n        setBody(newBody);\n      }\n    };\n    return (\n      <Layout style={styles.container} level=\"1\">\n        <Select\n          label={field.label}\n          selectedIndex={selectedIndex}\n          value={displayValue}\n          onSelect={(index) => changeEverything(index)}\n          placeholder={\n            field.mandatory ? `${field.label} (mandatory)` : `${field.label}`\n          }\n        >\n          {boolValues.map(renderOption)}\n        </Select>\n      </Layout>\n    );\n  };\n\n  function showResponseData(actions) {\n    if (JSON.stringify(info, null, 2) === '{}') {\n      return null;\n    }\n    const informationToShow = [];\n\n    // use this one for displaying everything pretty\n    if (Array.isArray(info)) {\n      if (data.isDateGraph) {\n        // check for need for rendering graphs\n        const timeFrames = [\n          '2week-unique',\n          '2week-total',\n          'month-unique',\n          '6month-total'\n        ];\n        for (const item of timeFrames) {\n          const dataToShow = {\n            labels: getDates(item),\n            datasets: [\n              {\n                data: getData(item)\n              }\n            ]\n          };\n          informationToShow.push(renderOneGraph(dataToShow, item));\n        }\n      }\n      for (const oneElement of info) {\n        informationToShow.push(renderOneCard(oneElement, actions || []));\n      }\n    } else {\n      informationToShow.push(\n        <Text style={{ flexShrink: 1 }}>\n          {typeof info === 'string' ? info : JSON.stringify(info, null, 2)}\n        </Text>\n      );\n    }\n\n    function getData(timeFrame) {\n      const final = [];\n      switch (timeFrame) {\n        case '2week-unique': {\n          for (let i = 13; i >= 0; i--) {\n            const day = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i, 'days')\n              .format('YYYY-MM-DD');\n            let counter = 0;\n            const usersToday = [];\n            // @ts-ignore\n            for (const instance of info) {\n              const { userName } = instance;\n              if (instance.date === day && !usersToday.includes(userName)) {\n                usersToday.push(userName);\n                counter++;\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n        case '2week-total': {\n          for (let i = 13; i >= 0; i--) {\n            const day = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i, 'days')\n              .format('YYYY-MM-DD');\n            let counter = 0;\n            const usersToday = [];\n            // @ts-ignore\n            for (const instance of info) {\n              const { userName } = instance;\n              if (instance.date === day) {\n                usersToday.push(userName);\n                counter++;\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n        case 'month-unique': {\n          for (let i = 4; i > 0; i--) {\n            const weekStart = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i, 'weeks')\n              .format('YYYY-MM-DD');\n            const weekEnd = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i - 1, 'weeks')\n              .format('YYYY-MM-DD');\n            let counter = 0;\n            const usersMonth = [];\n            // @ts-ignore\n            for (const instance of info) {\n              if (\n                instance.date > weekStart &&\n                instance.date <= weekEnd &&\n                !usersMonth.includes(instance.userName)\n              ) {\n                counter++;\n                usersMonth.push(instance.userName);\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n        case '6month-total': {\n          for (let i = 6; i > 0; i--) {\n            const monthStart = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i, 'months')\n              .format('YYYY-MM-DD');\n            const monthEnd = moment()\n              .tz('America/Los_Angeles')\n              .subtract(i - 1, 'months')\n              .format('YYYY-MM-DD');\n            let counter = 0;\n            // @ts-ignore\n            for (const instance of info) {\n              if (instance.date > monthStart && instance.date <= monthEnd) {\n                counter++;\n              }\n            }\n            final.push(counter);\n          }\n          break;\n        }\n      }\n      return final;\n    }\n\n    function getDates(timeFrame) {\n      const final = [];\n      switch (timeFrame) {\n        case '2week-unique': {\n          for (let i = 13; i >= 0; i--) {\n            final.push(\n              moment()\n                .tz('America/Los_Angeles')\n                .subtract(i, 'days')\n                .format('MM/DD')\n            );\n          }\n          break;\n        }\n        case '2week-total': {\n          for (let i = 13; i >= 0; i--) {\n            final.push(\n              moment()\n                .tz('America/Los_Angeles')\n                .subtract(i, 'days')\n                .format('MM/DD')\n            );\n          }\n          break;\n        }\n        case 'month-unique': {\n          for (let i = 4; i > 0; i--) {\n            final.push(\n              `${moment()\n                .tz('America/Los_Angeles')\n                .subtract(i, 'weeks')\n                .add(1, 'days')\n                .format('MM/DD')}-${moment()\n                .tz('America/Los_Angeles')\n                .subtract(i - 1, 'weeks')\n                .format('MM/DD')}`\n            );\n          }\n          break;\n        }\n        case '6month-total': {\n          for (let i = 6; i > 0; i--) {\n            final.push(\n              `${moment()\n                .tz('America/Los_Angeles')\n                .subtract(i, 'months')\n                .add(1, 'days')\n                .format('MM/DD')}-${moment()\n                .tz('America/Los_Angeles')\n                .subtract(i - 1, 'months')\n                .format('MM/DD')}`\n            );\n          }\n          break;\n        }\n      }\n      return final;\n    }\n\n    function renderOneGraph(graphData, timeFrame) {\n      return (\n        <View style={{ paddingBottom: 10 }}>\n          <Text>\n            Timeframe:\n            {timeFrame}\n          </Text>\n          <LineChart\n            data={graphData}\n            width={Dimensions.get('window').width}\n            height={400}\n            verticalLabelRotation={60}\n            fromZero\n            xLabelsOffset={-10}\n            segments={8}\n            chartConfig={{\n              backgroundColor: '#bdbdbd',\n              decimalPlaces: 0,\n              color: (opacity = 1) => `rgba(255, 255, 255, ${opacity})`,\n              labelColor: (opacity = 1) => `rgba(255, 255, 255, ${opacity})`,\n              style: {\n                borderRadius: 16\n              },\n              propsForDots: {\n                r: '6',\n                strokeWidth: '2',\n                stroke: '#333333'\n              }\n            }}\n          />\n        </View>\n      );\n    }\n\n    function renderOneCard(cardInfo, actions) {\n      const finalText = [];\n      for (const aspect in cardInfo) {\n        if (aspect !== '_id' && aspect !== '__v') {\n          finalText.push(\n            <View style={{ flexDirection: 'row', flexWrap: 'wrap' }}>\n              <Text style={{ fontWeight: 'bold' }}>{`${aspect} : `}</Text>\n              <Text>{JSON.stringify(cardInfo[aspect], null, '\\t')}</Text>\n            </View>\n          );\n        }\n      }\n      let renderedActions = null;\n      // @ts-ignore\n      if (actions !== []) {\n        renderedActions = [];\n        for (const action of actions) {\n          renderedActions.push(renderButtonForCard(action, cardInfo));\n        }\n      }\n\n      function renderButtonForCard(action, cardInfo) {\n        return (\n          <View style={{ marginHorizontal: 20 }}>\n            <TouchableOpacity\n              style={{\n                alignItems: 'center',\n                justifyContent: 'center',\n                width: 100,\n                height: 40,\n                backgroundColor: action.color ? action.color : 'gray',\n                elevation: 3\n              }}\n              onPress={() => {\n                const params = {};\n                for (const parameter of action.params) {\n                  params[parameter] = cardInfo[parameter]\n                    ? cardInfo[parameter]\n                    : undefined;\n                }\n                fetch(action.url, {\n                  method: action.method,\n                  headers: {\n                    'Content-Type': 'application/json',\n                    userKey\n                  },\n                  body: JSON.stringify(params)\n                }).then((res) => {\n                  if (res.ok) {\n                    setButtonPushed(true);\n                  }\n                });\n              }}\n            >\n              {/* @ts-ignore */}\n              <Text style={myStyles.buttonText}>{action.label}</Text>\n            </TouchableOpacity>\n          </View>\n        );\n      }\n\n      return (\n        <View>\n          <Card>\n            {finalText}\n            <View\n              style={{\n                paddingTop: 15,\n                width: '95%',\n                flexDirection: 'row',\n                alignSelf: 'center',\n                alignContent: 'center',\n                justifyContent: 'center'\n              }}\n            >\n              {renderedActions}\n            </View>\n          </Card>\n          <Divider />\n        </View>\n      );\n    }\n\n    return (\n      <View style={{ flexShrink: 1 }}>\n        <Text\n          style={{\n            fontSize: 20,\n            paddingLeft: 20,\n            paddingBottom: 0,\n            paddingTop: 20,\n            fontWeight: 'bold'\n          }}\n        >\n          Server Response\n        </Text>\n        <Text\n          style={{\n            fontSize: 13,\n            paddingLeft: 20,\n            paddingBottom: 10,\n            paddingTop: 5,\n            fontStyle: 'italic'\n          }}\n        >\n          Status Code: {status}\n        </Text>\n        <View style={{ paddingTop: 10, backgroundColor: 'lightgray' }}>\n          {informationToShow}\n        </View>\n      </View>\n    );\n  }\n\n  return (\n    <KeyboardAvoidingView\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n    >\n      <ScrollView style={{ height: '100%' }}>\n        <View style={sponsorPageStyles.container}>\n          <View\n            style={{ width: '100%', display: 'flex', alignItems: 'center' }}\n          >\n            <Text style={sponsorPageStyles.title}>{data.label}</Text>\n          </View>\n\n          {data.url && (\n            // @ts-ignore\n            <View style={sponsorPageStyles.address}>\n              <Text style={{ fontSize: 18 }}>{data.url}</Text>\n            </View>\n          )}\n          <View style={sponsorPageStyles.description}>\n            {renderTheFieldsNecessary(data.fields)}\n          </View>\n          {allFieldsFilled && (\n            <TouchableOpacity\n              onPress={() => {\n                sendApiData(data, userKey);\n                // @ts-ignore\n              }}\n              style={myStyles.button}\n            >\n              <Text style={myStyles.text}>Send Call</Text>\n            </TouchableOpacity>\n          )}\n          {showResponseData(data.actions)}\n        </View>\n      </ScrollView>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst sponsorPageStyles = {\n  container: {\n    flex: 1,\n    backgroundColor: 'white'\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  description: {\n    borderWidth: 1,\n    margin: 10,\n    borderColor: '#5d5c5c',\n    borderRadius: 5,\n    width: '95%',\n    padding: 10,\n    backgroundColor: 'rgba(178,166,166,0.22)'\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n};\n\nconst myStyles = {\n  inputBig: {\n    height: 200,\n    backgroundColor: 'white',\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  input: {\n    backgroundColor: '#ffffff',\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  containerDrop: {\n    backgroundColor: '#ffffff',\n    height: 42,\n    margin: 12,\n    borderWidth: 1\n  },\n  indentedInput: {\n    backgroundColor: '#ffffff',\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  buttonText: {\n    fontSize: 13,\n    flexWrap: 'wrap',\n    lineHeight: 15,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3,\n    backgroundColor: 'black'\n  }\n};\n\nconst listingStyles = {\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center'\n  },\n  cardContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    backgroundColor: '#bbbbbb',\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  text: {\n    flex: 1,\n    fontSize: 20,\n    textAlign: 'center',\n    marginTop: 5,\n    marginBottom: 5\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 10\n  }\n};\n\nconst styles = {\n  imagesContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    padding: 10,\n    paddingTop: 20\n  },\n  imageContainer: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  imageLabel: {\n    fontSize: 12,\n    color: 'black',\n    padding: 10,\n    textAlign: 'center'\n  },\n  cardContainer: {\n    backgroundColor: '#FFF',\n    borderWidth: 0,\n    flex: 1,\n    justifyContent: 'center',\n    margin: 0,\n    padding: 0\n  },\n  container: {\n    flex: 1\n  }\n};\n","import { Layout, Text } from '@ui-kitten/components';\nimport Constants from 'expo-constants';\n\ntype HeaderProps = {\n  accessoryLeft?: keyof JSX.IntrinsicElements | JSX.Element;\n  accessoryRight?: keyof JSX.IntrinsicElements | JSX.Element;\n  center?: keyof JSX.IntrinsicElements | JSX.Element;\n  title: string;\n  level?: '1' | '2' | '3' | '4';\n};\n\nexport default function Header({\n  accessoryLeft,\n  accessoryRight,\n  title,\n  center,\n  level = '1'\n}: HeaderProps) {\n  return (\n    <Layout\n      level={level}\n      style={{\n        paddingTop: Constants.statusBarHeight + 10,\n        width: '100%',\n        justifyContent: 'space-between',\n        flexDirection: 'row',\n        alignItems: 'center',\n        paddingHorizontal: 20\n      }}\n    >\n      <Layout level={level} style={{ flexDirection: 'row' }}>\n        {accessoryLeft}\n        <Text style={{ marginLeft: 10, fontSize: 20, fontWeight: '500' }}>\n          {title}\n        </Text>\n      </Layout>\n      {center}\n\n      {accessoryRight}\n    </Layout>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport { Image, TouchableOpacity } from 'react-native';\n\nimport AdminHomeNavigation from './adminPanel';\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport Header from '../../components/Header';\nimport { base_URL } from '../notifications/constants';\n\nconst AdminStack = createNativeStackNavigator();\nexport default function AdminPanel() {\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28,\n        alignItems: 'center'\n      }}\n      source={require('../../../assets/logos/app-logo-transparent.png')}\n    />\n  );\n\n  return (\n    <AdminStack.Navigator>\n      <AdminStack.Screen\n        options={{\n          header: () => {\n            return (\n              <Layout style={{ paddingBottom: 10 }}>\n                <Header accessoryLeft={accessoryLeft} title=\"Admin Panel\" />\n              </Layout>\n            );\n          }\n        }}\n        name=\"AdminStack\"\n        component={AdminHomeNavigation}\n      />\n    </AdminStack.Navigator>\n  );\n}\n","import { Button, Layout, Text } from '@ui-kitten/components';\n\nexport default function EnterCodePage({ navigation }) {\n  return (\n    <Layout style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text\n        style={{\n          margin: 10\n        }}\n        category=\"s1\"\n      >\n        An email has been sent to you with a temporary password. Login to set\n        your new password.\n      </Text>\n      <Button\n        style={{ margin: 10 }}\n        onPress={() => {\n          navigation.reset({ index: 0, routes: [{ name: 'Login' }] });\n        }}\n      >\n        Back to Login\n      </Button>\n    </Layout>\n  );\n}\n","import { useNetInfo } from '@react-native-community/netinfo';\nimport { Button, Input, Layout, Spinner, Text } from '@ui-kitten/components';\nimport { useEffect, useRef, useState } from 'react';\nimport { Keyboard } from 'react-native';\n\nimport { useResetPasswordMutation } from '../../api/usersApi';\n\nexport default function EnterEmailPage({ navigation }) {\n  const [email, setEmail] = useState('');\n  const inputRef = useRef<Input>(null);\n  const [resetPassword, { isLoading, isError }] = useResetPasswordMutation();\n  const netInfo = useNetInfo();\n\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, [inputRef.current]);\n\n  const onSubmit = async () => {\n    if (!netInfo.isConnected) {\n      alert('Connect to the internet to reset your password');\n      return;\n    }\n\n    try {\n      await resetPassword(email).unwrap();\n      navigation.navigate('EnterCodePage');\n    } catch (e) {\n      console.warn('Error submitting forgot password email', e);\n    }\n  };\n\n  return (\n    <Layout style={{ flex: 1, paddingTop: 30, alignItems: 'center' }}>\n      <Text style={{ margin: 10 }} category=\"s1\">\n        Enter your email to get started\n      </Text>\n\n      <Input\n        autoCapitalize=\"none\"\n        placeholder=\"Email\"\n        ref={inputRef}\n        style={{ margin: 10 }}\n        onChangeText={setEmail}\n        value={email}\n        onSubmitEditing={Keyboard.dismiss}\n      />\n      {isError && (\n        <Text style={{ color: 'red' }}>Email is invalid. Try again</Text>\n      )}\n      <Button\n        style={{ margin: 10 }}\n        onPress={onSubmit}\n        disabled={isLoading}\n        accessoryRight={() => (isLoading ? <Spinner status=\"basic\" /> : null)}\n      >\n        Submit\n      </Button>\n    </Layout>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nimport EnterCodePage from './EnterCodePage';\nimport EnterEmailPage from './EnterEmailPage';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function ForgotPassword() {\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerShown: false\n      }}\n    >\n      <Stack.Screen name=\"EnterEmailPage\" component={EnterEmailPage} />\n      <Stack.Screen name=\"EnterCodePage\" component={EnterCodePage} />\n    </Stack.Navigator>\n  );\n}\n","import NetInfo from '@react-native-community/netinfo';\nimport { Input, Layout, Spinner, Text } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport {\n  Image,\n  Keyboard,\n  StyleSheet,\n  TouchableOpacity,\n  TouchableWithoutFeedback\n} from 'react-native';\n\nimport { Ionicons } from '@expo/vector-icons';\nimport {\n  selectDarkMode,\n  setIsGuest,\n  userKeyUpdated\n} from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { useLazyGetAllSectionsQuery } from '../api/classPagesApi';\nimport {\n  useLazyGetUserInfoQuery,\n  useLoginMutation,\n  useTrackLoginMutation\n} from '../api/usersApi';\nimport {\n  availableSectionsListUpdated,\n  currentSectionUpdated\n} from '../classPages/classPagesSlice';\n\nconst LightModeLogo = require('../../../assets/logos/owl-black-text.png');\nconst DarkModeLogo = require('../../../assets/logos/owl-white-text.png');\n\nexport default function Login({ navigation }) {\n  const [userName, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [loginError, setLoginError] = useState('');\n\n  const [login, { isLoading }] = useLoginMutation();\n  const [getUserInfo, { isLoading: loadingUserInfo }] =\n    useLazyGetUserInfoQuery();\n  const [trackLogin] = useTrackLoginMutation();\n  const [getAllSections] = useLazyGetAllSectionsQuery();\n  const darkMode = useAppSelector(selectDarkMode);\n  // const apiUserKey = useAppSelector((state) => state.appData.secure);\n  const dispatch = useAppDispatch();\n\n  const passwordRef = React.useRef(null);\n\n  const handleLogin = async () => {\n    Keyboard.dismiss();\n\n    // Check for internet connection\n    const netInfo = await NetInfo.fetch();\n    if (!netInfo.isConnected) {\n      setLoginError('No internet connection');\n      return;\n    }\n\n    // Validate input\n    if (!userName) {\n      setLoginError(\"Username can't be empty\");\n    } else if (!password) {\n      setLoginError(\"Password can't be empty\");\n    } else {\n      try {\n        const { userKey } = await login({\n          userName,\n          password\n        }).unwrap();\n        // Save user key and data to redux store\n        dispatch(userKeyUpdated(userKey));\n        dispatch(setIsGuest(false));\n\n        // Get current section\n        const allSections = await getAllSections().unwrap();\n\n        dispatch(currentSectionUpdated(allSections.currentTerm));\n        dispatch(availableSectionsListUpdated(allSections.availableTerms));\n\n        // Get user info\n        getUserInfo(userKey)\n          .unwrap()\n          .then(async () => {\n            await trackLogin(userKey);\n          });\n\n        // Reset login form\n        setUserName('');\n        setPassword('');\n        setLoginError('');\n      } catch (e) {\n        setLoginError('Invalid username or password');\n        console.error('Failed to Login: ', e);\n      }\n    }\n  };\n\n  const guestLogin = async () => {\n    Keyboard.dismiss();\n\n    // Check for internet connection\n    const netInfo = await NetInfo.fetch();\n    if (!netInfo.isConnected) {\n      setLoginError('No internet connection');\n      return;\n    }\n\n    try {\n      const { userKey } = await login({\n        userName: '',\n        password: '',\n        isGuest: true\n      }).unwrap();\n      // Save user key and data to redux store\n      dispatch(userKeyUpdated(userKey));\n      dispatch(setIsGuest(true));\n\n      // Get user info\n      getUserInfo(userKey)\n        .unwrap()\n        .then(async () => {\n          await trackLogin(userKey);\n        });\n\n      // Reset login form\n      setUserName('');\n      setPassword('');\n      setLoginError('');\n    } catch (e) {\n      setLoginError('Invalid username or password');\n      console.error('Failed to Login: ', e);\n    }\n  };\n\n  return (\n    <TouchableWithoutFeedback\n      style={{ flex: 1 }}\n      onPress={() => {\n        Keyboard.dismiss();\n      }}\n    >\n      <Layout\n        style={{\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}\n      >\n        {darkMode ? (\n          <Image source={DarkModeLogo} style={styles.logo} />\n        ) : (\n          <Image source={LightModeLogo} style={styles.logo} />\n        )}\n\n        <Layout style={styles.inputView}>\n          <Input\n            autoCapitalize=\"none\"\n            status=\"control\"\n            autoComplete=\"username\"\n            style={styles.TextInput}\n            placeholder=\"username / email\"\n            placeholderTextColor=\"white\"\n            keyboardType=\"email-address\"\n            onChangeText={(userName) => setUserName(userName)}\n            value={userName}\n            onSubmitEditing={() => passwordRef.current.focus()}\n            blurOnSubmit={false}\n          />\n        </Layout>\n        <Layout style={styles.inputView}>\n          <Input\n            style={styles.TextInput}\n            autoComplete=\"password\"\n            placeholder=\"password\"\n            placeholderTextColor=\"white\"\n            secureTextEntry\n            onChangeText={(password) => setPassword(password)}\n            value={password}\n            ref={passwordRef}\n          />\n        </Layout>\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate('ForgotPassword');\n          }}\n        >\n          <Text style={styles.forgot_button}>Forgot Password?</Text>\n        </TouchableOpacity>\n        {isLoading || loadingUserInfo ? (\n          <Layout\n            style={{ position: 'absolute', backgroundColor: 'transparent' }}\n          >\n            <Spinner />\n          </Layout>\n        ) : null}\n\n        <TouchableOpacity\n          style={styles.loginBtn}\n          onPress={() => {\n            handleLogin();\n          }}\n        >\n          <Text style={{ color: '#fff' }}>LOGIN</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={{\n            width: '50%',\n            borderRadius: 25,\n            height: 40,\n            alignItems: 'center',\n            justifyContent: 'center',\n            marginTop: 20,\n            backgroundColor: darkMode ? '#8b31e3' : 'rgb(98,111,187)',\n            maxWidth: 300\n          }}\n          onPress={() => {\n            guestLogin();\n          }}\n        >\n          <Text style={{ color: '#fff' }}>Try As Guest</Text>\n        </TouchableOpacity>\n        <Text style={styles.error}>{loginError}</Text>\n        <TouchableOpacity\n          style={{ width: '100%' }}\n          onPress={() => {\n            navigation.navigate('Signup');\n          }}\n        >\n          <Layout level=\"2\" style={styles.signupBtn}>\n            <Text>SIGN UP</Text>\n          </Layout>\n        </TouchableOpacity>\n      </Layout>\n    </TouchableWithoutFeedback>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  title: {\n    fontSize: 30,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  image: {\n    marginBottom: 40\n  },\n\n  inputView: {\n    flexDirection: 'row',\n    height: 40,\n    marginTop: 20,\n    marginLeft: 50,\n    marginRight: 50,\n    margin: 10\n  },\n\n  TextInput: {\n    backgroundColor: '#b42bba',\n    borderColor: '#b42bba',\n    color: '#fff',\n    borderWidth: 1,\n    borderRadius: 30,\n    width: '100%',\n    maxWidth: 300\n  },\n\n  forgot_button: {\n    height: 30,\n    marginBottom: 30\n  },\n\n  loginBtn: {\n    width: '80%',\n    borderRadius: 25,\n    height: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 10,\n    backgroundColor: '#ff3f5e',\n    maxWidth: 300\n  },\n  guestButton: {\n    width: '60%',\n    borderRadius: 25,\n    height: 40,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 20\n  },\n  signupBtn: {\n    marginTop: 60,\n    width: '100%',\n    height: 50,\n    alignItems: 'center',\n    alignSelf: 'center',\n    justifyContent: 'center',\n    maxWidth: 800\n  },\n  error: {\n    color: 'red',\n    fontSize: 15\n  },\n  logo: {\n    width: 178,\n    height: 197,\n    marginBottom: 20\n  }\n});\n","import {\n  CheckBox,\n  IndexPath,\n  Input,\n  Layout,\n  Select,\n  SelectItem,\n  Spinner,\n  Text\n} from '@ui-kitten/components';\nimport React, { useRef, useState } from 'react';\nimport {\n  Keyboard,\n  KeyboardAvoidingView,\n  Platform,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity\n} from 'react-native';\n\nimport { useAppDispatch } from '../../../app/hooks';\nimport { isValidEmail, showToast } from '../../../functions';\nimport {\n  useGetCollegeListQuery,\n  useSignupUserMutation\n} from '../../api/usersApi';\n\nfunction Signup({ navigation }) {\n  const [realFirstName, setRealFirstName] = useState('');\n  const [realLastName, setRealLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [major, setMajor] = useState('');\n  const dispatch = useAppDispatch();\n  const [selectedIndex, setSelectedIndex] = useState(new IndexPath(0));\n  const [simplifiedSignup, setSimplifiedSignUp] = useState(false);\n  const [userCollege, setUserCollege] = useState({\n    collegeName: '',\n    humanReadableCollegeName: null\n  });\n\n  const { data: collegeList } = useGetCollegeListQuery();\n  const [signupUser, { isLoading: signupLoading }] = useSignupUserMutation();\n\n  const firstNameInputRef = useRef<Input>();\n  const lastNameInputRef = useRef<Input>();\n  const passwordInputRef = useRef<Input>();\n  const majorInputRef = useRef<Input>();\n\n  const validateInput = () => {\n    if (!simplifiedSignup) {\n      if (!realFirstName) {\n        alert('Please fill First Name');\n        return false;\n      }\n      if (!realLastName) {\n        alert('Please fill Last Name');\n        return false;\n      }\n\n      if (!userCollege.collegeName) {\n        alert('Please fill College Name');\n        return false;\n      }\n\n      if (!major) {\n        alert('Please fill Major');\n        return false;\n      }\n    }\n\n    if (!email) {\n      alert('Please fill Email');\n      return false;\n    }\n\n    if (!isValidEmail(email)) {\n      alert('Please enter a valid email');\n      return false;\n    }\n\n    if (!password) {\n      alert('Please fill Password');\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmitButton = async () => {\n    if (validateInput()) {\n      try {\n        const body = {\n          email,\n          password,\n          realFirstName,\n          realLastName,\n          collegeName: userCollege.collegeName,\n          major\n        };\n\n        // Uncomment this stuff when we get the email working again\n        await signupUser(body).unwrap();\n        navigation.navigate('VerifyEmail');\n      } catch (e) {\n        if (e?.data?.message) {\n          showToast(`Signup failed. ${e.data.message}`, 'red');\n        } else {\n          showToast('Signup failed', 'red');\n        }\n        console.warn('Signup error: ', e);\n      }\n    }\n  };\n\n  const renderCollegeDropDown = () => {\n    function handleSelection(index) {\n      setSelectedIndex(index);\n      const newObject = {\n        collegeName: collegeList[index.row].id,\n        humanReadableCollegeName: collegeList[index.row].label\n      };\n      setUserCollege(newObject);\n    }\n\n    return (\n      <Layout style={styles.containerDrop}>\n        <Select\n          placeholder=\"Choose A College\"\n          value={\n            !userCollege.humanReadableCollegeName\n              ? 'Selection'\n              : userCollege.humanReadableCollegeName\n          }\n          onFocus={Keyboard.dismiss}\n          selectedIndex={selectedIndex}\n          onSelect={handleSelection}\n        >\n          {collegeList &&\n            collegeList.map((college, index) => (\n              <SelectItem title={college.label} key={index} />\n            ))}\n        </Select>\n      </Layout>\n    );\n  };\n\n  const fields = [];\n  fields.push(\n    <Layout key=\"1\">\n      <Layout style={styles.SectionStyle}>\n        <Layout style={styles.labelSection}>\n          <Text style={styles.label}>Email</Text>\n        </Layout>\n        <Input\n          style={styles.inputStyle}\n          onChangeText={(email) => setEmail(email)}\n          underlineColorAndroid=\"#f000\"\n          placeholder=\"Enter Email\"\n          placeholderTextColor=\"#8b9cb5\"\n          defaultValue=\"\"\n          autoCapitalize=\"none\"\n          returnKeyType=\"next\"\n          onSubmitEditing={() =>\n            passwordInputRef.current ? passwordInputRef.current.focus() : null\n          }\n          blurOnSubmit={false}\n        />\n      </Layout>\n      <Layout style={styles.SectionStyle}>\n        <Layout style={styles.labelSection}>\n          <Text style={styles.label}>Password</Text>\n        </Layout>\n        <Input\n          style={styles.inputStyle}\n          onChangeText={(password) => setPassword(password)}\n          underlineColorAndroid=\"#f000\"\n          placeholder=\"Enter Password\"\n          placeholderTextColor=\"#8b9cb5\"\n          defaultValue=\"\"\n          ref={passwordInputRef}\n          returnKeyType=\"next\"\n          secureTextEntry\n          onSubmitEditing={() =>\n            firstNameInputRef.current ? firstNameInputRef.current.focus() : null\n          }\n          blurOnSubmit={false}\n        />\n      </Layout>\n    </Layout>\n  );\n\n  if (!simplifiedSignup) {\n    fields.push(\n      <Layout key=\"2\">\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>First Name</Text>\n          </Layout>\n          <Input\n            style={styles.inputStyle}\n            onChangeText={setRealFirstName}\n            ref={firstNameInputRef}\n            underlineColorAndroid=\"#f000\"\n            placeholder=\"Enter First Name\"\n            placeholderTextColor=\"#8b9cb5\"\n            defaultValue=\"\"\n            autoCapitalize=\"sentences\"\n            returnKeyType=\"next\"\n            onSubmitEditing={() =>\n              lastNameInputRef?.current\n                ? lastNameInputRef.current.focus()\n                : null\n            }\n            blurOnSubmit={false}\n          />\n        </Layout>\n\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>Last Name</Text>\n          </Layout>\n          <Input\n            style={styles.inputStyle}\n            onChangeText={setRealLastName}\n            underlineColorAndroid=\"#f000\"\n            placeholder=\"Enter Last Name\"\n            placeholderTextColor=\"#8b9cb5\"\n            defaultValue=\"\"\n            ref={lastNameInputRef}\n            autoCapitalize=\"sentences\"\n            returnKeyType=\"next\"\n            onSubmitEditing={() =>\n              majorInputRef.current ? majorInputRef.current.focus() : null\n            }\n            blurOnSubmit={false}\n          />\n        </Layout>\n\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>Intended Major</Text>\n          </Layout>\n          <Input\n            style={styles.inputStyle}\n            onChangeText={setMajor}\n            underlineColorAndroid=\"#f000\"\n            placeholder=\"Enter Intended Major\"\n            placeholderTextColor=\"#8b9cb5\"\n            defaultValue=\"\"\n            ref={majorInputRef}\n            blurOnSubmit\n          />\n        </Layout>\n\n        <Layout style={styles.SectionStyle}>\n          <Layout style={styles.labelSection}>\n            <Text style={styles.label}>College Name</Text>\n          </Layout>\n          {renderCollegeDropDown()}\n        </Layout>\n      </Layout>\n    );\n  }\n\n  return (\n    // Registration Page\n    <Layout style={{ flex: 1 }}>\n      <ScrollView style={{ flex: 1 }}>\n        {/* Spinner */}\n        {signupLoading && (\n          <Layout\n            style={{\n              flex: 1,\n              position: 'absolute',\n              zIndex: 1,\n              top: '50%',\n              left: '50%',\n              backgroundColor: 'transparent'\n            }}\n          >\n            <Spinner />\n          </Layout>\n        )}\n\n        <Layout style={{ paddingVertical: 30, paddingHorizontal: 40 }}>\n          <CheckBox\n            checked={simplifiedSignup}\n            onChange={(nextChecked) => setSimplifiedSignUp(nextChecked)}\n          >\n            Simplified Signup\n          </CheckBox>\n        </Layout>\n\n        <KeyboardAvoidingView\n          style={{ flex: 1 }}\n          behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n        >\n          {fields}\n\n          <TouchableOpacity\n            style={styles.buttonStyle}\n            onPress={handleSubmitButton}\n          >\n            <Text style={styles.buttonTextStyle}>Register</Text>\n          </TouchableOpacity>\n        </KeyboardAvoidingView>\n      </ScrollView>\n    </Layout>\n  );\n}\nexport default Signup;\n\nconst styles = StyleSheet.create({\n  SectionStyle: {\n    flexDirection: 'row',\n    height: 40,\n    marginTop: 20,\n    marginLeft: 35,\n    marginRight: 35,\n    margin: 10\n  },\n  buttonStyle: {\n    backgroundColor: '#b42bba',\n    borderWidth: 0,\n    color: '#FFFFFF',\n    borderColor: '#7DE24E',\n    height: 40,\n    alignItems: 'center',\n    borderRadius: 30,\n    marginLeft: 35,\n    marginRight: 35,\n    marginTop: 20,\n    marginBottom: 20\n  },\n  buttonTextStyle: {\n    color: '#FFFFFF',\n    paddingVertical: 10,\n    fontSize: 16\n  },\n  inputStyle: {\n    flex: 1,\n    paddingLeft: 15,\n    paddingRight: 15,\n    borderWidth: 1,\n    borderRadius: 30,\n    borderColor: '#dadae8'\n  },\n  errorTextStyle: {\n    color: 'red',\n    textAlign: 'center',\n    fontSize: 14\n  },\n  successTextStyle: {\n    color: 'black',\n    textAlign: 'center',\n    fontSize: 18,\n    padding: 30\n  },\n  label: {\n    textAlign: 'center',\n    fontSize: 15,\n    paddingLeft: 10,\n    paddingRight: 10\n  },\n  labelSection: {\n    justifyContent: 'center'\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n\n  text: {\n    fontSize: 20,\n    margin: 20\n  },\n  input: {\n    width: '80%',\n    margin: 20,\n    borderWidth: 1,\n    borderColor: 'black',\n    borderRadius: 20,\n    height: 40,\n    padding: 10\n  },\n  button: {\n    width: '80%',\n    margin: 20,\n    alignItems: 'center',\n    backgroundColor: '#b42bba',\n    height: 40,\n    borderRadius: 20,\n    borderColor: '#b42bba',\n    justifyContent: 'center'\n  },\n  buttonText: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white'\n  },\n  containerDrop: {\n    minHeight: 128,\n    minWidth: 200\n  }\n});\n","import { Layout, Text, Input, Spinner } from '@ui-kitten/components';\nimport React from 'react';\nimport { StyleSheet, TouchableOpacity } from 'react-native';\n\nimport { userKeyUpdated } from '../../../app/appDataSlice';\nimport { useAppDispatch } from '../../../app/hooks';\nimport {\n  useVerifySignupMutation,\n  useLazyGetUserInfoQuery\n} from '../../api/usersApi';\n\nexport default function VerifyEmail() {\n  const [verificationCode, setVerificationCode] = React.useState('');\n  const [verifyCode, { isError }] = useVerifySignupMutation();\n  const [getUserInfo, { isLoading: getUserInfoLoading }] =\n    useLazyGetUserInfoQuery();\n  const dispatch = useAppDispatch();\n\n  const handleVerifyCodeButton = async () => {\n    try {\n      const { password } = await verifyCode(verificationCode).unwrap();\n      dispatch(userKeyUpdated(password));\n      await getUserInfo(password).unwrap();\n    } catch (error) {\n      console.warn(\"Couldn't verify code\", error);\n    }\n  };\n\n  return (\n    <Layout style={styles.container}>\n      <Text style={styles.text}>\n        A verification code has been sent to your email. Please check your email\n        and enter the code below.\n      </Text>\n      {getUserInfoLoading && <Spinner />}\n      {isError && <Text>Error verifying code</Text>}\n      <Input\n        style={styles.input}\n        placeholder=\"Verification Code\"\n        keyboardType=\"numeric\"\n        onChangeText={(text) => setVerificationCode(text)}\n      />\n      <TouchableOpacity style={styles.button} onPress={handleVerifyCodeButton}>\n        <Text style={styles.buttonText}>Finish Signup</Text>\n      </TouchableOpacity>\n    </Layout>\n  );\n}\n\nconst styles = StyleSheet.create({\n  SectionStyle: {\n    flexDirection: 'row',\n    height: 40,\n    marginTop: 20,\n    marginLeft: 35,\n    marginRight: 35,\n    margin: 10\n  },\n  buttonStyle: {\n    backgroundColor: '#b42bba',\n    borderWidth: 0,\n    color: '#FFFFFF',\n    borderColor: '#7DE24E',\n    height: 40,\n    alignItems: 'center',\n    borderRadius: 30,\n    marginLeft: 35,\n    marginRight: 35,\n    marginTop: 20,\n    marginBottom: 20\n  },\n  buttonTextStyle: {\n    color: '#FFFFFF',\n    paddingVertical: 10,\n    fontSize: 16\n  },\n  inputStyle: {\n    flex: 1,\n    color: 'black',\n    paddingLeft: 15,\n    paddingRight: 15,\n    borderWidth: 1,\n    borderRadius: 30,\n    borderColor: '#dadae8'\n  },\n  errorTextStyle: {\n    color: 'red',\n    textAlign: 'center',\n    fontSize: 14\n  },\n  successTextStyle: {\n    color: 'black',\n    textAlign: 'center',\n    fontSize: 18,\n    padding: 30\n  },\n  description: {\n    color: 'black',\n    textAlign: 'center',\n    fontSize: 18,\n    padding: 30\n  },\n  label: {\n    color: 'black',\n    textAlign: 'center',\n    fontSize: 15,\n    paddingLeft: 10,\n    paddingRight: 10\n  },\n  labelSection: {\n    justifyContent: 'center'\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n\n  text: {\n    fontSize: 20,\n    margin: 20\n  },\n  input: {\n    width: '80%',\n    margin: 20,\n    borderWidth: 1,\n    borderColor: 'black',\n    borderRadius: 20,\n    height: 40,\n    padding: 10\n  },\n  button: {\n    width: '80%',\n    margin: 20,\n    alignItems: 'center',\n    backgroundColor: '#b42bba',\n    height: 40,\n    borderRadius: 20,\n    borderColor: '#b42bba',\n    justifyContent: 'center'\n  },\n  buttonText: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white'\n  },\n  containerDrop: {\n    minHeight: 128,\n    minWidth: 200\n  }\n});\n","import { HeaderBackButton } from '@react-navigation/elements';\nimport { Platform } from 'react-native';\n\nexport default function BackButton({ navigation, ...props }) {\n  return (\n    <HeaderBackButton\n      {...props}\n      onPress={navigation.goBack}\n      label=\"Back\"\n      labelVisible={Platform.OS === 'ios'}\n    />\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { useTheme } from '@ui-kitten/components';\n\nimport SignupForm from './SignupForm';\nimport VerifyEmail from './VerifyEmail';\nimport { selectDarkMode } from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport BackButton from '../../../components/BackButton';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Signup() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Stack.Navigator\n      screenOptions={({ navigation }) => ({\n        headerStyle: {\n          backgroundColor: darkMode ? theme['color-basic-800'] : '#fff'\n        },\n        headerLeft: (props) => <BackButton {...props} navigation={navigation} />\n      })}\n    >\n      <Stack.Screen\n        name=\"SignupForm\"\n        component={SignupForm}\n        options={{ title: 'Signup' }}\n      />\n      <Stack.Screen\n        name=\"VerifyEmail\"\n        component={VerifyEmail}\n        options={{ title: 'Verify Email' }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { useTheme } from '@ui-kitten/components';\n\nimport ForgotPassword from './ForgotPassword/index';\nimport Login from './Login';\nimport Signup from './Signup/index';\nimport { selectDarkMode } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport BackButton from '../../components/BackButton';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Auth() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerStyle: {\n          backgroundColor: darkMode ? theme['color-basic-800'] : '#fff'\n        }\n      }}\n    >\n      <Stack.Screen\n        name=\"Login\"\n        component={Login}\n        options={{ headerShown: false }}\n      />\n      <Stack.Screen\n        name=\"Signup\"\n        component={Signup}\n        options={{ headerShown: false }}\n      />\n      <Stack.Screen\n        name=\"ForgotPassword\"\n        component={ForgotPassword}\n        options={{ title: 'Reset Password' }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { Button, Icon, Layout, Text, useTheme } from '@ui-kitten/components';\nimport Modal from 'react-native-modal';\n\nimport { selectDarkMode } from '../app/appDataSlice';\nimport { useAppSelector } from '../app/hooks';\n\ntype ModalContainerProps = {\n  children: React.ReactNode;\n  backDropVisible: boolean;\n  setBackDropVisible: React.Dispatch<React.SetStateAction<boolean>>;\n  title: string;\n  coverScreen?: boolean;\n  clickBackdropToClose?: boolean;\n  modalStyle?: any;\n  modalProps?: any;\n};\n\nexport default function ModalContainer({\n  children,\n  backDropVisible,\n  setBackDropVisible,\n  title,\n  clickBackdropToClose = true,\n  coverScreen = true,\n  modalStyle,\n  modalProps\n}: ModalContainerProps) {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Modal\n      coverScreen={coverScreen}\n      backdropOpacity={0}\n      onBackdropPress={\n        clickBackdropToClose ? () => setBackDropVisible(false) : undefined\n      }\n      isVisible={backDropVisible}\n      style={[\n        {\n          backgroundColor: darkMode\n            ? theme['color-basic-900']\n            : theme['color-basic-50'],\n          borderRadius: 20,\n          flex: 1,\n          marginTop: 300,\n          marginBottom: 50,\n          width: '90%',\n          maxWidth: 500,\n          alignSelf: 'center',\n          shadowColor: '#000',\n          shadowOffset: {\n            width: 0,\n            height: 12\n          },\n          shadowOpacity: 0.58,\n          shadowRadius: 16.0,\n\n          elevation: 11\n        },\n        modalStyle\n      ]}\n      {...modalProps}\n    >\n      <Layout\n        style={{\n          flex: 1,\n          alignItems: 'center',\n          borderRadius: 20,\n          backgroundColor: darkMode\n            ? theme['color-basic-900']\n            : theme['color-basic-100']\n        }}\n      >\n        <Button\n          appearance=\"ghost\"\n          style={{\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            flex: 1,\n            borderRadius: 20\n          }}\n          accessoryRight={(props) => (\n            <Icon pack=\"fontAwesome\" name=\"angle-down\" {...props} />\n          )}\n          onPress={() => setBackDropVisible(false)}\n        />\n        <Text category=\"h5\" style={{ marginVertical: 15 }}>\n          {title}\n        </Text>\n        {children}\n      </Layout>\n    </Modal>\n  );\n}\n","import { Layout, Spinner } from '@ui-kitten/components';\n\nexport default function FullPageSpinner({ opacity = 0.4 }) {\n  return (\n    <Layout\n      style={{\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n        backgroundColor: 'black',\n        flex: 1,\n        opacity,\n        zIndex: 100\n      }}\n    >\n      <Spinner size=\"large\" />\n    </Layout>\n  );\n}\n","import {\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem,\n  Text\n} from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport { TouchableOpacity } from 'react-native';\n\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { useLazyGetAllClassesQuery } from '../api/classPagesApi';\nimport { usersApiSlice } from '../api/usersApi';\nimport { currentSectionUpdated } from './classPagesSlice';\nimport { showToast } from '../../functions';\nimport FullPageSpinner from '../../components/FullPageSpinner';\n\nexport default function SelectTerm({ navigation }) {\n  const dispatch = useAppDispatch();\n\n  const availableSections = useAppSelector(\n    (state) => state.appData.classPages.availableSections\n  );\n  const userKey = useAppSelector((state) => state.appData.secure.userKey);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n\n  const { data: userDataCache } =\n    usersApiSlice.endpoints.getUserInfo.useQueryState(userKey, {\n      skip: !userKey\n    });\n  const [getAllClasses, { isFetching }] = useLazyGetAllClassesQuery();\n\n  const startIndexValue =\n    availableSections.findIndex((term) => term == currentSection) || 0;\n\n  const [selectedSectionIndex, setSelectedSectionIndex] = useState<IndexPath>(\n    new IndexPath(startIndexValue)\n  );\n\n  const saveChanges = async () => {\n    if (availableSections[selectedSectionIndex.row] !== currentSection) {\n      try {\n        await getAllClasses({\n          userKey,\n          collegeName: userDataCache.collegeName,\n          courseTerm: availableSections[selectedSectionIndex.row]\n        }).unwrap();\n\n        dispatch(\n          currentSectionUpdated(availableSections[selectedSectionIndex.row])\n        );\n        navigation.goBack();\n      } catch (e) {\n        console.warn('Changing section: could not fetch classes', e);\n        showToast('Error switching terms', 'red');\n      }\n    }\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      {isFetching && <FullPageSpinner />}\n      <Layout\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          margin: 20,\n          marginTop: 60\n        }}\n      >\n        <TouchableOpacity\n          onPress={() => {\n            navigation.goBack();\n          }}\n        >\n          <Text>Cancel</Text>\n        </TouchableOpacity>\n\n        <Text category=\"s1\">Select Term</Text>\n\n        <TouchableOpacity onPress={saveChanges}>\n          <Text>Save</Text>\n        </TouchableOpacity>\n      </Layout>\n\n      <Select\n        style={{ margin: 20 }}\n        label=\"Term\"\n        value={availableSections[selectedSectionIndex.row]}\n        selectedIndex={selectedSectionIndex}\n        onSelect={(index: IndexPath) => {\n          setSelectedSectionIndex(index);\n        }}\n      >\n        {availableSections.map((term, index) => (\n          <SelectItem key={index} title={term} />\n        ))}\n      </Select>\n    </Layout>\n  );\n}\n","import { Layout, Text } from '@ui-kitten/components';\n\nexport default function Message({ title, item }) {\n  return (\n    <Layout\n      style={{\n        flex: 1,\n        marginTop: 10,\n        alignItems: 'center',\n        backgroundColor: 'transparent'\n      }}\n    >\n      <Text style={{ margin: 20, color: '#fff' }}>{title}</Text>\n      {item}\n    </Layout>\n  );\n}\n","import { Button, Icon, Input, Layout, useTheme } from '@ui-kitten/components';\nimport { useState } from 'react';\nimport { Keyboard, LayoutAnimation, TouchableOpacity } from 'react-native';\n\nimport { selectDarkMode } from '../app/appDataSlice';\nimport { useAppSelector } from '../app/hooks';\n\ntype SearchBarProps = {\n  onChangeText: (text: string) => void;\n  searchTerm: string;\n  placeholder?: string;\n  accessoryLeft?: any;\n  inputProps?: any;\n  inputStyle?: any;\n  inputRef?: any;\n  cancelButtonAction?: () => void;\n  onSubmitEditing?: () => void;\n  showCancelButton?: boolean;\n  alwaysShowCancelButton?: boolean;\n  cancelButtonStatus?:\n    | 'basic'\n    | 'primary'\n    | 'success'\n    | 'info'\n    | 'warning'\n    | 'danger';\n  showXButton?: boolean;\n};\n\nexport default function SearchBar({\n  onChangeText,\n  searchTerm,\n  accessoryLeft,\n  placeholder,\n  inputRef,\n  inputStyle,\n  inputProps,\n  cancelButtonAction = () => {},\n  onSubmitEditing = () => {},\n  cancelButtonStatus = 'warning',\n  showCancelButton = true,\n  alwaysShowCancelButton = false,\n  showXButton = true\n}: SearchBarProps) {\n  const [selected, setSelected] = useState(false);\n  const [searchbarWidth, setSearchbarWidth] = useState(0);\n\n  const darkMode = useAppSelector(selectDarkMode);\n  const theme = useTheme();\n\n  const select = () => {\n    setSelected(true);\n    if (!alwaysShowCancelButton) {\n      LayoutAnimation.configureNext(\n        LayoutAnimation.create(100, 'linear', 'scaleX')\n      );\n    }\n  };\n\n  const deselect = () => {\n    setSelected(false);\n    if (!alwaysShowCancelButton) {\n      LayoutAnimation.configureNext(\n        LayoutAnimation.create(100, 'linear', 'opacity')\n      );\n    }\n  };\n\n  const getPlaceHolderText = () => {\n    if (searchbarWidth < 200) {\n      return '';\n    }\n    if (searchbarWidth < 300) {\n      return 'Search';\n    }\n    return placeholder;\n  };\n\n  return (\n    <Layout\n      style={{\n        backgroundColor: 'transparent',\n        flexDirection: 'row'\n      }}\n      onLayout={(event) => {\n        setSearchbarWidth(event.nativeEvent.layout.width);\n      }}\n    >\n      {accessoryLeft}\n\n      <Input\n        style={{\n          ...inputStyle,\n          borderRadius: 20,\n          flex: 1,\n          borderWidth: 1,\n          borderColor: darkMode\n            ? theme['color-basic-500']\n            : theme['color-basic-100']\n        }}\n        placeholderTextColor={theme['color-basic-500']}\n        accessoryRight={\n          showXButton && selected && searchTerm.length > 0\n            ? (props) => (\n                <TouchableOpacity onPress={() => onChangeText('')}>\n                  <Icon {...props} name=\"times\" pack=\"fontAwesome\" />\n                </TouchableOpacity>\n              )\n            : null\n        }\n        onFocus={select}\n        onBlur={deselect}\n        placeholder={getPlaceHolderText()}\n        value={searchTerm}\n        onChangeText={(text) => {\n          onChangeText(text);\n        }}\n        onSubmitEditing={onSubmitEditing}\n        ref={inputRef}\n        autoCorrect={false}\n        {...inputProps}\n      />\n\n      {showCancelButton && (alwaysShowCancelButton || selected) ? (\n        <Button\n          size=\"small\"\n          status={cancelButtonStatus}\n          appearance=\"ghost\"\n          onPress={() => {\n            cancelButtonAction();\n            Keyboard.dismiss();\n          }}\n        >\n          {/* <Icon name=\"times\" pack=\"fontAwesome\" /> */}\n          Cancel\n        </Button>\n      ) : null}\n    </Layout>\n  );\n}\n","import { Divider, Layout, Text, useTheme } from '@ui-kitten/components';\nimport React, { useEffect, useState } from 'react';\nimport { FlatList, Platform, TouchableOpacity } from 'react-native';\nimport { Entypo, FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport { BottomSheetMethods } from '@gorhom/bottom-sheet/lib/typescript/types';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { useGetUserInfoQuery } from '../api/usersApi';\nimport { selectUserKey } from '../../app/appDataSlice';\nimport {\n  useRemoveClassMutation,\n  useRemoveStarredClassMutation\n} from '../api/classPagesApi';\nimport { classSelected } from './classPagesSlice';\n\ntype StarredClassesProps = {\n  setAddedClassesVisible: (visible: boolean) => void;\n  courseTerm: string;\n  darkMode: boolean;\n  bottomSheetRef: React.MutableRefObject<BottomSheetMethods>;\n};\nexport default function StarredClasses({\n  setAddedClassesVisible,\n  courseTerm,\n  darkMode,\n  bottomSheetRef\n}: StarredClassesProps) {\n  const isWeb = Platform.OS === 'web';\n  const navigation = useNavigation();\n  const dispatch = useAppDispatch();\n  const theme = useTheme();\n  const userKey = useAppSelector(selectUserKey);\n  const [starredCourses, setStarredCourses] = useState([]);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const allClassesList = useAppSelector(\n    (state) => state.appData.classPages.classes\n  );\n  const [removeStarredClass] = useRemoveStarredClassMutation();\n\n  useEffect(() => {\n    setStarredCourses(userData.starredClasses);\n  }, [userData]);\n\n  const handleRemoveStarredClass = (courseCode: string) => {\n    try {\n      removeStarredClass({\n        userKey,\n        courseCode,\n        courseTerm,\n        userName: userData.userName,\n        masterCourseCode: courseCode.slice(0, -3)\n      }).unwrap();\n    } catch (e) {\n      console.warn('Add class error: ', e);\n    }\n  };\n\n  function handleClassSelected(courseCode: string) {\n    dispatch(classSelected(courseCode));\n    setAddedClassesVisible(false);\n    if (Platform.OS === 'web') {\n      navigation.navigate('SingleClassPage');\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  }\n\n  function renderItem({ item: course }) {\n    const courseData = allClassesList[course.courseCode.slice(0, -3)];\n    return (\n      <Layout\n        key={course.courseCode}\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          paddingVertical: 7,\n          backgroundColor: darkMode\n            ? theme['color-basic-900']\n            : theme['color-basic-100']\n        }}\n      >\n        <Layout\n          style={{ backgroundColor: 'transparent', flexDirection: 'row' }}\n        >\n          <Layout\n            style={{\n              backgroundColor: 'transparent',\n              justifyContent: 'center',\n              marginRight: isWeb ? 10 : 5\n            }}\n          >\n            <FontAwesome name=\"star\" color=\"gold\" size={15} />\n          </Layout>\n          <Layout\n            style={{ flexDirection: 'column', backgroundColor: 'transparent' }}\n          >\n            <TouchableOpacity\n              onPress={() => {\n                handleClassSelected(course.courseCode.slice(0, -3));\n              }}\n            >\n              <Text category=\"s1\">{courseData.courseName}</Text>\n              <Text category=\"p2\">{course.courseCode}</Text>\n            </TouchableOpacity>\n          </Layout>\n        </Layout>\n\n        <TouchableOpacity\n          onPress={() => handleRemoveStarredClass(course.courseCode)}\n        >\n          <Entypo name=\"cross\" size={28} color=\"red\" />\n        </TouchableOpacity>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout\n      style={{\n        flex: Platform.OS === 'web' ? undefined : 1,\n        paddingVertical: 10,\n        backgroundColor: darkMode\n          ? theme['color-basic-900']\n          : theme['color-basic-100']\n      }}\n    >\n      {starredCourses.length > 0 && (\n        <Text category=\"h5\" style={{ textAlign: 'center', marginBottom: 10 }}>\n          Starred Classes\n        </Text>\n      )}\n      <FlatList\n        contentContainerStyle={{ width: 300 }}\n        automaticallyAdjustsScrollIndicatorInsets\n        indicatorStyle={darkMode ? 'white' : 'black'}\n        showsVerticalScrollIndicator\n        ItemSeparatorComponent={() => <Divider />}\n        data={\n          starredCourses.length > 0\n            ? starredCourses.filter(\n                (course) => course.courseTerm === courseTerm\n              )\n            : []\n        }\n        renderItem={renderItem}\n      />\n    </Layout>\n  );\n}\n","import { Entypo, Ionicons } from '@expo/vector-icons';\nimport { BottomSheetMethods } from '@gorhom/bottom-sheet/lib/typescript/types';\nimport { useNavigation } from '@react-navigation/native';\nimport { Divider, Layout, Text, useTheme } from '@ui-kitten/components';\nimport React from 'react';\nimport { Platform, ScrollView, TouchableOpacity } from 'react-native';\nimport DraggableFlatList, {\n  RenderItemParams,\n  ScaleDecorator\n} from 'react-native-draggable-flatlist';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { classSelected, isHMCUpdated } from './classPagesSlice';\nimport { showToast } from '../../functions';\nimport StarredClasses from './StarredClasses';\n\ntype AddedClassesProps = {\n  setAddedClassesVisible: (visible: boolean) => void;\n  addedClasses: string[];\n  handleRemoveClass: (courseCode: string, masterCourseCode: string) => void;\n  darkMode: boolean;\n  handleSwapAddedClasses: (from: number, to: number) => void;\n  bottomSheetRef: React.MutableRefObject<BottomSheetMethods>;\n  starredClasses: any[];\n  currentSection: string;\n  title?: JSX.Element;\n};\n\ntype AddedClassListing = [\n  masterCourseCode: string,\n  courseCode: string,\n  courseName: string\n];\n\nexport default function AddedClasses({\n  setAddedClassesVisible,\n  addedClasses,\n  handleRemoveClass,\n  darkMode,\n  handleSwapAddedClasses,\n  bottomSheetRef,\n  starredClasses,\n  currentSection,\n  title\n}: AddedClassesProps) {\n  const navigation = useNavigation();\n  const dispatch = useAppDispatch();\n  const theme = useTheme();\n\n  const isHMC = useAppSelector((state) => state.appData.classPages.isHMC);\n  const totalCredits = useAppSelector(\n    (state) => state.appData.classPages.totalCredits\n  );\n  const allClassesList = useAppSelector(\n    (state) => state.appData.classPages.classes\n  );\n\n  const addedClassesList: AddedClassListing[] = [];\n\n  for (let i = 0; i < addedClasses.length; i++) {\n    const courseCode = addedClasses[i];\n    try {\n      const courseCodeParts = courseCode.split('-');\n      const masterCourseCode = courseCodeParts\n        .slice(0, courseCodeParts.length - 1)\n        .join('-');\n      const { courseName } = allClassesList[masterCourseCode];\n      addedClassesList.push([\n        masterCourseCode,\n        courseCode,\n        courseName\n      ] as AddedClassListing);\n    } catch (e) {\n      console.warn('Error finding added class', courseCode, e);\n    }\n  }\n\n  function handleClassSelected(courseCode: string) {\n    dispatch(classSelected(courseCode));\n    setAddedClassesVisible(false);\n    if (Platform.OS === 'web') {\n      navigation.navigate('SingleClassPage');\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  }\n\n  const renderItem = ({\n    item: [masterCourseCode, courseCode, courseName],\n    drag,\n    isActive\n  }: RenderItemParams<AddedClassListing>) => {\n    return (\n      <ScaleDecorator>\n        <Layout\n          style={{\n            flex: 1,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            paddingVertical: 7,\n            paddingHorizontal: 10,\n            backgroundColor: isActive\n              ? theme['color-success-200']\n              : 'transparent'\n          }}\n        >\n          <Layout\n            style={{ flexDirection: 'row', backgroundColor: 'transparent' }}\n          >\n            <TouchableOpacity disabled={isActive} onLongPress={drag}>\n              <Ionicons name=\"reorder-three\" size={28} />\n            </TouchableOpacity>\n            <Layout style={{ backgroundColor: 'transparent' }}>\n              <TouchableOpacity\n                onPress={() => {\n                  handleClassSelected(courseCode.slice(0, -3));\n                }}\n              >\n                <Text category=\"s1\">{courseName}</Text>\n                <Text category=\"p2\">{courseCode}</Text>\n              </TouchableOpacity>\n            </Layout>\n          </Layout>\n\n          <TouchableOpacity\n            onPress={() => handleRemoveClass(courseCode, masterCourseCode)}\n          >\n            <Entypo name=\"cross\" size={28} color=\"red\" />\n          </TouchableOpacity>\n        </Layout>\n      </ScaleDecorator>\n    );\n  };\n\n  const renderFlatList = () => {\n    return (\n      <DraggableFlatList\n        persistentScrollbar\n        indicatorStyle={darkMode ? 'white' : 'black'}\n        showsVerticalScrollIndicator\n        ListEmptyComponent={\n          <Text style={{ marginHorizontal: 50 }}>\n            No classes yet... Click the{' '}\n            <Text style={{ fontWeight: 'bold' }}>+</Text> next to a class to see\n            it here\n          </Text>\n        }\n        ItemSeparatorComponent={() => <Divider />}\n        data={\n          addedClassesList === undefined || addedClassesList.length === 0\n            ? []\n            : addedClassesList\n        }\n        onDragEnd={({ from, to }) => {\n          handleSwapAddedClasses(from, to);\n        }}\n        keyExtractor={(item) => item[1]}\n        renderItem={renderItem}\n        ListHeaderComponent={title || null}\n        ListFooterComponent={\n          <>\n            {totalCredits.credits > 0 && (\n              <TouchableOpacity\n                onPress={() => {\n                  const toastMessage = !isHMC\n                    ? 'Switched to HMC credits'\n                    : 'Switched to 4C credits';\n                  showToast(toastMessage);\n                  dispatch(isHMCUpdated(!isHMC));\n                }}\n              >\n                <Text style={{ textAlign: 'center' }}>\n                  {`${\n                    isHMC ? totalCredits.hmcCredits : totalCredits.credits\n                  } Credit(s)`}\n                </Text>\n              </TouchableOpacity>\n            )}\n\n            {starredClasses.length > 0 && (\n              <StarredClasses\n                bottomSheetRef={bottomSheetRef}\n                setAddedClassesVisible={setAddedClassesVisible}\n                courseTerm={currentSection}\n                darkMode={darkMode}\n              />\n            )}\n          </>\n        }\n      />\n    );\n  };\n\n  return (\n    <Layout\n      style={{\n        flex: 1,\n        backgroundColor: darkMode\n          ? theme['color-basic-900']\n          : theme['color-basic-100']\n      }}\n    >\n      <ScrollView contentContainerStyle={{ flex: 1 }}>\n        {renderFlatList()}\n      </ScrollView>\n    </Layout>\n  );\n}\n","import { FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport { Layout, Text } from '@ui-kitten/components';\nimport { useCallback, useRef } from 'react';\nimport { StyleSheet, Animated, TouchableOpacity, Platform } from 'react-native';\nimport { useAppSelector } from '../../app/hooks';\nimport {\n  useAddStarredClassMutation,\n  useRemoveStarredClassMutation\n} from '../api/classPagesApi';\nimport { useGetUserInfoQuery } from '../api/usersApi';\n\nexport default function ClassListItemItem({\n  courseCode,\n  seatsAvailable,\n  seatsFilled,\n  handleAddClass,\n  handleRemoveClass,\n  darkMode,\n  added,\n  masterCourseCode,\n  handleClassSelected\n}) {\n  const [removeStarredClass] = useRemoveStarredClassMutation();\n  const [addStarredClass] = useAddStarredClassMutation();\n  const userKey = useAppSelector((state) => state.appData.secure.userKey);\n  const isMobile = useAppSelector((state) => state.appData.secure.isMobile);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const selectedAnim = useRef(new Animated.Value(1)).current;\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n\n  const isStarred = useCallback(\n    (courseCodeToSearch: string) => {\n      return userData.starredClasses.some(\n        (course) => course.courseCode === courseCodeToSearch\n      );\n    },\n    [userData.starredClasses]\n  );\n\n  function toggleStarCourse(courseCode: string) {\n    if (isStarred(courseCode)) {\n      removeStarredClass({\n        userKey,\n        courseCode,\n        courseTerm: currentSection,\n        userName: userData.userName\n      }).unwrap();\n    } else {\n      addStarredClass({\n        userKey,\n        courseCode,\n        courseTerm: currentSection,\n        userName: userData.userName\n      }).unwrap();\n    }\n  }\n\n  return (\n    <TouchableOpacity\n      style={{ flex: 1 }}\n      onPress={() => {\n        handleClassSelected(masterCourseCode);\n      }}\n    >\n      <Layout style={styles.dropDownItem}>\n        <Text style={[{ flex: 2 }, !isMobile && { fontSize: 12 }]}>\n          {`\\u2022 ${courseCode}`}\n        </Text>\n        <Text\n          style={[\n            seatsAvailable > 0 ? styles.isAvailable : styles.notAvailable,\n            { flex: 1, textAlign: 'center' },\n            !isMobile && { fontSize: 12 }\n          ]}\n        >\n          {seatsFilled} /{seatsFilled + seatsAvailable}\n        </Text>\n        {/* Add / Remove Class */}\n        <TouchableOpacity\n          style={{ flex: 1 }}\n          onPress={() => {\n            if (added) {\n              handleRemoveClass(courseCode, masterCourseCode);\n            } else {\n              handleAddClass(courseCode, masterCourseCode);\n            }\n          }}\n        >\n          <Animated.View\n            style={{\n              alignItems: 'flex-end',\n              justifyContent: 'center',\n              transform: [\n                {\n                  scale: selectedAnim\n                }\n              ]\n            }}\n          >\n            <FontAwesome5\n              style={{ padding: 5 }}\n              size={24}\n              name={added ? 'times' : 'plus'}\n              color={darkMode ? 'white' : 'black'}\n            />\n          </Animated.View>\n        </TouchableOpacity>\n        <TouchableOpacity\n          onPress={() => {\n            toggleStarCourse(courseCode);\n          }}\n          style={{ flex: 1, alignItems: 'flex-end' }}\n        >\n          <FontAwesome\n            style={{ padding: 5 }}\n            size={24}\n            name={isStarred(courseCode) ? 'star' : 'star-o'}\n            color={darkMode ? 'white' : 'black'}\n          />\n        </TouchableOpacity>\n      </Layout>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  list__container: {\n    margin: 10,\n    marginLeft: 0,\n    height: '90%',\n    width: '100%'\n  },\n  addedClassesContainer: {\n    position: 'absolute',\n    zIndex: 1,\n    width: '60%',\n    borderTopRightRadius: 20,\n    borderBottomRightRadius: 20,\n    borderColor: '#c2c2c2',\n    backgroundColor: '#f7f7f7',\n    paddingTop: 5,\n    borderTopWidth: 1.5,\n    borderBottomWidth: 1.5,\n    borderRightWidth: 1.5\n  },\n  addedClasses: {\n    position: 'absolute',\n    right: 3,\n    top: 3,\n    padding: 7,\n    margin: 5,\n    backgroundColor: '#c9c9c9',\n    borderRadius: 100\n  },\n  item: {\n    marginBottom: 10,\n    marginTop: 10\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 5\n  },\n  buttonContainer: {\n    right: 0,\n    position: 'absolute',\n    width: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%'\n  },\n  button: {\n    padding: 5,\n    borderColor: 'grey'\n  },\n  dropDown: {\n    backgroundColor: '#f7f7f7',\n    paddingLeft: 30,\n    paddingBottom: 10,\n    paddingTop: 10\n  },\n  dropDownItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    height: 54\n  },\n  isAvailable: {\n    color: 'green'\n  },\n  notAvailable: {\n    color: 'red'\n  },\n  loadingMessage: {\n    fontSize: 20,\n    color: 'white',\n    alignSelf: 'center',\n    fontStyle: 'italic'\n  },\n  loadingMessageRefresh: {\n    fontSize: 15,\n    paddingTop: 20,\n    color: 'white',\n    alignSelf: 'center',\n    fontWeight: 'bold'\n  },\n  filters: {\n    backgroundColor: 'white',\n    alignItems: 'center',\n    padding: 10\n  }\n});\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { Layout, Text } from '@ui-kitten/components';\nimport { useMemo } from 'react';\nimport {\n  LayoutAnimation,\n  Platform,\n  StyleSheet,\n  TouchableOpacity,\n  UIManager\n} from 'react-native';\n\nimport ClassListItemItem from './ClassListItemItem';\n\nif (\n  Platform.OS === 'android' &&\n  UIManager.setLayoutAnimationEnabledExperimental\n) {\n  UIManager.setLayoutAnimationEnabledExperimental(true);\n}\n\nexport default function Item({\n  courseName,\n  masterCourseCode,\n  schedule,\n  menuOpen,\n  setIsMenuOpen,\n  darkMode,\n  handleClassSelected,\n  handleAddClass,\n  handleRemoveClass,\n  inItem,\n  isMobile\n}) {\n  const memoizedItem = useMemo(() => {\n    return (\n      <Layout\n        style={[\n          {\n            borderRadius: 20,\n            opacity: 1,\n            marginTop: 7,\n            marginHorizontal: 9\n          },\n          !isMobile && { marginTop: 2 }\n        ]}\n      >\n        {/* Name and master coursecode */}\n        <Layout style={{ marginHorizontal: 20 }}>\n          <Layout>\n            <TouchableOpacity\n              onPress={() => {\n                handleClassSelected(masterCourseCode);\n              }}\n            >\n              <Layout style={isMobile ? styles.item : styles.itemWeb}>\n                <Text\n                  style={[\n                    styles.title,\n                    !isMobile && { fontSize: 12, marginBottom: 0 }\n                  ]}\n                >\n                  {courseName}\n                </Text>\n                <Text style={!isMobile && { fontSize: 12 }}>\n                  {masterCourseCode}\n                </Text>\n              </Layout>\n            </TouchableOpacity>\n\n            {/* Dropdown Menu Toggle */}\n            <TouchableOpacity\n              style={styles.buttonContainer}\n              onPress={() => {\n                if (menuOpen === masterCourseCode) {\n                  setIsMenuOpen('');\n                  LayoutAnimation.configureNext({\n                    duration: 730,\n                    create: { type: 'easeInEaseOut', property: 'opacity' },\n                    update: { type: 'spring', springDamping: 0.8 }\n                  });\n                } else {\n                  setIsMenuOpen(masterCourseCode);\n                  LayoutAnimation.configureNext({\n                    duration: Platform.OS === 'android' ? 500 : 730,\n                    create: { type: 'easeInEaseOut', property: 'opacity' },\n                    update: { type: 'spring', springDamping: 0.8 }\n                  });\n                }\n              }}\n            >\n              <Layout style={styles.button}>\n                <FontAwesome5\n                  name={\n                    menuOpen === masterCourseCode\n                      ? 'chevron-up'\n                      : 'chevron-down'\n                  }\n                  size={20}\n                  color={darkMode ? 'white' : 'black'}\n                />\n              </Layout>\n            </TouchableOpacity>\n          </Layout>\n\n          {/* Dropdown Menu */}\n          {menuOpen === masterCourseCode && (\n            <Layout>\n              {schedule.map(\n                ({ _id, courseCode, seatsAvailable, seatsFilled, added }) => (\n                  <ClassListItemItem\n                    key={_id}\n                    courseCode={courseCode}\n                    seatsAvailable={seatsAvailable}\n                    seatsFilled={seatsFilled}\n                    handleAddClass={handleAddClass}\n                    handleRemoveClass={handleRemoveClass}\n                    darkMode={darkMode}\n                    added={added}\n                    masterCourseCode={masterCourseCode}\n                    handleClassSelected={handleClassSelected}\n                  />\n                )\n              )}\n            </Layout>\n          )}\n        </Layout>\n      </Layout>\n    );\n  }, [menuOpen, inItem, darkMode]);\n\n  // useTraceUpdate(memoizedItem);\n  return memoizedItem;\n}\n\nconst styles = StyleSheet.create({\n  list__container: {\n    margin: 10,\n    marginLeft: 0,\n    height: '90%',\n    width: '100%'\n  },\n  addedClassesContainer: {\n    position: 'absolute',\n    zIndex: 1,\n    width: '60%',\n    borderTopRightRadius: 20,\n    borderBottomRightRadius: 20,\n    borderColor: '#c2c2c2',\n    backgroundColor: '#f7f7f7',\n    paddingTop: 5,\n    borderTopWidth: 1.5,\n    borderBottomWidth: 1.5,\n    borderRightWidth: 1.5\n  },\n  addedClasses: {\n    position: 'absolute',\n    right: 3,\n    top: 3,\n    padding: 7,\n    margin: 5,\n    backgroundColor: '#c9c9c9',\n    borderRadius: 100\n  },\n  item: {\n    marginVertical: 10\n  },\n  itemWeb: {\n    marginVertical: 5\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    marginRight: 30\n  },\n  buttonContainer: {\n    right: 0,\n    position: 'absolute',\n    width: 50,\n    alignItems: 'flex-end',\n    justifyContent: 'center',\n    height: '100%'\n  },\n  button: {\n    backgroundColor: 'transparent',\n    padding: 5,\n    borderColor: 'grey'\n  },\n  dropDown: {\n    backgroundColor: '#f7f7f7',\n    paddingLeft: 30,\n    paddingBottom: 10,\n    paddingTop: 10\n  },\n  dropDownItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    height: 54\n  },\n  isAvailable: {\n    color: 'green'\n  },\n  notAvailable: {\n    color: 'red'\n  },\n  loadingMessage: {\n    fontSize: 20,\n    color: 'white',\n    alignSelf: 'center',\n    fontStyle: 'italic'\n  },\n  loadingMessageRefresh: {\n    fontSize: 15,\n    paddingTop: 20,\n    color: 'white',\n    alignSelf: 'center',\n    fontWeight: 'bold'\n  },\n  addClassButton: {\n    padding: 15\n  },\n  filters: {\n    backgroundColor: 'white',\n    alignItems: 'center',\n    padding: 10\n  }\n});\n","import {\n  Button,\n  CheckBox,\n  Divider,\n  Layout,\n  Text,\n  Toggle,\n  useTheme\n} from '@ui-kitten/components';\nimport { useState } from 'react';\n\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport {\n  classPagesSlice,\n  filtersReset,\n  filtersSaved,\n  isHMCUpdated\n} from './classPagesSlice';\n\nexport default function FilterClasses({ darkMode, setFiltersMenuVisible }) {\n  const theme = useTheme();\n  const initialFilters = classPagesSlice.getInitialState().filters;\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const isHMC = useAppSelector((state) => state.appData.classPages.isHMC);\n\n  const [colleges, setColleges] = useState(filters.colleges);\n  const [filterConflicts, setFilterConflicts] = useState(\n    filters.filterConflicts\n  );\n\n  const dispatch = useAppDispatch();\n\n  const onChangeIsHMC = (change: boolean) => {\n    dispatch(isHMCUpdated(change));\n  };\n\n  const onChangeFilterCollege = (college: string, change: boolean) => {\n    setColleges({ ...colleges, [college]: change });\n  };\n\n  const resetFilters = () => {\n    setColleges(initialFilters.colleges);\n    setFilterConflicts(initialFilters.filterConflicts);\n    dispatch(filtersReset());\n  };\n\n  const saveFilters = () => {\n    dispatch(filtersSaved({ colleges, filterConflicts }));\n    setFiltersMenuVisible(false);\n  };\n\n  return (\n    <Layout\n      style={{\n        backgroundColor: darkMode\n          ? theme['color-basic-900']\n          : theme['color-basic-100'],\n        alignItems: 'center',\n        padding: 10\n      }}\n    >\n      <Layout\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'center',\n          alignItems: 'center',\n          marginBottom: 10,\n          backgroundColor: darkMode\n            ? theme['color-basic-900']\n            : theme['color-basic-100']\n        }}\n      >\n        <Text>4C Credits </Text>\n        <Toggle\n          checked={isHMC}\n          onChange={(change) => {\n            onChangeIsHMC(change);\n          }}\n        />\n        <Text> HMC Credits</Text>\n      </Layout>\n      <Divider />\n\n      {/* <CheckBox\n        style={{ marginTop: 20 }}\n        checked={filterConflicts}\n        onChange={(bool) => setFilterConflicts(bool)}\n      >\n        Filter Conflicting Classes\n      </CheckBox> */}\n\n      <Text style={{ marginTop: 20, marginBottom: 5 }}>Colleges</Text>\n\n      <Layout\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'center',\n          alignItems: 'center'\n        }}\n      >\n        {Object.keys(colleges).map((college) => (\n          <CheckBox\n            style={{\n              backgroundColor: darkMode\n                ? theme['color-basic-900']\n                : theme['color-basic-100']\n            }}\n            key={college}\n            checked={colleges[college]}\n            onChange={(change) => {\n              onChangeFilterCollege(college, change);\n            }}\n          >\n            {college}\n          </CheckBox>\n        ))}\n      </Layout>\n      <Button style={{ marginTop: 20 }} onPress={saveFilters}>\n        Update Results\n      </Button>\n      <Button\n        size=\"small\"\n        style={{ marginTop: 20 }}\n        status=\"info\"\n        onPress={resetFilters}\n      >\n        Reset Filters\n      </Button>\n    </Layout>\n  );\n}\n","// This is going to take forever...\nimport { Region } from 'react-native-maps';\n\nexport const locations = {\n  ClaremontColleges: [34.10042611094802, -117.71002008183225],\n  'Steele Hall': [34.10484995720829, -117.71210324868221],\n  'Adams Hall': [32.76290904884907, -117.0662288298868],\n  'Andrew Building': [34.0998138672686, -117.7139029825534],\n  'Andrew Hall': [34.0998138672686, -117.7139029825534],\n  'Andrew Science Hall': [34.0998138672686, -117.7139029825534],\n  'Andrew Science Building': [34.0998138672686, -117.7139029825534],\n  'Hahn Social Science Bldg': [34.098126371324604, -117.71603190000098],\n  'Avery Hall': [34.10402559390241, -117.7059215470358],\n  'Bauer Center': [34.10625935916369, -117.70861091635064],\n  'Broad Center': [34.10494505589454, -117.70672332698616],\n  'Bernard Hall': [34.10435220581155, -117.70632440303753],\n  'Broad Hall': [34.10462192392436, -117.7058712693149],\n  'Beckman Hall': [34.106128887593115, -117.71251107536439],\n  'Balch Hall': [34.10345253373929, -117.71128438546123],\n  Brackett: [34.09834700926052, -117.71012299276501],\n  'Brackett Observatory': [34.09834700926052, -117.71012299276501],\n  'Baxter Hall': [34.10466728950935, -117.71187640303745],\n  'Biszantz Tennis Center': [34.10095490591795, -117.70630717402211],\n  'Carnegie Building': [34.09813556541387, -117.7153908567008],\n  Carnegie: [34.09813556541387, -117.7153908567008],\n  'Carnegie Bldg': [34.09813556541387, -117.7153908567008],\n  'Richardson Dance Studio': [34.10315111680064, -117.7099604470359],\n  Edmunds: [34.0998600356232, -117.71319481917635],\n  'Fletcher Hall': [34.104073077554126, -117.70639700470716],\n  'Galileo Hall': [34.10625489220558, -117.71180151450122],\n  'Honnold/Mudd Library': [34.10217613878248, -117.71228898240652],\n  Honnold: [34.10217613878248, -117.71228898240652],\n  'Claremont Colleges Library': [34.10217613878248, -117.71228898240652],\n  'Mudd Library': [34.10217613878248, -117.71228898240652],\n  'Humanities Building': [34.103735329211226, -117.71001297587144],\n  'Jacobs Science Center': [34.105831090704534, -117.7117513875151],\n  'Keck Laboratories': [34.09325008938014, -117.72347845495186],\n  'Keck Graduate Institute': [34.09325008938014, -117.72347845495186],\n  'Kravis Center': [34.10187820435941, -117.71108730125341],\n  'The Kravis Center': [34.10187820435941, -117.71108730125341],\n  'The Kravis Center LC': [34.10187820435941, -117.71108730125341],\n  'Kravis Center LC': [34.10187820435941, -117.71108730125341],\n  'Keck Science Center': [34.10308083314274, -117.70782900285776],\n  'Bridges Hall of Music': [34.09741077681766, -117.71380091635093],\n  'Lebus Court': [34.097133818486924, -117.7138019163509],\n  'LeBus Court': [34.097133818486924, -117.7138019163509],\n  Lincoln: [34.09436321343312, -117.71791431635106],\n  'McGregor CompSci Center': [34.105735661459065, -117.71277261820012],\n  'Mudd Science Library': [34.10235157034289, -117.71228630285779],\n  'Oldenborg Center': [34.0972862770658, -117.71197834518651],\n  Online: null,\n  'Parsons Engineering Building': [34.106763408455166, -117.71201133169328],\n  'Performing Arts Center': [34.103841861577266, -117.71263855867934],\n  PAC: [34.103841861577266, -117.71263855867934],\n  Pearsons: [34.09909136806275, -117.71531797402218],\n  'Pearsons Hall': [34.09909136806275, -117.71531797402218],\n  'Rains Center': [34.09962247726175, -117.7116976875152],\n  'Rembrandt Hall': [34.09714703734707, -117.71436354518652],\n  'Roberts North': [34.10243304031955, -117.71058173613733],\n  'Roberts South': [34.1018600288952, -117.7105736895106],\n  'Roberts Pavilion': [34.100334255091674, -117.70640981635093],\n  'Robert Redford Conservcy': [34.11077818412942, -117.71047418566549],\n  'Robert Redford Conservancy': [34.11077818412942, -117.71047418566549],\n  'Smith Campus Center': [34.09962026169959, -117.71350964518648],\n  'Seaver South Laboratory': [34.100042028976105, -117.71531142101722],\n  'Seaver North Laboratory': [34.100042028976105, -117.71531142101722],\n  'Seaman Hall': [34.10199315160771, -117.71010893169331],\n  'Shanahan Center': [34.10656042476094, -117.71087576052881],\n  'Drinkward Recital Hall': [34.10656042476094, -117.71087576052881],\n  Stauffer: [34.102953598099226, -117.71334231635072],\n  'Stauffer Hall': [34.102953598099226, -117.71334231635072],\n  'RC Seaver Biology Bldg': [34.10023161864675, -117.71627928465743],\n  'Seaver Biology Building': [34.10023161864675, -117.71627928465743],\n  'Seaver Theater': [34.096747978139696, -117.7104344010084],\n  'Seaver Theatre': [34.096747978139696, -117.7104344010084],\n  'Thatcher Music Bldg': [34.09754703461027, -117.71440025414981],\n  KSPC: [34.09754703461027, -117.71440025414981],\n  'Thatcher Music Building': [34.09754703461027, -117.71440025414981],\n  'Vita Nova Hall': [34.10300376863079, -117.70952371635069],\n  'Scott Hall': [34.104311246807875, -117.70661596406609],\n  TBD: null\n};\n\nexport const claremontRegion: Region = {\n  latitude: 34.1,\n  longitude: -117.71,\n  latitudeDelta: 0.015,\n  longitudeDelta: 0.015\n};\n\nexport const americaRegion: Region = {\n  latitude: 30.116386,\n  longitude: -97.299591,\n  latitudeDelta: 80,\n  longitudeDelta: 80\n};\n\nexport function removeNumbersAndSpaces(name: string): string {\n  let final = '';\n  for (const char of name) {\n    if (char.match(/[a-z]/i) || char === ' ') {\n      final += char;\n    }\n  }\n  return final.trim();\n}\n","import {\n  Button,\n  Card,\n  Divider,\n  Layout,\n  Modal,\n  Spinner,\n  Text,\n  useTheme,\n  withStyles\n} from '@ui-kitten/components';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport React, { useEffect, useRef, useState } from 'react';\nimport {\n  FlatList,\n  Platform,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity\n} from 'react-native';\nimport openMap from 'react-native-open-maps';\n\nimport { FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport ModalContainer from '../../../components/ModalContainer';\nimport { base_URL } from '../../../constants/admin';\nimport { locations, removeNumbersAndSpaces } from '../../../constants/map';\nimport {\n  useAddClassMutation,\n  useAddStarredClassMutation,\n  useGetReviewsByClassMutation,\n  useIsAllowedToReviewQuery,\n  useRemoveClassMutation,\n  useRemoveStarredClassMutation\n} from '../../api/classPagesApi';\nimport { useGetUserInfoQuery } from '../../api/usersApi';\nimport ExportModalClass from './exportModalClass';\n\nfunction SingleClassPage({ eva, navigation, selectedClass = null }) {\n  const [removeStarredClass] = useRemoveStarredClassMutation();\n  const [showModal, setShowModal] = useState(false);\n  const scrollViewRef = useRef(null);\n  const [showCourseModal, setShowCourseModal] = useState(false);\n  const theme = useTheme();\n  const isGuest = useAppSelector(selectIsGuest);\n  const [courseModalChildren, setCourseModalChildren] = useState([]);\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [professorReviewsObject, setProfessorReviewsObject] = useState({});\n  const [averageRating, setAverageRating] = useState(null);\n  const [averageDifficulty, setAverageDifficulty] = useState(null);\n  const [addStarredClass] = useAddStarredClassMutation();\n  const isHMC = useAppSelector((state) => state.appData.classPages.isHMC);\n  if (!selectedClass) {\n    selectedClass = useAppSelector(\n      (state) => state.appData.classPages.selectedClass\n    );\n  }\n  const [getReviewsByClass, { isLoading: reviewsLoading }] =\n    useGetReviewsByClassMutation();\n\n  const [reviews, setReviews] = useState([]);\n  const daysOfWeek = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday'\n  ];\n  const backgroundColor = darkMode ? eva.style.dark : eva.style.light;\n\n  const { data: isAllowedToReviewRes } = useIsAllowedToReviewQuery({\n    userKey,\n    masterCourseCode: selectedClass.masterCourseCode\n  });\n\n  function isStarred(courseCode: string) {\n    return userData.starredClasses.some(\n      (course) =>\n        course.courseCode === courseCode &&\n        course.courseTerm === selectedClass.courseTerm\n    );\n  }\n\n  function userHasCourse(courseCode: string): boolean {\n    return (\n      userData.addedClasses.classes[selectedClass.courseTerm] !== undefined &&\n      userData.addedClasses.classes[selectedClass.courseTerm][\n        courseCode.slice(0, -3)\n      ] !== undefined\n    );\n  }\n\n  const courseToggleChildren = (courseForToggle) => {\n    const final = [\n      <Layout>\n        <Button\n          style={{ marginVertical: 5 }}\n          children={\n            !userHasCourse(courseForToggle.courseCode)\n              ? 'Add Course to Schedule'\n              : 'Remove Course from Schedule'\n          }\n          onPress={() => {\n            toggleAddOrRemoveCourse(courseForToggle.courseCode);\n            setShowCourseModal(false);\n          }}\n        />\n        <Button\n          style={{ marginVertical: 5 }}\n          children={\n            !isStarred(courseForToggle.courseCode) ? 'Add Star' : 'Remove Star'\n          }\n          onPress={() => {\n            if (isGuest) {\n              setShowGuestModal(true);\n            } else {\n              toggleStarCourse(courseForToggle.courseCode);\n              setShowCourseModal(false);\n            }\n          }}\n        />\n      </Layout>\n    ];\n    setCourseModalChildren(final);\n    setShowCourseModal(true);\n  };\n\n  const getRatingFromReviews = (fetchedReviews) => {\n    if (fetchedReviews.length === 0) {\n      return null;\n    }\n    let totalAverage = 0;\n    let counter = 0;\n    for (const review of fetchedReviews) {\n      if (review.rating) {\n        totalAverage += review.rating;\n        counter++;\n      }\n    }\n    if (counter > 0) {\n      return (totalAverage / counter).toFixed(2);\n    }\n    return null;\n  };\n\n  const getDifficultyFromReviews = (fetchedReviews) => {\n    if (fetchedReviews.length === 0) {\n      return null;\n    }\n    let totalAverage = 0;\n    let counter = 0;\n    for (const review of fetchedReviews) {\n      if (review.difficulty) {\n        totalAverage += review.difficulty;\n        counter++;\n      }\n    }\n    if (counter > 0) {\n      return (totalAverage / counter).toFixed(2);\n    }\n    return null;\n  };\n\n  async function getReviews() {\n    try {\n      const reviews = await getReviewsByClass({\n        masterCourseCode: selectedClass.masterCourseCode,\n        userKey\n      }).unwrap();\n\n      if (reviews.length > 0) {\n        setAverageRating(getRatingFromReviews(reviews));\n        setAverageDifficulty(getDifficultyFromReviews(reviews));\n        setReviews(reviews);\n      }\n    } catch (e) {\n      console.warn('error getting reviews', e);\n    }\n  }\n\n  useEffect(() => {\n    setProfessorReviewsObject({});\n    setAverageDifficulty(null);\n    setAverageRating(null);\n    setReviews([]);\n    if (scrollViewRef?.current) {\n      scrollViewRef.current.scrollTo({\n        y: 0,\n        animated: false\n      });\n    }\n    if (selectedClass) {\n      for (const time of selectedClass.times) {\n        getReviewsFromProfessor(time);\n      }\n    }\n    getReviews();\n  }, [selectedClass]);\n\n  async function getReviewsFromProfessor(time) {\n    const res = await fetch(\n      `${base_URL}/classes/reviews/getReviewsByProfessor` +\n        `?professorName=${time.professorName}&collegeName=${userData.collegeName}`,\n      {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        }\n      }\n    );\n    if (res.ok) {\n      const reviews = await res.json();\n      if (reviews.length > 0) {\n        const newObject = {\n          ...professorReviewsObject\n        };\n        newObject[time.professorName] = reviews;\n        setProfessorReviewsObject(newObject);\n      }\n    }\n  }\n\n  function buildTimeString(time) {\n    // Compatibility with new course data layout for multiple times per day\n    if (time.courseSchedule && time.courseSchedule.length > 0) {\n      time = time.courseSchedule[0];\n    }\n\n    if (!time.startTime || time.startTime === '' || time.startTime === null) {\n      return 'closed';\n    }\n    return `${convertTo12HourTime(time.startTime)} - ${convertTo12HourTime(\n      time.endTime\n    )}\\n`;\n  }\n\n  function convertTo12HourTime(time) {\n    if (time.length !== 5) {\n      time = `0${time}`;\n    }\n    let hours = time.slice(0, 2);\n    const minutes = time.slice(3, 5);\n    let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n    hours %= 12;\n    if (hours === 0) {\n      hours = 12;\n      ampm = 'pm';\n    }\n    return `${hours}:${minutes}${ampm}`;\n  }\n\n  function getProfessorReviewsList() {\n    const final = [];\n    for (const professor of Object.keys(professorReviewsObject)) {\n      const reviews = professorReviewsObject[professor];\n      final.push(\n        <>\n          <Text style={styles.subHeader}>\n            {`All Reviews: `}\n            {professor}\n          </Text>\n          {reviews.length === 0 ? (\n            <Text\n              style={{\n                alignSelf: 'center',\n                textAlign: 'center',\n                marginBottom: 10\n              }}\n            >\n              Something went wrong...\n            </Text>\n          ) : (\n            reviews.map((review, index) => (\n              <Card key={index} disabled>\n                <Text>{`${review.text}\\n\\nPosted: ${review.date}`}</Text>\n              </Card>\n            ))\n          )}\n        </>\n      );\n    }\n    return final;\n  }\n\n  const averageGradeMSGModal = (\n    <Modal\n      visible={showModal}\n      backdropStyle={styles.backdrop}\n      style={{ width: '75%' }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={{ fontSize: 15, paddingTop: 5, paddingBottom: 10 }}>\n          The Athena Network collects and aggregates the data anonymously\n          submitted by the Course Review process and calculates what the average\n          student's experience in this course will look like. Given that it is\n          based on voluntarily submitted data, this information is to be used as\n          a reference only. Please consult your advisor before making any\n          impactful decisions.\n        </Text>\n      </Card>\n    </Modal>\n  );\n\n  if (!selectedClass.times) {\n    return null;\n  }\n\n  function getProfessorsList() {\n    const list = [];\n    for (const time of selectedClass.times) {\n      if (!list.includes(time.professorName)) {\n        list.push(time.professorName);\n      }\n    }\n    return list;\n  }\n\n  const [schedulePopup, setSchedulePopup] = useState(false);\n  const [allTheChildren, setAllTheChildren] = useState([]);\n\n  function toggleSchedulePopUp(time: any) {\n    const finalDays = {};\n    for (const realTime of time.courseSchedule) {\n      for (const day of daysOfWeek) {\n        if (realTime.daysOfTheWeek.includes(day)) {\n          const addition = `${convertTo12HourTime(\n            realTime.startTime\n          )} - ${convertTo12HourTime(realTime.endTime)}`;\n          if (finalDays[day]?.length > 0) {\n            finalDays[day].push(addition);\n          } else {\n            finalDays[day] = [addition];\n          }\n        }\n      }\n    }\n\n    setAllTheChildren(generateTable(finalDays));\n    setSchedulePopup(true);\n  }\n  const [addClass] = useAddClassMutation();\n  const [removeClass] = useRemoveClassMutation();\n  function toggleStarCourse(courseCode: string) {\n    try {\n      if (isStarred(courseCode)) {\n        removeStarredClass({\n          userKey,\n          courseCode,\n          courseTerm: selectedClass.courseTerm,\n          userName: userData.userName\n        }).unwrap();\n      } else {\n        addStarredClass({\n          userKey,\n          courseCode,\n          courseTerm: selectedClass.courseTerm,\n          userName: userData.userName\n        }).unwrap();\n      }\n    } catch (e) {\n      console.warn('Error starring class', e);\n    }\n  }\n\n  function toggleAddOrRemoveCourse(courseCode: string) {\n    if (userHasCourse(courseCode)) {\n      removeClass({\n        userKey,\n        courseCode,\n        courseTerm: selectedClass.courseTerm,\n        userName: userData.userName,\n        masterCourseCode: courseCode.slice(0, -3)\n      }).unwrap();\n    } else {\n      addClass({\n        userKey,\n        courseCode,\n        courseTerm: selectedClass.courseTerm,\n        userName: userData.userName,\n        masterCourseCode: courseCode.slice(0, -3)\n      }).unwrap();\n    }\n  }\n  function generateTable(daysObject: any): any {\n    const daysActive = Object.keys(daysObject);\n    const stringArrays = Object.values(daysObject);\n    return (\n      <Layout style={{ flexDirection: 'row' }}>\n        <Layout>\n          {daysActive.map((value) => {\n            return (\n              <Layout>\n                <Text\n                  style={{\n                    height: 75,\n                    borderWidth: 1,\n                    borderColor: 'black',\n                    padding: 10\n                  }}\n                >\n                  {value}\n                </Text>\n              </Layout>\n            );\n          })}\n        </Layout>\n        <Layout>\n          {stringArrays.map((value: string[]) => {\n            return (\n              <Layout>\n                <Text\n                  style={{\n                    height: 75,\n                    borderWidth: 1,\n                    borderColor: 'black',\n                    padding: 10\n                  }}\n                >\n                  {value.join('\\n')}\n                </Text>\n              </Layout>\n            );\n          })}\n        </Layout>\n      </Layout>\n    );\n  }\n\n  function renderReviews() {\n    let content = null;\n    if (reviewsLoading) {\n      content = (\n        <Layout\n          style={{ alignItems: 'center', backgroundColor: 'transparent' }}\n        >\n          <Spinner />\n        </Layout>\n      );\n    } else if (reviews.length === 0) {\n      content = (\n        <Text style={{ textAlign: 'center' }}>No Class Reviews yet</Text>\n      );\n    } else {\n      content = (\n        <FlatList\n          data={reviews}\n          renderItem={({ item: review, index }) => (\n            <Card key={index} disabled style={{ marginBottom: 5 }}>\n              <Text>{review.text}</Text>\n              <Divider style={{ marginVertical: 5 }} />\n              <Text category=\"s2\">\n                Posted:\n                {review.date}\n              </Text>\n              {review.professor && (\n                <Text category=\"s2\">{`Taught By: ${review.professor}`}</Text>\n              )}\n            </Card>\n          )}\n        />\n      );\n    }\n\n    return (\n      <Layout style={{ margin: 10, backgroundColor: 'transparent' }}>\n        {content}\n      </Layout>\n    );\n  }\n\n  return (\n    <LinearGradient\n      colors={\n        darkMode\n          ? [theme['color-basic-1100'], theme['color-basic-1100']]\n          : [theme['color-primary-500'], theme['color-success-500']]\n      }\n      style={{\n        width: '100%',\n        margin: 0,\n        alignItems: 'center',\n        flex: 1\n      }}\n      start={{ x: 0, y: 0 }}\n      end={{ x: 1, y: 0.4 }}\n    >\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is locked to our Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          }\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n      <ScrollView\n        contentContainerStyle={{ alignSelf: 'center', maxWidth: 700 }}\n        style={backgroundColor}\n        showsVerticalScrollIndicator={false}\n        ref={scrollViewRef}\n      >\n        {/* {userData.starredClasses.some((course) =>\n          selectedClass.times.some(\n            (time: { courseCode: any; courseTerm: any }) =>\n              time.courseCode === course.courseCode &&\n              selectedClass.courseTerm === course.courseTerm\n          )\n        ) ? (\n          <Layout\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n              alignContent: 'center',\n              backgroundColor\n            }}\n          >\n            <FontAwesome\n              style={{ marginLeft: 10, marginTop: 10 }}\n              name=\"star\"\n              color=\"gold\"\n              size={20}\n            />\n            <ExportModalClass classData={undefined} />\n          </Layout>\n        ) : (\n          <Layout\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n              alignContent: 'center',\n              backgroundColor\n            }}\n          >\n            <FontAwesome5\n              style={{ marginLeft: 10, marginTop: 10 }}\n              name=\"star\"\n              color=\"gold\"\n              size={20}\n            />\n            <ExportModalClass classData={undefined} />\n          </Layout>\n        )} */}\n\n        <Layout style={[{ alignItems: 'center' }, backgroundColor]}>\n          <Text style={styles.title}>{selectedClass.courseName}</Text>\n          <Text style={{ paddingTop: 30 }}>\n            {selectedClass.masterCourseCode}\n          </Text>\n\n          <Text style={styles.subtitle}>\n            {`${selectedClass.courseTerm} \\u2022 credits: ${\n              isHMC ? selectedClass.creditWeightHM : selectedClass.creditWeight\n            }`}\n          </Text>\n          {selectedClass.timeSpentOutOfClass && (\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={styles.subtitle}>Time Spent Per Week</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>\n                : {selectedClass.timeSpentOutOfClass} hours\n              </Text>\n            </Layout>\n          )}\n          {selectedClass.averageGrade && (\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={styles.subtitle}>Average Grade</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>\n                : {selectedClass.averageGrade}\n              </Text>\n            </Layout>\n          )}\n          {averageDifficulty && (\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={styles.subtitle}>Estimated Difficulty</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>:{averageDifficulty} / 5</Text>\n            </Layout>\n          )}\n          {averageRating && (\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={styles.subtitle}>Average Rating</Text>\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.subtitle}>:{averageRating} / 5</Text>\n            </Layout>\n          )}\n        </Layout>\n        <Layout style={backgroundColor}>\n          <Text style={styles.courseDescription}>{selectedClass.summary}</Text>\n        </Layout>\n        <Layout style={{ ...backgroundColor, ...styles.boxed }}>\n          <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n            Other Stated Prerequisites:\n          </Text>\n          <Text style={{ fontSize: 15 }}>\n            {selectedClass.prerequisites !== ''\n              ? selectedClass.prerequisites\n              : 'none'}\n          </Text>\n\n          <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n            Other Stated Corequisites:\n          </Text>\n          <Text style={{ fontSize: 15 }}>\n            {selectedClass.corequisites !== ''\n              ? selectedClass.corequisites\n              : 'none'}\n          </Text>\n        </Layout>\n        <Layout style={[{ alignItems: 'flex-end' }, backgroundColor]}>\n          {(selectedClass.timeSpentOutOfClass ||\n            selectedClass.averageGrade ||\n            selectedClass.difficulty ||\n            selectedClass.rating) && (\n            <TouchableOpacity onPress={() => setShowModal(!showModal)}>\n              <Layout\n                style={[\n                  {\n                    flexDirection: 'row',\n                    alignItems: 'flex-start',\n                    paddingRight: 5\n                  },\n                  backgroundColor\n                ]}\n              >\n                <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n                <Text style={styles.disclaimer}>How Do We Estimate This?</Text>\n              </Layout>\n            </TouchableOpacity>\n          )}\n        </Layout>\n        <Layout style={{ backgroundColor }}>\n          {selectedClass.times.length > 0 && (\n            <Layout style={{ backgroundColor }}>\n              <Text style={styles.subHeader}>Sections</Text>\n              <Layout style={[styles.section, backgroundColor]}>\n                <Text style={styles.headerText}>Course Code</Text>\n                <Layout\n                  style={{\n                    flex: 1,\n                    flexDirection: 'row',\n                    justifyContent: 'flex-start',\n                    backgroundColor\n                  }}\n                >\n                  <Text style={{ fontWeight: 'bold', fontSize: 13 }}>\n                    ST / SA\n                  </Text>\n                  <Text style={{ fontWeight: '900', fontSize: 13 }}>\n                    {' '}\n                    (PERM)\n                  </Text>\n                </Layout>\n                <Text style={styles.headerText}>Professor</Text>\n                <Text style={styles.headerText}>Time</Text>\n                <Text style={styles.headerText}>Location</Text>\n              </Layout>\n            </Layout>\n          )}\n          {selectedClass.times.map((time) => {\n            return (\n              <Layout\n                key={time.courseCode}\n                style={{ backgroundColor, ...styles.section }}\n              >\n                {userData.starredClasses.some(\n                  (course) =>\n                    course.courseTerm === selectedClass.courseTerm &&\n                    course.courseCode === time.courseCode\n                ) && (\n                  <FontAwesome\n                    style={{ marginRight: 5 }}\n                    name=\"star\"\n                    color=\"gold\"\n                    size={12}\n                  />\n                )}\n                <TouchableOpacity\n                  style={{\n                    flex: 1,\n                    justifyContent: 'center',\n                    alignItems: 'center'\n                  }}\n                  onPress={() => {\n                    courseToggleChildren(time);\n                  }}\n                >\n                  <Text\n                    style={{\n                      ...styles.sectionText,\n                      color: 'rgba(55,81,211,0.84)',\n                      textDecorationLine: 'underline'\n                    }}\n                  >\n                    {time.courseCode}\n                  </Text>\n                </TouchableOpacity>\n                <Layout\n                  style={{ flex: 1, flexDirection: 'row', backgroundColor }}\n                >\n                  <Text>\n                    {time.seatsFilled} /{time.seatsFilled + time.seatsAvailable}\n                    {'  '}\n                  </Text>\n                  <Text style={{ fontWeight: 'bold' }}>\n                    ({time.permCount ? time.permCount : 0})\n                  </Text>\n                </Layout>\n                <Text style={styles.sectionText}>{time.professorName}</Text>\n                <Layout style={{ backgroundColor, ...styles.sectionText }}>\n                  {time?.courseSchedule?.length > 1 ? (\n                    <TouchableOpacity\n                      onPress={() => toggleSchedulePopUp(time)}\n                      disabled={!(time?.courseSchedule?.length > 1)}\n                    >\n                      <Text\n                        style={{\n                          ...styles.sectionText,\n                          color: 'rgba(55,81,211,0.84)',\n                          textDecorationLine: 'underline'\n                        }}\n                      >\n                        {Platform.OS === 'web' ? 'Click' : 'Press'} for\n                        {'\\n'}\n                        schedule\n                      </Text>\n                    </TouchableOpacity>\n                  ) : (\n                    <Text style={styles.sectionText}>\n                      {buildTimeString(time)}\n                      {time?.courseSchedule?.length > 0\n                        ? time.courseSchedule[0].daysOfTheWeek.join(', ')\n                        : time.daysOfTheWeek.join(', ')}\n                    </Text>\n                  )}\n                </Layout>\n                <TouchableOpacity\n                  disabled={\n                    !locations[\n                      removeNumbersAndSpaces(\n                        time.courseSchedule[0].classLocation\n                      )\n                    ]\n                  }\n                  style={{ flex: 1 }}\n                  onPress={() => {\n                    openMap({\n                      waypoints: [],\n                      provider: 'google',\n                      query: locations[\n                        removeNumbersAndSpaces(\n                          time.courseSchedule[0].classLocation\n                        )\n                      ]\n                        .map((number) => number.toString())\n                        .join(', '),\n                      zoom: 18\n                    });\n                  }}\n                >\n                  <Text\n                    style={\n                      locations[\n                        removeNumbersAndSpaces(\n                          time.courseSchedule[0].classLocation\n                        )\n                      ]\n                        ? {\n                            ...styles.sectionText,\n                            color: 'rgba(55,81,211,0.84)',\n                            textDecorationLine: 'underline'\n                          }\n                        : { flex: 1 }\n                    }\n                  >\n                    {time.courseSchedule[0].classLocation\n                      ? time.courseSchedule[0].classLocation\n                      : 'TBD'}\n                  </Text>\n                </TouchableOpacity>\n              </Layout>\n            );\n          })}\n          <ModalContainer\n            backDropVisible={showCourseModal}\n            setBackDropVisible={setShowCourseModal}\n            title=\"Add/Remove Course\"\n            children={courseModalChildren}\n          />\n          {averageGradeMSGModal}\n          <ModalContainer\n            children={allTheChildren}\n            backDropVisible={schedulePopup}\n            setBackDropVisible={setSchedulePopup}\n            title=\"Course Time Schedule\"\n          />\n        </Layout>\n        {isAllowedToReviewRes?.isAllowed ? (\n          <Button\n            style={{ margin: 10 }}\n            onPress={() => {\n              navigation.navigate('PostReview', {\n                professorList: getProfessorsList()\n              });\n            }}\n          >\n            Post Review\n          </Button>\n        ) : null}\n        <Text style={styles.subHeader}>Class Reviews</Text>\n        {renderReviews()}\n        {Object.keys(professorReviewsObject).length !== 0\n          ? getProfessorReviewsList()\n          : null}\n      </ScrollView>\n    </LinearGradient>\n  );\n}\n\nexport default withStyles(SingleClassPage, (theme) => ({\n  dark: {\n    backgroundColor: theme['color-basic-900']\n  },\n  light: {\n    backgroundColor: theme['color-basic-200']\n  }\n}));\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 20,\n    marginTop: 20,\n    fontWeight: 'bold'\n  },\n  subtitle: {\n    fontSize: 16\n  },\n  courseOpen: {\n    backgroundColor: 'green',\n    color: '#fff',\n    padding: 5,\n    marginRight: 10\n  },\n  courseClosed: {\n    backgroundColor: 'red',\n    color: '#fff',\n    padding: 5,\n    borderRadius: 5\n  },\n  header: {\n    alignItems: 'center'\n  },\n  details: {\n    flexDirection: 'row',\n    padding: 10,\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  courseDescription: {\n    paddingRight: 20,\n    paddingLeft: 20,\n    paddingTop: 10,\n    paddingBottom: 5,\n    fontSize: 17\n  },\n  BodyContainer: {\n    borderTopWidth: 1,\n    borderTopColor: 'black',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-evenly',\n    padding: 10,\n    paddingTop: 20,\n    paddingBottom: 20\n  },\n  boxed: {\n    alignItems: 'center',\n    margin: 8,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 7\n  },\n  documentStyle: {\n    width: 150,\n    height: 190,\n    paddingTop: 100\n  },\n  imageLabel: {\n    fontSize: 12,\n    color: 'black',\n    padding: 10,\n    textAlign: 'center'\n  },\n  schedule: {\n    paddingLeft: 20,\n    paddingTop: 10\n  },\n  graphImage: {\n    width: '100%',\n    aspectRatio: 1,\n    resizeMode: 'contain'\n  },\n  grade: {\n    fontSize: 50,\n    fontWeight: 'bold',\n    color: 'green'\n  },\n  reviewText: {\n    fontSize: 16,\n    fontStyle: 'italic'\n  },\n  reviewBox: {\n    width: '95%',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: 'black',\n    borderRadius: 5,\n    marginBottom: 10\n  },\n  section: {\n    flexDirection: 'row',\n    paddingLeft: 5,\n    borderBottomWidth: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  headerText: {\n    fontWeight: 'bold',\n    fontSize: 13,\n    flex: 1\n  },\n  sectionText: {\n    flex: 1\n  },\n  disclaimer: {\n    fontSize: 14,\n    fontStyle: 'italic'\n  },\n  backdrop: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  containerDrop: {\n    height: 42,\n    margin: 12,\n    borderWidth: 1\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  subHeader: {\n    fontSize: 20,\n    paddingLeft: 20,\n    paddingBottom: 20,\n    paddingTop: 20,\n    fontWeight: 'bold'\n  }\n});\n","import {\n  IndexPath,\n  Layout,\n  Select,\n  SelectItem,\n  Text,\n  useTheme,\n  Button,\n  Spinner,\n  Input\n} from '@ui-kitten/components';\nimport { useState } from 'react';\nimport { Alert, StyleSheet, ScrollView } from 'react-native';\n\nimport { useNavigation } from '@react-navigation/native';\nimport { selectUserKey } from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport { NEW_REVIEW_FIELDS as fields } from '../../../constants/classPages';\nimport { useSendReviewMutation } from '../../api/classPagesApi';\nimport ModalContainer from '../../../components/ModalContainer';\n\nexport default function NewReview({\n  route: {\n    params: { professorList }\n  }\n}) {\n  const navigation = useNavigation();\n  const [body, setBody] = useState({});\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector((state) => state.appData.secure.darkMode);\n  const [showConfirmationModal, setShowConfirmationModal] = useState(false);\n  const [showErrorModal, setShowErrorModal] = useState(false);\n  const selectedClass = useAppSelector(\n    (state) => state.appData.classPages.selectedClass\n  );\n  const [sendReview, { isLoading }] = useSendReviewMutation();\n\n  const theme = useTheme();\n\n  const backgroundColor = darkMode\n    ? theme['color-basic-900']\n    : theme['color-basic-200'];\n\n  const color = darkMode ? theme['color-basic-200'] : theme['color-basic-900'];\n\n  const handleReviewSubmitted = async () => {\n    try {\n      await sendReview({\n        body: {\n          ...body,\n          masterCourseCode: selectedClass.masterCourseCode\n        },\n        userKey\n      }).unwrap();\n      setShowConfirmationModal(true);\n    } catch (error) {\n      setShowErrorModal(true);\n      console.warn('Error submitting review: ', error);\n    }\n  };\n\n  function renderTheFieldsNecessary(fields) {\n    const changeValue = (theValue, valueToChange) => {\n      const newBody = body;\n      for (const aspect in newBody) {\n        if (\n          newBody[aspect] === null ||\n          newBody[aspect] === undefined ||\n          newBody[aspect] === ''\n        ) {\n          delete newBody[aspect];\n        }\n      }\n      if (theValue !== undefined) {\n        newBody[valueToChange] = theValue;\n      } else if (newBody[valueToChange]) {\n        delete newBody[valueToChange];\n      }\n      setBody(newBody);\n    };\n    const renderFilterParameters = (fields) => {\n      if (fields.length === 0) {\n        return null;\n      }\n      return (\n        <Layout style={{ flexDirection: 'row', backgroundColor }}>\n          <Text\n            style={{\n              fontSize: 15,\n              paddingLeft: 12,\n              paddingBottom: 5,\n              paddingTop: 5,\n              alignContent: 'center',\n              fontWeight: 'bold'\n            }}\n          >\n            Review Details\n          </Text>\n        </Layout>\n      );\n    };\n    const final = [];\n\n    const renderDropDown = (field) => {\n      const [selectedIndex, setSelectedIndex] = useState(new IndexPath(0));\n      const [hasChosen, setHasChosen] = useState(false);\n\n      if (field.label === 'Professor') {\n        field.options = professorList.map((professorName: String) => {\n          return {\n            label: professorName,\n            id: professorName\n          };\n        });\n      }\n\n      function currentValue() {\n        return (\n          <Text key=\"gal;fkdjsl;f\">\n            {!hasChosen\n              ? `Choose ${field.label}${field.mandatory ? ' (mandatory)' : ''}`\n              : field.options[selectedIndex.row - 1].label}{' '}\n          </Text>\n        );\n      }\n\n      function handleSelection(index) {\n        setSelectedIndex(index);\n        changeValue(\n          index.row === 0 ? undefined : field.options[index.row - 1].id,\n          field.id\n        );\n        if (index.row === 0) {\n          setHasChosen(false);\n        } else {\n          setHasChosen(true);\n        }\n      }\n\n      return (\n        <Select\n          style={{ ...styles.containerDrop, backgroundColor }}\n          value={currentValue}\n          selectedIndex={selectedIndex}\n          onSelect={handleSelection}\n        >\n          <SelectItem title={' '} />\n          {field.options.map(({ label }, index) => (\n            <SelectItem title={label} key={index} />\n          ))}\n        </Select>\n      );\n    };\n    final.push(\n      <Input\n        key=\"lfjdsa;lfaj\"\n        autoCapitalize=\"sentences\"\n        onChangeText={(theValue) => changeValue(theValue, 'text')}\n        style={{ ...styles.inputBig, backgroundColor, color }}\n        multiline\n        placeholderTextColor={darkMode ? theme['color-basic-500'] : 'gray'}\n        placeholder=\"Review Text (mandatory)\"\n      />\n    );\n    for (let i = 0; i < fields.length; i++) {\n      const { type } = fields[i];\n      if (type === 'String') {\n        final.push(\n          <Input\n            key={i}\n            autoCapitalize=\"words\"\n            clearButtonMode=\"always\"\n            onChangeText={(theValue) => changeValue(theValue, fields[i].id)}\n            style={{ ...styles.input, backgroundColor, color }}\n            placeholderTextColor={darkMode ? theme['color-basic-500'] : 'gray'}\n            placeholder={\n              fields[i].mandatory\n                ? `${fields[i].label} (mandatory)`\n                : fields[i].label\n            }\n          />\n        );\n      } else if (type === 'DropDown') {\n        final.push(renderDropDown(fields[i]));\n      }\n    }\n\n    return (\n      <Layout style={{ backgroundColor }}>\n        {renderFilterParameters(fields)}\n        <Layout style={{ backgroundColor }}>{final}</Layout>\n      </Layout>\n    );\n  }\n\n  const successChildren = (\n    <Layout style={{ marginHorizontal: 15, justifyContent: 'center' }}>\n      <Text>\n        {`Your review of \"${selectedClass.courseName}\" has been submitted and is\n          now pending approval.\\n\\nThank You!`}\n      </Text>\n      <Button\n        onPress={() => {\n          navigation.goBack();\n        }}\n      >\n        Okay\n      </Button>\n    </Layout>\n  );\n\n  const errorChildren = (\n    <Layout style={{ marginHorizontal: 15, justifyContent: 'center' }}>\n      <Text>Your review encountered an error, please try again later</Text>\n      <Button\n        onPress={() => {\n          navigation.goBack();\n        }}\n      >\n        Okay\n      </Button>\n    </Layout>\n  );\n\n  return (\n    <ScrollView style={{ backgroundColor }}>\n      <ModalContainer\n        backDropVisible={showConfirmationModal}\n        setBackDropVisible={setShowConfirmationModal}\n        title=\"Review Submitted!\"\n        children={successChildren}\n      />\n      <ModalContainer\n        backDropVisible={showErrorModal}\n        setBackDropVisible={setShowErrorModal}\n        title=\"Error Submitting Review\"\n        children={errorChildren}\n      />\n      <Layout style={{ backgroundColor, ...styles.container }}>\n        <Layout style={{ backgroundColor }}>\n          {renderTheFieldsNecessary(fields)}\n        </Layout>\n        <Button style={{ margin: 12 }} onPress={handleReviewSubmitted}>\n          Post Review\n        </Button>\n      </Layout>\n      {isLoading ? (\n        <Layout\n          style={{\n            backgroundColor: 'transparent',\n            position: 'absolute',\n            right: '50%',\n            top: '50%'\n          }}\n        >\n          <Spinner />\n        </Layout>\n      ) : null}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 50,\n    margin: 12,\n    padding: 10,\n    borderColor: '#B3B3B3',\n    borderRadius: 5,\n    borderWidth: 1\n  },\n  inputBig: {\n    height: 200,\n    margin: 12,\n    padding: 10,\n    borderColor: '#B3B3B3',\n    borderRadius: 5,\n    borderWidth: 1\n  },\n  containerDrop: {\n    height: 42,\n    margin: 12\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25\n  },\n  container: {\n    flex: 1\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n});\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nimport InfoPage from './InfoPage';\nimport PostReview from './PostReview';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function SingleClassPage() {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"InfoPage\"\n        component={InfoPage}\n        options={{ title: 'ClassPages' }}\n      />\n      <Stack.Screen\n        name=\"PostReview\"\n        component={PostReview}\n        options={{ title: 'Post Review' }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { Entypo, FontAwesome5 } from '@expo/vector-icons';\nimport BottomSheet from '@gorhom/bottom-sheet/lib/typescript/components/bottomSheet/BottomSheet';\nimport {\n  Button,\n  Layout,\n  List,\n  Spinner,\n  Text,\n  useTheme\n} from '@ui-kitten/components';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useEffect, useRef, useState } from 'react';\nimport {\n  Keyboard,\n  LayoutAnimation,\n  PanResponder,\n  Platform,\n  RefreshControl,\n  TouchableOpacity,\n  useWindowDimensions\n} from 'react-native';\n\nimport Animated from 'react-native-reanimated';\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport Message from '../../components/Message';\nimport ModalContainer from '../../components/ModalContainer';\nimport SearchBar from '../../components/SearchBar';\nimport {\n  RENDERED_RESULTS_LIMIT_DESKTOP,\n  RENDERED_RESULTS_LIMIT_MOBILE\n} from '../../constants/classPages';\nimport { showToast } from '../../functions';\nimport {\n  useAddClassMutation,\n  useAddMultipleClassesMutation,\n  useLazyGetAllClassesQuery,\n  useRemoveClassMutation,\n  useSwapCoursePriorityMutation\n} from '../api/classPagesApi';\nimport { useGetUserInfoQuery, useLazyGetUserInfoQuery } from '../api/usersApi';\nimport AddedClasses from './AddedClasses';\nimport Item from './ClassListItem';\nimport FilterClasses from './FilterClasses';\nimport SingleClassPage from './SingleClassPage';\nimport {\n  classSelected,\n  endOfListReached,\n  filterListBySearchTerm,\n  resetClasses,\n  searchTermUpdated,\n  selectClassesList,\n  suggestedClassesDimissed\n} from './classPagesSlice';\n\nexport function CurrentTermLabel({\n  navigation,\n  currentSection,\n  style = {},\n  textStyle = {},\n  disabled = false\n}) {\n  return (\n    <TouchableOpacity\n      disabled={disabled}\n      style={style}\n      onPress={() => navigation.navigate('SelectTerm')}\n    >\n      <Text category=\"label\" style={textStyle}>\n        {`Term: ${currentSection}`}\n      </Text>\n    </TouchableOpacity>\n  );\n}\n\nconst DIVIDER_HEIGHT = 15;\nconst MIN_WINDOW_HEIGHT = 45;\n\nexport default function ClassesList({ navigation }) {\n  const [menuOpen, setMenuOpen] = useState(null);\n  const [addedClassesVisible, setAddedClassesVisible] = useState(false);\n  const [filtersMenuVisible, setFiltersMenuVisible] = useState(false);\n  const [listRef, setListRef] = useState(null);\n  const [renderedResultsLimit, setRenderedResultsLimit] = useState(\n    RENDERED_RESULTS_LIMIT_MOBILE\n  );\n  const [isDividerClicked, setIsDividerClicked] = useState(false);\n\n  const [addClass] = useAddClassMutation();\n  const [addMultipleClasses] = useAddMultipleClassesMutation();\n  const [removeClass] = useRemoveClassMutation();\n  const [swapAddedClasses] = useSwapCoursePriorityMutation();\n  const [fetchUserInfo] = useLazyGetUserInfoQuery();\n  const [getClasses, { isLoading: classListLoading, isError }] =\n    useLazyGetAllClassesQuery();\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const isMobile = useAppSelector((state) => state.appData.secure.isMobile);\n  const classes = useAppSelector(selectClassesList);\n  const userKey = useAppSelector(selectUserKey);\n  const page = useAppSelector((state) => state.appData.classPages.page);\n  const darkMode = useAppSelector(selectDarkMode);\n  const searchTerm = useAppSelector(\n    (state) => state.appData.classPages.searchTerm\n  );\n  const renderedClasses = useAppSelector(\n    (state) => state.appData.classPages.renderedClasses\n  );\n  const suggestedClasses = useAppSelector(\n    (state) => state.appData.classPages.suggestedClasses\n  );\n\n  const { data: userData, isSuccess: userInfoSuccess } = useGetUserInfoQuery(\n    userKey,\n    { skip: !userKey }\n  );\n  const collegeName = userData?.collegeName || 'claremontColleges';\n\n  const userName = userData?.userName;\n  const orderedAddedClasses = userData?.addedClasses?.orderedClasses;\n  const addedClasses = userData?.addedClasses?.classes;\n  const length =\n    orderedAddedClasses && orderedAddedClasses[currentSection]\n      ? orderedAddedClasses[currentSection].length\n      : 0;\n\n  const bottomSheetRef = useRef<BottomSheet>(null);\n  const searchBarWaitId = useRef(null);\n  const _panResponder = useRef(getPanResponder());\n\n  // Other Hooks\n  const theme = useTheme();\n  const dispatch = useAppDispatch();\n  const dimensions = useWindowDimensions();\n  const [bottomHeight, setBottomHeight] = useState(dimensions.height / 4); // added classes height (web only)\n\n  const topHeight = dimensions.height - bottomHeight - DIVIDER_HEIGHT;\n\n  useEffect(() => {\n    fetchClasses();\n  }, []);\n\n  useEffect(() => {\n    setRenderedResultsLimit(\n      isMobile ? RENDERED_RESULTS_LIMIT_MOBILE : RENDERED_RESULTS_LIMIT_DESKTOP\n    );\n  }, [isMobile]);\n\n  useEffect(() => {\n    _panResponder.current = getPanResponder();\n  }, [dimensions.height]);\n\n  const fetchClasses = async () => {\n    if (Object.keys(classes).length === 0) {\n      try {\n        await getClasses({\n          userKey,\n          collegeName,\n          courseTerm: currentSection\n        }).unwrap();\n      } catch (e) {\n        console.warn('Error getting classes: ', e);\n      }\n    } else {\n      dispatch(resetClasses());\n    }\n  };\n\n  const isClassAdded = (courseCode: string, masterCourseCode: string) => {\n    return (\n      currentSection in addedClasses &&\n      masterCourseCode in addedClasses[currentSection] &&\n      addedClasses[currentSection][masterCourseCode].includes(courseCode)\n    );\n  };\n\n  function getPanResponder() {\n    return PanResponder.create({\n      // @ts-ignore\n      onMoveShouldSetResponderCapture: () => true,\n      onMoveShouldSetPanResponderCapture: () => true,\n\n      onPanResponderGrant: (e, gestureState) => {\n        setIsDividerClicked(true);\n      },\n\n      onPanResponderMove: (e, gestureState) => {\n        const newBottom = dimensions.height - gestureState.moveY - 60;\n\n        if (newBottom < MIN_WINDOW_HEIGHT) {\n          setBottomHeight(MIN_WINDOW_HEIGHT);\n        } else if (newBottom > dimensions.height - MIN_WINDOW_HEIGHT) {\n          setBottomHeight(dimensions.height - MIN_WINDOW_HEIGHT);\n        } else {\n          setBottomHeight(newBottom);\n        }\n      },\n\n      onPanResponderRelease: (e, gestureState) => {\n        setIsDividerClicked(false);\n      }\n    });\n  }\n\n  const handleRefresh = () => {\n    fetchUserInfo(userKey);\n    fetchClasses();\n  };\n\n  const handleSearch = (searchPhrase: string) => {\n    if (listRef) {\n      listRef.scrollToOffset({ animated: true, offset: 0 });\n    }\n\n    dispatch(searchTermUpdated(searchPhrase));\n\n    if (searchBarWaitId.current) {\n      clearTimeout(searchBarWaitId.current);\n    }\n\n    // prevents lagginness when typing\n    searchBarWaitId.current = setTimeout(() => {\n      LayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n      dispatch(filterListBySearchTerm());\n    }, 150);\n  };\n\n  const handleClassSelected = (courseCode: string) => {\n    dispatch(classSelected(courseCode));\n    if (Platform.OS === 'web') {\n      navigation.navigate('SingleClassPage');\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  };\n\n  const handleAddClass = (courseCode: string, masterCourseCode: string) => {\n    try {\n      addClass({\n        userKey,\n        courseCode,\n        courseTerm: currentSection,\n        userName,\n        masterCourseCode\n      }).unwrap();\n    } catch (e) {\n      console.warn('Add class error: ', e);\n    }\n  };\n\n  const handleRemoveClass = (courseCode: string, masterCourseCode: string) => {\n    try {\n      removeClass({\n        userKey,\n        courseCode,\n        courseTerm: currentSection,\n        userName,\n        masterCourseCode\n      }).unwrap();\n    } catch (e) {\n      console.warn('Add class error: ', e);\n    }\n  };\n\n  const handleMassImport = async () => {\n    const courseCodes = [\n      ...searchTerm.matchAll(/\\b[A-Z]+\\d+[A-Z]*\\s?[A-Z]+-\\d+\\b/g)\n    ];\n    if (!courseCodes[0]) {\n      showToast('No course codes found in search bar', 'maroon');\n      return;\n    }\n    const courseCodePairs = courseCodes.reduce((accumulator, courseCode) => {\n      const matches = courseCode[0].match(/(\\D{3,4})(\\d+[A-Z]?[A-Z]?)(.+)/);\n\n      if (!matches || matches.length !== 4) {\n        // Skip this course code\n        return accumulator;\n      }\n\n      const collegeParts = matches[3].split('-'); // Ex: [\"PO\", \"01\"]\n      const masterCourseCode = `${matches[1].trim()} ${matches[2].trim()} ${collegeParts[0].trim()}`;\n      const newCourseCode = `${matches[1].trim()} ${matches[2].trim()} ${matches[3].trim()}`;\n      if (isClassAdded(newCourseCode, masterCourseCode)) {\n        return accumulator;\n      }\n      return [...accumulator, { masterCourseCode, courseCode: newCourseCode }];\n    }, []);\n\n    if (courseCodePairs.length === 0) {\n      showToast('No new course codes found in search bar', 'maroon');\n      return;\n    }\n\n    const message = `Added ${courseCodePairs.length} class(es) to ${currentSection}`;\n\n    try {\n      await addMultipleClasses({\n        userKey,\n        courseCodePairs,\n        courseTerm: currentSection,\n        userName\n      }).unwrap();\n      showToast(message, 'green');\n      handleRefresh();\n    } catch (e) {\n      console.warn('Mass import error: ', e);\n      showToast('Error adding classes', 'maroon');\n    }\n  };\n\n  const handleSwapAddedClasses = async (from: number, to: number) => {\n    if (from === to) {\n      return;\n    }\n    try {\n      await swapAddedClasses({\n        firstPosition: from,\n        secondPosition: to,\n        userKey,\n        termToUpdate: currentSection,\n        userName: userData.userName\n      }).unwrap();\n    } catch (e) {\n      console.warn('Error swapping classes: ', e);\n    }\n  };\n\n  const renderItem = ({ item: [masterCourseCode, courseInfo] }) => {\n    // check if course is in addedClasses set and set to true if it is\n    const inItem = new Array(courseInfo.times.length);\n    let inItemSize = 0;\n    const schedule = courseInfo.times.map((time) => {\n      if (isClassAdded(time.courseCode, masterCourseCode)) {\n        inItem[inItemSize++] = time.courseCode;\n        return { ...time, added: true };\n      }\n      return { ...time, added: false };\n    });\n\n    return (\n      <Item\n        courseName={courseInfo.courseName}\n        masterCourseCode={masterCourseCode}\n        schedule={schedule}\n        menuOpen={menuOpen}\n        setIsMenuOpen={setMenuOpen}\n        darkMode={darkMode}\n        handleClassSelected={handleClassSelected}\n        handleAddClass={handleAddClass}\n        handleRemoveClass={handleRemoveClass}\n        inItem={inItem}\n        isMobile={isMobile}\n      />\n    );\n  };\n\n  const accessoryLeft = (\n    <Layout style={{ flexDirection: 'row', backgroundColor: 'transparent' }}>\n      {isMobile && (\n        <TouchableOpacity\n          onPress={() => setAddedClassesVisible(!addedClassesVisible)}\n          disabled={!classes || Object.keys(classes).length === 0}\n          style={{ justifyContent: 'center', marginRight: 10 }}\n        >\n          <FontAwesome5\n            name=\"list-ul\"\n            size={24}\n            color={\n              darkMode ? theme['color-basic-500'] : theme['color-basic-200']\n            }\n          />\n          {length > 0 ? (\n            <Layout\n              style={{\n                position: 'absolute',\n                backgroundColor: darkMode ? 'red' : '#fff',\n                borderRadius: 10,\n                paddingHorizontal: 3,\n                right: -7,\n                top: -3\n              }}\n            >\n              <Text>{length}</Text>\n            </Layout>\n          ) : null}\n        </TouchableOpacity>\n      )}\n      <TouchableOpacity\n        style={{ justifyContent: 'center', marginRight: 10 }}\n        onPress={() => setFiltersMenuVisible(!filtersMenuVisible)}\n      >\n        <FontAwesome5\n          name=\"filter\"\n          size={22}\n          color={darkMode ? theme['color-basic-500'] : theme['color-basic-200']}\n        />\n      </TouchableOpacity>\n    </Layout>\n  );\n\n  const renderFilteredCollegesList = () => {\n    const filteredColleges = Object.keys(filters.colleges).filter(\n      (c) => filters.colleges[c]\n    );\n\n    if (\n      filteredColleges.length !== Object.keys(filters.colleges).length &&\n      filteredColleges.length !== 0\n    ) {\n      return (\n        <TouchableOpacity\n          style={{ paddingTop: 5 }}\n          onPress={() => setFiltersMenuVisible(!filtersMenuVisible)}\n        >\n          <Text category=\"label\" style={{ fontStyle: 'italic', color: '#fff' }}>\n            {`Colleges: ${filteredColleges.join(', ')}`}\n          </Text>\n        </TouchableOpacity>\n      );\n    }\n    return <Layout style={{ backgroundColor: 'transparent', marginTop: 20 }} />;\n  };\n\n  const dismissSuggestions = () => {\n    LayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n    dispatch(suggestedClassesDimissed());\n  };\n\n  const addedClassesWebView = () => {\n    const title = (\n      <Layout\n        style={{\n          width: '100%',\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          padding: 10\n        }}\n      >\n        <TouchableOpacity\n          onPress={() => setAddedClassesVisible(!addedClassesVisible)}\n        >\n          <FontAwesome5 name=\"expand\" size={20} />\n        </TouchableOpacity>\n        <Text category=\"h5\">Added Classes</Text>\n        {bottomHeight !== MIN_WINDOW_HEIGHT ? (\n          <TouchableOpacity\n            onPress={() => {\n              setBottomHeight(MIN_WINDOW_HEIGHT);\n            }}\n          >\n            <FontAwesome5 name=\"chevron-down\" size={20} />\n          </TouchableOpacity>\n        ) : (\n          <TouchableOpacity\n            onPress={() => {\n              setBottomHeight(dimensions.height / 4);\n            }}\n          >\n            <FontAwesome5 name=\"chevron-up\" size={20} />\n          </TouchableOpacity>\n        )}\n      </Layout>\n    );\n    return (\n      <>\n        {!isMobile && (\n          <Layout\n            style={[\n              {\n                height: DIVIDER_HEIGHT,\n                alignItems: 'center',\n                justifyContent: 'center',\n                // @ts-ignore\n                cursor: 'row-resize'\n              },\n              isDividerClicked\n                ? { backgroundColor: theme['color-basic-300'] }\n                : { backgroundColor: theme['color-basic-200'] }\n            ]}\n            {..._panResponder.current.panHandlers}\n          >\n            {/* <Entypo name=\"dots-three-horizontal\" size={20} /> */}\n          </Layout>\n        )}\n\n        {orderedAddedClasses &&\n        currentSection &&\n        classes &&\n        Object.keys(classes).length !== 0 ? (\n          <Animated.View style={{ height: bottomHeight }}>\n            <AddedClasses\n              setAddedClassesVisible={setAddedClassesVisible}\n              addedClasses={orderedAddedClasses[currentSection] || []}\n              handleRemoveClass={handleRemoveClass}\n              darkMode={darkMode}\n              handleSwapAddedClasses={handleSwapAddedClasses}\n              bottomSheetRef={bottomSheetRef}\n              starredClasses={userData.starredClasses}\n              currentSection={currentSection}\n              title={title}\n            />\n          </Animated.View>\n        ) : (\n          <Layout\n            style={{\n              flex: 1,\n              alignItems: 'center',\n              borderRadius: 20,\n              paddingTop: 50\n            }}\n          >\n            <Layout\n              style={{\n                width: '100%',\n                flexDirection: 'row',\n                justifyContent: 'space-between',\n                padding: 10\n              }}\n            >\n              <TouchableOpacity\n                onPress={() => setAddedClassesVisible(!addedClassesVisible)}\n              >\n                <FontAwesome5 name=\"expand\" size={20} />\n              </TouchableOpacity>\n              <Text category=\"h5\">Added Classes</Text>\n              {bottomHeight !== MIN_WINDOW_HEIGHT ? (\n                <TouchableOpacity\n                  onPress={() => {\n                    setBottomHeight(MIN_WINDOW_HEIGHT);\n                  }}\n                >\n                  <FontAwesome5 name=\"chevron-down\" size={20} />\n                </TouchableOpacity>\n              ) : (\n                <Layout />\n              )}\n            </Layout>\n          </Layout>\n        )}\n      </>\n    );\n  };\n\n  // Decide what content to render\n  let content: keyof JSX.IntrinsicElements | JSX.Element;\n\n  if (classListLoading || !userInfoSuccess) {\n    content = <Message title=\"Loading Classes\" item={<Spinner />} />;\n  } else if (isError) {\n    content = (\n      <Message\n        title=\"Error Loading Classes\"\n        item={<Button onPress={fetchClasses}>Refresh</Button>}\n      />\n    );\n  } else {\n    content = (\n      <List\n        style={{ backgroundColor: 'transparent' }}\n        contentContainerStyle={{ paddingBottom: 20 }}\n        ListHeaderComponent={\n          Object.entries(suggestedClasses).length > 0 &&\n          searchTerm.length === 0 && (\n            <List\n              ListHeaderComponent={\n                <Layout\n                  style={{\n                    marginLeft: 20,\n                    marginRight: 25,\n                    backgroundColor: 'transparent',\n                    flexDirection: 'row',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  }}\n                >\n                  <Text category=\"label\" style={{ color: '#fff' }}>\n                    Suggested Electives\n                  </Text>\n                  <TouchableOpacity onPress={dismissSuggestions}>\n                    <FontAwesome5 name=\"times\" size={24} color=\"#fff\" />\n                  </TouchableOpacity>\n                </Layout>\n              }\n              style={{\n                backgroundColor: 'rgba(0,0,0,.2)',\n                borderRadius: 20,\n                margin: 10,\n                paddingBottom: 10,\n                paddingTop: 3\n              }}\n              contentContainerStyle={{ paddingBottom: 100 }}\n              data={Object.entries(suggestedClasses)}\n              renderItem={renderItem}\n              keyExtractor={([courseCode, _]) => courseCode}\n              onScroll={Keyboard.dismiss}\n              scrollEventThrottle={16}\n            />\n          )\n        }\n        data={Object.entries(renderedClasses).slice(\n          0,\n          renderedResultsLimit * page\n        )}\n        renderItem={renderItem}\n        keyExtractor={([courseCode, _]) => courseCode}\n        maxToRenderPerBatch={10}\n        ListEmptyComponent={\n          <Message\n            title=\"No Classes Found\"\n            item={<Button onPress={fetchClasses}>Refresh</Button>}\n          />\n        }\n        initialNumToRender={10}\n        showsVerticalScrollIndicator={Platform.OS === 'web'}\n        // ListHeaderComponent={() => <Layout style={{minHeight: 67, opacity: 0}}/>}\n        onEndReachedThreshold={0.5}\n        onEndReached={() => dispatch(endOfListReached())}\n        refreshControl={\n          <RefreshControl\n            refreshing={classListLoading}\n            onRefresh={handleRefresh}\n            title=\"Pull to refresh\"\n            tintColor={theme['color-basic-100']}\n            titleColor={theme['color-basic-100']}\n          />\n        }\n        ref={(ref) => {\n          setListRef(ref);\n        }}\n      />\n    );\n  }\n\n  return (\n    <Layout\n      style={{\n        flex: 1,\n        // @ts-ignore\n        cursor: isDividerClicked ? 'row-resize' : null\n      }}\n    >\n      <Animated.View\n        style={[\n          { flex: 1 },\n          !isMobile && { minHeight: MIN_WINDOW_HEIGHT, height: topHeight }\n        ]}\n      >\n        <LinearGradient\n          colors={\n            darkMode\n              ? [theme['color-basic-1100'], theme['color-basic-1100']]\n              : [theme['color-primary-500'], theme['color-success-500']]\n          }\n          style={{ width: '100%', margin: 0, flex: 1 }}\n          start={{ x: 0, y: 0 }}\n          end={{ x: 1, y: 0.4 }}\n        >\n          <LinearGradient\n            colors={[\n              // 'rgba(219,76,113,1)',\n              // 'rgba(219,76,113,00)',\n\n              'rgba(225,78,106,0)',\n              'rgba(225,78,106,0)'\n              // 'rgba(225,78,106,.6)',\n              // 'rgba(225,78,106,0)',\n            ]}\n            locations={[0, 1]}\n            style={{\n              zIndex: 1,\n              width: '100%',\n              paddingHorizontal: 20,\n              paddingTop: 14\n            }}\n          >\n            {isMobile && (\n              <CurrentTermLabel\n                navigation={navigation}\n                currentSection={currentSection}\n                textStyle={{ color: '#fff', paddingBottom: 5, marginLeft: 80 }}\n              />\n            )}\n            <SearchBar\n              accessoryLeft={accessoryLeft}\n              searchTerm={searchTerm}\n              onChangeText={handleSearch}\n              inputProps={{ autoCorrect: false }}\n              placeholder=\"Search classes...\"\n              showCancelButton={isMobile}\n              cancelButtonAction={handleRefresh}\n              showXButton={Platform.OS !== 'web'}\n            />\n            {searchTerm?.length > 30 ? (\n              <TouchableOpacity\n                style={{ marginLeft: 60, marginTop: 5 }}\n                onPress={handleMassImport}\n              >\n                <Text style={{ color: '#fff' }}>\n                  <FontAwesome5 name=\"file-import\" color=\"#fff\" />\n                  {` Import Full Schedule`}\n                </Text>\n              </TouchableOpacity>\n            ) : null}\n            {renderFilteredCollegesList()}\n          </LinearGradient>\n\n          {content}\n        </LinearGradient>\n\n        <ModalContainer\n          setBackDropVisible={setAddedClassesVisible}\n          coverScreen={Platform.OS === 'web'}\n          backDropVisible={addedClassesVisible}\n          title=\"Added Classes\"\n          modalStyle={{ maxWidth: 400 }}\n        >\n          {orderedAddedClasses && currentSection ? (\n            <AddedClasses\n              setAddedClassesVisible={setAddedClassesVisible}\n              addedClasses={orderedAddedClasses[currentSection] || []}\n              handleRemoveClass={handleRemoveClass}\n              darkMode={darkMode}\n              handleSwapAddedClasses={handleSwapAddedClasses}\n              bottomSheetRef={bottomSheetRef}\n              starredClasses={userData.starredClasses}\n              currentSection={currentSection}\n            />\n          ) : (\n            <Layout\n              style={{\n                flex: 1,\n                alignItems: 'center',\n                borderRadius: 20,\n                paddingTop: 50\n              }}\n            >\n              <Text>Loading</Text>\n              <Spinner />\n            </Layout>\n          )}\n        </ModalContainer>\n\n        <ModalContainer\n          setBackDropVisible={setFiltersMenuVisible}\n          backDropVisible={filtersMenuVisible}\n          title=\"Filters\"\n        >\n          <FilterClasses\n            setFiltersMenuVisible={setFiltersMenuVisible}\n            darkMode={darkMode}\n          />\n        </ModalContainer>\n      </Animated.View>\n\n      {!isMobile && addedClassesWebView()}\n\n      {Platform.OS !== 'web' && (\n        <SingleClassPage bottomSheetRef={bottomSheetRef} />\n      )}\n    </Layout>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport React from 'react';\n\nimport ClassesList from '../../classPages/ClassesList';\nimport SingleClassPage from '../../classPages/SingleClassPage';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function ClassListPage() {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"ClassesList\"\n        component={ClassesList}\n        options={{\n          headerShown: false,\n          title: ''\n        }}\n      />\n      <Stack.Screen\n        name=\"SingleClassPage\"\n        component={SingleClassPage}\n        options={{\n          headerShown: false\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { apiSlice } from '../api/apiSlice';\n\nexport const base_URL = 'https://api.athenaserver.com:5678/api';\n","import { Class } from '../../app/types';\n\nexport default class CalendarFunctions {\n  convertTo12HourTime(time) {\n    if (time.length !== 5) {\n      time = `0${time}`;\n    }\n    let hours = time.slice(0, 2);\n    const minutes = time.slice(3, 5);\n    let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n    hours %= 12;\n    if (hours === 0) {\n      hours = 12;\n      ampm = 'pm';\n    }\n    return `${hours}:${minutes}${ampm}`;\n  }\n\n  getColor(string: string) {\n    let final = 0;\n    for (let charIndex = 0; charIndex < string.length; charIndex++) {\n      final += string.charCodeAt(charIndex);\n    }\n    final -= Number(final.toString()[0]) * 10 ** (final.toString().length - 1);\n    final /= 10 ** final.toString().length;\n    return `hsl(${180 * final + 90},${30 + 65 * final}%,${50 + 15 * final}%)`;\n  }\n\n  stringToColour(str: string) {\n    return this.getColor(str);\n  }\n\n  getMinutesDiff(startTime, endTime, minuteHeight) {\n    if (endTime > startTime) {\n      return (endTime - startTime) * minuteHeight;\n    }\n    if (startTime === endTime) {\n      return 0;\n    }\n    return (startTime - endTime) * -minuteHeight;\n  }\n\n  getFullClassData(courseCode: string, allClassData: any): Class {\n    const APIdata = allClassData;\n    const generalCourseCode = courseCode.split('-').slice(0, -1).join('-');\n    return APIdata[generalCourseCode];\n  }\n}\n","import React from 'react';\nimport {\n  Dimensions,\n  Platform,\n  Text,\n  TouchableOpacity,\n  View,\n  useWindowDimensions\n} from 'react-native';\n\nimport CalendarFunctions from './CalendarFunctions';\nimport { scale } from '../../functions';\nimport { useAppSelector } from '../../app/hooks';\n\nexport default function ScheduledItem({\n  masterClassInfo,\n  meetingTime,\n  courseCode,\n  handleClassSelected = (string: string) => {},\n  setMenuCourseCode,\n  disableLongPress = false,\n  extraTransparency = false,\n  dimensions\n}) {\n  const isMobile = useAppSelector((state) => state.appData.secure.isMobile);\n  const calendarFun = new CalendarFunctions();\n  const universalHeight = (dimensions.height - 50) / 12;\n  const minuteHeight = universalHeight / 60;\n\n  const [startHour, startMinute] = meetingTime.startTime.split(':');\n  const { courseName } = masterClassInfo;\n  const [endHour, endMinute] = meetingTime.endTime.split(':');\n  const color = calendarFun.stringToColour(masterClassInfo.masterCourseCode);\n  const code = courseCode.split(' ');\n\n  return (\n    <TouchableOpacity\n      key={courseCode}\n      style={{\n        // @ts-ignore\n        backgroundColor: extraTransparency ? 'rgba(0, 0, 0, 0.5)' : color,\n        top: universalHeight * startHour + startMinute * minuteHeight,\n        height:\n          universalHeight * (endHour - startHour) +\n          calendarFun.getMinutesDiff(startMinute, endMinute, minuteHeight),\n        width: '100%',\n        position: 'absolute',\n        margin: 0,\n        justifyContent: 'center'\n      }}\n      onPress={() => {\n        handleClassSelected(masterClassInfo.masterCourseCode);\n      }}\n      onLongPress={() => {\n        if (!disableLongPress) {\n          setMenuCourseCode({ key: courseCode });\n        }\n      }}\n    >\n      {isMobile && (\n        <Text\n          adjustsFontSizeToFit\n          numberOfLines={5}\n          style={{\n            color: parseInt(color.slice(1), 16) > 9079434 ? 'black' : 'white',\n            fontSize: 12,\n            fontWeight: 'bold',\n            marginHorizontal: 0.5,\n            textAlign: 'center'\n          }}\n        >\n          {code[0]} {code[1]}\n          {'\\n'}\n          {code[2]}\n          {/* {meetingTime.classLocation\n            ? `\\n(${meetingTime.classLocation})`\n            : null} */}\n          <Text style={{ fontSize: 12, fontWeight: 'normal' }}>\n            {`\\n\\n(${courseName})`}\n          </Text>\n        </Text>\n      )}\n      {!isMobile && (\n        <View style={{ flexDirection: 'column' }}>\n          <Text\n            style={{\n              color: parseInt(color.slice(1), 16) > 9079434 ? 'black' : 'white',\n              fontSize:\n                scale(4, dimensions.width) < 15\n                  ? scale(4, dimensions.width)\n                  : 16,\n              fontWeight: 'bold',\n              marginHorizontal: 3,\n              textAlign: 'center'\n            }}\n          >\n            {code[0]} {code[1]} {code[2]}\n          </Text>\n          <Text\n            style={{\n              color: parseInt(color.slice(1), 16) > 9079434 ? 'black' : 'white',\n              fontSize:\n                scale(4, dimensions.width) < 13\n                  ? scale(4, dimensions.width)\n                  : 13,\n              marginHorizontal: 3,\n              textAlign: 'center',\n              marginTop: 5\n            }}\n          >\n            {/* {meetingTime.classLocation\n              ? `(${meetingTime.classLocation})`\n              : null} */}\n            {`${courseName}`}\n          </Text>\n        </View>\n      )}\n    </TouchableOpacity>\n  );\n}\n","import React from 'react';\nimport { Dimensions, Text, TouchableOpacity } from 'react-native';\nimport Toast from 'react-native-root-toast';\n\nimport CalendarFunctions from './CalendarFunctions';\n\nexport default function renderCustomEvent(\n  event,\n  userData,\n  userKey,\n  editUser,\n  setMenuEvent,\n  disableLongPress: boolean = false,\n  extraTransparency = false,\n  dimensions: any\n) {\n  const universalHeight = (dimensions.height - 50) / 12;\n  const minuteHeight = universalHeight / 60;\n  const calendarFun = new CalendarFunctions();\n  const [startHour, startMinute] = event.startTime.split(':');\n  const [endHour, endMinute] = event.endTime.split(':');\n  const color = calendarFun.stringToColour(event.name);\n\n  function removeEvent(event: any) {\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify({\n        removeCustomEvent: {\n          name: event.name,\n          startTime: event.startTime,\n          endTime: event.endTime,\n          days: event.days\n        }\n      })\n    })\n      .unwrap()\n      .catch(() => {\n        Toast.show('Failed to remove event.\\nPlease try again later', {\n          duration: Toast.durations.SHORT,\n          opacity: 1,\n          position: -100,\n          backgroundColor: 'grey',\n          shadow: false\n        });\n      });\n  }\n\n  return (\n    <TouchableOpacity\n      onLongPress={() => {\n        if (!disableLongPress) {\n          setMenuEvent({ key: event.name, event });\n        }\n        // Alert.alert(\n        //   event.name,\n        //   `${calendarFun.convertTo12HourTime(\n        //     event.startTime\n        //   )} - ${calendarFun.convertTo12HourTime(event.endTime)}`,\n        //   [\n        //     {\n        //       text: 'Remove',\n        //       onPress: () => {\n        //         removeEvent(event);\n        //       }\n        //     },\n        //     {\n        //       text: 'Back',\n        //       onPress: () => {},\n        //       style: 'cancel'\n        //     }\n        //   ],\n        //   { cancelable: true }\n        // );\n      }}\n      key={event.name + event.days}\n      style={{\n        backgroundColor: extraTransparency ? 'rgba(0, 0, 0, 0.5)' : color,\n        top: universalHeight * startHour + startMinute * minuteHeight,\n        height:\n          universalHeight * (endHour - startHour) +\n          calendarFun.getMinutesDiff(startMinute, endMinute, minuteHeight),\n        width: '100%',\n        position: 'absolute',\n        justifyContent: 'center'\n      }}\n    >\n      <Text\n        adjustsFontSizeToFit\n        numberOfLines={endHour - startHour + 2}\n        style={{ color: 'white', textAlign: 'center' }}\n      >\n        {event.name}\n      </Text>\n    </TouchableOpacity>\n  );\n}\n","import { Entypo, FontAwesome5 } from '@expo/vector-icons';\nimport BottomSheet from '@gorhom/bottom-sheet/lib/typescript/components/bottomSheet/BottomSheet';\nimport { useNavigation } from '@react-navigation/native';\nimport { Button, useTheme } from '@ui-kitten/components';\nimport React, { useEffect, useRef, useState } from 'react';\nimport {\n  Dimensions,\n  PanResponder,\n  Platform,\n  ScrollView,\n  Text,\n  View,\n  useWindowDimensions,\n  TouchableOpacity\n} from 'react-native';\nimport Animated from 'react-native-reanimated';\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { CustomEvent } from '../../app/types';\nimport ModalContainer from '../../components/ModalContainer';\nimport { getMasterCourseCodeFromCourseCode, showToast } from '../../functions';\nimport { useRemoveClassMutation } from '../api/classPagesApi';\nimport { useEditUserMutation, useGetUserInfoQuery } from '../api/usersApi';\nimport { CurrentTermLabel } from '../classPages/ClassesList';\nimport SingleClassPage from '../classPages/SingleClassPage';\nimport {\n  classSelected,\n  selectClassesList\n} from '../classPages/classPagesSlice';\nimport ClassListPage from '../combinedCalender/classList';\nimport { base_URL } from '../notifications/constants';\nimport CalendarFunctions from './CalendarFunctions';\nimport RenderedItem from './ScheduledItem';\nimport renderCustomEvent from './customEvent';\n\n// LogBox.ignoreAllLogs();\nconst DIVIDER_WIDTH = 15;\nconst TICKER_UPDATE_INTERVAL = 5 * 60 * 1000;\n\nexport default function CalendarRender({\n  route: {\n    params: { overrideData }\n  }\n}) {\n  const [showOverlay, setShowOverlay] = useState(false);\n  const isWeb = Platform.OS === 'web';\n  const theme = useTheme();\n  const [editUser] = useEditUserMutation();\n  const [removeClass] = useRemoveClassMutation();\n  const userKey = useAppSelector(selectUserKey);\n  const isThreeDay = useAppSelector(\n    (state) => state.appData.calendar.isThreeDay\n  );\n  const isMobile = useAppSelector((state) => state.appData.secure.isMobile);\n  const navigation = useNavigation();\n\n  const topBar = useRef(null);\n  const verticalRef = useRef(null);\n  const [isRightWindowOpen, setIsRightWindowOpen] = useState(true);\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [startingOffset, setStartingOffset] = useState({\n    x: 0,\n    y: isWeb ? 500 : 525\n  });\n  const dimensions = useWindowDimensions();\n  const [rightWidth, setRightWidth] = useState(\n    (2 * (dimensions.width - DIVIDER_WIDTH - 100)) / 7\n  );\n  const [menuCourseCode, setMenuCourseCode] = useState<\n    { key: string } | boolean\n  >(false);\n  const [menuCustomEvent, setMenuCustomEvent] = useState<\n    { key: string; event: CustomEvent } | boolean\n  >(false);\n  const leftWidth = dimensions.width - DIVIDER_WIDTH;\n  const minimumWidth = (2 * (dimensions.width - DIVIDER_WIDTH - 100)) / 7;\n\n  const _panResponder = useRef(getPanResponder());\n  const dispatch = useAppDispatch();\n  const bottomSheetRef = useRef<BottomSheet>(null);\n  const darkMode: boolean = useAppSelector(selectDarkMode);\n  const calendarFun = new CalendarFunctions();\n  const [isDividerClicked, setIsDividerClicked] = useState(false);\n  const universalHeight = (dimensions.height - 50) / 12;\n  const threeDayWidth = (dimensions.width - 75) / 3;\n  const fiveDayWidth = isMobile\n    ? (dimensions.width - 75) / 5\n    : (dimensions.width - 75) / 7;\n  const [classes, setClasses] = useState({\n    Monday: [],\n    Tuesday: [],\n    Wednesday: [],\n    Thursday: [],\n    Friday: [],\n    Saturday: [],\n    Sunday: []\n  });\n  const days = [\n    { day: 'Mon', id: 'Monday' },\n    { day: 'Tues', id: 'Tuesday' },\n    { day: 'Wed', id: 'Wednesday' },\n    { day: 'Thurs', id: 'Thursday' },\n    { day: 'Fri', id: 'Friday' },\n    { day: 'Sat', id: 'Saturday' },\n    { day: 'Sun', id: 'Sunday' }\n  ];\n  const times = [\n    '12:00 AM',\n    '1:00 AM',\n    '2:00 AM',\n    '3:00 AM',\n    '4:00 AM',\n    '5:00 AM',\n    '6:00 AM',\n    '7:00 AM',\n    '8:00 AM',\n    '9:00 AM',\n    '10:00 AM',\n    '11:00 AM',\n    '12:00 PM',\n    '1:00 PM',\n    '2:00 PM',\n    '3:00 PM',\n    '4:00 PM',\n    '5:00 PM',\n    '6:00 PM',\n    '7:00 PM',\n    '8:00 PM',\n    '9:00 PM',\n    '10:00 PM',\n    '11:00 PM'\n  ];\n\n  const { data: userData } = useGetUserInfoQuery(userKey);\n  const orderedAddedClasses = userData?.addedClasses?.orderedClasses;\n\n  const allClassData = useAppSelector(selectClassesList);\n  const [overrideClassesToRender, setOverrideClassesToRender] = useState([]);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n\n  const today = new Date().getDay() !== 0 ? new Date().getDay() - 1 : 6;\n\n  useEffect(() => {\n    try {\n      if (overrideData.length !== 0) {\n        getOverrideCourseData().then(() => {});\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n    if (isWeb) {\n      verticalRef.current?.scrollTo({\n        y: dimensions.height / 1.9\n      });\n    }\n\n    // Recalculate time\n    setInterval(() => {\n      setCurrentTime(new Date());\n    }, TICKER_UPDATE_INTERVAL);\n  }, []);\n\n  useEffect(() => {\n    _panResponder.current = getPanResponder();\n  }, [dimensions.width]);\n\n  async function getOverrideCourseData() {\n    const stringOverrideData = JSON.stringify(\n      overrideData.map((course) => {\n        return course.courseCode.slice(0, -3);\n      })\n    );\n    const response = await fetch(\n      `${base_URL}/classes/claremontColleges?listOfCourses=${stringOverrideData}&courseTerm=${overrideData[0].courseTerm}`,\n      {\n        headers: {\n          userKey,\n          'content-type': 'application/json'\n        },\n        method: 'GET'\n      }\n    );\n    setOverrideClassesToRender(await response.json());\n  }\n\n  const renderCustomEvents = (\n    elem,\n    extraTransparency = false,\n    disableInteractions = false\n  ) => {\n    const finalRender = [];\n    if (!userData.customEvents) {\n      return null;\n    }\n    for (const event of userData.customEvents) {\n      if (event.days.length > 0) {\n        if (event.days.includes(elem.id)) {\n          finalRender.push(\n            renderCustomEvent(\n              event,\n              userData,\n              userKey,\n              editUser,\n              setMenuCustomEvent,\n              disableInteractions,\n              extraTransparency,\n              dimensions\n            )\n          );\n        }\n      } else if (\n        event.date &&\n        eventIsThisDay(elem.id, new Date(event.date)) &&\n        showThisWeek(new Date(event.date))\n      ) {\n        finalRender.push(\n          renderCustomEvent(\n            event,\n            userData,\n            userKey,\n            editUser,\n            setMenuCustomEvent,\n            disableInteractions,\n            extraTransparency,\n            dimensions\n          )\n        );\n      }\n    }\n    return finalRender;\n  };\n\n  function getPanResponder() {\n    return PanResponder.create({\n      // @ts-ignore\n      onMoveShouldSetResponderCapture: () => true,\n      onMoveShouldSetPanResponderCapture: () => true,\n\n      onPanResponderGrant: (e, gestureState) => {\n        setIsDividerClicked(true);\n      },\n\n      onPanResponderMove: (e, gestureState) => {\n        const newRight = dimensions.width - gestureState.moveX;\n\n        if (newRight < minimumWidth) {\n          setRightWidth(minimumWidth);\n        } else if (newRight > dimensions.width - minimumWidth) {\n          setRightWidth(dimensions.width - minimumWidth);\n        } else {\n          setRightWidth(newRight);\n        }\n      },\n\n      onPanResponderRelease: (e, gestureState) => {\n        setIsDividerClicked(false);\n      }\n    });\n  }\n\n  function eventIsThisDay(dayString: string, date: Date) {\n    const dayOfWeek = adjustDays(date.getDay());\n    return dayString === days[dayOfWeek].id;\n  }\n\n  function adjustDays(dayOfWeek) {\n    if (dayOfWeek === 0) {\n      dayOfWeek = 6;\n    } else {\n      dayOfWeek -= 1;\n    }\n    return dayOfWeek;\n  }\n\n  function getMs(hours, minutes, seconds) {\n    let final = 0;\n    final += hours * 3600000;\n    final += minutes * 60000;\n    final += seconds * 1000;\n    return final;\n  }\n\n  function showThisWeek(dateOfEvent: Date) {\n    const currentDate = new Date();\n    const currentDayOfWeek = adjustDays(currentDate.getDay());\n    const startOfWeek = new Date(\n      currentDate.valueOf() -\n        currentDayOfWeek * 86400000 -\n        getMs(\n          currentDate.getHours(),\n          currentDate.getMinutes(),\n          currentDate.getSeconds()\n        )\n    );\n    const endOfWeek = new Date(\n      currentDate.valueOf() +\n        (6 - currentDayOfWeek) * 86400000 +\n        getMs(\n          23 - currentDate.getHours(),\n          59 - currentDate.getMinutes(),\n          59 - currentDate.getSeconds()\n        )\n    );\n    return !(\n      dateOfEvent.valueOf() > endOfWeek.valueOf() ||\n      dateOfEvent.valueOf() < startOfWeek.valueOf()\n    );\n  }\n\n  const handleClassSelected = (courseCode: string) => {\n    dispatch(classSelected(courseCode));\n    if (Platform.OS === 'web') {\n      // @ts-ignore\n      navigation.navigate('SingleClassPage');\n    } else {\n      bottomSheetRef.current?.snapToIndex(0);\n    }\n  };\n\n  const handleRemoveClass = () => {\n    if (typeof menuCourseCode !== 'object') {\n      return;\n    }\n    const masterCourseCode = getMasterCourseCodeFromCourseCode(\n      menuCourseCode.key\n    );\n    try {\n      removeClass({\n        userKey,\n        courseCode: menuCourseCode.key,\n        courseTerm: currentSection,\n        userName: userData.userName,\n        masterCourseCode\n      }).unwrap();\n      setMenuCourseCode(false);\n    } catch (e) {\n      console.warn('Add class error: ', e);\n      showToast('Failed to remove class', 'red');\n    }\n  };\n\n  function renderOverlayOption() {\n    return (\n      <TouchableOpacity\n        style={{\n          borderWidth: 1,\n          borderColor: 'rgba(0,0,0,0.2)',\n          alignItems: 'center',\n          justifyContent: 'center',\n          position: 'absolute',\n          bottom: 50,\n          right: isWeb ? undefined : 25,\n          left: isWeb ? 100 : undefined,\n          width: 100,\n          height: 100,\n          backgroundColor: 'rgba(149,56,182,0.59)',\n          borderRadius: 50\n        }}\n        onPress={() => {\n          setShowOverlay(!showOverlay);\n        }}\n      >\n        <Text>\n          {`${showOverlay ? 'Disable' : 'Enable'}\\n`}\n          Overlay\n        </Text>\n      </TouchableOpacity>\n    );\n  }\n\n  const handleRemoveCustomEvent = () => {\n    if (typeof menuCustomEvent !== 'object') {\n      return;\n    }\n    const { event } = menuCustomEvent;\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify({\n        removeCustomEvent: {\n          name: event.name,\n          startTime: event.startTime,\n          endTime: event.endTime,\n          days: event.days\n        }\n      })\n    })\n      .unwrap()\n      .then(() => {\n        setMenuCustomEvent(false);\n      })\n      .catch((e) => {\n        showToast('Failed to remove event', 'red');\n        console.warn(\"Couldn't remove custom event: \", e);\n      });\n  };\n\n  function renderDashes() {\n    const final = [];\n    for (let i = 0; i < 24; i++) {\n      final.push(\n        <View\n          key={i}\n          style={{\n            width: (isThreeDay ? threeDayWidth : fiveDayWidth) * 0.73016,\n            marginLeft: (isThreeDay ? threeDayWidth : fiveDayWidth) * 0.14286,\n            top: universalHeight * i,\n            position: 'absolute',\n            height: universalHeight,\n            borderBottomWidth: Platform.OS === 'web' ? 2 : 1,\n            borderBottomColor: darkMode ? 'rgb(68,68,68)' : 'rgb(204,204,204)'\n          }}\n        />\n      );\n    }\n    return final;\n  }\n\n  const renderClasses = (\n    elem,\n    extraTransparency = false,\n    disableInteractions = false\n  ) => {\n    const classes = [];\n    Object.keys(orderedAddedClasses).map((term) => {\n      if (term === currentSection) {\n        // @ts-ignore\n        orderedAddedClasses[term]\n          .slice()\n          .reverse()\n          .map((courseCode) => {\n            try {\n              const data = calendarFun.getFullClassData(\n                courseCode,\n                allClassData\n              );\n              if (!data) return <View />; // catch for somehow missing data; usually cached issue or missing term information; not sure\n              const data2 = data.times.find(\n                (time) => time.courseCode === courseCode\n              );\n              for (const meetingTime of data2.courseSchedule) {\n                for (const day in meetingTime.daysOfTheWeek) {\n                  if (meetingTime.daysOfTheWeek[day] === elem.id) {\n                    classes.push(\n                      <RenderedItem\n                        masterClassInfo={data}\n                        meetingTime={meetingTime}\n                        courseCode={courseCode}\n                        handleClassSelected={handleClassSelected}\n                        setMenuCourseCode={setMenuCourseCode}\n                        disableLongPress={disableInteractions}\n                        extraTransparency={extraTransparency}\n                        dimensions={dimensions}\n                      />\n                    );\n                  }\n                }\n              }\n            } catch (e) {\n              console.warn(e);\n            }\n          });\n      }\n    });\n    return classes;\n  };\n\n  function renderClassesForOverride(elem) {\n    const classes = [];\n    if (overrideClassesToRender.length > 0) {\n      for (const courseCode of overrideData.map((course) => {\n        return course.courseCode;\n      })) {\n        try {\n          const data = overrideClassesToRender.find((course) =>\n            course.times.some(\n              (courseTime) => courseTime.courseCode === courseCode\n            )\n          );\n          const data2 = data.times.find(\n            (time) => time.courseCode === courseCode\n          );\n          for (const meetingTime of data2.courseSchedule) {\n            for (const day in meetingTime.daysOfTheWeek) {\n              if (meetingTime.daysOfTheWeek[day] === elem.id) {\n                classes.push(\n                  <RenderedItem\n                    masterClassInfo={data}\n                    meetingTime={meetingTime}\n                    courseCode={courseCode}\n                    handleClassSelected={handleClassSelected}\n                    setMenuCourseCode={setMenuCourseCode}\n                    disableLongPress\n                    extraTransparency={false}\n                    dimensions={dimensions}\n                  />\n                );\n              }\n            }\n          }\n        } catch (e) {\n          console.warn(e);\n        }\n      }\n    }\n    return classes;\n  }\n\n  function renderDeleteModal(\n    event: { key: string; [key: string]: any } | boolean,\n    onRemove: () => void,\n    onCancel: () => void\n  ) {\n    return (\n      <ModalContainer\n        backDropVisible={!!event}\n        title={typeof event === 'object' ? event.key : ''}\n        setBackDropVisible={onCancel}\n        modalStyle={{ maxHeight: 200 }}\n        modalProps={{ animationOut: 'fadeOut' }}\n      >\n        <View\n          style={{\n            flex: 1,\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: 20,\n            backgroundColor: darkMode\n              ? theme['color-basic-900']\n              : theme['color-basic-100']\n          }}\n        >\n          <Button style={{ marginBottom: 10 }} onPress={onRemove}>\n            Remove\n          </Button>\n          <Button appearance=\"outline\" onPress={onCancel}>\n            Cancel\n          </Button>\n        </View>\n      </ModalContainer>\n    );\n  }\n\n  function masterRender(elem) {\n    if (overrideClassesToRender.length !== 0) {\n      if (showOverlay) {\n        return (\n          <View>\n            {renderClassesForOverride(elem)}\n            {userData?.addedClasses && renderClasses(elem, true, true)}\n            {userData?.addedClasses && renderCustomEvents(elem, true, true)}\n          </View>\n        );\n      }\n      return <View>{renderClassesForOverride(elem)}</View>;\n    }\n    return (\n      <View>\n        {userData?.addedClasses && renderClasses(elem)}\n        {userData?.addedClasses && renderCustomEvents(elem)}\n      </View>\n    );\n  }\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        backgroundColor: darkMode ? null : 'white',\n        flexDirection: 'row',\n        borderRadius: 10,\n        // @ts-ignore\n        cursor: isDividerClicked ? 'col-resize' : null\n      }}\n    >\n      <Animated.View\n        style={[\n          { flex: 1 },\n          !isMobile && { minWidth: minimumWidth, width: leftWidth }\n        ]}\n      >\n        <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\n          {/* Times */}\n          {overrideData.length === 0 && (\n            <CurrentTermLabel\n              navigation={navigation}\n              currentSection={currentSection}\n              style={{ margin: 10 }}\n            />\n          )}\n\n          {!isMobile && (\n            <Button\n              accessoryRight={() => (\n                <FontAwesome5\n                  name={isRightWindowOpen ? 'chevron-right' : 'chevron-left'}\n                  size={20}\n                  color={darkMode ? 'white' : 'black'}\n                />\n              )}\n              onPress={() => {\n                // if single class page is open, close it because it glitches out otherwise\n                navigation.goBack();\n                setIsRightWindowOpen(!isRightWindowOpen);\n              }}\n              appearance=\"ghost\"\n              status=\"basic\"\n            >\n              <Text style={{ color: '#000' }}>\n                {isRightWindowOpen ? '' : 'Open List'}\n              </Text>\n            </Button>\n          )}\n        </View>\n        <ScrollView\n          horizontal\n          snapToInterval={isThreeDay ? threeDayWidth : fiveDayWidth}\n          showsHorizontalScrollIndicator={false}\n          style={{ marginLeft: 75, height: isWeb ? 43 : undefined }}\n          ref={topBar}\n        >\n          <View style={{ flexDirection: 'row' }}>\n            {days.map((elem, index) => {\n              return (\n                <View key={index}>\n                  <View\n                    style={{\n                      borderColor: darkMode ? '#7a7a7a' : '#525252',\n                      borderBottomWidth: 1,\n                      width: '100%',\n                      borderRadius: index === today ? 5 : 0,\n                      backgroundColor:\n                        index === today ? theme['color-success-400'] : null\n                    }}\n                  >\n                    <Animated.Text\n                      style={{\n                        textAlign: 'center',\n                        // @ts-ignore\n                        userSelect: isDividerClicked ? 'none' : 'auto',\n                        width: isThreeDay ? threeDayWidth : fiveDayWidth,\n                        color:\n                          index === today\n                            ? 'white'\n                            : darkMode\n                              ? 'white'\n                              : 'black'\n                      }}\n                    >\n                      {elem.day}\n                    </Animated.Text>\n                  </View>\n                </View>\n              );\n            })}\n          </View>\n        </ScrollView>\n        <ScrollView\n          contentOffset={startingOffset}\n          showsVerticalScrollIndicator={isWeb}\n          bounces={false}\n          ref={verticalRef}\n        >\n          <View style={{ flexDirection: 'row' }}>\n            <View\n              style={{\n                justifyContent: 'space-around'\n              }}\n            >\n              {times.map((time, index) => {\n                return (\n                  <View\n                    style={{\n                      height: universalHeight,\n                      width: 75,\n                      borderTopWidth: 1,\n                      backgroundColor: darkMode\n                        ? '#2b2b2b'\n                        : theme['color-basic-200'],\n                      borderColor: darkMode ? '#7a7a7a' : '#525252'\n                    }}\n                  >\n                    <Text\n                      key={index}\n                      style={{\n                        textAlign: 'center',\n                        color: darkMode ? '#fff' : '#525252',\n                        // @ts-ignore\n                        userSelect: isDividerClicked ? 'none' : 'auto'\n                      }}\n                    >\n                      {time}\n                    </Text>\n                  </View>\n                );\n              })}\n            </View>\n            {/* Classes */}\n            <ScrollView\n              horizontal\n              snapToInterval={isThreeDay ? threeDayWidth : fiveDayWidth}\n              decelerationRate=\"normal\"\n              showsHorizontalScrollIndicator={isWeb}\n              bounces={false}\n              scrollEventThrottle={1}\n              onScroll={(e) =>\n                topBar.current.scrollTo({\n                  x: e.nativeEvent.contentOffset.x,\n                  animated: false,\n                  useNativeDriver: true\n                })\n              }\n              onMomentumScrollBegin={(e) =>\n                topBar.current.scrollTo({\n                  x: e.nativeEvent.contentOffset.x,\n                  animated: false,\n                  useNativeDriver: true\n                })\n              }\n            >\n              <View style={{ flexDirection: 'row' }}>\n                {days.map((elem, index) => {\n                  return (\n                    <View key={index}>\n                      {renderDashes()}\n                      {/* Current Time Indicator */}\n                      {index === today && (\n                        <View\n                          style={{\n                            top:\n                              universalHeight * new Date().getHours() +\n                              new Date().getMinutes() * (universalHeight / 60),\n                            position: 'absolute',\n                            height: 2,\n                            width: '100%',\n                            backgroundColor: 'red',\n                            justifyContent: 'center',\n                            zIndex: 10\n                          }}\n                        >\n                          <View\n                            style={{\n                              width: 10,\n                              height: 10,\n                              backgroundColor: 'red',\n                              borderRadius: 5,\n                              position: 'relative',\n                              right: 4\n                            }}\n                          />\n                        </View>\n                      )}\n\n                      <View\n                        key={elem.day}\n                        style={{\n                          width: isThreeDay ? threeDayWidth : fiveDayWidth\n                        }}\n                      >\n                        {masterRender(elem)}\n                      </View>\n                      <View\n                        style={{\n                          height: '100%',\n                          width: 1,\n                          backgroundColor: darkMode ? '#7a7a7a' : '#525252'\n                        }}\n                      />\n                    </View>\n                  );\n                })}\n              </View>\n            </ScrollView>\n          </View>\n        </ScrollView>\n        {Platform.OS !== 'web' && Object.entries(overrideData).length === 0 && (\n          <SingleClassPage bottomSheetRef={bottomSheetRef} />\n        )}\n      </Animated.View>\n      {!isMobile && isRightWindowOpen && (\n        <View\n          style={{ padding: 2, justifyContent: 'center', cursor: 'col-resize' }}\n          {..._panResponder.current.panHandlers}\n        >\n          <View\n            style={[\n              {\n                borderRadius: 20,\n                width: DIVIDER_WIDTH,\n                alignItems: 'center',\n                justifyContent: 'center',\n                paddingVertical: 30\n                // @ts-ignore\n              },\n              isDividerClicked\n                ? { backgroundColor: theme['color-basic-500'] }\n                : { backgroundColor: theme['color-basic-300'] }\n            ]}\n          >\n            <Entypo name=\"dots-three-vertical\" size={20} />\n          </View>\n        </View>\n      )}\n      <Animated.View\n        style={!isMobile && { width: isRightWindowOpen ? rightWidth : 0 }}\n      >\n        {!isMobile && <ClassListPage />}\n      </Animated.View>\n      {renderDeleteModal(menuCourseCode, handleRemoveClass, () => {\n        setMenuCourseCode(false);\n      })}\n      {renderDeleteModal(menuCustomEvent, handleRemoveCustomEvent, () => {\n        setMenuCustomEvent(false);\n      })}\n      {overrideData.length > 0 && renderOverlayOption()}\n    </View>\n  );\n}\n","import React from 'react';\nimport { LogBox } from 'react-native';\n\nimport CalendarRender from './CalendarRender';\n\nLogBox.ignoreAllLogs();\n\nexport default function CalendarPage({ navigation }) {\n  return (\n    <CalendarRender\n      route={{\n        params: {\n          overrideData: []\n        }\n      }}\n    />\n  );\n}\n\nconst myStyles = {\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3,\n    backgroundColor: 'black'\n  },\n  timeButton: {\n    width: 100,\n    height: 50,\n    marginHorizontal: 40,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 4,\n    backgroundColor: '#c45269'\n  },\n  timeText: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  actualTimeText: {\n    fontSize: 13,\n    lineHeight: 18,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  }\n};\n\nconst sponsorPageStyles = {\n  container: {\n    flex: 1,\n    backgroundColor: 'white'\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  description: {\n    borderWidth: 1,\n    margin: 10,\n    borderColor: '#5d5c5c',\n    borderRadius: 5,\n    width: '95%',\n    padding: 10,\n    backgroundColor: 'rgba(178,166,166,0.22)'\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n};\n","import { Layout } from '@ui-kitten/components';\nimport React from 'react';\n\nexport default function WrapItems({ childStyle, children, ...LayoutProps }) {\n  return (\n    <Layout {...LayoutProps}>\n      {React.Children.map(children, (child) => (\n        <Layout style={childStyle}>{child}</Layout>\n      ))}\n    </Layout>\n  );\n}\n","import DateTimePicker from '@react-native-community/datetimepicker';\nimport { useNavigation } from '@react-navigation/native';\nimport {\n  Button,\n  Text,\n  CheckBox,\n  Input,\n  Layout,\n  Select,\n  SelectItem\n} from '@ui-kitten/components';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport {\n  Keyboard,\n  Platform,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View\n} from 'react-native';\nimport Toast from 'react-native-root-toast';\nimport Loader from 'react-native-three-dots-loader';\n\nimport { selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport WrapItems from '../../components/WrapItems';\nimport { useEditUserMutation, useGetUserInfoQuery } from '../api/usersApi';\n\nexport default function CreateCustomEvent() {\n  const [editUser] = useEditUserMutation();\n  const [showDots, setShowDots] = useState(false);\n  const navigation = useNavigation();\n  const dateToUse = new Date();\n  const [selectedDate, setSelectedDate] = useState(dateToUse);\n  const [isOneDay, setIsOneDay] = useState(false);\n  const [allValuesPopulated, setAllValuesPopulated] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState([]);\n  const [daysArray, setDaysArray] = useState([]);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [eventTitle, setEventTitle] = useState('');\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n\n  const daysOfWeek = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday'\n  ];\n\n  useEffect(() => {\n    setAllValuesPopulated(\n      (isOneDay\n        ? selectedDate.toISOString() !== dateToUse.toISOString()\n        : daysArray.length >= 1) &&\n        eventTitle !== '' &&\n        startTime < endTime\n    );\n  }, [daysArray, eventTitle, startTime, endTime, selectedDate, isOneDay]);\n\n  function addEvent() {\n    setShowDots(true);\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify({\n        addCustomEvent: {\n          name: eventTitle,\n          startTime: startTime.toTimeString().slice(0, 5),\n          endTime: endTime.toTimeString().slice(0, 5),\n          days: daysArray,\n          date:\n            selectedDate.toISOString() !== dateToUse.toISOString()\n              ? selectedDate.toISOString()\n              : null\n        }\n      })\n    })\n      .unwrap()\n      .then(async () => {\n        setTimeout(() => {\n          setShowDots(false);\n          setDaysArray([]);\n          navigation.goBack();\n        }, 2000);\n      })\n      .catch(() => {\n        setShowDots(false);\n        Toast.show('Failed to add event.\\nPlease try again later', {\n          duration: Toast.durations.LONG,\n          opacity: 1,\n          position: -100,\n          backgroundColor: 'grey',\n          shadow: false\n        });\n      });\n    /*\n        fetch(base_URL + '/users/' + userData.userName, {\n            method: 'PATCH',\n            body: JSON.stringify({\n                \"addCustomEvent\": {\n                    \"name\": eventTitle,\n                    \"startTime\": startTime.toTimeString().slice(0, 5),\n                    \"endTime\": endTime.toTimeString().slice(0, 5),\n                    \"days\": daysArray\n                },\n            }),\n            headers: {\n                'content-type': 'application/json',\n                userKey: userKey\n            }\n        }).then((res) => {\n            if (res.ok) {\n                navigation.goBack()\n            } else {\n                Toast.show(\n                    \"Failed to add event\\nStatus: \" + res.status,\n                    {\n                        duration: Toast.durations.LONG,\n                        opacity: 1,\n                        position: -100,\n                        backgroundColor: 'grey',\n                        shadow: false,\n                    }\n                );\n            }\n        }) */\n  }\n\n  // Needed because Android date picker uses a modal\n  const [showTimePickerAndroid, setShowTimePickerAndroid] = useState(false);\n\n  const timePickerOptions = useMemo(\n    () => ({\n      'Start Time': { time: startTime, setTime: setStartTime },\n      'End Time': { time: endTime, setTime: setEndTime }\n    }),\n    [startTime, setStartTime, endTime, setEndTime]\n  );\n\n  const formatAMPM = (date: Date) => {\n    let hours = date.getHours();\n    let minutes: string | number = date.getMinutes();\n    const ampm = hours >= 12 ? 'pm' : 'am';\n    hours %= 12;\n    hours = hours || 12;\n    minutes = minutes < 10 ? `0${minutes}` : minutes;\n    return `${hours}:${minutes} ${ampm}`;\n  };\n\n  const Title = (\n    <Layout\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'space-evenly',\n        alignItems: 'center',\n        marginTop: 15\n      }}\n    >\n      <Input\n        label=\"Title\"\n        disabled={showDots}\n        placeholder=\"Title of Event\"\n        value={eventTitle}\n        style={{ flex: 5 }}\n        onChangeText={(title) => {\n          setEventTitle(title);\n        }}\n      />\n    </Layout>\n  );\n\n  function TimePicker() {\n    if (Platform.OS === 'android') {\n      return (\n        <Layout\n          style={{\n            flexDirection: 'row',\n            justifyContent: 'space-around'\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: 'center' }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n                <Button\n                  onPress={() => {\n                    setShowTimePickerAndroid(true);\n                  }}\n                >\n                  {formatAMPM(time)}\n                </Button>\n                {showTimePickerAndroid && (\n                  <DateTimePicker\n                    mode=\"time\"\n                    onChange={(change, date) => {\n                      setTime(date);\n                      setShowTimePickerAndroid(false);\n                    }}\n                    value={time}\n                  />\n                )}\n              </Layout>\n            )\n          )}\n        </Layout>\n      );\n    }\n    if (Platform.OS === 'ios') {\n      return (\n        <Layout\n          style={{\n            flexDirection: 'row',\n            justifyContent: 'space-around'\n          }}\n        >\n          {Object.entries(timePickerOptions).map(\n            ([label, { time, setTime }], i) => (\n              <Layout key={i} style={{ alignItems: 'center' }}>\n                <Text category=\"label\" style={{ marginBottom: 5 }}>\n                  {label}\n                </Text>\n\n                <DateTimePicker\n                  mode=\"time\"\n                  onChange={(change, date) => {\n                    setTime(date);\n                  }}\n                  value={time}\n                />\n              </Layout>\n            )\n          )}\n        </Layout>\n      );\n    }\n  }\n\n  if (Platform.OS === 'web') {\n    return (\n      <Text>\n        Creating Events is not supported on the web. Download the app on the App\n        Store or Play Store to make a new Event.\n      </Text>\n    );\n  }\n\n  const renderMultiSelectDropDown = () => {\n    function renderEachDropItem() {\n      const final = [];\n      for (const option of daysOfWeek) {\n        final.push(<SelectItem title={option} />);\n      }\n      return final;\n    }\n    function toggleValue(index) {\n      setSelectedIndex(index);\n      const newSelection = index.map((littleIndex) => {\n        return daysOfWeek[littleIndex - 1];\n      });\n      setDaysArray(newSelection);\n    }\n    function calculateSelectedValues() {\n      const finalArray = selectedIndex.map((littleIndex) => {\n        return `${daysOfWeek[littleIndex - 1]}, `;\n      });\n      if (finalArray.length > 0) {\n        let finalObject = finalArray.at(-1);\n        finalObject = finalObject.replace(', ', '');\n        finalArray.splice(-1, 1);\n        finalArray.push(finalObject);\n        return finalArray;\n      }\n    }\n    return (\n      <Layout\n        style={{\n          flexDirection: 'row',\n          justifyContent: 'space-evenly',\n          alignItems: 'center',\n          marginTop: 15\n        }}\n        level=\"1\"\n      >\n        <Select\n          style={{ flex: 5 }}\n          multiSelect\n          label=\"Days\"\n          disabled={showDots}\n          value={daysArray.length > 0 ? calculateSelectedValues() : null}\n          selectedIndex={selectedIndex}\n          onSelect={(index) => toggleValue(index)}\n        >\n          {renderEachDropItem()}\n        </Select>\n      </Layout>\n    );\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n        <WrapItems childStyle={{ marginVertical: 10, marginHorizontal: 15 }}>\n          {Title}\n          <TimePicker />\n          <CheckBox\n            style={{ alignSelf: 'center', marginTop: 20 }}\n            checked={isOneDay}\n            onChange={(nextChecked) => {\n              setDaysArray([]);\n              setSelectedIndex([]);\n              setSelectedDate(dateToUse);\n              setIsOneDay(nextChecked);\n            }}\n          >\n            One Time Event\n          </CheckBox>\n          {isOneDay ? (\n            <DateTimePicker\n              testID=\"datePicker\"\n              value={selectedDate}\n              mode=\"date\"\n              style={{ alignSelf: 'center', marginVertical: 15 }}\n              onChange={(event, date) => setSelectedDate(date)}\n            />\n          ) : (\n            renderMultiSelectDropDown()\n          )}\n          <TouchableOpacity\n            style={{\n              backgroundColor: allValuesPopulated\n                ? '#a245ee'\n                : 'rgba(162,69,238,0.34)',\n              width: '35%',\n              alignSelf: 'center',\n              height: 45,\n              borderRadius: 3,\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}\n            onPress={addEvent}\n            disabled={!allValuesPopulated || showDots}\n          >\n            <View>\n              <Text style={{ color: '#f2f0f1', fontSize: 15 }}>\n                Create Event\n              </Text>\n            </View>\n          </TouchableOpacity>\n          {showDots && (\n            <Loader\n              style={{\n                position: 'absolute',\n                marginTop: '30%',\n                marginHorizontal: 'auto'\n              }}\n            />\n          )}\n        </WrapItems>\n      </TouchableWithoutFeedback>\n    </Layout>\n  );\n}\n","import { Autocomplete, AutocompleteItem } from '@ui-kitten/components';\nimport { useEffect, useState } from 'react';\n\nimport { selectDarkMode, selectUserKey } from '../app/appDataSlice';\nimport { useAppSelector } from '../app/hooks';\nimport { base_URL } from '../features/notifications/constants';\n\n/**\n * Renders a dropdown with the names filtered as user types\n * @param setHasChosen set function of a useState which contains a boolean determining whether a user has been chosen\n * @param setRecipient set function of a useState which contains is either: 1. a string containing the userName of the user when one has been chosen, 2. null when a user has not been chosen\n * @constructor\n */\nexport default function UserNameSelectionDropDown({\n  setHasChosen,\n  setRecipient,\n  placeholder\n}) {\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [names, setNames] = useState([]); // filtered list of names\n  const [users, setUsers] = useState([]); // clean list of users\n  const [value, setValue] = useState(''); // typed name\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: 'bold',\n      textAlign: 'center',\n      width: '100%',\n      color: darkMode ? 'rgb(255,255,255)' : 'rgb(0,0,0)'\n    },\n    backdrop: {\n      backgroundColor: darkMode ? 'rgba(141,141,141,0.5)' : 'rgba(0, 0, 0, 0.5)'\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15\n    }\n  };\n\n  useEffect(() => {\n    fetch(`${base_URL}/users/userNamesAndNames`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const userList = await data.json();\n        setNames(\n          userList.map((user) => {\n            if (user) {\n              return `${user.realName} (${user.userName})`;\n            }\n          })\n        );\n        setUsers(userList);\n      }\n    });\n  }, []);\n\n  function renderEachDropItem() {\n    const final = [];\n    for (const option in names) {\n      final.push(<AutocompleteItem title={names[option]} key={option} />);\n    }\n    return final;\n  }\n\n  const onChangeText = (query) => {\n    setNames(\n      freshNames().filter(\n        (name) =>\n          name?.toLowerCase().includes(query.toLowerCase()) ||\n          userNameContainsString(name, query)\n      )\n    );\n    setValue(query);\n  };\n\n  function freshNames() {\n    return users.map((user) => {\n      if (user) {\n        return `${user.realName} (${user.userName})`;\n      }\n    });\n  }\n\n  const userNameContainsString = (name, query) => {\n    const user = users.find(\n      (auser) =>\n        auser?.userName.toLowerCase().includes(query.toLowerCase()) &&\n        auser?.realName === name\n    );\n    return user !== undefined;\n  };\n\n  function handleSelection(index) {\n    if (index === 0) {\n      setHasChosen(false);\n      setRecipient(null);\n      // @ts-ignore\n      setValue('');\n    } else {\n      setHasChosen(true);\n      setValue(names[index - 1]);\n      setRecipient(findUserNameFromName(names[index - 1]));\n    }\n  }\n\n  function findUserNameFromName(name) {\n    const firstPar = name.indexOf('(');\n    const secondPar = name.indexOf(')');\n    return name.slice(firstPar + 1, secondPar);\n  }\n\n  return (\n    <Autocomplete\n      style={myStyles.containerDrop}\n      value={value}\n      placeholder={placeholder ? 'Recipient' : null}\n      onChangeText={onChangeText}\n      onSelect={handleSelection}\n    >\n      <AutocompleteItem title={' '} />\n      {renderEachDropItem()}\n    </Autocomplete>\n  );\n}\n","import {\n  Autocomplete,\n  AutocompleteItem,\n  Card,\n  Modal\n} from '@ui-kitten/components';\nimport {\n  JSXElementConstructor,\n  ReactElement,\n  useEffect,\n  useState\n} from 'react';\nimport { Alert, Button, View, Text } from 'react-native';\n\nimport renderItem from './ScheduledItem';\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport UserNameSelectionDropDown from '../../components/UserNameSelectionDropDown';\nimport { useGetCurrentSectionQuery } from '../api/classPagesApi';\nimport { useGetUserInfoQuery } from '../api/usersApi';\nimport { base_URL } from '../notifications/constants';\n\nexport default function renderModal(setShowModal, showModal) {\n  const { data: userData } = useGetUserInfoQuery(useAppSelector(selectUserKey));\n  const { data: currentSection } = useGetCurrentSectionQuery();\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const [names, setNames] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [value, setValue] = useState('');\n  const [hasChosen, setHasChosen] = useState(false);\n  const [recipient, setRecipient] = useState(null);\n\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: 'bold',\n      textAlign: 'center',\n      width: '100%',\n      color: darkMode ? 'rgb(255,255,255)' : 'rgb(0,0,0)'\n    },\n    backdrop: {\n      backgroundColor: darkMode ? 'rgba(141,141,141,0.5)' : 'rgba(0, 0, 0, 0.5)'\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15\n    }\n  };\n\n  useEffect(() => {\n    fetch(`${base_URL}/users/userNamesAndNames`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const userList = await data.json();\n        setNames(\n          userList.map((user) => {\n            if (user) {\n              return `${user.realName} (${user.userName})`;\n            }\n          })\n        );\n        setUsers(userList);\n      }\n    });\n  }, []);\n\n  const exportSchedule = async (recipient) => {\n    function convert(addedClasses) {\n      const final = [];\n      Object.keys(addedClasses).map((term) => {\n        if (term === currentSection) {\n          Object.keys(addedClasses[term]).map((masterCourseCode) => {\n            for (const courseCode of addedClasses[term][masterCourseCode]) {\n              final.push({\n                courseCode,\n                courseTerm: currentSection\n              });\n            }\n          });\n        }\n      });\n      return final;\n    }\n    const status = await fetch(`${base_URL}/users/sendNotification`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      },\n      body: JSON.stringify({\n        recipients: [recipient],\n        text: JSON.stringify(convert(userData.addedClasses?.classes)),\n        title: `${userData.realFirstName}'s Schedule (${currentSection})`,\n        isSchedule: true\n      })\n    });\n    return status.ok;\n  };\n  return (\n    <Modal\n      visible={showModal}\n      backdropStyle={myStyles.backdrop}\n      style={{ width: '80%', height: '70%' }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={myStyles.modal}>Share Your Schedule</Text>\n        {UserNameSelectionDropDown({\n          setHasChosen,\n          setRecipient,\n          placeholder: false\n        })}\n        <View>\n          <Button\n            disabled={recipient === null}\n            title=\"Send\"\n            onPress={() => {\n              exportSchedule(recipient).then((returnValue) => {\n                setShowModal(false);\n                returnValue\n                  ? Alert.alert('Message Sent')\n                  : Alert.alert(\n                      'Error Sending Message',\n                      'Please Try Again Later'\n                    );\n              });\n            }}\n          />\n          <Button\n            title=\"Dismiss\"\n            onPress={() => {\n              setShowModal(false);\n            }}\n          />\n        </View>\n      </Card>\n    </Modal>\n  );\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout, Text, useTheme } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport {\n  Dimensions,\n  Image,\n  Platform,\n  TouchableOpacity,\n  View\n} from 'react-native';\nimport Toggle from 'react-native-toggle-element';\n\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport Header from '../../components/Header';\nimport ModalContainer from '../../components/ModalContainer';\nimport { exportToICal } from '../../functions';\nimport { useGetUserInfoQuery } from '../api/usersApi';\nimport SelectTerm from '../classPages/SelectTerm';\nimport { base_URL } from '../notifications/constants';\nimport CalendarPage from './CalendarPage';\nimport CreateCustomEvent from './CreateCustomEvent';\nimport { isThreeDaySet } from './calendarSlice';\nimport renderModal from './exportModal';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Calendar() {\n  const navigation = useNavigation();\n  const isThreeDay = useAppSelector(\n    (state) => state.appData.calendar.isThreeDay\n  );\n  const theme = useTheme();\n  const dispatch = useAppDispatch();\n  const isGuest = useAppSelector(selectIsGuest);\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n  const classes = useAppSelector((state) => state.appData.classPages.classes);\n  const { data: userData } = useGetUserInfoQuery(userKey);\n  const [showModal, setShowModal] = useState(false);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [showWebModal, setShowWebModal] = useState(false);\n\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28,\n        alignItems: 'center'\n      }}\n      source={require('../../../assets/logos/app-logo-transparent.png')}\n    />\n  );\n\n  const title = (\n    <View\n      style={{\n        alignItems: 'center',\n        paddingRight: 20\n      }}\n    >\n      {Dimensions.get('window').width < 525 && (\n        <Toggle\n          leftComponent={\n            <FontAwesome5 name=\"compress-arrows-alt\" size={14} color=\"#fff\" />\n          }\n          rightComponent={\n            <FontAwesome5 name=\"expand-arrows-alt\" size={15} color=\"#fff\" />\n          }\n          trackBar={{\n            activeBackgroundColor: theme['color-primary-500'],\n            inActiveBackgroundColor: theme['color-primary-500'],\n            width: 60,\n            height: 23\n          }}\n          thumbButton={{\n            width: 30,\n            height: 30,\n            activeBackgroundColor: theme['color-primary-800'],\n            inActiveBackgroundColor: theme['color-primary-300'],\n            activeColor: theme['color-primary-100'],\n            inActiveColor: '#fff',\n            borderWidth: 5\n          }}\n          value={isThreeDay}\n          onPress={(bool) => dispatch(isThreeDaySet(bool))}\n          animationDuration={10}\n        />\n      )}\n    </View>\n  );\n  const accessoryRight = (\n    <View\n      style={{\n        paddingHorizontal: 0,\n        alignItems: 'center',\n        flexDirection: 'row'\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          if (isGuest) {\n            setShowGuestModal(true);\n          } else {\n            // @ts-ignore\n            navigation.navigate('CreateCustomEvent');\n          }\n        }}\n        style={{\n          marginRight: 10,\n          alignItems: 'center'\n        }}\n      >\n        <View\n          style={{\n            height: 45,\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'flex-end'\n          }}\n        >\n          <FontAwesome5\n            name=\"plus\"\n            size={20}\n            color={darkMode ? 'white' : 'black'}\n          />\n          <Text style={{ paddingTop: 5, fontSize: 10 }}>Add Event</Text>\n        </View>\n      </TouchableOpacity>\n      <TouchableOpacity\n        onPress={() => {\n          if (Platform.OS === 'web') {\n            const times = Object.entries(\n              userData.addedClasses.classes[currentSection]\n            ).flatMap(([masterCourseCode, courseCodes]) => {\n              return courseCodes.flatMap((courseCode) => {\n                return classes[masterCourseCode].times.filter(\n                  (time) => time.courseCode === courseCode\n                );\n              });\n            });\n            const calendar = exportToICal(times);\n          } else if (isGuest) {\n            setShowGuestModal(true);\n          } else {\n            setShowModal(true);\n            setShowWebModal(true);\n          }\n        }}\n        style={{\n          alignItems: 'center'\n        }}\n      >\n        <View\n          style={{\n            height: 45,\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'flex-end'\n          }}\n        >\n          <FontAwesome5\n            name=\"file-export\"\n            size={20}\n            color={darkMode ? 'white' : 'black'}\n          />\n          <Text style={{ paddingTop: 5, fontSize: 10 }}>Share Schedule</Text>\n        </View>\n      </TouchableOpacity>\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is not available to Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          }\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n      {Platform.OS === 'web' && showWebModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              Sharing schedules is not supported on the web. Download the app on\n              the App Store or Play Store to share schedules.\n            </Text>\n          }\n          backDropVisible={showWebModal}\n          setBackDropVisible={setShowWebModal}\n        />\n      )}\n      {Platform.OS !== 'web' && renderModal(setShowModal, showModal)}\n    </View>\n  );\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"CalendarPage\"\n        component={CalendarPage}\n        options={{\n          header: () => {\n            return (\n              <Layout style={{ paddingBottom: 10 }}>\n                <Header\n                  center={title}\n                  accessoryRight={accessoryRight}\n                  accessoryLeft={accessoryLeft}\n                  title=\"Calendar\"\n                />\n              </Layout>\n            );\n          }\n        }}\n      />\n      <Stack.Screen\n        name=\"CreateCustomEvent\"\n        component={CreateCustomEvent}\n        options={{ headerTitle: 'Add Event' }}\n      />\n      <Stack.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: 'Select Term',\n          headerShown: false,\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import {\n  Autocomplete,\n  AutocompleteItem,\n  Input,\n  Layout\n} from '@ui-kitten/components';\nimport { Button, Platform, Text, TouchableOpacity } from 'react-native';\nimport { useEffect, useState } from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport { useAppSelector } from '../../app/hooks';\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { base_URL } from '../notifications/constants';\nimport { useCreateChatRoomMutation } from '../api/usersApi';\nimport { showToast } from '../../functions';\n\nexport default function CreateChatRoom() {\n  const isWeb = Platform.OS === 'web';\n  const [isDisabled, setIsDisabled] = useState(true);\n  const [nameOfChatRoom, setNameOfChatRoom] = useState('');\n  const navigation = useNavigation();\n  const [createChatRoom] = useCreateChatRoomMutation();\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [recipients, setRecipients] = useState([]);\n  const [names, setNames] = useState([]); // filtered list of names\n  const [users, setUsers] = useState([]); // clean list of users\n  const [value, setValue] = useState(''); // typed name\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: 'bold',\n      textAlign: 'center',\n      width: '100%',\n      color: darkMode ? 'rgb(255,255,255)' : 'rgb(0,0,0)'\n    },\n    backdrop: {\n      backgroundColor: darkMode ? 'rgba(141,141,141,0.5)' : 'rgba(0, 0, 0, 0.5)'\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15\n    }\n  };\n\n  useEffect(() => {\n    setIsDisabled(nameOfChatRoom.length === 0 || recipients.length === 0);\n  }, [nameOfChatRoom, recipients]);\n\n  useEffect(() => {\n    fetch(`${base_URL}/users/userNamesAndNames`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        let userList = await data.json();\n        userList = userList.filter((user) => {\n          return user;\n        });\n        setNames(\n          userList.map((user) => {\n            if (user) {\n              return `${user.realName} (${user.userName})`;\n            }\n          })\n        );\n        setUsers(userList);\n      }\n    });\n  }, []);\n\n  const onChangeText = (query) => {\n    setNames(\n      freshNames().filter(\n        (name) =>\n          name?.toLowerCase().includes(query.toLowerCase()) ||\n          userNameContainsString(name, query)\n      )\n    );\n    setValue(query);\n  };\n\n  function freshNames() {\n    return users.map((user) => {\n      if (user) {\n        return `${user.realName} (${user.userName})`;\n      }\n    });\n  }\n\n  const userNameContainsString = (name, query) => {\n    const user = users.find(\n      (auser) =>\n        auser?.userName.toLowerCase().includes(query.toLowerCase()) &&\n        auser?.realName === name\n    );\n    return user !== undefined;\n  };\n\n  function findUserNameFromName(name) {\n    const firstPar = name.indexOf('(');\n    const secondPar = name.indexOf(')');\n    return name.slice(firstPar + 1, secondPar);\n  }\n\n  function handleAddValue() {\n    const nameToAdd = findUserNameFromName(value);\n    if (!recipients.includes(nameToAdd)) {\n      setRecipients(recipients.concat([nameToAdd]));\n    }\n    setValue('');\n  }\n\n  return (\n    <Layout\n      style={{\n        width: isWeb ? '30%' : '90%',\n        alignItems: isWeb ? undefined : 'center',\n        backgroundColor: 'transparent',\n        marginLeft: isWeb ? 15 : undefined\n      }}\n    >\n      <Layout\n        style={{\n          marginTop: 20,\n          marginLeft: isWeb ? undefined : 20,\n          flexDirection: 'row',\n          backgroundColor: 'transparent'\n        }}\n      >\n        <Input\n          style={{ minWidth: '100%' }}\n          label=\"Chatroom Name\"\n          onChangeText={setNameOfChatRoom}\n          value={nameOfChatRoom}\n        />\n      </Layout>\n      <Layout\n        style={{\n          marginVertical: 20,\n          marginLeft: isWeb ? undefined : 30,\n          flexDirection: 'row',\n          backgroundColor: 'transparent'\n        }}\n      >\n        <Input\n          style={{ minWidth: '85%' }}\n          placeholder=\"Added Users\"\n          disabled\n          value={recipients.join(', ')}\n        />\n        <Layout style={{ alignSelf: 'center', backgroundColor: 'transparent' }}>\n          <Button color=\"red\" onPress={() => setRecipients([])} title=\"Clear\" />\n        </Layout>\n      </Layout>\n      <Layout\n        style={{\n          flexDirection: 'row',\n          marginTop: 10,\n          marginLeft: isWeb ? undefined : 10,\n          backgroundColor: 'transparent'\n        }}\n      >\n        <Autocomplete\n          style={{ minWidth: '85%' }}\n          value={value}\n          placeholder=\"Add User\"\n          onChangeText={onChangeText}\n          onSelect={(index) => setValue(names[index])}\n        >\n          {names.map((user, index) => {\n            return <AutocompleteItem title={user} key={index} />;\n          })}\n        </Autocomplete>\n        <Layout style={{ alignSelf: 'center', backgroundColor: 'transparent' }}>\n          <Button color=\"blue\" onPress={() => handleAddValue()} title=\"Add\" />\n        </Layout>\n      </Layout>\n      <TouchableOpacity\n        disabled={isDisabled}\n        onPress={() => {\n          createChatRoom({ userKey, recipients, nameOfChatRoom })\n            .unwrap()\n            .then((payload) => {\n              showToast('Chatroom Created');\n              navigation.goBack();\n            })\n            .catch((e) => {\n              showToast('Error, please try again later');\n              console.warn(e);\n            });\n        }}\n        style={{\n          marginTop: 30,\n          alignItems: 'center',\n          justifyContent: 'center',\n          paddingVertical: 12,\n          paddingHorizontal: 32,\n          borderRadius: 4,\n          elevation: 3,\n          backgroundColor: isDisabled ? 'rgba(227,39,39,0.49)' : '#e32727'\n        }}\n      >\n        <Text\n          style={{\n            fontSize: 16,\n            lineHeight: 21,\n            fontWeight: 'bold',\n            letterSpacing: 0.25,\n            color: 'white'\n          }}\n        >\n          Create Chat Room\n        </Text>\n      </TouchableOpacity>\n    </Layout>\n  );\n}\n","import Loader from 'react-native-three-dots-loader';\nimport { FontAwesome5, Ionicons } from '@expo/vector-icons';\nimport { useIsFocused, useNavigation } from '@react-navigation/native';\nimport { Layout, Text } from '@ui-kitten/components';\nimport * as ImagePicker from 'expo-image-picker';\nimport React, { useEffect, useState } from 'react';\nimport {\n  Alert,\n  Button,\n  Dimensions,\n  FlatList,\n  Image,\n  Keyboard,\n  KeyboardAvoidingView,\n  LogBox,\n  Platform,\n  SafeAreaView,\n  ScrollView,\n  TextInput,\n  TouchableOpacity,\n  View\n} from 'react-native';\nimport Toast from 'react-native-root-toast';\nimport { io } from 'socket.io-client';\nimport { selectUserKey } from '../../../app/appDataSlice';\n\nimport { useAppSelector } from '../../../app/hooks';\nimport SearchBar from '../../../components/SearchBar';\nimport { base_URL } from '../../../constants/admin';\nimport { useGetCurrentSectionQuery } from '../../api/classPagesApi';\nimport {\n  useAddOrRemoveUserFromChatRoomMutation,\n  useEditUserMutation,\n  useGetUserInfoQuery\n} from '../../api/usersApi';\nimport ModalContainer from '../../../components/ModalContainer';\n\nexport default function SingleChatRoom({\n  route: {\n    params: { data }\n  }\n}) {\n  const [imagePickerStatus, requestImagePickerPermission] =\n    ImagePicker.useMediaLibraryPermissions();\n  const [cameraStatus, requestCameraPermission] =\n    ImagePicker.useCameraPermissions();\n  const [filter, setFilter] = useState('');\n  const [showSearch, setShowSearch] = useState(false);\n  const [photoSelected, setPhotoSelected] = useState({\n    date: null,\n    id: null,\n    contentImage: null\n  });\n  const [addOrRemoveUser] = useAddOrRemoveUserFromChatRoomMutation();\n  const [editUser] = useEditUserMutation();\n  const isCustomRoom = data.userList !== undefined;\n  const [keyboardShown, setKeyboardShown] = useState(false);\n  const [retryNumber, setRetryNumber] = useState(0);\n  const [failedConnection, setFailedConnection] = useState(false);\n  const [hardDisableSend, setHardDisableSend] = useState(false);\n  const navigation = useNavigation();\n  const [showUserList, setShowUserList] = useState(false);\n  const [message, setMessage] = useState('');\n  const [filteredMessageList, setFilteredMessageList] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  // const { data: userData } = useGetUserInfoQuery(userKey, {\n  //   skip: !userKey\n  // });\n  const [showDeletion, setShowDeletion] = useState(false);\n  const [itemToRemove, setItemToRemove] = useState(null);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const { data: currentSection, isLoading: isCurrentSectionLoading } =\n    useGetCurrentSectionQuery();\n  const [messageList, setMessageList] = useState([]);\n  const socket = io(`${base_URL}/realTimeChat/${data.id}`, {\n    auth: {\n      userKey\n    }\n  });\n\n  useEffect(() => {\n    // Bug with some component i guess cause i didn't use animated anything, yet expo has a seizure and spams warnings\n    LogBox.ignoreLogs(['Animated: `useNativeDriver`']);\n\n    // Keyboard listeners\n    const showListener = Keyboard.addListener('keyboardWillShow', () => {\n      setKeyboardShown(true);\n    });\n    const hideListener = Keyboard.addListener('keyboardWillHide', () => {\n      setKeyboardShown(false);\n    });\n\n    return () => {\n      showListener.remove();\n      hideListener.remove();\n    };\n  }, []);\n\n  useEffect(() => {\n    navigation.setOptions({\n      headerTitle: data.title\n        ? data.title\n        : data.id === 'public'\n        ? 'Public'\n        : data.id === 'admin'\n        ? 'Admin'\n        : data.id,\n      headerRight: () => (\n        <Layout style={{ flexDirection: 'row', marginRight: 30 }}>\n          <TouchableOpacity\n            style={{ marginRight: isCustomRoom ? 25 : undefined }}\n            onPress={() => {\n              setFilter('');\n              setShowSearch(!showSearch);\n            }}\n          >\n            <FontAwesome5 name=\"search\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          {isCustomRoom && (\n            <TouchableOpacity\n              onPress={() => {\n                setShowUserList(true);\n              }}\n            >\n              <Ionicons name=\"person\" size={24} color=\"black\" />\n            </TouchableOpacity>\n          )}\n        </Layout>\n      )\n    });\n  }, [showSearch]);\n\n  useEffect(() => {\n    // maintenance\n\n    // socket logic\n    socket.connect();\n    const timer = setTimeout(() => {\n      socket.off('connect');\n      socket.off('newMessage');\n      socket.disconnect();\n      socket.close();\n      setFailedConnection(true);\n    }, 10000);\n    socket.on('connect', () => {\n      clearTimeout(timer);\n      getMessages();\n    });\n    return () => {\n      setLoaded(false);\n      socket.disconnect();\n      socket.off('connect');\n      socket.off('newMessage');\n    };\n  }, [useIsFocused(), retryNumber]);\n\n  // Add all new message changes here\n  useEffect(() => {\n    socket.on('imageMessageServer', (msg) => {\n      addMessage(msg);\n    });\n    socket.on('newMessage', (msg) => {\n      addMessage(msg);\n    });\n    socket.on('deleteMessage', (msg) => {\n      const index = messageList.findIndex((mess) => isEqualTo(mess, msg));\n      if (index !== -1) {\n        // @ts-ignore\n        setMessageList([...messageList].toSpliced(index, 1));\n      }\n    });\n    return () => {\n      socket.off('imageMessageServer');\n      socket.off('newMessage');\n      socket.off('deleteMessage');\n    };\n  }, [messageList]);\n\n  function getMessages() {\n    fetch(`${base_URL}/chatRooms/getMessages?roomId=${data.id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (!data.ok) {\n        setFailedConnection(true);\n      } else {\n        data.json().then(async (array) => {\n          setMessageList(array);\n          setLoaded(true);\n        });\n      }\n    });\n  }\n\n  function isUserBlocked(userName: string, dataToUse = userData) {\n    return dataToUse.blockedUsers.includes(userName);\n  }\n\n  useEffect(() => {\n    setFilteredMessageList(\n      messageList.filter((mess) =>\n        (mess.user + mess.message).toLowerCase().includes(filter.toLowerCase())\n      )\n    );\n  }, [filter]);\n\n  function addMessage(messageToAdd) {\n    const myMessage = messageList.find((mess) => isEqualTo(mess, messageToAdd));\n    if (myMessage) {\n      delete myMessage.isUnsent;\n      setMessageList(\n        [...messageList]\n          .filter((mess) => !isEqualTo(mess, messageToAdd))\n          .concat(myMessage)\n      );\n    } else {\n      setMessageList([...messageList].concat(messageToAdd));\n    }\n  }\n\n  function isEqualTo(message1, message2) {\n    try {\n      return message1.user === message2.user && message1.date === message2.date;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  async function activateCamera() {\n    const date = new Date().toISOString();\n    const response = await requestCameraPermission();\n    if (response.granted || cameraStatus.granted) {\n      const result = await ImagePicker.launchCameraAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images\n      });\n      if (!result.canceled) {\n        setMessage('');\n        setPhotoSelected({\n          id: userData.userName + date + data.id + currentSection,\n          contentImage: result.assets[0],\n          date\n        });\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera is required. Please enable it in your phone's settings.\"\n      );\n    }\n  }\n\n  async function selectPhoto() {\n    const date = new Date().toISOString();\n    const response = await requestImagePickerPermission();\n    if (response.granted || imagePickerStatus.granted) {\n      const result = await ImagePicker.launchImageLibraryAsync({\n        allowsEditing: false\n      });\n      if (!result.canceled) {\n        setMessage('');\n        setPhotoSelected({\n          id: userData.userName + date + data.id + currentSection,\n          contentImage: result.assets[0],\n          date\n        });\n      }\n    } else {\n      Alert.alert(\n        \"Permission to access camera roll is required. Please enable it in your phone's settings.\"\n      );\n    }\n  }\n\n  function deleteTheMessage() {\n    const messageToDelete = itemToRemove;\n    setShowDeletion(false);\n    if (messageToDelete.user === userData.userName) {\n      socket.emit('deleteMyMessage', messageToDelete);\n      setMessageList(\n        messageList.filter((mess) => !isEqualTo(mess, messageToDelete))\n      );\n      Toast.show('Message Deleted', {\n        duration: Toast.durations.SHORT,\n        opacity: 0.7,\n        position: Toast.positions.CENTER,\n        backgroundColor: 'grey',\n        shadow: false\n      });\n    }\n  }\n\n  async function sendNewMessage() {\n    setHardDisableSend(true); // basically a semaphore lol\n    if (message !== '') {\n      const newMessage = {\n        message,\n        date: new Date().toISOString(),\n        user: userData.userName,\n        isUnsent: true\n      };\n      setMessageList([...messageList].concat(newMessage));\n      delete newMessage.isUnsent;\n      socket.emit('newMessageClient', newMessage);\n      setMessage('');\n    }\n    if (photoSelected.id !== null) {\n      const { date } = photoSelected;\n      setMessageList(\n        [...messageList].concat({\n          isImage: true,\n          isUnsent: true,\n          message: photoSelected.contentImage.uri,\n          user: userData.userName,\n          date\n        })\n      );\n\n      const photo = photoSelected;\n      setPhotoSelected({ date: null, id: null, contentImage: null });\n\n      const formdata = new FormData();\n      formdata.append(\n        'picture',\n        JSON.stringify({\n          // @ts-ignore\n          uri: photo.contentImage.uri,\n          name: 'picture',\n          type: 'image/jpg'\n        }).substring(1, -1)\n      );\n      formdata.append('id', photo.id);\n      formdata.append('date', date);\n      const res = await fetch(`${base_URL}/chatRooms/uploadImage`, {\n        method: 'POST',\n        redirect: 'follow',\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        },\n        body: formdata\n      });\n      if (res.ok) {\n        const newMessage = {\n          date,\n          user: userData.userName,\n          message: photo.id\n        };\n        socket.emit('imageMessageClient', newMessage);\n      }\n    }\n    setHardDisableSend(false);\n  }\n\n  function handleLeaveChat() {\n    addOrRemoveUser({\n      userKey,\n      chatRoomId: data.id,\n      userName: userData.userName\n    })\n      .then(() => navigation.goBack())\n      .catch(() => {\n        setShowUserList(false);\n        Toast.show('Error leaving chat, try again later');\n      });\n  }\n\n  const renderItem = ({ item }) => (\n    <TouchableOpacity\n      disabled={item?.isUnsent}\n      onLongPress={() => {\n        if (item.user === userData.userName) {\n          setItemToRemove(item);\n          setShowDeletion(true);\n        }\n      }}\n      style={{\n        opacity: item?.isUnsent ? 0.4 : 1,\n        flexDirection: 'row',\n        marginVertical: 5,\n        minHeight: item.isImage ? windowHeight * 0.25 : undefined,\n        width: '100%'\n      }}\n    >\n      <ModalContainer\n        children={\n          <div\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'center',\n              justifyContent: 'space-evenly',\n              width: '100%'\n            }}\n          >\n            <Button\n              onPress={() => setShowDeletion(false)}\n              color=\"red\"\n              title=\"Cancel\"\n            />\n            <Button\n              onPress={() => deleteTheMessage()}\n              color=\"blue\"\n              title=\"Remove\"\n            />\n          </div>\n        }\n        backDropVisible={showDeletion}\n        setBackDropVisible={setShowDeletion}\n        title=\"Delete Message\"\n      />\n      <Text style={{ paddingRight: 10, fontWeight: 'bold' }}>{item.user}:</Text>\n      {item.isImage ? (\n        <Image\n          source={{ uri: item.message }}\n          style={{ flex: 1, resizeMode: 'contain' }}\n        />\n      ) : (\n        <Text style={{ flex: 1, flexWrap: 'wrap' }}>{item.message}</Text>\n      )}\n    </TouchableOpacity>\n  );\n  const windowHeight = Dimensions.get('screen').height;\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <KeyboardAvoidingView style={{ flex: 1 }}>\n        <View style={[styles.messagingScreen, { paddingHorizontal: 10 }]}>\n          {isCustomRoom && (\n            <ModalContainer\n              backDropVisible={showUserList}\n              setBackDropVisible={setShowUserList}\n              title=\"Users\"\n              children={\n                <ScrollView style={{ flex: 1, width: '80%' }}>\n                  {data.userList.toSorted().map((userName) => (\n                    <Layout\n                      style={{\n                        flexDirection: 'row',\n                        marginBottom: 15,\n                        justifyContent: 'space-between'\n                      }}\n                    >\n                      <Text\n                        style={{\n                          fontSize: 17\n                        }}\n                      >\n                        {userName}\n                      </Text>\n                      <Layout style={{ flexDirection: 'row' }}>\n                        {userName !== userData.userName && (\n                          <TouchableOpacity\n                            onPress={() => {\n                              let body = {};\n                              if (isUserBlocked(userName)) {\n                                body = {\n                                  unblockUser: userName\n                                };\n                              } else {\n                                body = {\n                                  blockUser: userName\n                                };\n                              }\n                              editUser({\n                                userKey,\n                                userName: userData.userName,\n                                fields: JSON.stringify(body)\n                              })\n                                .unwrap()\n                                .then((response) => {\n                                  const newUserData = response.userData;\n                                  Toast.show(\n                                    isUserBlocked(userName, newUserData)\n                                      ? 'User Blocked'\n                                      : 'User un-Blocked',\n                                    {\n                                      duration: Toast.durations.LONG,\n                                      opacity: 0.7,\n                                      position: Toast.positions.CENTER,\n                                      backgroundColor: 'black',\n                                      shadow: false\n                                    }\n                                  );\n                                  setShowUserList(false);\n                                })\n                                .catch((error) => console.warn(error));\n                            }}\n                          >\n                            {isUserBlocked(userName) ? (\n                              <Ionicons\n                                name=\"add-circle\"\n                                size={25}\n                                color=\"black\"\n                              />\n                            ) : (\n                              <Ionicons\n                                name=\"remove-circle\"\n                                size={25}\n                                color=\"black\"\n                              />\n                            )}\n                          </TouchableOpacity>\n                        )}\n                      </Layout>\n                    </Layout>\n                  ))}\n                  <Layout\n                    style={{\n                      backgroundColor: 'transparent',\n                      alignContent: 'center'\n                    }}\n                  >\n                    <Button title=\"Leave Chat\" onPress={handleLeaveChat} />\n                  </Layout>\n                </ScrollView>\n              }\n            />\n          )}\n          {messageList.length > 0 ? (\n            <View style={{ flex: 1 }}>\n              {showSearch && (\n                <SearchBar\n                  searchTerm={filter}\n                  onChangeText={setFilter}\n                  inputProps={{ autoCorrect: false }}\n                  placeholder=\"Search\"\n                />\n              )}\n              <FlatList\n                style={{}}\n                data={\n                  filter === ''\n                    ? [...messageList].reverse()\n                    : [...filteredMessageList].reverse()\n                }\n                renderItem={renderItem}\n                keyExtractor={(item) => item?.date + item?.user}\n                inverted\n              />\n            </View>\n          ) : failedConnection ? (\n            <TouchableOpacity\n              onPress={() => {\n                setFailedConnection(false);\n                setRetryNumber(retryNumber + 1);\n              }}\n            >\n              <Text style={{ marginTop: '10%', textAlign: 'center' }}>\n                Connection Failed\n                {'\\n'}\n                Press to Reload\n              </Text>\n            </TouchableOpacity>\n          ) : loaded ? (\n            <Text style={{ textAlign: 'center' }}>No chats yet :/</Text>\n          ) : (\n            <View style={{ marginTop: '20%' }}>\n              <Loader />\n            </View>\n          )}\n        </View>\n\n        <View style={styles.messagingInputContainer}>\n          {!keyboardShown && (\n            <TouchableOpacity\n              onPress={activateCamera}\n              disabled={\n                hardDisableSend ||\n                !loaded ||\n                messageList.some((msg) => msg.isUnsent)\n              }\n              style={{\n                alignSelf: 'center',\n                paddingRight: 5\n              }}\n            >\n              <FontAwesome5\n                name=\"camera\"\n                size={20}\n                color={\n                  !hardDisableSend &&\n                  loaded &&\n                  !messageList.some((msg) => msg.isUnsent)\n                    ? 'black'\n                    : 'gray'\n                }\n              />\n            </TouchableOpacity>\n          )}\n          {!photoSelected.contentImage ? (\n            <View style={styles.messagingInput}>\n              <TextInput\n                placeholder=\"Message\"\n                placeholderTextColor=\"gray\"\n                editable={loaded}\n                value={message}\n                multiline\n                onChangeText={(value) => setMessage(value)}\n              />\n            </View>\n          ) : (\n            <View\n              style={{\n                ...styles.messagingInput,\n                paddingHorizontal: 10,\n                height: 150\n              }}\n            >\n              <Image\n                source={{ uri: photoSelected.contentImage?.uri }}\n                style={{ flex: 1, borderRadius: 10 }}\n              />\n              <TouchableOpacity\n                onPress={() => {\n                  setPhotoSelected({\n                    id: null,\n                    contentImage: null,\n                    date: null\n                  });\n                }}\n                style={{ position: 'absolute', marginLeft: 15, marginTop: 10 }}\n              >\n                <FontAwesome5\n                  name=\"times\"\n                  size={25}\n                  color=\"#ff2e2e\"\n                  style={{}}\n                />\n              </TouchableOpacity>\n            </View>\n          )}\n          {!keyboardShown && Platform.OS !== 'web' && (\n            <TouchableOpacity\n              onPress={selectPhoto}\n              disabled={\n                hardDisableSend ||\n                !loaded ||\n                messageList.some((msg) => msg.isUnsent)\n              }\n              style={{\n                width: '15%',\n                alignSelf: 'center',\n                paddingRight: 10,\n                alignItems: 'center',\n                justifyContent: 'center'\n              }}\n            >\n              <FontAwesome5\n                name=\"image\"\n                size={30}\n                color={\n                  !hardDisableSend &&\n                  loaded &&\n                  !messageList.some((msg) => msg.isUnsent)\n                    ? 'black'\n                    : 'gray'\n                }\n              />\n            </TouchableOpacity>\n          )}\n          <TouchableOpacity\n            style={{\n              ...styles.messagingButtonContainer,\n              backgroundColor:\n                !hardDisableSend &&\n                loaded &&\n                !messageList.some((msg) => msg.isUnsent)\n                  ? '#a245ee'\n                  : 'rgba(162,69,238,0.34)'\n            }}\n            onPress={sendNewMessage}\n            disabled={\n              hardDisableSend ||\n              !loaded ||\n              messageList.some((msg) => msg.isUnsent)\n            }\n          >\n            <View>\n              <Text style={{ color: '#f2f0f1', fontSize: 15 }}>Send</Text>\n            </View>\n          </TouchableOpacity>\n        </View>\n      </KeyboardAvoidingView>\n    </SafeAreaView>\n  );\n}\n\nconst styles = {\n  messagingScreen: {\n    flex: 1\n  },\n  messagingInputContainer: {\n    width: '100%',\n    backgroundColor: 'white',\n    paddingVertical: 15,\n    paddingHorizontal: 15,\n    justifyContent: 'center',\n    flexDirection: 'row'\n  },\n  messagingInput: {\n    borderWidth: 1,\n    padding: 10,\n    paddingHorizontal: 15,\n    flex: 1,\n    marginHorizontal: 10,\n    borderRadius: 20\n  },\n  messagingButtonContainer: {\n    width: '20%',\n    alignSelf: 'center',\n    height: 40,\n    borderRadius: 3,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n};\n","import { FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport { useFocusEffect, useIsFocused } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout, Text } from '@ui-kitten/components';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport {\n  Image,\n  RefreshControl,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity\n} from 'react-native';\nimport { useGetChatRoomsMutation, usersApiSlice } from '../api/usersApi';\n\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport ModalContainer from '../../components/ModalContainer';\nimport { CurrentTermLabel } from '../classPages/ClassesList';\nimport SelectTerm from '../classPages/SelectTerm';\nimport CreateChatRoom from './CreateChatRoom';\nimport SingleChatRoom from './singleChatPage/SingleChatRoom';\n\nconst ChatRoomsNavigator = createNativeStackNavigator();\n\nexport default function ChatsRoomNavigation({ navigation }) {\n  const isGuest = useAppSelector(selectIsGuest);\n  const [showCreateChatModal, setShowCreateChatModal] = useState(false);\n  const [recipients, setRecipients] = useState([]);\n  const darkMode = useAppSelector(selectDarkMode);\n  const navigationHeader = (navigation) => (\n    <Layout\n      style={{\n        width: '100%',\n        justifyContent: 'space-between',\n        flexDirection: 'row',\n        alignItems: 'center',\n        flex: 1,\n        backgroundColor: 'transparent'\n      }}\n    >\n      <Layout\n        style={{\n          paddingBottom: 5,\n          flexDirection: 'row',\n          alignContent: 'center',\n          flex: 1,\n          backgroundColor: 'transparent'\n        }}\n      >\n        <Image\n          style={{\n            height: 28,\n            width: 28\n          }}\n          source={require('../../../assets/logos/app-logo-transparent.png')}\n        />\n        <Text\n          style={{\n            paddingTop: 3,\n            paddingLeft: 10,\n            fontSize: 20,\n            fontWeight: '500',\n            color: darkMode ? '#fff' : '#000'\n          }}\n        >\n          Chats\n        </Text>\n      </Layout>\n      <Layout\n        style={{\n          alignSelf: 'flex-end',\n          paddingRight: 40,\n          paddingBottom: 10,\n          flexDirection: 'row',\n          backgroundColor: 'transparent'\n        }}\n      />\n    </Layout>\n  );\n\n  return (\n    <ChatRoomsNavigator.Navigator initialRouteName=\"Chats\">\n      <ChatRoomsNavigator.Screen\n        options={({ navigation }) => ({\n          title: 'Chats',\n          headerTitle: () => {\n            return navigationHeader(navigation);\n          },\n          headerRight: () => {\n            return (\n              <Layout style={{ marginRight: 20 }}>\n                {!isGuest && (\n                  <TouchableOpacity\n                    onPress={() => {\n                      navigation.navigate('CreateChatRoom');\n                    }}\n                  >\n                    <FontAwesome5\n                      size={24}\n                      name=\"plus\"\n                      color={darkMode ? 'white' : 'black'}\n                    />\n                  </TouchableOpacity>\n                )}\n              </Layout>\n            );\n          }\n        })}\n        name=\"Chats\"\n        component={Chats}\n      />\n      <ChatRoomsNavigator.Screen\n        name=\"SingleChatRoom\"\n        component={SingleChatRoom}\n        options={{ headerTitle: '' }}\n      />\n      <ChatRoomsNavigator.Screen\n        name=\"CreateChatRoom\"\n        component={CreateChatRoom}\n        options={{ headerTitle: 'Create Chat Room' }}\n      />\n      <ChatRoomsNavigator.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: 'Select Term',\n          headerShown: false,\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n    </ChatRoomsNavigator.Navigator>\n  );\n}\n\nfunction Chats({ navigation }) {\n  const [getChatRooms] = useGetChatRoomsMutation();\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const isGuest = useAppSelector(selectIsGuest);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [refreshing, setRefreshing] = useState(false);\n  const [isMoving, setIsMoving] = useState(false);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n  const [availableChats, setAvailableChats] = useState([]);\n  const { data: userData } =\n    usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n\n  function generateChatRooms() {\n    getChatRooms({ userKey })\n      .unwrap()\n      .then(async (payload) => {\n        const realPayload = JSON.parse(JSON.stringify(payload));\n        const chats = [];\n        if (userData.permissionLevel === 'admin') {\n          chats.push({\n            title: 'Admin Chatroom',\n            lastModifiedDate: '',\n            id: 'admin'\n          });\n        }\n        try {\n          for (const section of Object.entries(userData.addedClasses.classes)) {\n            if (section[0] === currentSection) {\n              for (const course of Object.values(section[1])) {\n                chats.push({\n                  title: course[0],\n                  lastModifiedDate: '',\n                  id: course[0].replace(' ', '')\n                });\n              }\n            }\n          }\n        } catch (e) {\n          console.warn(e.message);\n          setRefreshing(false);\n        }\n        setAvailableChats(chats.concat(realPayload.reverse()));\n        setTimeout(() => {\n          setRefreshing(false);\n        }, 300);\n      })\n      .catch((error) => {\n        console.warn(error);\n        setRefreshing(false);\n      });\n  }\n\n  useEffect(() => {\n    setRefreshing(true);\n    generateChatRooms();\n  }, [useIsFocused(), currentSection]);\n\n  const onRefresh = useCallback(() => {\n    setRefreshing(true);\n    generateChatRooms();\n  }, []);\n\n  const renderItem = (item) => {\n    return (\n      <Layout key={item?.id}>\n        <ScrollView>\n          <TouchableOpacity\n            style={{\n              alignItems: 'center',\n              alignSelf: 'center',\n              width: '95%',\n              borderRadius: 10,\n              marginLeft: 5,\n              marginRight: 5,\n              marginTop: 10\n            }}\n            onPress={() => {\n              if (isGuest) {\n                setShowGuestModal(true);\n              } else {\n                navigation.navigate('SingleChatRoom', {\n                  data: item\n                });\n              }\n            }}\n            key={item?.id}\n          >\n            <Layout\n              style={{\n                alignItems: 'center',\n                alignSelf: 'center',\n                width: '95%',\n                height: 75,\n                borderRadius: 10,\n                backgroundColor: darkMode ? '#333333' : '#ebebeb',\n                shadowColor: '#000',\n                shadowOffset: { width: 0, height: 1 },\n                shadowOpacity: 0.2,\n                shadowRadius: 2,\n                elevation: 1,\n                marginLeft: 5,\n                marginRight: 5,\n                marginTop: 10,\n                justifyContent: 'center'\n              }}\n            >\n              <Text\n                style={{\n                  fontWeight: 'bold',\n                  fontSize: 20\n                }}\n              >\n                {item?.title}\n              </Text>\n              {item?.lastModifiedDate ? (\n                <Text style={{ fontStyle: 'italic', fontSize: 12 }}>\n                  {item?.lastModifiedDate}\n                </Text>\n              ) : null}\n            </Layout>\n          </TouchableOpacity>\n        </ScrollView>\n        {showGuestModal && (\n          <ModalContainer\n            title=\"Wait!\"\n            children={\n              <Text style={{ paddingHorizontal: 30 }}>\n                This feature is locked to our Guest Users. Please create a free\n                account with us to take advantage this feature.\n              </Text>\n            }\n            backDropVisible={showGuestModal}\n            setBackDropVisible={setShowGuestModal}\n          />\n        )}\n      </Layout>\n    );\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <CurrentTermLabel\n        navigation={navigation}\n        currentSection={currentSection}\n        style={{ marginTop: 20, marginLeft: 20 }}\n      />\n      {availableChats.length === 0 ? (\n        <Layout style={{ alignItems: 'center' }}>\n          <Text\n            style={{\n              paddingTop: '25%',\n              paddingBottom: 10,\n              textAlign: 'center'\n            }}\n          >\n            No Available Chat Rooms\n          </Text>\n          <TouchableOpacity\n            onPress={() => {\n              onRefresh();\n            }}\n          >\n            <FontAwesome size={25} color=\"#1E90FF\" name=\"rotate-right\" />\n          </TouchableOpacity>\n        </Layout>\n      ) : null}\n      <ScrollView\n        refreshControl={\n          <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n        }\n      >\n        {availableChats.map((chat) => {\n          return renderItem(chat);\n        })}\n      </ScrollView>\n    </Layout>\n  );\n}\n\nconst sponsorPageStyles = StyleSheet.create({\n  container: {\n    flex: 1\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  description: {\n    flex: 1,\n    margin: 10,\n    borderRadius: 5,\n    width: '95%',\n    padding: 10\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n});\n\nconst myStyles = StyleSheet.create({\n  inputBig: {\n    height: 200,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3\n  },\n  timeButton: {\n    width: 100,\n    height: 50,\n    marginHorizontal: 40,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 4\n  },\n  timeText: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  actualTimeText: {\n    fontSize: 13,\n    lineHeight: 18,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  timeStyle: {\n    flex: 0.3,\n    borderWidth: 2,\n    borderLeftColor: 'white'\n  }\n});\n\nconst listingStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  cardContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  containerForNotifications: {\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  text: {\n    flex: 1,\n    fontSize: 20,\n    textAlign: 'center',\n    marginTop: 5,\n    marginBottom: 5\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 10\n  }\n});\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { Card, Modal, Text } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport { Alert, Button, Platform, TouchableOpacity, View } from 'react-native';\n\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../../app/appDataSlice';\nimport { useAppSelector } from '../../../app/hooks';\nimport ModalContainer from '../../../components/ModalContainer';\nimport UserNameSelectionDropDown from '../../../components/UserNameSelectionDropDown';\nimport { useGetUserInfoQuery } from '../../api/usersApi';\nimport { base_URL } from '../../notifications/constants';\n\nexport default function ExportModalClass({ classData }) {\n  const isGuest = useAppSelector(selectIsGuest);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [showWebModal, setShowWebModal] = useState(false);\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <View\n      style={{\n        marginRight: '7%',\n        flexDirection: 'column-reverse'\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          if (isGuest) {\n            setShowGuestModal(true);\n          } else if (Platform.OS === 'web') {\n            setShowWebModal(true);\n          } else {\n            setShowModal(true);\n          }\n        }}\n        style={{\n          alignItems: 'center'\n        }}\n      >\n        <View\n          style={{\n            height: 45,\n            flexDirection: 'column',\n            justifyContent: 'center',\n            paddingLeft: 5\n          }}\n        >\n          <FontAwesome5\n            name=\"file-export\"\n            size={20}\n            color={darkMode ? 'white' : 'black'}\n          />\n        </View>\n        <Text style={{ marginTop: -10, fontSize: 10 }}>Share Class</Text>\n      </TouchableOpacity>\n      {showWebModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              Sharing courses is not supported on the web. Download the app on\n              the App Store or Play Store to share courses.\n            </Text>\n          }\n          backDropVisible={showWebModal}\n          setBackDropVisible={setShowWebModal}\n        />\n      )}\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is not available to Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          }\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n      {renderModal(setShowModal, showModal, classData)}\n    </View>\n  );\n}\n\nfunction renderModal(setShowModal, showModal, classData: any) {\n  const { data: userData } = useGetUserInfoQuery(useAppSelector(selectUserKey));\n\n  const [value, setValue] = useState('');\n  const darkMode = useAppSelector(selectDarkMode);\n  const userKey = useAppSelector(selectUserKey);\n  const [recipient, setRecipient] = useState(null);\n  const [hasChosen, setHasChosen] = useState(false);\n\n  const myStyles = {\n    modal: {\n      fontSize: 18,\n      paddingBottom: 20,\n      fontWeight: 'bold',\n      textAlign: 'center',\n      width: '100%',\n      color: darkMode ? 'rgb(255,255,255)' : 'rgb(0,0,0)'\n    },\n    backdrop: {\n      backgroundColor: darkMode ? 'rgba(141,141,141,0.5)' : 'rgba(0, 0, 0, 0.5)'\n    },\n    containerDrop: {\n      minWidth: 200,\n      paddingBottom: 15\n    }\n  };\n\n  const exportClass = async (recipient) => {\n    try {\n      const status = await fetch(`${base_URL}/users/sendNotification`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        },\n        body: JSON.stringify({\n          recipients: [recipient],\n          text: JSON.stringify({\n            masterCourseCode: classData.masterCourseCode,\n            courseTerm: classData.courseTerm\n          }),\n          title: `${userData.realFirstName} shared a course`,\n          isCourseData: true\n        })\n      });\n      return status.ok;\n    } catch (e) {\n      console.warn(e);\n      return false;\n    }\n  };\n  return (\n    <Modal\n      visible={showModal}\n      backdropStyle={myStyles.backdrop}\n      style={{ width: '80%', height: '70%' }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={myStyles.modal}>Share This Course</Text>\n        {UserNameSelectionDropDown({\n          setHasChosen,\n          setRecipient,\n          placeholder: true\n        })}\n        <View>\n          <Button\n            disabled={recipient === null}\n            title=\"Send\"\n            onPress={() => {\n              exportClass(recipient).then((returnValue) => {\n                setShowModal(false);\n                returnValue\n                  ? Alert.alert('Message Sent')\n                  : Alert.alert(\n                      'Error Sending Message',\n                      'Please Try Again Later'\n                    );\n              });\n            }}\n          />\n          <Button\n            title=\"Dismiss\"\n            onPress={() => {\n              setShowModal(false);\n              setHasChosen(false);\n              setValue('');\n              setRecipient(null);\n            }}\n          />\n        </View>\n      </Card>\n    </Modal>\n  );\n}\n","import { TouchableOpacity } from '@gorhom/bottom-sheet';\nimport { Button, Card, Layout, Modal, Text } from '@ui-kitten/components';\nimport React, { useState } from 'react';\nimport { Platform, ScrollView, StyleSheet } from 'react-native';\n\nimport { selectDarkMode } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport ExportModalClass from '../classPages/SingleClassPage/exportModalClass';\n\nexport default function SingleClassPage({ selectedClass }) {\n  const [showModal, setShowModal] = useState(false);\n  const darkMode = useAppSelector(selectDarkMode);\n  const filters = useAppSelector((state) => state.appData.classPages.filters);\n  const backgroundColor = darkMode\n    ? { backgroundColor: '#1F1F1F' }\n    : { backgroundColor: '#F5F5F5' };\n\n  function buildTimeString(time) {\n    if (!time.startTime || time.startTime === '' || time.startTime === null) {\n      return 'closed';\n    }\n    return `${convertTo12HourTime(time.startTime)} - ${convertTo12HourTime(\n      time.endTime\n    )}\\n`;\n  }\n\n  function convertTo12HourTime(time) {\n    if (time.length !== 5) {\n      time = `0${time}`;\n    }\n    let hours = time.slice(0, 2);\n    const minutes = time.slice(3, 5);\n    let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n    hours %= 12;\n    if (hours === 0) {\n      hours = 12;\n      ampm = 'pm';\n    }\n    return `${hours}:${minutes}${ampm}`;\n  }\n\n  const averageGradeMSGModal = (\n    <Modal\n      visible={showModal}\n      backdropStyle={styles.backdrop}\n      style={{ width: '75%' }}\n      onBackdropPress={() => setShowModal(false)}\n    >\n      <Card disabled>\n        <Text style={{ fontSize: 15, paddingTop: 5, paddingBottom: 10 }}>\n          The Athena Network collects and aggregates the data anonymously\n          submitted by the Course Review process and calculates what the average\n          student's experience in this course will look like. Given that it is\n          based on voluntarily submitted data, this information is to be used as\n          a reference only. Please consult your advisor before making any\n          impactful decisions.\n        </Text>\n        <Button onPress={() => setShowModal(false)}>Dismiss</Button>\n      </Card>\n    </Modal>\n  );\n\n  if (!selectedClass?.times) {\n    return null;\n  }\n\n  return (\n    <ScrollView style={backgroundColor}>\n      <Layout style={[{ alignItems: 'center' }, backgroundColor]}>\n        {Platform.OS === 'web' && (\n          <ExportModalClass classData={selectedClass} />\n        )}\n        <Text style={styles.title}>{selectedClass.courseName}</Text>\n        <Text style={{ paddingTop: 30 }}>{selectedClass.masterCourseCode}</Text>\n\n        <Text style={styles.subtitle}>\n          {`${selectedClass.courseTerm} \\u2022 credits: ${\n            filters.isHMC\n              ? selectedClass.creditWeightHM\n              : selectedClass.creditWeight\n          }`}\n        </Text>\n        {selectedClass.timeSpentOutOfClass && (\n          <Layout\n            style={[\n              {\n                flexDirection: 'row',\n                alignItems: 'flex-start',\n                paddingRight: 5\n              },\n              backgroundColor\n            ]}\n          >\n            <Text style={styles.subtitle}>Time Spent Per Week</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>\n              : {selectedClass.timeSpentOutOfClass} hours\n            </Text>\n          </Layout>\n        )}\n        {selectedClass.averageGrade && (\n          <Layout\n            style={[\n              {\n                flexDirection: 'row',\n                alignItems: 'flex-start',\n                paddingRight: 5\n              },\n              backgroundColor\n            ]}\n          >\n            <Text style={styles.subtitle}>Average Grade</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>:{selectedClass.averageGrade}</Text>\n          </Layout>\n        )}\n        {selectedClass.difficulty && (\n          <Layout\n            style={[\n              {\n                flexDirection: 'row',\n                alignItems: 'flex-start',\n                paddingRight: 5\n              },\n              backgroundColor\n            ]}\n          >\n            <Text style={styles.subtitle}>Estimated Difficulty</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>\n              : {selectedClass.difficulty} / 5\n            </Text>\n          </Layout>\n        )}\n        {selectedClass.rating && (\n          <Layout\n            style={[\n              {\n                flexDirection: 'row',\n                alignItems: 'flex-start',\n                paddingRight: 5\n              },\n              backgroundColor\n            ]}\n          >\n            <Text style={styles.subtitle}>Average Rating</Text>\n            <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n            <Text style={styles.subtitle}>:{selectedClass.rating} / 5</Text>\n          </Layout>\n        )}\n      </Layout>\n      <Layout style={backgroundColor}>\n        <Text style={styles.courseDescription}>{selectedClass.summary}</Text>\n      </Layout>\n      <Layout style={{ ...backgroundColor, ...styles.boxed }}>\n        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n          Other Stated Prerequisites:\n        </Text>\n        <Text style={{ fontSize: 15 }}>\n          {selectedClass.prerequisites !== ''\n            ? selectedClass.prerequisites\n            : 'none'}\n        </Text>\n\n        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n          Other Stated Corequisites:\n        </Text>\n        <Text style={{ fontSize: 15 }}>\n          {selectedClass.corequisites !== ''\n            ? selectedClass.corequisites\n            : 'none'}\n        </Text>\n\n        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n          Number of PERMs:\n        </Text>\n        <Text style={{ fontSize: 15 }}>\n          {selectedClass.permCount ? selectedClass.permCount.toString() : '0'}\n        </Text>\n      </Layout>\n      <Layout style={[{ alignItems: 'flex-end' }, backgroundColor]}>\n        {(selectedClass.timeSpentOutOfClass ||\n          selectedClass.averageGrade ||\n          selectedClass.difficulty ||\n          selectedClass.rating) && (\n          <TouchableOpacity onPress={() => setShowModal(!showModal)}>\n            <Layout\n              style={[\n                {\n                  flexDirection: 'row',\n                  alignItems: 'flex-start',\n                  paddingRight: 5\n                },\n                backgroundColor\n              ]}\n            >\n              <Text style={{ fontSize: 12, lineHeight: 13 }}>i</Text>\n              <Text style={styles.disclaimer}>How Do We Estimate This?</Text>\n            </Layout>\n          </TouchableOpacity>\n        )}\n      </Layout>\n      <Layout style={backgroundColor}>\n        {selectedClass.times.length > 0 && (\n          <Layout style={backgroundColor}>\n            <Text style={styles.subHeader}>Sections</Text>\n            <Layout style={[styles.section, backgroundColor]}>\n              <Text style={styles.headerText}>Course Code</Text>\n              <Text style={styles.headerText}>Seats</Text>\n              <Text style={styles.headerText}>Professor</Text>\n              <Text style={styles.headerText}>Time</Text>\n              <Text style={styles.headerText}>Location</Text>\n            </Layout>\n          </Layout>\n        )}\n        {selectedClass.times.flatMap((time) => {\n          return time.courseSchedule.map((schedule) => {\n            return (\n              <Layout\n                key={schedule.courseCode}\n                style={{ backgroundColor, ...styles.section }}\n              >\n                <Text style={styles.sectionText}>{time.courseCode}</Text>\n                <Text style={styles.sectionText}>\n                  {time.seatsFilled} /{time.seatsFilled + time.seatsAvailable}\n                </Text>\n                <Text style={styles.sectionText}>{time.professorName}</Text>\n                <Text style={styles.sectionText}>\n                  {buildTimeString(time)}\n                  {'\\n'}\n                  {schedule.daysOfTheWeek.join(', ')}\n                </Text>\n                <Text style={styles.sectionText}>\n                  {schedule.classLocation ? time.classLocation : 'TBD'}\n                </Text>\n              </Layout>\n            );\n          });\n        })}\n        {averageGradeMSGModal}\n      </Layout>\n      <Text style={styles.subHeader}>Reviews</Text>\n      {selectedClass.reviews.length === 0 ? (\n        <Text style={{ alignSelf: 'center', marginBottom: 10 }}>\n          No Reviews yet\n        </Text>\n      ) : (\n        selectedClass.reviews.map((review, index) => (\n          <Card key={index} disabled>\n            <Text>{`${review.text}\\n\\nPosted: ${review.date}`}</Text>\n            {review.professor && (\n              <Text>{`Taught By: ${review.professor}`}</Text>\n            )}\n          </Card>\n        ))\n      )}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  subtitle: {\n    fontSize: 16\n  },\n  courseOpen: {\n    backgroundColor: 'green',\n    color: '#fff',\n    padding: 5,\n    marginRight: 10\n  },\n  courseClosed: {\n    backgroundColor: 'red',\n    color: '#fff',\n    padding: 5,\n    borderRadius: 5\n  },\n  header: {\n    alignItems: 'center'\n  },\n  details: {\n    flexDirection: 'row',\n    padding: 10,\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  courseDescription: {\n    paddingRight: 20,\n    paddingLeft: 20,\n    paddingTop: 10,\n    paddingBottom: 5,\n    fontSize: 17\n  },\n  BodyContainer: {\n    borderTopWidth: 1,\n    borderTopColor: 'black',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-evenly',\n    padding: 10,\n    paddingTop: 20,\n    paddingBottom: 20\n  },\n  boxed: {\n    alignItems: 'center',\n    margin: 8,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 7\n  },\n  documentStyle: {\n    width: 150,\n    height: 190,\n    paddingTop: 100\n  },\n  imageLabel: {\n    fontSize: 12,\n    color: 'black',\n    padding: 10,\n    textAlign: 'center'\n  },\n  schedule: {\n    paddingLeft: 20,\n    paddingTop: 10\n  },\n  graphImage: {\n    width: '100%',\n    aspectRatio: 1,\n    resizeMode: 'contain'\n  },\n  grade: {\n    fontSize: 50,\n    fontWeight: 'bold',\n    color: 'green'\n  },\n  reviewText: {\n    fontSize: 16,\n    fontStyle: 'italic'\n  },\n  reviewBox: {\n    width: '95%',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: 'black',\n    borderRadius: 5,\n    marginBottom: 10\n  },\n  section: {\n    flexDirection: 'row',\n    paddingLeft: 5,\n    borderBottomWidth: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  headerText: {\n    fontWeight: 'bold',\n    fontSize: 13,\n    flex: 1\n  },\n  sectionText: {\n    flex: 1\n  },\n  disclaimer: {\n    fontSize: 14,\n    fontStyle: 'italic'\n  },\n  backdrop: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  containerDrop: {\n    height: 42,\n    margin: 12,\n    borderWidth: 1\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  subHeader: {\n    fontSize: 20,\n    paddingLeft: 20,\n    paddingBottom: 20,\n    paddingTop: 20,\n    fontWeight: 'bold'\n  }\n});\n","import { FontAwesome, FontAwesome5 } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Button, Input, Layout, List, Text } from '@ui-kitten/components';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport {\n  Alert,\n  Dimensions,\n  KeyboardAvoidingView,\n  Platform,\n  SafeAreaView,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View\n} from 'react-native';\nimport { SwipeRow } from 'react-native-swipe-list-view';\n\nimport { HeaderBackButton } from '@react-navigation/elements';\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport BackButton from '../../components/BackButton';\nimport { base_URL } from './constants';\n\nimport ModalContainer from '../../components/ModalContainer';\nimport UserNameSelectionDropDown from '../../components/UserNameSelectionDropDown';\nimport { useGetCurrentSectionQuery } from '../api/classPagesApi';\nimport { selectClassesList } from '../classPages/classPagesSlice';\nimport SingleClassPage from './notificationSinglePage';\nimport CalendarRender from '../calendar/CalendarRender';\nimport Header from '../../components/Header';\n\nconst NotificationHomePage = createNativeStackNavigator();\n\nexport default function NotificationsNavigation({ navigation }) {\n  const [notifications, setNotifications] = useState([]);\n  const [selectedIndex, setSelectedIndex] = React.useState([]);\n  const [hasChosen, setHasChosen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [isOpen, setIsOpen] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const isGuest = useAppSelector(selectIsGuest);\n\n  useEffect(() => {\n    refreshNotifications();\n    fetch(`${base_URL}/users/getUserNameList`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(async (data) => {\n      if (data.ok) {\n        const newUsers = (await data.json()).map((userName) => {\n          return {\n            label: userName,\n            id: userName\n          };\n        });\n        setUsers(newUsers);\n      }\n    });\n  }, []);\n  async function refreshNotifications() {\n    fetch(`${base_URL}/users/getNotifications`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then((res) => {\n      res.text().then((notifications) => {\n        notifications = JSON.parse(notifications);\n        // @ts-ignore\n        setNotifications(notifications);\n      });\n    });\n  }\n  async function sendNotification(bodyTosend) {\n    await fetch(`${base_URL}/users/sendNotification`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      },\n      body: JSON.stringify(bodyTosend)\n    });\n  }\n  function createNotificationButton() {\n    navigation.navigate('CreateNotification');\n  }\n  function clearNotifications() {\n    fetch(`${base_URL}/users/clearNotifications`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then(() => {\n      refreshNotifications();\n    });\n  }\n  const navigationHeader = (navigation) => (\n    <Layout\n      style={{\n        width: '100%',\n        justifyContent: 'space-between',\n        flexDirection: 'row',\n        backgroundColor: 'transparent'\n      }}\n    >\n      {Platform.OS === 'ios' && <BackButton navigation={navigation} />}\n\n      <Layout\n        style={{\n          paddingBottom: 5,\n          flexDirection: 'row',\n          alignItems: 'center',\n          backgroundColor: 'transparent'\n        }}\n      >\n        {/* <Image\n          style={{\n            height: 28,\n            width: 28,\n          }}\n          source={require('../../../assets/logos/app-logo.png')}\n        /> */}\n        <Text\n          style={{\n            paddingTop: 3,\n            fontSize: 20,\n            fontWeight: '500',\n            color: darkMode ? '#fff' : '#000'\n          }}\n        >\n          Notifications\n        </Text>\n      </Layout>\n      <Layout\n        style={{\n          alignItems: 'flex-end',\n          paddingRight: 40,\n          paddingBottom: 10,\n          flexDirection: 'row',\n          backgroundColor: 'transparent'\n        }}\n      >\n        <TouchableOpacity\n          style={{\n            paddingLeft: 20,\n            marginRight: Platform.OS == 'android' ? 50 : 0\n          }}\n          onPress={() => {\n            if (isGuest) {\n              setShowGuestModal(true);\n            } else {\n              createNotificationButton();\n            }\n          }}\n        >\n          <FontAwesome5 size={25} color=\"#1E90FF\" name=\"plus\" />\n        </TouchableOpacity>\n        {showGuestModal && (\n          <ModalContainer\n            title=\"Wait!\"\n            children={\n              <Text style={{ paddingHorizontal: 30 }}>\n                This feature is locked to our Guest Users. Please create a free\n                account with us to take advantage this feature.\n              </Text>\n            }\n            backDropVisible={showGuestModal}\n            setBackDropVisible={setShowGuestModal}\n          />\n        )}\n        {/* <TouchableOpacity\n\n          onPress={() => {\n            Alert.alert(\n              'Caution',\n              'Are you sure you want to clear your notifications?\\nThis action cannot be undone.',\n              [\n                {\n                  text: 'No',\n                  style: 'cancel',\n                },\n                {\n                  text: 'Yes',\n                  onPress: async () => {\n                    clearNotifications();\n                  },\n                },\n              ]\n            );\n          }}>\n          <FontAwesome5 size={25} color={'#d71717'} name=\"times\" />\n        </TouchableOpacity>\n        /* <TouchableOpacity\n          style={{ paddingLeft: 20 }}\n          onPress={() => {\n            refreshNotifications();\n          }}>\n          <FontAwesome size={25} color={'#1E90FF'} name=\"rotate-right\" />\n        </TouchableOpacity> */}\n      </Layout>\n    </Layout>\n  );\n  function Notifications({ navigation }) {\n    const [refreshing, setRefreshing] = useState(false);\n    const [isMoving, setIsMoving] = useState(false);\n\n    const onRefresh = useCallback(() => {\n      setRefreshing(true);\n      refreshNotifications().then(() => {\n        setRefreshing(false);\n      });\n    }, []);\n    async function handleOnLeftSwipe(postId) {\n      const newNotifications = notifications.map((not) => {\n        if (not._id !== postId) {\n          return not;\n        }\n      });\n      setNotifications(newNotifications);\n      const res = await fetch(`${base_URL}/users/removeNotification`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          userKey\n        },\n        body: JSON.stringify({\n          id: postId\n        }),\n        redirect: 'follow'\n      });\n      if (res.ok) {\n        refreshNotifications();\n      } else {\n        console.warn(await res.json());\n      }\n      setIsOpen(false);\n      setIsMoving(false);\n    }\n\n    const renderItem = ({ item: notification }) => {\n      return (\n        <Layout>\n          {notification && (\n            // @ts-ignore\n            <SwipeRow\n              disableRightSwipe\n              onSwipeValueChange={(status) => {\n                if (status.value < -Dimensions.get('window').width * (1 / 3)) {\n                  if (!isOpen) {\n                    setIsOpen(true);\n                    handleOnLeftSwipe(notification._id);\n                  }\n                } else if (status.value < -5) {\n                  setIsMoving(true);\n                } else {\n                  setIsMoving(false);\n                }\n              }}\n              useNativeDriver\n            >\n              <Layout\n                style={{\n                  alignItems: 'flex-end',\n                  justifyContent: 'center',\n                  alignSelf: 'center',\n                  width: '95%',\n                  height: 75,\n                  borderRadius: 11,\n                  backgroundColor: '#ce0f0f',\n                  marginLeft: 5,\n                  paddingRight: 20,\n                  marginRight: 5,\n                  marginTop: 10\n                }}\n              >\n                <Text style={{ color: '#fff' }}>Delete</Text>\n              </Layout>\n              <TouchableWithoutFeedback\n                style={{\n                  alignItems: 'center',\n                  alignSelf: 'center',\n                  width: '95%',\n                  height: 75,\n                  borderRadius: 10,\n                  marginLeft: 5,\n                  marginRight: 5,\n                  marginTop: 10\n                }}\n                onPress={() => {\n                  navigation.navigate('SingleNotification', {\n                    data: notification\n                  });\n                }}\n                key={notification?._id}\n              >\n                <Layout\n                  style={{\n                    alignItems: 'center',\n                    alignSelf: 'center',\n                    width: '95%',\n                    height: 75,\n                    borderRadius: 10,\n                    backgroundColor: darkMode ? '#333333' : '#ebebeb',\n                    shadowColor: '#000',\n                    shadowOffset: { width: 0, height: 1 },\n                    shadowOpacity: 0.2,\n                    shadowRadius: 2,\n                    elevation: 1,\n                    marginLeft: 5,\n                    marginRight: 5,\n                    marginTop: 10\n                  }}\n                >\n                  <Text\n                    style={{\n                      paddingTop: 5,\n                      fontWeight: 'bold',\n                      fontSize: 20\n                    }}\n                  >\n                    {notification?.title}\n                  </Text>\n                  <Text style={{}}>\n                    From:\n                    {notification?.from}\n                  </Text>\n                  {notification?.creationDate ? (\n                    <Text style={{ fontStyle: 'italic', fontSize: 12 }}>\n                      {notification?.creationDate}\n                    </Text>\n                  ) : null}\n                </Layout>\n              </TouchableWithoutFeedback>\n            </SwipeRow>\n          )}\n        </Layout>\n      );\n    };\n\n    return (\n      <Layout style={{ flex: 1 }}>\n        {notifications.length === 0 ? (\n          <Layout style={{ alignItems: 'center' }}>\n            <Text\n              style={{\n                paddingTop: '25%',\n                paddingBottom: 10,\n                textAlign: 'center'\n              }}\n            >\n              No New Notifications\n            </Text>\n            <TouchableOpacity\n              onPress={() => {\n                refreshNotifications();\n              }}\n            >\n              <FontAwesome size={25} color=\"#1E90FF\" name=\"rotate-right\" />\n            </TouchableOpacity>\n          </Layout>\n        ) : null}\n        <List\n          style={{ backgroundColor: 'transparent' }}\n          contentContainerStyle={{ flex: 1 }}\n          data={notifications}\n          scrollEnabled={!isMoving}\n          renderItem={renderItem}\n          onRefresh={refreshNotifications}\n          refreshing={refreshing}\n        />\n      </Layout>\n    );\n  }\n\n  function getDateText(text) {\n    const spaceIndex = text.indexOf(' ');\n    const first = text.substring(0, spaceIndex);\n    const second = text.substring(spaceIndex + 1);\n    return `${second} |  ${first}`;\n  }\n\n  function SingleNotification({\n    route: {\n      params: { data }\n    }\n  }) {\n    navigation = useNavigation();\n    const { data: currentSection } = useGetCurrentSectionQuery();\n\n    if (data.isSchedule) {\n      return (\n        <CalendarRender\n          route={{\n            params: {\n              overrideData: JSON.parse(data.message)\n            }\n          }}\n        />\n      );\n    }\n    if (data.isCourseData) {\n      const allClassData = useAppSelector(selectClassesList);\n      const courseSimpleData = JSON.parse(data.message);\n      if (courseSimpleData.courseTerm === currentSection) {\n        return (\n          <SingleClassPage\n            selectedClass={allClassData[courseSimpleData.masterCourseCode]}\n          />\n        );\n      }\n      Alert.alert('This course contains outdated information');\n      navigation.goBack();\n      return null;\n    }\n    return (\n      <KeyboardAvoidingView\n        style={{ flex: 1 }}\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      >\n        <ScrollView contentContainerStyle={{ flex: 1 }}>\n          <Layout style={sponsorPageStyles.container}>\n            <Layout\n              style={{ width: '100%', alignItems: 'center', marginTop: 20 }}\n            >\n              <Text style={sponsorPageStyles.title}>{data.title}</Text>\n            </Layout>\n\n            {data.from && (\n              <Layout style={sponsorPageStyles.address}>\n                <Layout style={{ flexDirection: 'row' }}>\n                  <Text style={{ fontSize: 15, fontWeight: 'bold' }}>\n                    From:\n                  </Text>\n                  <Text style={{ fontSize: 15 }}>{data.from}</Text>\n                </Layout>\n                <Layout style={{ flexDirection: 'row' }}>\n                  <Text style={{ fontSize: 15 }}>\n                    {getDateText(data.creationDate)}\n                  </Text>\n                </Layout>\n              </Layout>\n            )}\n            <Layout style={sponsorPageStyles.description}>\n              <Text>{data.message}</Text>\n            </Layout>\n            {data.repliable && (\n              <TouchableOpacity\n                onPress={() => {\n                  // TODO: reply\n                }}\n                style={myStyles.button}\n              >\n                <Text style={myStyles.text}>Reply</Text>\n              </TouchableOpacity>\n            )}\n          </Layout>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    );\n  }\n  function CreateNotification({ navigation }) {\n    const [body, setBody] = useState({});\n    const [done, setDone] = useState(false);\n    const [recipient, setRecipient] = useState(null);\n    const [hasChosen, setHasChosen] = useState(false);\n\n    useEffect(() => {\n      changeValue(hasChosen ? [recipient] : null, 'recipients');\n    }, [recipient, hasChosen]);\n\n    function checkForDone(tempBody) {\n      if (tempBody.recipients && tempBody.title && tempBody.text) {\n        setDone(true);\n      } else {\n        setDone(false);\n      }\n    }\n\n    const changeValue = (theValue, valueToChange) => {\n      const newBody = body;\n      for (const aspect in newBody) {\n        if (\n          newBody[aspect] === null ||\n          newBody[aspect] === undefined ||\n          newBody[aspect] === ''\n        ) {\n          delete newBody[aspect];\n        }\n      }\n      if (theValue !== undefined) {\n        newBody[valueToChange] = theValue;\n      } else if (newBody[valueToChange]) {\n        delete newBody[valueToChange];\n      }\n      checkForDone(newBody);\n      setBody(newBody);\n    };\n\n    function renderInputFields() {\n      const renderHeader = () => {\n        return (\n          <Layout style={{ flexDirection: 'row' }}>\n            <Text\n              style={{\n                fontSize: 15,\n                paddingLeft: 12,\n                paddingBottom: 5,\n                paddingTop: 5,\n                alignContent: 'center',\n                fontWeight: 'bold'\n              }}\n            >\n              Send Message\n            </Text>\n          </Layout>\n        );\n      };\n      const final = [];\n      final.push(\n        <View\n          style={{\n            height: 50,\n            margin: 12,\n            padding: 10\n          }}\n        >\n          {UserNameSelectionDropDown({\n            setHasChosen,\n            setRecipient,\n            placeholder: true\n          })}\n        </View>\n      );\n      final.push(\n        <Input\n          autoCapitalize=\"words\"\n          onChangeText={(theValue) => changeValue(theValue, 'title')}\n          style={myStyles.input}\n          placeholderTextColor=\"gray\"\n          placeholder=\"Title\"\n        />\n      );\n      final.push(\n        <Input\n          autoCapitalize=\"sentences\"\n          onChangeText={(theValue) => changeValue(theValue, 'text')}\n          style={myStyles.inputBig}\n          multiline\n          textStyle={{ minHeight: 150 }}\n          placeholderTextColor=\"gray\"\n          placeholder=\"Body\"\n        />\n      );\n\n      return (\n        <Layout style={{ flex: 1 }}>\n          {renderHeader()}\n          {final}\n        </Layout>\n      );\n    }\n    return (\n      <SafeAreaView style={{ flex: 1 }}>\n        <KeyboardAvoidingView\n          style={{ flex: 1 }}\n          behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n        >\n          <ScrollView contentContainerStyle={{ flex: 1 }}>\n            <Layout style={sponsorPageStyles.container}>\n              <Layout style={sponsorPageStyles.description}>\n                {renderInputFields()}\n                <Button\n                  disabled={!done}\n                  onPress={async () => {\n                    await sendNotification(body);\n                    navigation.navigate('Notifications');\n                  }}\n                >\n                  <Text style={myStyles.text}>Send Message</Text>\n                </Button>\n              </Layout>\n            </Layout>\n          </ScrollView>\n        </KeyboardAvoidingView>\n      </SafeAreaView>\n    );\n  }\n  return (\n    <NotificationHomePage.Navigator initialRouteName=\"Notifications & Messages\">\n      <NotificationHomePage.Screen\n        options={({ navigation }) => ({\n          header: () => (\n            <Layout>\n              <Header\n                title=\"\"\n                accessoryLeft={\n                  <Layout\n                    style={{ flexDirection: 'row', alignItems: 'center' }}\n                  >\n                    <HeaderBackButton\n                      onPress={navigation.goBack}\n                      label=\"Back\"\n                      labelVisible={Platform.OS === 'ios'}\n                    />\n                    <Text\n                      style={{\n                        marginLeft: Platform.OS === 'web' ? undefined : 50,\n                        paddingTop: 3,\n                        fontSize: 20,\n                        fontWeight: '500',\n                        color: darkMode ? '#fff' : '#000'\n                      }}\n                    >\n                      Notifications\n                    </Text>\n                  </Layout>\n                }\n                accessoryRight={\n                  <Layout>\n                    <TouchableOpacity\n                      style={{\n                        paddingLeft: 20,\n                        marginRight: Platform.OS == 'android' ? 50 : 0\n                      }}\n                      onPress={() => {\n                        if (isGuest) {\n                          setShowGuestModal(true);\n                        } else {\n                          createNotificationButton();\n                        }\n                      }}\n                    >\n                      <FontAwesome5 size={25} color=\"#1E90FF\" name=\"plus\" />\n                    </TouchableOpacity>\n                    {showGuestModal && (\n                      <ModalContainer\n                        title=\"Wait!\"\n                        children={\n                          <Text style={{ paddingHorizontal: 30 }}>\n                            This feature is locked to our Guest Users. Please\n                            create a free account with us to take advantage this\n                            feature.\n                          </Text>\n                        }\n                        backDropVisible={showGuestModal}\n                        setBackDropVisible={setShowGuestModal}\n                      />\n                    )}\n                  </Layout>\n                }\n              />\n            </Layout>\n          )\n        })}\n        name=\"Notifications\"\n        component={Notifications}\n      />\n      <NotificationHomePage.Screen\n        name=\"SingleNotification\"\n        component={SingleNotification}\n        options={{ headerTitle: '' }}\n      />\n      <NotificationHomePage.Screen\n        name=\"CreateNotification\"\n        component={CreateNotification}\n        options={{ headerTitle: '' }}\n      />\n    </NotificationHomePage.Navigator>\n  );\n}\n\nfunction convertTo12HourTime(time) {\n  if (time.length !== 5) {\n    time = `0${time}`;\n  }\n  let hours = time.slice(0, 2);\n  const minutes = time.slice(3, 5);\n  let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n  hours %= 12;\n  if (hours === 0) {\n    hours = 12;\n    ampm = 'pm';\n  }\n  return `${hours}:${minutes}${ampm}`;\n}\n\nfunction getMinutesDiff(startTime, endTime) {\n  if (endTime > startTime) {\n    return (endTime - startTime) * 0.7;\n  }\n  if (startTime === endTime) {\n    return 0;\n  }\n  return (startTime - endTime) * -0.7;\n}\n\nconst sponsorPageStyles = StyleSheet.create({\n  container: {\n    flex: 1\n    // alignItems: 'center',\n  },\n  header: {\n    marginTop: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  address: {\n    alignItems: 'center',\n    margin: 10,\n    borderColor: 'black',\n    borderWidth: 1,\n    padding: 10\n  },\n  video: {\n    marginTop: 20,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  title: {\n    fontSize: 26,\n    marginLeft: 10\n  },\n  logo: {\n    width: '100%',\n    height: 100\n  },\n  description: {\n    flex: 1,\n    margin: 10,\n    borderRadius: 5,\n    width: '95%',\n    padding: 10\n  },\n  couponContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  coupon: {\n    width: 400,\n    height: 267\n  },\n  imageGallery: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    margin: 10,\n    marginBottom: 0\n  },\n  imageStyle: {\n    width: 150,\n    height: 150,\n    paddingTop: 100,\n    margin: 5\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n});\n\nconst myStyles = StyleSheet.create({\n  inputBig: {\n    height: 200,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  input: {\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  indentedInput: {\n    height: 50,\n    marginVertical: 12,\n    borderWidth: 1,\n    padding: 10,\n    marginRight: 12,\n    marginLeft: 30\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25\n  },\n  button: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 4,\n    elevation: 3\n  },\n  timeButton: {\n    width: 100,\n    height: 50,\n    marginHorizontal: 40,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 4\n  },\n  timeText: {\n    fontSize: 16,\n    lineHeight: 21,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  actualTimeText: {\n    fontSize: 13,\n    lineHeight: 18,\n    fontWeight: 'bold',\n    letterSpacing: 0.25,\n    color: 'white'\n  },\n  timeStyle: {\n    flex: 0.3,\n    borderWidth: 2,\n    borderLeftColor: 'white'\n  }\n});\n\nconst listingStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  cardContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  containerForNotifications: {\n    alignItems: 'center',\n    alignSelf: 'center',\n    width: '95%',\n    height: 75,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderBottomWidth: 0,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 1,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 10\n  },\n  text: {\n    flex: 1,\n    fontSize: 20,\n    textAlign: 'center',\n    marginTop: 5,\n    marginBottom: 5\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    borderRadius: 10\n  }\n});\n","import { Input, Layout, Spinner, Text } from '@ui-kitten/components';\nimport { TouchableWithoutFeedback } from '@ui-kitten/components/devsupport';\nimport { useState } from 'react';\nimport {\n  Keyboard,\n  KeyboardAvoidingView,\n  Platform,\n  TouchableOpacity\n} from 'react-native';\n\nimport { selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport WrapItems from '../../components/WrapItems';\nimport { useEditUserMutation, useGetUserInfoQuery } from '../api/usersApi';\n\nfunction EditProfileHeader({ navigation, saveChanges }) {\n  return (\n    <Layout\n      style={{\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        margin: 20,\n        marginTop: Platform.OS !== 'ios' ? 40 : 20\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          navigation.goBack();\n        }}\n      >\n        <Text>Cancel</Text>\n      </TouchableOpacity>\n      <Text category=\"s1\">Edit Profile</Text>\n      <TouchableOpacity onPress={saveChanges}>\n        <Text>Save</Text>\n      </TouchableOpacity>\n    </Layout>\n  );\n}\n\nexport default function EditUser({ navigation }) {\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n\n  const inputs = [\n    {\n      placeholder: '*******',\n      label: 'password',\n      name: 'password'\n    },\n    {\n      placeholder: userData.realFirstName,\n      label: 'First Name',\n      name: 'realFirstName'\n    },\n    {\n      placeholder: userData.realLastName,\n      label: 'Last Name',\n      name: 'realLastName'\n    },\n    {\n      placeholder: userData.profileDescription,\n      label: 'Profile Description',\n      name: 'profileDescription',\n      propOptions: { multiline: true, textStyle: { minHeight: 64 } }\n    },\n    {\n      placeholder: userData.linkedin,\n      label: 'LinkedIn',\n      name: 'linkedin'\n    },\n    {\n      placeholder: userData.major,\n      label: 'Major',\n      name: 'major'\n    }\n  ];\n\n  const [fields, setFields] = useState(\n    Object.fromEntries(inputs.map((input) => [input.name, '']))\n  );\n  const [editUser, { isLoading }] = useEditUserMutation();\n\n  const saveChanges = async () => {\n    const changedFields = Object.entries(fields).filter(\n      ([_, value]) => value !== ''\n    );\n\n    try {\n      if (changedFields.length > 0) {\n        await editUser({\n          userKey,\n          userName: userData.userName,\n          fields: Object.fromEntries(changedFields)\n        }).unwrap();\n      }\n\n      navigation.goBack();\n    } catch (err) {\n      console.warn('Error editing user', err);\n    }\n  };\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      {isLoading ? (\n        <Layout\n          style={{\n            flex: 1,\n            backgroundColor: 'transparent',\n            position: 'absolute',\n            top: '30%',\n            right: '50%',\n            zIndex: 1\n          }}\n        >\n          <Spinner size=\"medium\" />\n        </Layout>\n      ) : null}\n\n      <EditProfileHeader navigation={navigation} saveChanges={saveChanges} />\n      <KeyboardAvoidingView\n        style={{ flex: 1 }}\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      >\n        <TouchableWithoutFeedback\n          style={{ flex: 1 }}\n          onPress={Keyboard.dismiss}\n        >\n          <WrapItems\n            style={{ marginVertical: 20 }}\n            childStyle={{ marginHorizontal: 40, marginVertical: 10 }}\n          >\n            {inputs.map(({ placeholder, label, name, propOptions }) => (\n              <Input\n                key={name}\n                placeholder={placeholder}\n                label={label}\n                onChangeText={(text) => setFields({ ...fields, [name]: text })}\n                {...propOptions}\n              />\n            ))}\n            <Input placeholder={userData?.email} label=\"Email\" disabled />\n          </WrapItems>\n        </TouchableWithoutFeedback>\n      </KeyboardAvoidingView>\n    </Layout>\n  );\n}\n","import { Button, Divider, Layout, Text, Toggle } from '@ui-kitten/components';\nimport Constants from 'expo-constants';\nimport React, { useState } from 'react';\nimport { ScrollView, useColorScheme } from 'react-native';\n\nimport {\n  deviceDarkModeSet,\n  deleteAllAppData as resetAppData,\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey,\n  useDeviceColorSchemeSet\n} from '../../app/appDataSlice';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport ModalContainer from '../../components/ModalContainer';\nimport WrapItems from '../../components/WrapItems';\nimport { apiSlice } from '../api/apiSlice';\nimport {\n  useDeleteAccountMutation,\n  useEditUserMutation,\n  useGetUserInfoQuery,\n  useRemoveExpoPushTokenMutation\n} from '../api/usersApi';\nimport {\n  reset as resetClassPages,\n  clearUserData\n} from '../classPages/classPagesSlice';\nimport { showToast } from '../../functions';\n\nexport default function SettingsPage({ navigation }) {\n  const [settingsDisabled, setSettingsDisabled] = useState(false);\n  const [editUser] = useEditUserMutation();\n  const [removeExpoPushToken] = useRemoveExpoPushTokenMutation();\n  const darkMode = useAppSelector(selectDarkMode);\n  const useDeviceColorScheme = useAppSelector(\n    (state) => state.appData.secure.useDeviceColorScheme\n  );\n  const expoPushToken = useAppSelector(\n    (state) => state.appData.secure.deviceExpoPushToken\n  );\n  const userKey = useAppSelector(selectUserKey);\n  const isGuest = useAppSelector(selectIsGuest);\n  const colorScheme = useColorScheme();\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n  const dispatch = useAppDispatch();\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [deleteAccount] = useDeleteAccountMutation();\n\n  const currentVersion =\n    Constants?.manifest2?.extra?.expoClient?.version ??\n    Constants?.manifest?.version;\n\n  const logOut = async (willRemoveExpoPushToken: boolean) => {\n    try {\n      if (!isGuest && willRemoveExpoPushToken && expoPushToken) {\n        await removeExpoPushToken({\n          userKey,\n          userName: userData.userName,\n          expoPushToken\n        }).unwrap();\n      }\n\n      dispatch(resetAppData());\n      dispatch(clearUserData());\n      dispatch(apiSlice.util.resetApiState());\n    } catch (e) {\n      showToast('Error logging out', 'red');\n      console.warn('Error logging out: ', e);\n    }\n  };\n\n  const handleDeleteAccount = async () => {\n    try {\n      await deleteAccount({ userKey, userName: userData.userName }).unwrap();\n      logOut(false);\n    } catch (e) {\n      console.warn('Error deleting account: ', e);\n    }\n  };\n\n  const handleUseDeviceSettingToggled = (checked: boolean) => {\n    dispatch(useDeviceColorSchemeSet(checked));\n    if (checked) {\n      dispatch(deviceDarkModeSet(colorScheme === 'dark'));\n    }\n  };\n\n  const handleDarkModeToggled = (checked: boolean) => {\n    dispatch(useDeviceColorSchemeSet(false));\n    dispatch(deviceDarkModeSet(checked));\n  };\n\n  function handleSettingsChange(settingName, value) {\n    setSettingsDisabled(true);\n    const body = {\n      settings: {}\n    };\n    body.settings[settingName] = value;\n    editUser({\n      userKey,\n      userName: userData.userName,\n      fields: JSON.stringify(body)\n    })\n      .unwrap()\n      .then(() => setSettingsDisabled(false))\n      .catch((e) => {\n        setSettingsDisabled(false);\n        console.warn(e.message);\n      });\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <Layout\n        style={{\n          flexDirection: 'row',\n          marginHorizontal: 20,\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          flex: 1\n        }}\n      >\n        <Layout>\n          <Text category=\"h2\">\n            {userData?.realFirstName} {userData?.realLastName}\n          </Text>\n          <Text category=\"h6\" status=\"success\">\n            @{userData?.userName}\n          </Text>\n        </Layout>\n        <Layout>\n          <Button\n            onPress={() => {\n              if (isGuest) {\n                setShowGuestModal(true);\n              } else {\n                navigation.navigate('EditUser');\n              }\n            }}\n          >\n            Edit\n          </Button>\n        </Layout>\n      </Layout>\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is not available to Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          }\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n\n      <Divider />\n\n      <Layout style={{ flex: 5 }}>\n        <ScrollView\n          bounces={false}\n          contentContainerStyle={{ marginHorizontal: 20 }}\n        >\n          <Layout>\n            <Text category=\"h6\" style={{ textAlign: 'center', marginTop: 20 }}>\n              Dark Mode\n            </Text>\n            <Layout\n              style={{\n                marginTop: 20,\n                flexDirection: 'row',\n                justifyContent: 'space-between'\n              }}\n            >\n              <Text>Use Device Setting</Text>\n              <Toggle\n                onChange={(checked) => handleUseDeviceSettingToggled(checked)}\n                checked={useDeviceColorScheme}\n              />\n            </Layout>\n            <Layout\n              style={{\n                marginTop: 20,\n                flexDirection: 'row',\n                justifyContent: 'space-between',\n                opacity: useDeviceColorScheme ? 0.4 : 1\n              }}\n            >\n              <Text>Dark Mode</Text>\n              <Toggle\n                onChange={(checked) => handleDarkModeToggled(checked)}\n                checked={darkMode}\n              />\n            </Layout>\n\n            <Text category=\"h6\" style={{ textAlign: 'center', marginTop: 20 }}>\n              Push Notifications\n            </Text>\n            {userData.permissionLevel === 'admin' && (\n              <Layout\n                style={{\n                  marginTop: 20,\n                  flexDirection: 'row',\n                  justifyContent: 'space-between'\n                }}\n              >\n                <Text>New Review Notification</Text>\n                <Toggle\n                  disabled={settingsDisabled}\n                  onChange={(checked) =>\n                    handleSettingsChange('newReview', checked)\n                  }\n                  checked={userData.settings.newReview}\n                />\n              </Layout>\n            )}\n            <Layout\n              style={{\n                marginTop: 20,\n                flexDirection: 'row',\n                justifyContent: 'space-between'\n              }}\n            >\n              <Text>Alert Notifications</Text>\n              <Toggle\n                disabled={settingsDisabled}\n                onChange={(checked) =>\n                  handleSettingsChange('alertNotifications', checked)\n                }\n                checked={userData.settings.alertNotifications}\n              />\n            </Layout>\n\n            <Layout\n              style={{\n                marginTop: 20,\n                flexDirection: 'row',\n                justifyContent: 'space-between'\n              }}\n            >\n              <Text>Chat Notifications</Text>\n              <Toggle\n                disabled={settingsDisabled}\n                onChange={(checked) =>\n                  handleSettingsChange('chatNotifications', checked)\n                }\n                checked={userData.settings.chatNotifications}\n              />\n            </Layout>\n            {false && (\n              <Layout\n                style={{\n                  marginTop: 20,\n                  flexDirection: 'row',\n                  justifyContent: 'space-between'\n                }}\n              >\n                <Text>Class Notifications</Text>\n                <Toggle\n                  disabled={settingsDisabled}\n                  onChange={(checked) =>\n                    handleSettingsChange('classNotification', checked)\n                  }\n                  checked={userData.settings.classNotification}\n                />\n              </Layout>\n            )}\n\n            <Text category=\"h6\" style={{ textAlign: 'center', marginTop: 20 }}>\n              Other Settings\n            </Text>\n\n            <Layout\n              style={{\n                marginTop: 20,\n                flexDirection: 'row',\n                justifyContent: 'space-between'\n              }}\n            >\n              <Text>Show Names in place of Usernames</Text>\n              <Toggle\n                disabled={settingsDisabled}\n                onChange={(checked) =>\n                  handleSettingsChange('displayNames', checked)\n                }\n                checked={userData.settings.displayNames}\n              />\n            </Layout>\n          </Layout>\n\n          <WrapItems\n            childStyle={{ marginVertical: 3 }}\n            style={{ alignItems: 'center', marginBottom: 10, marginTop: 100 }}\n          >\n            <Button\n              onPress={() => logOut(true)}\n              status=\"warning\"\n              appearance=\"outline\"\n            >\n              Log Out\n            </Button>\n            <Button\n              onPress={handleDeleteAccount}\n              status=\"danger\"\n              appearance=\"ghost\"\n            >\n              Delete Account\n            </Button>\n            <Text>{currentVersion ? `Version ${currentVersion}` : ''}</Text>\n          </WrapItems>\n        </ScrollView>\n      </Layout>\n    </Layout>\n  );\n}\n","import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { useTheme } from '@ui-kitten/components';\n\nimport { selectDarkMode } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport BackButton from '../../components/BackButton';\nimport EditUser from './EditUser';\nimport SettingsPage from './SettingsPage';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function Settings() {\n  const theme = useTheme();\n  const darkMode = useAppSelector(selectDarkMode);\n\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerStyle: {\n          backgroundColor: darkMode ? theme['color-basic-800'] : '#fff'\n        }\n      }}\n    >\n      <Stack.Screen\n        name=\"SettingsPage\"\n        component={SettingsPage}\n        options={({ navigation }) => ({\n          title: 'Settings',\n          headerLeft: (props) => (\n            <BackButton navigation={navigation} {...props} />\n          )\n        })}\n      />\n      <Stack.Group screenOptions={{ presentation: 'modal' }}>\n        <Stack.Screen\n          name=\"EditUser\"\n          component={EditUser}\n          options={{ headerShown: false }}\n        />\n      </Stack.Group>\n    </Stack.Navigator>\n  );\n}\n","import { Feather, FontAwesome5 } from '@expo/vector-icons';\nimport { Button, useTheme } from '@ui-kitten/components';\nimport React from 'react';\nimport { ScrollView, View, Text } from 'react-native';\n\nexport default function Menu({ menuItems, setMenuItems }) {\n  const theme = useTheme();\n\n  return (\n    <View style={{ marginVertical: 10 }}>\n      <ScrollView\n        showsHorizontalScrollIndicator={false}\n        horizontal\n        style={{ flexDirection: 'row' }}\n      >\n        {Object.entries(menuItems).map(([name, value]: any[], index) => {\n          if (!value.selected) {\n            return (\n              <Button\n                onPress={() => {\n                  setMenuItems({\n                    ...menuItems,\n                    [name]: { selected: !value.selected }\n                  });\n                }}\n                status={value.selected ? 'info' : 'primary'}\n                style={{\n                  height: 45,\n                  marginHorizontal: 10,\n                  borderRadius: 20,\n                  backgroundColor: `rgba(${theme['color-success-500']}, ${\n                    1 - 0.03 * index\n                  })`,\n                  borderColor: `rgba(${theme['color-success-500']}, ${\n                    1 - 0.03 * index\n                  })`\n                }}\n                key={index}\n              >\n                <View\n                  style={{ alignItems: 'center', justifyContent: 'center' }}\n                >\n                  <Text style={{ color: 'white' }}>\n                    {name}\n                    {value.selected && (\n                      <Text>\n                        {`    `}\n                        <Feather name=\"x\" size={15} />\n                      </Text>\n                    )}\n                  </Text>\n                </View>\n              </Button>\n            );\n          }\n        })}\n      </ScrollView>\n      <ScrollView\n        showsHorizontalScrollIndicator={false}\n        horizontal\n        style={{ flexDirection: 'row', marginTop: 3, marginLeft: 8 }}\n      >\n        {Object.entries(menuItems).map(([name, value]: any[], index) => {\n          if (value.selected) {\n            return (\n              <Button\n                accessoryRight={\n                  <FontAwesome5 name=\"times\" size={14} color=\"white\" />\n                }\n                onPress={() => {\n                  setMenuItems({\n                    ...menuItems,\n                    [name]: { selected: !value.selected }\n                  });\n                }}\n                style={{\n                  height: 45,\n                  marginHorizontal: 2,\n                  borderRadius: 20,\n                  backgroundColor: theme['color-success-500'],\n                  borderColor: theme['color-success-500']\n                }}\n                key={index}\n              >\n                <View\n                  style={{ alignItems: 'center', justifyContent: 'center' }}\n                >\n                  <Text style={{ color: 'white' }}>{name}</Text>\n                </View>\n              </Button>\n            );\n          }\n        })}\n      </ScrollView>\n    </View>\n  );\n}\n","import { apiSlice } from './apiSlice';\n\nexport const sponsorsApiSlice = apiSlice.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    refreshSponsors: builder.query({\n      query: (userKey) => ({\n        url: '/sponsors',\n        headers: {\n          userKey\n        }\n      }),\n      transformResponse: (sponsors: any[]) => {\n        sponsors = sponsors.sort((a, b) => {\n          const textA = a.sponsorName.toUpperCase();\n          const textB = b.sponsorName.toUpperCase();\n          return textA < textB ? 1 : textA > textB ? -1 : 0;\n        });\n\n        return [\n          sponsors.find((sponsor) => sponsor.sponsorName === 'Big Mo\\'s'),\n          ...sponsors.filter((sponsor) => sponsor.sponsorName !== 'Big Mo\\'s')\n        ];\n      }\n    }),\n    postSponsorVisit: builder.mutation({\n      query: ({ userKey, sponsorId }) => ({\n        url: '/analytics/sponsor/ping',\n        method: 'POST',\n        headers: {\n          userKey\n        },\n        body: {\n          sponsorId\n        },\n        responseHandler: (response) => response.text()\n      })\n    })\n  })\n});\n\nexport const { useLazyRefreshSponsorsQuery, usePostSponsorVisitMutation } = sponsorsApiSlice;\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport { Layout, useTheme } from '@ui-kitten/components';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport React, { useEffect, useState } from 'react';\nimport {\n  Dimensions,\n  Image,\n  Linking,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View\n} from 'react-native';\n\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport Menu from '../../components/Menu';\nimport {\n  useLazyRefreshSponsorsQuery,\n  usePostSponsorVisitMutation\n} from '../api/sponsorsApi';\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport function SponsorPage({\n  route: {\n    params: { data }\n  }\n}) {\n  const isDarkMode = useAppSelector(selectDarkMode);\n  const sponsorPageStyles = StyleSheet.create({\n    container: {\n      flex: 1\n    },\n    header: {\n      marginTop: 20,\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%'\n    },\n    address: {\n      color: isDarkMode ? 'white' : 'black',\n      alignItems: 'center',\n      margin: 10,\n      borderColor: 'black',\n      borderWidth: 1,\n      padding: 10\n    },\n    video: {\n      marginTop: 20,\n      display: 'flex',\n      justifyContent: 'flex-start'\n    },\n    title: {\n      color: isDarkMode ? 'white' : 'black',\n      fontSize: 26,\n      marginLeft: 10\n    },\n    subtitle: {\n      color: isDarkMode ? 'white' : 'black',\n      fontSize: 14,\n      justifyContent: 'center'\n    },\n    logo: {\n      width: '100%',\n      height: 100\n    },\n    description: {\n      borderWidth: 1,\n      margin: 10,\n      borderColor: '#F1E4B5',\n      borderRadius: 5,\n      width: '95%',\n      padding: 10\n      // backgroundColor: '#F9F9F9',\n    },\n    couponContainer: {\n      width: '100%',\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginTop: 20,\n      marginBottom: 20\n    },\n    coupon: {\n      width: 400,\n      height: 267\n    },\n    imageGallery: {\n      justifyContent: 'center',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      margin: 10,\n      marginBottom: 0\n    },\n    imageStyle: {\n      width: 150,\n      height: 150,\n      paddingTop: 100,\n      margin: 5\n    },\n    headerText: {\n      color: isDarkMode ? 'white' : 'black',\n      fontSize: 20,\n      fontWeight: 'bold'\n    }\n  });\n  const [imageIndex, setImageIndex] = useState(0);\n  const [visible, setIsVisible] = useState(false);\n  const [canOpenLink, setCanOpenLink] = useState(false);\n\n  const [postSponsorVisitQuery] = usePostSponsorVisitMutation();\n\n  const userKey = useAppSelector(selectUserKey);\n\n  const videoLinkArray = data.videoLink && data.videoLink.split('/');\n  const videoLink = data.videoLink && videoLinkArray[videoLinkArray.length - 1];\n\n  function getSubtitle() {\n    if (data.phoneNumber && data.email) {\n      return `${data.phoneNumber} \\u2022 ${data.email}`;\n    }\n    if (data.phoneNumber) {\n      return data.phoneNumber;\n    }\n    if (data.email) {\n      return data.email;\n    }\n    return null;\n  }\n\n  const postSponsorVisit = async () => {\n    try {\n      await postSponsorVisitQuery({ userKey, sponsorId: data._id }).unwrap();\n    } catch (e) {\n      console.warn('Error posting sponsor visit: ', e);\n    }\n  };\n\n  useEffect(() => {\n    const funct = async () => {\n      setCanOpenLink(await Linking.canOpenURL(data.website));\n      postSponsorVisit();\n    };\n    funct();\n  }, []);\n\n  function renderWebsiteLink() {\n    if (canOpenLink) {\n      return (\n        <View>\n          <TouchableOpacity\n            onPress={() => {\n              Linking.openURL(data.website);\n            }}\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'center'\n            }}\n          >\n            <Text\n              style={{\n                fontSize: 15,\n                color: isDarkMode ? '#6b7ee5' : '#4b5dc7',\n                paddingRight: 5\n              }}\n            >\n              Check Out Our Website!\n            </Text>\n            <FontAwesome5 name=\"link\" size={15} color=\"#4b5dc7\" />\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    return null;\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n      <ScrollView>\n        <Layout style={sponsorPageStyles.container}>\n          <View style={sponsorPageStyles.header}>\n            <Image\n              resizeMode=\"contain\"\n              style={sponsorPageStyles.logo}\n              source={{ uri: data.logo }}\n            />\n          </View>\n          <View\n            style={{ width: '100%', display: 'flex', alignItems: 'center' }}\n          >\n            <Text style={sponsorPageStyles.title}>{data.sponsorName}</Text>\n            <Text style={sponsorPageStyles.subtitle}>{getSubtitle()}</Text>\n          </View>\n\n          {data.location && (\n            <View style={sponsorPageStyles.address}>\n              <Text\n                style={{ fontSize: 18, color: isDarkMode ? 'white' : 'black' }}\n              >\n                {data.location}\n              </Text>\n            </View>\n          )}\n\n          <View\n            style={{ width: '100%', display: 'flex', alignItems: 'center' }}\n          >\n            {renderWebsiteLink()}\n          </View>\n\n          <Layout style={sponsorPageStyles.description}>\n            <Text\n              style={{ fontSize: 17, color: isDarkMode ? 'white' : 'black' }}\n            >\n              {data.description}\n            </Text>\n          </Layout>\n          <View\n            style={{\n              width: '100%',\n              alignSelf: 'flex-start',\n              marginLeft: 20,\n              borderBottomColor: '#F1E4B5',\n              borderBottomWidth: 2,\n              paddingBottom: 5\n            }}\n          >\n            <Text style={sponsorPageStyles.headerText}>Image Gallery</Text>\n          </View>\n\n          <View style={sponsorPageStyles.imageGallery}>\n            {data.images.map((img, index) => {\n              return (\n                <TouchableOpacity\n                  onPress={() => {\n                    setImageIndex(index);\n                    setIsVisible(true);\n                  }}\n                >\n                  <Image\n                    style={sponsorPageStyles.imageStyle}\n                    source={{ uri: img }}\n                  />\n                </TouchableOpacity>\n              );\n            })}\n          </View>\n\n          {data.coupons[0] && (\n            <Layout style={sponsorPageStyles.couponContainer}>\n              <Image\n                resizeMode=\"contain\"\n                source={require('../../../assets/sponsorPage/coupon.png')}\n                style={sponsorPageStyles.coupon}\n              />\n              <Text\n                style={{\n                  position: 'absolute',\n                  fontSize: 30,\n                  textAlign: 'center',\n                  justifyContent: 'center',\n                  width: '75%',\n                  paddingBottom: 20,\n                  paddingRight: 7\n                }}\n              >\n                {data.coupons[0].couponDescription}\n              </Text>\n              <Text\n                style={{ fontSize: 15, color: isDarkMode ? 'white' : 'black' }}\n              >\n                Show this coupon at the store to redeem.\n              </Text>\n            </Layout>\n          )}\n\n          <View\n            style={{\n              width: '100%',\n              alignSelf: 'flex-start',\n              marginLeft: 20,\n              borderBottomColor: '#F1E4B5',\n              borderBottomWidth: 2,\n              paddingBottom: 5\n            }}\n          >\n            <Text style={sponsorPageStyles.headerText}>Hours</Text>\n          </View>\n          <View\n            style={{\n              justifyContent: 'center',\n              alignSelf: 'center',\n              marginLeft: 25,\n              marginBottom: 50\n            }}\n          >\n            {data.hours.map((day, i) => {\n              return (\n                <Layout\n                  key={i}\n                  style={{\n                    justifyContent: 'space-between',\n                    flexDirection: 'row',\n                    width: '100%'\n                  }}\n                >\n                  <Text\n                    style={{\n                      marginTop: 10,\n                      color: isDarkMode ? 'white' : 'black'\n                    }}\n                  >\n                    {day.dayOfTheWeek}:\n                  </Text>\n                  <Text\n                    style={{\n                      alignSelf: 'flex-end',\n                      paddingRight: 30,\n                      marginTop: 10,\n                      color: isDarkMode ? 'white' : 'black'\n                    }}\n                  >\n                    {buildTimeString(day)}\n                  </Text>\n                </Layout>\n              );\n            })}\n          </View>\n        </Layout>\n      </ScrollView>\n    </Layout>\n  );\n}\n\nfunction buildTimeString(time) {\n  if (!time.openTime || time.openTime === '' || time.openTime === null) {\n    return 'closed';\n  }\n  return `${convertTo12HourTime(time.openTime)} - ${convertTo12HourTime(\n    time.closeTime\n  )}`;\n}\n\nfunction convertTo12HourTime(time) {\n  if (time.length !== 5) {\n    time = `0${time}`;\n  }\n  let hours = time.slice(0, 2);\n  const minutes = time.slice(3, 5);\n  let ampm = Number.parseInt(hours) > 12 ? 'pm' : 'am';\n  hours %= 12;\n  if (hours === 0) {\n    hours = 12;\n    ampm = 'pm';\n  }\n  return `${hours}:${minutes}${ampm}`;\n}\n\nexport function SponsorsList({ navigation }) {\n  const theme = useTheme();\n  const isDarkMode = useAppSelector(selectDarkMode);\n  const [sponsorFilters, setSponsorFilters] = useState({});\n  const [gotSponsors, setGotSponsors] = useState(false);\n  const userKey = useAppSelector(selectUserKey);\n  const [refreshSponsorsQuery, { data: sponsors }] =\n    useLazyRefreshSponsorsQuery();\n\n  if (!gotSponsors) {\n    setGotSponsors(true);\n    refreshSponsors();\n  }\n\n  useEffect(() => {\n    if (sponsors?.length > 0) {\n      getFilters();\n    }\n  }, [sponsors]);\n\n  async function refreshSponsors() {\n    try {\n      await refreshSponsorsQuery(userKey).unwrap();\n    } catch (e) {\n      console.warn('Error refreshing sponsors: ', e);\n    }\n  }\n\n  function getFilters() {\n    let tabNames = [];\n    const final = [];\n    for (const sponsor of sponsors) {\n      if (sponsor.tags !== undefined) {\n        for (const name of sponsor.tags) {\n          if (!tabNames.includes(name)) {\n            tabNames.push(name);\n          }\n        }\n      }\n    }\n    tabNames = tabNames.sort();\n\n    // Puts 'Other' at the end\n    const temp = tabNames.includes('Other')\n      ? tabNames.findIndex((item) => item === 'Other')\n      : -1;\n    if (temp !== -1) {\n      tabNames.splice(temp, 1);\n    }\n    tabNames.push('Other');\n\n    const tempFilters = {};\n    for (const name of tabNames) {\n      tempFilters[name] = {\n        selected: false\n      };\n    }\n    setSponsorFilters(tempFilters);\n  }\n\n  function renderSponsorsBasedOnFilters() {\n    let shouldLimitPrint = false;\n    for (const filterName in sponsorFilters) {\n      if (sponsorFilters[filterName].selected) {\n        shouldLimitPrint = true;\n        break;\n      }\n    }\n    if (!shouldLimitPrint) {\n      return getTheSponsors(sponsors || [], navigation);\n    }\n    const sponsorsToSend = [];\n    for (const filterName in sponsorFilters) {\n      if (sponsorFilters[filterName].selected) {\n        for (const sponsor of sponsors) {\n          if (sponsor.tags.includes(filterName)) {\n            sponsorsToSend.push(sponsor);\n          }\n        }\n      }\n    }\n    return getTheSponsors(sponsorsToSend || [], navigation);\n  }\n\n  return (\n    <LinearGradient\n      colors={\n        isDarkMode\n          ? [theme['color-basic-1100'], theme['color-basic-1100']]\n          : [theme['color-primary-500'], theme['color-success-500']]\n      }\n      style={{\n        width: '100%',\n        margin: 0,\n        alignItems: 'center',\n        flex: 1\n      }}\n      start={{ x: 0, y: 0 }}\n      end={{ x: 1, y: 0.4 }}\n    >\n      <Layout style={{ flex: 1 }}>\n        <Menu\n          setMenuItems={setSponsorFilters}\n          menuItems={Object.keys(sponsorFilters).length > 0}\n        />\n        <ScrollView\n          showsVerticalScrollIndicator={false}\n          contentContainerStyle={{ alignItems: 'center' }}\n        >\n          {sponsors?.length === 0 ? (\n            <Text>Nothing to see here</Text>\n          ) : (\n            renderSponsorsBasedOnFilters()\n          )}\n        </ScrollView>\n      </Layout>\n    </LinearGradient>\n  );\n}\n\nfunction getTheSponsors(sponsors, navigation) {\n  const isDarkMode = useAppSelector(selectDarkMode);\n  const listingStyles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#fff',\n      alignItems: 'center'\n    },\n    cardContainer: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      width: '100%',\n      maxWidth: windowWidth / 2,\n      height: 130,\n      backgroundColor: isDarkMode ? '#464646' : '#fff',\n      borderRadius: 10,\n      borderWidth: 1,\n      borderColor: isDarkMode ? '#818181' : '#ddd',\n      borderBottomWidth: isDarkMode ? 1 : 0,\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 2 },\n      shadowOpacity: 0.2,\n      shadowRadius: 2,\n      elevation: 1,\n      marginLeft: 5,\n      marginRight: 5,\n      marginTop: 10\n    },\n    text: {\n      flex: 1,\n      color: isDarkMode ? 'white' : 'black',\n      fontSize: 20,\n      textAlign: 'center',\n      marginTop: 5,\n      marginBottom: 5\n    },\n    image: {\n      width: 120,\n      height: 120,\n      marginLeft: 10,\n      borderRadius: 10\n    }\n  });\n  if (sponsors.length === 0) {\n    return;\n  }\n  const final = [];\n  const starredFinal = [];\n  for (const sponsor of sponsors) {\n    if (sponsor.coupons && sponsor.coupons.length > 0) {\n      starredFinal.push(\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate('SponsorPage', { data: sponsor });\n          }}\n          style={listingStyles.cardContainer}\n          key={sponsor._id}\n        >\n          {sponsor.coupons?.length ? (\n            <FontAwesome5\n              name=\"star\"\n              color=\"gold\"\n              style={{\n                alignSelf: 'flex-start',\n                top: 5,\n                left: 5\n              }}\n            />\n          ) : null}\n\n          <View style={{ flex: 1 }}>\n            <Image\n              resizeMode=\"contain\"\n              style={listingStyles.image}\n              source={{ uri: sponsor.logo }}\n            />\n          </View>\n\n          <Text style={listingStyles.text}>{sponsor.sponsorName}</Text>\n        </TouchableOpacity>\n      );\n    } else {\n      final.push(\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate('SponsorPage', { data: sponsor });\n          }}\n          style={listingStyles.cardContainer}\n          key={sponsor._id}\n        >\n          {sponsor.coupons?.length ? (\n            <FontAwesome5\n              name=\"star\"\n              color=\"gold\"\n              style={{\n                position: 'absolute',\n                alignSelf: 'flex-start',\n                top: 5,\n                left: 5\n              }}\n            />\n          ) : null}\n\n          <View style={{ flex: 1 }}>\n            <Image\n              resizeMode=\"contain\"\n              style={listingStyles.image}\n              source={{ uri: sponsor.logo }}\n            />\n          </View>\n\n          <Text style={listingStyles.text}>{sponsor.sponsorName}</Text>\n        </TouchableOpacity>\n      );\n    }\n  }\n  for (const object of final) {\n    starredFinal.push(object);\n  }\n  return starredFinal;\n}\n","export const departments = [\n  'AFRI',\n  'AMST',\n  'ANTH',\n  'ARBC',\n  'ARBT',\n  'ARCN',\n  'ARHI',\n  'ART',\n  'ASAM',\n  'ASIA',\n  'ASTR',\n  'BIOL',\n  'CASA',\n  'CGH',\n  'CGS',\n  'CHEM',\n  'CHIN',\n  'CHLT',\n  'CHNT',\n  'CHST',\n  'CLAS',\n  'CLES',\n  'COGS',\n  'CORE',\n  'CREA',\n  'CSCI',\n  'CSMT',\n  'DANC',\n  'DS',\n  'EA',\n  'ECON',\n  'EDUC',\n  'ENGL',\n  'ENGR',\n  'ENTR',\n  'EURO',\n  'FGSS',\n  'FHS',\n  'FREN',\n  'FS',\n  'FWS',\n  'GEOG',\n  'GEOL',\n  'GERM',\n  'GLAS',\n  'GOVT',\n  'GREK',\n  'GRMT',\n  'GWS',\n  'HIST',\n  'HMSC',\n  'HSA',\n  'HUM',\n  'ID',\n  'IR',\n  'ITAL',\n  'JAPN',\n  'JPNT',\n  'KORE',\n  'KRNT',\n  'LAMS',\n  'LAS',\n  'LAST',\n  'LATN',\n  'LEAD',\n  'LGCS',\n  'LGST',\n  'LIT',\n  'MATH',\n  'MCBI',\n  'MCSI',\n  'MES',\n  'MLLC',\n  'MOBI',\n  'MS',\n  'MSL',\n  'MUS',\n  'NEUR',\n  'ORST',\n  'PE',\n  'PHIL',\n  'PHYS',\n  'POLI',\n  'PONT',\n  'PORT',\n  'POST',\n  'PPA',\n  'PPE',\n  'PSYC',\n  'RLIT',\n  'RLST',\n  'RUSS',\n  'RUST',\n  'SCI',\n  'SOC',\n  'SPAN',\n  'SPCH',\n  'STS',\n  'TEST',\n  'THEA',\n  'THES',\n  'WRIT'\n];\n","import {\n  Autocomplete,\n  AutocompleteItem,\n  Button,\n  Card,\n  Input,\n  Layout,\n  Text\n} from '@ui-kitten/components';\nimport { useCallback, useEffect, useState } from 'react';\nimport { Keyboard, TouchableWithoutFeedback } from 'react-native';\n\nimport synonyms from './synonyms.json';\nimport { useAppDispatch, useAppSelector } from '../../../app/hooks';\nimport WrapItems from '../../../components/WrapItems';\nimport { departments } from '../../../constants/electiveGenerator';\nimport { showToast } from '../../../functions';\nimport {\n  electiveGeneratorSelected,\n  selectClassesList,\n  suggestedClassesUpdated\n} from '../classPagesSlice';\nimport { MAX_WIDTH_WEB } from '../../../constants/discover';\n\nexport default function ElectiveGenerator({ navigation }: any) {\n  const dispatch = useAppDispatch();\n  const [departmentQuery, setDepartmentQuery] = useState('');\n  const [departmentOptions, setDepartmentOptions] = useState(departments);\n  const [description, setDescription] = useState('');\n\n  const classes = useAppSelector(selectClassesList);\n\n  const getClassesByDepartment = useCallback((department: string) => {\n    if (department === 'All Departments') return Object.entries(classes);\n    return Object.entries(classes).filter(([key, _]) => {\n      const classDepartment = key.split(' ')[0];\n      return classDepartment === department;\n    });\n  }, []);\n\n  useEffect(() => {\n    dispatch(electiveGeneratorSelected());\n  }, []);\n\n  const onChangeDepartmentText = useCallback((query: string): void => {\n    setDepartmentQuery(query);\n    setDepartmentOptions(\n      departments.filter((department) =>\n        department.includes(query.toUpperCase())\n      )\n    );\n  }, []);\n\n  const onSubmit = () => {\n    Keyboard.dismiss();\n    if (!departmentQuery || !description) {\n      showToast('Please fill out all fields', 'red');\n      return;\n    }\n    const cleanedDescription = description\n      .toLowerCase()\n      .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, '')\n      .replace(/\\s{2,}/g, ' ');\n    const classesByDepartment = getClassesByDepartment(departmentQuery);\n    // Compare text in user input to class descriptions and return top 5 matches\n    classesByDepartment.sort((a, b) => {\n      const aWords = getWords(`${a[1].summary} ${a[1].courseName}`);\n      const bWords = getWords(`${b[1].summary} ${b[1].courseName}`);\n\n      const aMatches = aWords.filter((word) =>\n        cleanedDescription.includes(word)\n      );\n      const bMatches = bWords.filter((word) =>\n        cleanedDescription.includes(word)\n      );\n      return bMatches.length - aMatches.length;\n    });\n\n    const matches = Object.fromEntries(classesByDepartment.slice(0, 5));\n    dispatch(suggestedClassesUpdated(matches));\n    navigation.goBack();\n    showToast('Suggested classes updated!', 'green');\n  };\n\n  // Helper functions\n  const getWords = (text: string) => {\n    const wordList = text\n      .toLowerCase()\n      .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, '')\n      .replace(/\\s{2,}/g, ' ')\n      .split(' ');\n\n    let wordListWithSynonyms = [];\n\n    for (const word of wordList) {\n      if (synonyms[word]) {\n        wordListWithSynonyms.push(word);\n        wordListWithSynonyms = wordListWithSynonyms.concat(synonyms[word]);\n      }\n    }\n\n    return wordListWithSynonyms;\n  };\n\n  return (\n    <TouchableWithoutFeedback\n      onPress={Keyboard.dismiss}\n      style={{ flex: 1, alignItems: 'center' }}\n    >\n      <Layout style={{ maxWidth: MAX_WIDTH_WEB, alignSelf: 'center', flex: 1 }}>\n        <WrapItems childStyle={{ margin: 20 }}>\n          <Card activeOpacity={1} disabled>\n            <Text category=\"s1\" style={{ textAlign: 'center' }}>\n              Choose a department and write a description about what inspires\n              you.\n              {`\\n\\n`}\n              Then let our powerful AI choose the best electives for you!\n            </Text>\n          </Card>\n          <Autocomplete\n            label=\"Department\"\n            onSelect={(index) => setDepartmentQuery(departmentOptions[index])}\n            onChangeText={onChangeDepartmentText}\n            value={departmentQuery}\n          >\n            {departmentOptions.map((option) => (\n              <AutocompleteItem title={option} key={option} />\n            ))}\n          </Autocomplete>\n          <Input\n            label=\"Description\"\n            multiline\n            textStyle={{ minHeight: 100 }}\n            value={description}\n            onChangeText={(text) => setDescription(text)}\n          />\n          <Button onPress={onSubmit}>Submit</Button>\n        </WrapItems>\n      </Layout>\n    </TouchableWithoutFeedback>\n  );\n}\n","export const DISCOVER_LIST_PAGE_SIZE = 5;\n\nexport const tagIndices = [\n  'Clubs',\n  'Events',\n  'College News',\n  'Courses',\n  'HMC',\n  'Pomona',\n  'CMC',\n  'Pitzer',\n  'Scripps'\n];\n\nexport const adminTagIndices = [\n  'Athena Network',\n  'Clubs',\n  'Events',\n  'College News',\n  'Courses',\n  'HMC',\n  'Pomona',\n  'CMC',\n  'Pitzer',\n  'Scripps'\n];\n\nexport const MAX_WIDTH_WEB = 700;\n\nexport const postOptions = ['Image Post', 'Text Post', 'Link', 'Event'];\n\nexport const IMAGE_BUCKET_URL = 'https://athena-image-storage.s3.us-west-2.amazonaws.com/imagePostImages';\n\nexport const EMOJI_LIST = [\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '#',\n  '*',\n  '0',\n  '1',\n  '2',\n  '3',\n  '4',\n  '5',\n  '6',\n  '7',\n  '8',\n  '9',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  ''\n];\n","import { FontAwesome5, Foundation, Ionicons } from '@expo/vector-icons';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout, Text, useTheme } from '@ui-kitten/components';\nimport React, { useEffect, useState } from 'react';\nimport { Image, Platform, TouchableOpacity } from 'react-native';\n\nimport { selectDarkMode, selectUserKey } from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport Header from '../../components/Header';\nimport NotificationsNavigation from '../notifications/Notifications';\nimport { base_URL } from '../notifications/constants';\nimport Settings from '../settings/index';\nimport { SponsorPage, SponsorsList } from '../sponsors/SponsorsList';\nimport ClassesList from './ClassesList';\nimport ElectiveGenerator from './ElectiveGenerator';\nimport SelectTerm from './SelectTerm';\nimport SingleClassPage from './SingleClassPage/index';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function SearchClasses({ navigation }) {\n  const theme = useTheme();\n  const hasSelectedElectiveGenerator = useAppSelector(\n    (state) => state.appData.classPages.hasSelectedElectiveGen\n  );\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const [numberOfNotifications, setNumberOfNotifications] = useState(0);\n\n  function refreshNotifications() {\n    fetch(`${base_URL}/users/getNotifications`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    }).then((res) => {\n      res.text().then((notifications) => {\n        notifications = JSON.parse(notifications);\n        setNumberOfNotifications(notifications.length);\n      });\n    });\n  }\n\n  useEffect(() => {\n    refreshNotifications();\n    setInterval(() => {\n      refreshNotifications();\n    }, 60000); // refresh every minute\n  }, []);\n\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28\n      }}\n      source={require('../../../assets/logos/app-logo-transparent.png')}\n    />\n  );\n\n  const accessoryRight = (\n    <Layout\n      style={{\n        flexDirection: 'row',\n        width: 120,\n        justifyContent: 'space-between'\n      }}\n    >\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('ElectiveGenerator');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        {hasSelectedElectiveGenerator ? (\n          <FontAwesome5\n            name=\"brain\"\n            size={23}\n            color={\n              darkMode ? theme['color-basic-200'] : theme['color-basic-800']\n            }\n          />\n        ) : (\n          <Foundation\n            name=\"burst-new\"\n            size={30}\n            color={theme['color-warning-500']}\n          />\n        )}\n      </TouchableOpacity>\n\n      {false && (\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate('SponsorsList');\n          }}\n          style={{ flexDirection: 'row', alignItems: 'center' }}\n        >\n          <FontAwesome5\n            name=\"shopping-bag\"\n            size={23}\n            color={\n              darkMode ? theme['color-basic-200'] : theme['color-basic-800']\n            }\n          />\n        </TouchableOpacity>\n      )}\n\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('Settings');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        <FontAwesome5\n          name=\"user-alt\"\n          size={23}\n          color={darkMode ? theme['color-basic-200'] : theme['color-basic-800']}\n        />\n      </TouchableOpacity>\n\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('NotificationsPage');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        <FontAwesome5\n          name=\"bell\"\n          size={23}\n          color={darkMode ? theme['color-basic-200'] : theme['color-basic-800']}\n        />\n        {numberOfNotifications > 0 ? (\n          <Layout\n            style={{\n              position: 'absolute',\n              backgroundColor: darkMode ? 'red' : '#fff',\n              borderRadius: 10,\n              paddingHorizontal: 3,\n              right: -7,\n              top: -3\n            }}\n          >\n            <Text>{numberOfNotifications}</Text>\n          </Layout>\n        ) : null}\n      </TouchableOpacity>\n    </Layout>\n  );\n\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"ClassesList\"\n        component={ClassesList}\n        options={{\n          header: () => (\n            <Layout style={{ paddingBottom: 10 }}>\n              <Header\n                accessoryLeft={accessoryLeft}\n                accessoryRight={accessoryRight}\n                title=\"Athena\"\n              />\n            </Layout>\n          ),\n          title: 'Class Pages'\n        }}\n      />\n      <Stack.Screen\n        name=\"Settings\"\n        component={Settings}\n        options={{\n          headerShown: false\n        }}\n      />\n      <Stack.Group screenOptions={{ headerTitle: 'Sponsors' }}>\n        <Stack.Screen\n          name=\"SponsorsList\"\n          component={SponsorsList}\n          options={{ title: 'Sponsors' }}\n        />\n        <Stack.Screen\n          name=\"SponsorPage\"\n          component={SponsorPage}\n          options={{ title: 'Sponsors' }}\n        />\n      </Stack.Group>\n      <Stack.Screen\n        name=\"NotificationsPage\"\n        component={NotificationsNavigation}\n        options={{ headerShown: false, title: 'Notifications' }}\n      />\n      <Stack.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: 'Select Term',\n          headerShown: false,\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n      <Stack.Screen\n        name=\"ElectiveGenerator\"\n        component={ElectiveGenerator}\n        options={{\n          title: 'Elective Generator',\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n      {/* Show a full page screen for web (modal for mobile) */}\n      {Platform.OS === 'web' && (\n        <Stack.Screen\n          name=\"SingleClassPage\"\n          component={SingleClassPage}\n          options={{\n            headerShown: false,\n            title: 'ClassPages'\n          }}\n        />\n      )}\n    </Stack.Navigator>\n  );\n}\n","import {\n  Feather,\n  FontAwesome5,\n  Foundation,\n  Ionicons\n} from '@expo/vector-icons';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Layout, Text, useTheme } from '@ui-kitten/components';\nimport React, { useEffect, useState } from 'react';\nimport { Image, Platform, TouchableOpacity } from 'react-native';\n\nimport {\n  selectDarkMode,\n  selectIsGuest,\n  selectUserKey\n} from '../../app/appDataSlice';\nimport { useAppSelector } from '../../app/hooks';\nimport Header from '../../components/Header';\nimport ModalContainer from '../../components/ModalContainer';\nimport WrapItems from '../../components/WrapItems';\nimport { exportToICal } from '../../functions';\nimport { useGetUserInfoQuery } from '../api/usersApi';\nimport CalendarPage from '../calendar/CalendarPage';\nimport CreateCustomEvent from '../calendar/CreateCustomEvent';\nimport renderModal from '../calendar/exportModal';\nimport ElectiveGenerator from '../classPages/ElectiveGenerator';\nimport SelectTerm from '../classPages/SelectTerm';\nimport NotificationsNavigation from '../notifications/Notifications';\nimport { base_URL } from '../notifications/constants';\nimport Settings from '../settings/index';\nimport { SponsorPage, SponsorsList } from '../sponsors/SponsorsList';\nimport { useGetTermDatesMutation } from '../api/classPagesApi';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function CombinedClassPages({ navigation }) {\n  const [numberOfNotifications, setNumberOfNotifications] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [showGuestModal, setShowGuestModal] = useState(false);\n  const [showWebModal, setShowWebModal] = useState(false);\n\n  const theme = useTheme();\n\n  const hasSelectedElectiveGenerator = useAppSelector(\n    (state) => state.appData.classPages.hasSelectedElectiveGen\n  );\n  const isMobile = useAppSelector((state) => state.appData.secure.isMobile);\n  const userKey = useAppSelector(selectUserKey);\n  const currentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n  const classes = useAppSelector((state) => state.appData.classPages.classes);\n  const isGuest = useAppSelector(selectIsGuest);\n  const darkMode = useAppSelector(selectDarkMode);\n\n  const { data: userData } = useGetUserInfoQuery(userKey);\n  const [getTermDates] = useGetTermDatesMutation();\n\n  const exportCalendarToICal = async () => {\n    try {\n      // const date = await getTermDates({ userKey, currentSection });\n      const startDate = '01-19-2024';\n      const endDate = '04-25-2024';\n      const times = Object.entries(\n        userData.addedClasses.classes[currentSection]\n      ).flatMap(([masterCourseCode, courseCodes]) => {\n        return courseCodes.flatMap((courseCode) => {\n          return classes[masterCourseCode].times.filter(\n            (time) => time.courseCode === courseCode\n          );\n        });\n      });\n      const calendar = exportToICal(times, startDate, endDate);\n      console.log(calendar);\n    } catch (e) {\n      console.warn(e);\n    }\n  };\n\n  const accessoryRight = (\n    <WrapItems\n      childStyle={\n        !isMobile && {\n          paddingHorizontal: 5\n        }\n      }\n      style={{\n        paddingHorizontal: 0,\n        alignItems: 'center',\n        flexDirection: 'row'\n      }}\n    >\n      {showGuestModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              This feature is not available to Guest Users. Please create a free\n              account with us to take advantage this feature.\n            </Text>\n          }\n          backDropVisible={showGuestModal}\n          setBackDropVisible={setShowGuestModal}\n        />\n      )}\n      {Platform.OS === 'web' && showWebModal && (\n        <ModalContainer\n          title=\"Wait!\"\n          children={\n            <Text style={{ paddingHorizontal: 30 }}>\n              Sharing schedules is not supported on the web. Download the app on\n              the App Store or Play Store to share schedules.\n            </Text>\n          }\n          backDropVisible={showWebModal}\n          setBackDropVisible={setShowWebModal}\n        />\n      )}\n      {/* <TouchableOpacity\n        onPress={exportCalendarToICal}\n        style={{\n          alignItems: 'center'\n        }}\n      >\n        <Feather name=\"share\" size={24} color={darkMode ? 'white' : 'black'} />\n      </TouchableOpacity> */}\n\n      {/* Elective Generator */}\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('ElectiveGenerator');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        {hasSelectedElectiveGenerator ? (\n          <FontAwesome5\n            name=\"brain\"\n            size={23}\n            color={\n              darkMode ? theme['color-basic-200'] : theme['color-basic-800']\n            }\n          />\n        ) : (\n          <Foundation\n            name=\"burst-new\"\n            size={30}\n            color={theme['color-warning-500']}\n          />\n        )}\n      </TouchableOpacity>\n\n      {/* Settings */}\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('Settings');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        <FontAwesome5\n          name=\"user-alt\"\n          size={23}\n          color={darkMode ? theme['color-basic-200'] : theme['color-basic-800']}\n        />\n      </TouchableOpacity>\n\n      {/* Notifications */}\n      <TouchableOpacity\n        onPress={() => {\n          navigation.navigate('NotificationsPage');\n        }}\n        style={{ flexDirection: 'row', alignItems: 'center' }}\n      >\n        <FontAwesome5\n          name=\"bell\"\n          size={23}\n          color={darkMode ? theme['color-basic-200'] : theme['color-basic-800']}\n        />\n        {numberOfNotifications > 0 ? (\n          <Layout\n            style={{\n              position: 'absolute',\n              backgroundColor: darkMode ? 'red' : '#fff',\n              borderRadius: 10,\n              paddingHorizontal: 3,\n              right: -7,\n              top: -3\n            }}\n          >\n            <Text>{numberOfNotifications}</Text>\n          </Layout>\n        ) : null}\n      </TouchableOpacity>\n    </WrapItems>\n  );\n\n  function refreshNotifications() {\n    fetch(`${base_URL}/users/getNotifications`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey\n      }\n    })\n      .then((res) => {\n        res.text().then((notifications) => {\n          notifications = JSON.parse(notifications);\n          setNumberOfNotifications(notifications.length);\n        });\n      })\n      .catch((e) => console.warn(e));\n  }\n\n  useEffect(() => {\n    refreshNotifications();\n    setInterval(() => {\n      refreshNotifications();\n    }, 60000); // refresh every minute\n  }, []);\n\n  const accessoryLeft = (\n    <Image\n      style={{\n        height: 28,\n        width: 28\n      }}\n      source={require('../../../assets/logos/app-logo-transparent.png')}\n    />\n  );\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"Calendar\"\n        component={CalendarPage}\n        options={{\n          header: () => (\n            <Layout style={{ paddingBottom: 10 }}>\n              <Header\n                accessoryLeft={accessoryLeft}\n                accessoryRight={accessoryRight}\n                title=\"Athena\"\n              />\n            </Layout>\n          )\n        }}\n      />\n      <Stack.Screen\n        name=\"Settings\"\n        component={Settings}\n        options={{\n          headerShown: false\n        }}\n      />\n      <Stack.Group screenOptions={{ headerTitle: 'Sponsors' }}>\n        <Stack.Screen\n          name=\"SponsorsList\"\n          component={SponsorsList}\n          options={{ title: 'Sponsors' }}\n        />\n        <Stack.Screen\n          name=\"SponsorPage\"\n          component={SponsorPage}\n          options={{ title: 'Sponsors' }}\n        />\n      </Stack.Group>\n      <Stack.Screen\n        name=\"NotificationsPage\"\n        component={NotificationsNavigation}\n        options={{ headerShown: false, title: 'Notifications' }}\n      />\n      <Stack.Screen\n        name=\"SelectTerm\"\n        component={SelectTerm}\n        options={{\n          title: 'Select Term',\n          headerShown: false,\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n      <Stack.Screen\n        name=\"ElectiveGenerator\"\n        component={ElectiveGenerator}\n        options={{\n          title: 'Elective Generator',\n          animation: 'slide_from_bottom',\n          gestureDirection: 'vertical'\n        }}\n      />\n      <Stack.Screen\n        name=\"CreateCustomEvent\"\n        component={CreateCustomEvent}\n        options={{ headerTitle: 'Add Event' }}\n      />\n    </Stack.Navigator>\n  );\n}\n","export default {\n  'color-basic-100': '#FFFFFF',\n  'color-basic-200': '#F5F5F5',\n  'color-basic-300': '#D4D4D4',\n  'color-basic-400': '#B3B3B3',\n  'color-basic-500': '#808080',\n  'color-basic-600': '#4A4A4A',\n  'color-basic-700': '#383838',\n  'color-basic-800': '#292929',\n  'color-basic-900': '#1F1F1F',\n  'color-basic-1000': '#141414',\n  'color-basic-1100': '#000000',\n  'color-primary-100': '#FFE0D8',\n  'color-primary-200': '#FFBBB2',\n  'color-primary-300': '#FF8E8B',\n  'color-primary-400': '#FF6F78',\n  'color-primary-500': '#FF3F5E',\n  'color-primary-600': '#DB2E5A',\n  'color-primary-700': '#B71F54',\n  'color-primary-800': '#93144C',\n  'color-primary-900': '#7A0C47',\n  'color-success-100': '#FBD4F0',\n  'color-success-200': '#F8ABE8',\n  'color-success-300': '#EA7EDC',\n  'color-success-400': '#D55AD0',\n  'color-success-500': '#b42bba',\n  'color-success-600': '#8F1F9F',\n  'color-success-700': '#6E1585',\n  'color-success-800': '#500D6B',\n  'color-success-900': '#3A0859',\n  'color-info-100': '#CDFDFE',\n  'color-info-200': '#9CF4FE',\n  'color-info-300': '#6AE4FC',\n  'color-info-400': '#45D0FA',\n  'color-info-500': '#09B0F7',\n  'color-info-600': '#0689D4',\n  'color-info-700': '#0466B1',\n  'color-info-800': '#02498F',\n  'color-info-900': '#013476',\n  'color-warning-100': '#FFF6CC',\n  'color-warning-200': '#FFEA99',\n  'color-warning-300': '#FFDC66',\n  'color-warning-400': '#FFCD3F',\n  'color-warning-500': '#FFB600',\n  'color-warning-600': '#DB9600',\n  'color-warning-700': '#B77800',\n  'color-warning-800': '#935C00',\n  'color-warning-900': '#7A4800',\n  'color-danger-100': '#FEE5DE',\n  'color-danger-200': '#FEC6BE',\n  'color-danger-300': '#FEA09D',\n  'color-danger-400': '#FD858D',\n  'color-danger-500': '#FC5D77',\n  'color-danger-600': '#D8436A',\n  'color-danger-700': '#B52E5E',\n  'color-danger-800': '#921D51',\n  'color-danger-900': '#781149',\n  'color-grey-800': '#1F1F1F',\n  'color-grey-700': '#2F2F2F',\n  'color-grey-600': '#3F3F3F',\n  'color-grey-500': '#4F4F4F',\n  'color-grey-400': '#5F5F5F',\n  'color-grey-300': '#6F6F6F',\n  'color-grey-200': '#7F7F7F',\n  'color-grey-100': '#8F8F8F',\n  'color-grey-50': '#9F9F9F'\n};\n","import { Feather } from '@expo/vector-icons';\nimport React from 'react';\nimport { StyleSheet } from 'react-native';\n\nexport default {\n  name: 'feather',\n  icons: createIconsMap()\n};\n\nfunction createIconsMap() {\n  return new Proxy(\n    {},\n    {\n      get(target, name) {\n        return IconProvider(name);\n      }\n    }\n  );\n}\n\nconst IconProvider = (name) => ({\n  toReactElement: (props) => FeatherIcon({ name, ...props })\n});\n\nfunction FeatherIcon({ name, style }) {\n  const { height, tintColor, ...iconStyle } = StyleSheet.flatten(style);\n  return (\n    <Feather name={name} size={height} color={tintColor} style={iconStyle} />\n  );\n}\n","import { FontAwesome5 } from '@expo/vector-icons';\nimport React from 'react';\nimport { StyleSheet } from 'react-native';\n\nexport default {\n  name: 'fontAwesome',\n  icons: createIconsMap()\n};\n\nfunction createIconsMap() {\n  return new Proxy(\n    {},\n    {\n      get(target, name) {\n        return IconProvider(name);\n      }\n    }\n  );\n}\n\nconst IconProvider = (name) => ({\n  toReactElement: (props) => FontAwesomeIcon({ name, ...props })\n});\n\nfunction FontAwesomeIcon({ name, style }) {\n  const { height, tintColor, ...iconStyle } = StyleSheet.flatten(style);\n  return (\n    <FontAwesome5\n      name={name}\n      size={height}\n      color={tintColor}\n      style={iconStyle}\n    />\n  );\n}\n","import * as eva from '@eva-design/eva';\nimport { Ionicons } from '@expo/vector-icons';\nimport { BottomSheetModalProvider } from '@gorhom/bottom-sheet';\nimport NetInfo, { NetInfoConfiguration } from '@react-native-community/netinfo';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\n\nimport {\n  DarkTheme,\n  DefaultTheme,\n  NavigationContainer,\n  useNavigation\n} from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport {\n  ApplicationProvider,\n  Card,\n  IconRegistry,\n  Layout,\n  Radio,\n  Text,\n  useTheme\n} from '@ui-kitten/components';\nimport Constants from 'expo-constants';\nimport { isDevice } from 'expo-device';\nimport * as Linking from 'expo-linking';\nimport { Subscription } from 'expo-modules-core';\nimport * as Notifications from 'expo-notifications';\nimport * as ExpoSplashScreen from 'expo-splash-screen';\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useEffect, useRef, useState } from 'react';\nimport {\n  Alert, Image,\n  Platform, ScrollView,\n  useColorScheme,\n  useWindowDimensions, View\n} from 'react-native';\nimport { GestureHandlerRootView } from 'react-native-gesture-handler';\nimport { RootSiblingParent } from 'react-native-root-siblings';\nimport { Provider } from 'react-redux';\nimport { persistStore } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport {\n  deviceDarkModeSet,\n  deviceExpoPushTokenSet,\n  mobileSiteSet,\n  netInfoChecked,\n  selectDarkMode,\n  selectUserKey,\n  userKeyUpdated\n} from './src/app/appDataSlice';\nimport { store } from './src/app/store';\nimport { useLazyGetCurrentVersionQuery } from './src/features/api/apiSlice';\nimport {\n  availableSectionsListUpdated,\n  clearUserData,\n  currentSectionUpdated,\n  isHMCUpdated,\n  setUserData\n} from './src/features/classPages/classPagesSlice';\n\nimport { useAppDispatch, useAppSelector } from './src/app/hooks';\nimport WebSplashScreen from './src/components/WebSplashScreen';\nimport AdminPanel from './src/features/adminPanel';\nimport {\n  useLazyGetAllClassesQuery,\n  useLazyGetAllSectionsQuery\n} from './src/features/api/classPagesApi';\nimport {\n  useAddExpoPushTokenMutation,\n  useGetUserInfoQuery,\n  useLazyGetUserInfoQuery,\n  useTrackLoginMutation,\n  usersApiSlice\n} from './src/features/api/usersApi';\nimport Auth from './src/features/authentication';\nimport Calendar from './src/features/calendar';\nimport ChatsRoomNavigation from './src/features/chats/ChatRooms';\nimport ClassPages from './src/features/classPages';\nimport CombinedClassPages from './src/features/combinedCalender';\nimport { versionCompare } from './src/functions';\nimport Theme from './src/theme/custom-theme';\nimport FeatherIconsPack from './src/theme/feather-icons';\nimport FontAwesomeIconsPack from './src/theme/font-awesome-icons';\nimport ModalContainer from './src/components/ModalContainer';\nimport {base_URL} from \"./src/features/notifications/constants\";\n\nconst persistor = persistStore(store);\nconst Stack = createNativeStackNavigator();\nconst Tab = createBottomTabNavigator();\nExpoSplashScreen.preventAutoHideAsync();\n\nNotifications.setNotificationHandler({\n  handleNotification: async () => ({\n    shouldShowAlert: true,\n    shouldPlaySound: false,\n    shouldSetBadge: false\n  })\n});\n\nconst registerForPushNotificationsAsync = async () => {\n  let token: string;\n  if (isDevice && Platform.OS !== 'web') {\n    const { status: existingStatus } =\n      await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    if (existingStatus !== 'granted') {\n      const { status } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== 'granted') {\n      alert('Failed to get push token for push notification!');\n      return;\n    }\n    token = (await Notifications.getExpoPushTokenAsync()).data;\n  }\n\n  if (Platform.OS === 'android') {\n    Notifications.setNotificationChannelAsync('default', {\n      name: 'default',\n      importance: Notifications.AndroidImportance.MAX,\n      vibrationPattern: [0, 250, 250, 250],\n      lightColor: '#FF231F7C'\n    });\n  }\n\n  return token;\n};\n\nexport default function Entry() {\n  return (\n    <Provider store={store}>\n      <PersistGate persistor={persistor}>\n        <RootSiblingParent>\n          <GestureHandlerRootView style={{ flex: 1 }}>\n            <BottomSheetModalProvider>\n              <App />\n            </BottomSheetModalProvider>\n          </GestureHandlerRootView>\n        </RootSiblingParent>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nfunction App() {\n  const userKey = useAppSelector(selectUserKey);\n  const darkMode = useAppSelector(selectDarkMode);\n  const isHMC = useAppSelector((state) => state.appData.classPages.isHMC);\n  const useDeviceColorScheme = useAppSelector(\n    (state) => state.appData.secure.useDeviceColorScheme\n  );\n  const localCurrentSection = useAppSelector(\n    (state) => state.appData.classPages.currentSection\n  );\n  const deviceExpoPushToken = useAppSelector(\n    (state) => state.appData.secure.deviceExpoPushToken\n  );\n  const lastNetInfo = useAppSelector(\n    (state) => state.appData.secure.connectedToInternet\n  );\n\n  const [isReady, setIsReady] = useState(false);\n  const [notification, setNotification] =\n    useState<Notifications.Notification>(null);\n\n  const [trackLogin] = useTrackLoginMutation();\n  const [getAllSections] = useLazyGetAllSectionsQuery();\n  const [getAllClasses] = useLazyGetAllClassesQuery();\n  const [getCurrentVersion] = useLazyGetCurrentVersionQuery();\n  const [getUserInfo] = useLazyGetUserInfoQuery();\n  const userDataFromApi =\n    usersApiSlice.endpoints.getUserInfo.useQueryState(userKey);\n  const userData = useAppSelector((state) => state.appData.classPages.userData);\n\n  const [addExpoPushToken] = useAddExpoPushTokenMutation();\n  const windowWidth = useWindowDimensions().width;\n\n  const notificationListener = useRef<Subscription>();\n  const responseListener = useRef();\n  const netInfoHook = NetInfo.useNetInfo();\n  const colorScheme = useColorScheme();\n  const dispatch = useAppDispatch();\n\n  const linking = {\n    prefixes: [Linking.createURL('/'), 'https://joinathena.net']\n  };\n\n  useEffect(() => {\n    const prepare = async () => {\n      dispatch(\n        usersApiSlice.util.updateQueryData('getUserInfo', userKey, (draft) => {\n          draft = userData;\n        })\n      );\n      if (userData && !userKey) {\n        dispatch(clearUserData());\n      }\n\n      try {\n        // Check for internet connection\n        const netInfo = await NetInfo.fetch();\n\n        // netInfo.isConnected = false;\n\n        // user is logged in and online\n        if (userKey && netInfo.isConnected) {\n          await handleOnline();\n        }\n\n        notificationListener.current =\n          Notifications.addNotificationReceivedListener((notification) => {\n            setNotification(notification);\n          });\n\n        checkForUpdates();\n      } catch (e) {\n        dispatch(userKeyUpdated('')); // Clear userKey if login fails\n        console.warn('Login Fail', e);\n      } finally {\n        setIsReady(true);\n        await ExpoSplashScreen.hideAsync();\n      }\n    };\n\n    prepare();\n\n    return () => {\n      if (notificationListener.current) {\n        Notifications.removeNotificationSubscription(\n          notificationListener.current\n        );\n      }\n\n      if (responseListener.current) {\n        Notifications.removeNotificationSubscription(responseListener.current);\n      }\n    };\n  }, [userKey]);\n\n  useEffect(() => {\n    if (useDeviceColorScheme) {\n      dispatch(deviceDarkModeSet(colorScheme === 'dark'));\n    }\n  }, [colorScheme]);\n\n  useEffect(() => {\n    dispatch(mobileSiteSet(windowWidth < 768));\n  }, [windowWidth]);\n\n  useEffect(() => {\n    if (netInfoHook.isConnected && !lastNetInfo) {\n      handleOnline();\n    }\n    dispatch(netInfoChecked(netInfoHook.isConnected));\n  }, [netInfoHook.isConnected]);\n\n  // For offline mode, save the data from the api to the redux store and rehydrate the store on app start\n  useEffect(() => {\n    if (\n      userDataFromApi.currentData &&\n      userDataFromApi.currentData.starredClasses\n    ) {\n    }\n    dispatch(setUserData(userDataFromApi.currentData));\n  }, [userDataFromApi.currentData]);\n\n  const handleOnline = async () => {\n    try {\n      var fetchedCurrentSection = await getAllSections().unwrap();\n    } catch (e) {\n      return;\n    }\n\n    // Check for expo push token\n    // \"undefined\" means the user has not been asked for notification permission yet\n    if (deviceExpoPushToken === undefined) {\n      var expoPushToken = await registerForPushNotificationsAsync();\n      if (expoPushToken) {\n        // null means the user rejected the notification permission request\n        dispatch(deviceExpoPushTokenSet(null));\n      }\n    }\n\n    // Notfication token setup\n    try {\n      const fetchedUserData = await getUserInfo(userKey).unwrap();\n      await trackLogin(userKey);\n      if (\n        expoPushToken &&\n        (!fetchedUserData.expoPushToken ||\n          !fetchedUserData.expoPushToken.includes(expoPushToken))\n      ) {\n        await addExpoPushToken({\n          userKey,\n          expoPushToken,\n          userName: fetchedUserData.userName\n        }).unwrap();\n      }\n\n      dispatch(\n        availableSectionsListUpdated(fetchedCurrentSection.availableTerms)\n      );\n\n      if (isHMC === undefined) {\n        dispatch(isHMCUpdated(fetchedUserData.email.includes('hmc.edu')));\n      }\n\n      // Check for current section and update class list if outdated\n      if (\n        Platform.OS === 'web' ||\n        fetchedCurrentSection.currentTerm !== localCurrentSection\n      ) {\n        dispatch(currentSectionUpdated(fetchedCurrentSection.currentTerm));\n        try {\n          getAllClasses({\n            userKey,\n            collegeName: fetchedUserData.collegeName,\n            courseTerm: fetchedCurrentSection.currentTerm\n          }).unwrap();\n        } catch (e) {\n          console.warn('Section is outdated: could not fetch classes', e);\n        }\n      }\n    } catch (e) {\n      console.warn('Failed to set up expo push token', e);\n    }\n  };\n\n  const checkForUpdates = async () => {\n    try {\n      // Check for current version\n      const currentVersion =\n        Constants?.manifest2?.extra?.expoClient?.version ??\n        Constants?.manifest?.version;\n\n      const res = await getCurrentVersion().unwrap();\n      const currentFrontEndVersion =\n        res?.currentFrontEndVersion.currentFrontEndVersion;\n\n      if (\n        Platform.OS !== 'web' &&\n        currentVersion &&\n        versionCompare(currentFrontEndVersion, currentVersion) > 0\n      ) {\n        Alert.alert('There is a new version available!', '', [\n          {\n            text:\n              Platform.OS === 'android'\n                ? 'Update on the Play Store'\n                : 'Update on the App Store',\n            onPress: () =>\n              Linking.openURL(\n                Platform.OS === 'android'\n                  ? 'market://details?id=com.theathenanetwork.app'\n                  : 'https://apps.apple.com/us/app/athena-network/id1628317342'\n              )\n          },\n          {\n            text: 'Cancel',\n            style: 'cancel'\n          }\n        ]);\n      }\n    } catch (e) {\n      console.warn('Update check failed', e);\n    }\n  };\n\n  if (!isReady) {\n    if (Platform.OS === 'web') {\n      return <WebSplashScreen />;\n    }\n    return null;\n  }\n\n  return (\n    <NavigationContainer\n      documentTitle={{\n        formatter: (options, route) =>\n          `${options?.title ? options?.title + ' -' : ''} Athena Network`\n      }}\n      theme={darkMode ? DarkTheme : DefaultTheme}\n      // linking={linking}\n      fallback={<WebSplashScreen />}\n    >\n      <ApplicationProvider\n        {...eva}\n        theme={{ ...(darkMode ? eva.dark : eva.light), ...Theme }}\n      >\n        <StatusBar style={darkMode ? 'light' : 'dark'} />\n        <IconRegistry icons={[FontAwesomeIconsPack, FeatherIconsPack]} />\n\n        <Layout style={{ flex: 1, overflow: 'hidden' }}>\n          <Stack.Navigator screenOptions={{ headerShown: false }}>\n            {userData ? (\n              <Stack.Screen name=\"Tabs\" component={TabsPage} />\n            ) : (\n              <Stack.Screen name=\"Auth\" component={Auth} />\n            )}\n          </Stack.Navigator>\n        </Layout>\n      </ApplicationProvider>\n    </NavigationContainer>\n  );\n}\n\nfunction TabsPage() {\n  const theme = useTheme();\n  const connectedToInternet = useAppSelector(\n    (state) => state.appData.secure.connectedToInternet\n  );\n  const isMobile = useAppSelector((state) => state.appData.secure.isMobile);\n  const userKey = useAppSelector(selectUserKey);\n  const { data: userData } = useGetUserInfoQuery(userKey, {\n    skip: !userKey\n  });\n\n  const [surveyData, setSurveyData ] = useState({questionList: [], title: ''})\n  const [showTutorial, setShowTutorial] = useState(false);\n  const [surveyAnswers, setSurveyAnswers] = useState({})\n  const [showSurvey, setShowSurvey] = useState(false)\n\n  useEffect(() => {\n    if (userData.new === true) {\n      setShowTutorial(true)\n    } else {\n      getSurveys()\n    }\n  }, []);\n\n  function submitSurvey() {\n    const responseDataEntries = Object.entries(surveyAnswers);\n    if (responseDataEntries.length > 0) {\n      for (const response of responseDataEntries) {\n        fetch(base_URL + '/users/submitSurvey', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            userKey: userKey\n          },\n          body: JSON.stringify({\n            questionIndex: Number(response[0]),\n            response: response[1],\n            surveyId: surveyData['_id']\n          })\n        });\n      }\n    }\n  }\n\n  function buildSurveyChildren() {\n    const final = [];\n    for (const questionIndex in surveyData.questionList) {\n      final.push(\n        <Card\n          style={{\n            marginBottom: '5%',\n            borderRadius: 200,\n            backgroundColor: 'white'\n          }}\n        >\n          <Layout\n            style={{\n              backgroundColor: 'transparent',\n              display: 'flex',\n              flexDirection: 'column',\n              alignContent: 'center'\n            }}\n          >\n            <Text\n              style={{ textAlign: 'center', fontWeight: 'bold', fontSize: 18 }}\n            >\n              {surveyData.questionList[Number(questionIndex)]}\n            </Text>\n            {createButtons(Number(questionIndex))}\n          </Layout>\n        </Card>\n      );\n    }\n    return (\n      <ScrollView\n        style={{\n          backgroundColor: 'rgba(216, 27, 96, 0.85)',\n          padding: '5%',\n          width: '90%',\n          marginBottom: '5%',\n          borderRadius: 10\n        }}\n      >\n        {final}\n      </ScrollView>\n    );\n  }\n\n  function createButtons(questionIndex: number) {\n    let final = [];\n    for (let i = 0; i < 6; i++) {\n      final.push(\n        <Layout\n          style={{\n            backgroundColor: 'transparent',\n            justifyContent: 'center',\n            display: 'flex',\n            flexDirection: 'column'\n          }}\n        >\n          <Radio\n            checked={\n              surveyAnswers[questionIndex.toString()] !== undefined &&\n              surveyAnswers[questionIndex.toString()] === i\n            }\n            disabled={false}\n            onChange={(newOption) => {\n              let newData = { ...surveyAnswers };\n              // @ts-ignore\n              newData[questionIndex.toString()] = i;\n              setSurveyAnswers(newData);\n            }}\n          />\n          <Text style={{ textAlign: 'center', fontWeight: 'bold' }}>{i}</Text>\n        </Layout>\n      );\n    }\n    return (\n      <Layout\n        style={{\n          backgroundColor: 'transparent',\n          marginTop: '5%',\n          width: '100%',\n          justifyContent: 'space-evenly',\n          display: 'flex',\n          flexDirection: 'row'\n        }}\n      >\n        {final}\n      </Layout>\n    );\n  }\n\n  function getSurveys() {\n    fetch(`${base_URL}/users/surveys`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        userKey: userKey\n      }\n    }).then(async (res) =>{\n      if (res.ok) {\n        const surveyData = await res.json()\n        setSurveyData(surveyData)\n        setShowSurvey(true)\n      }\n    });\n  }\n\n  function handleSurveyModalClose(status = false) {\n    submitSurvey();\n    setShowSurvey(false);\n  }\n\n  function generateTutorial() {\n    return (\n      <ScrollView style={{width: '100%'}} bounces={true}>\n        <Image style={{marginHorizontal: 'auto', height: 500, width: 345}} source={require('./assets/tutorial/1.jpg')}/>\n        <Image style={{marginHorizontal: 'auto', marginVertical: '5%', height: 500, width: 345}} source={require('./assets/tutorial/2.jpg')}/>\n        <Image style={{marginHorizontal: 'auto', height: 500, width: 345}} source={require('./assets/tutorial/3.jpg')}/>\n      </ScrollView>\n    )\n  }\n\n  return (\n    <Layout style={{ flex: 1 }}>\n        <ModalContainer backDropVisible={showTutorial} setBackDropVisible={setShowTutorial} title={'Tutorial'} children={generateTutorial()}/>\n        <ModalContainer\n        backDropVisible={showSurvey}\n        setBackDropVisible={handleSurveyModalClose}\n        title={surveyData.title}\n        children={buildSurveyChildren()}\n      />\n      {!connectedToInternet && isMobile && (\n        <Layout\n          style={{\n            width: '100%',\n            height: 30,\n            backgroundColor: 'red',\n            zIndex: 1000,\n            position: 'absolute',\n            bottom: 78,\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n          <Text style={{ color: '#fff', fontStyle: 'italic' }}>\n            You are offline (read only)\n          </Text>\n        </Layout>\n      )}\n      <Tab.Navigator\n        initialRouteName={'ClassPages'}\n        screenOptions={({ route }) => ({\n          tabBarHideOnKeyboard: Platform.OS === 'android',\n          tabBarIcon: ({ focused }) => {\n            // Create type for icon name\n            type IoniconsIconName = React.ComponentProps<\n              typeof Ionicons\n            >['name'];\n            let iconName: IoniconsIconName = 'ios-home';\n\n            if (route.name === 'ClassPages' || route.name === 'ClassPages2') {\n              iconName = focused ? 'book' : 'book-outline';\n            } else if (route.name === 'Discover') {\n              iconName = focused ? 'compass' : 'compass-outline';\n            } else if (route.name === 'Calendar') {\n              iconName = focused ? 'calendar' : 'calendar-outline';\n            } else if (route.name === 'ChatsRoomNavigation') {\n              iconName = focused ? 'chatbubbles' : 'chatbubbles-outline';\n            }\n\n            return (\n              <Ionicons\n                name={iconName}\n                size={25}\n                color={\n                  focused\n                    ? theme['color-primary-500']\n                    : theme['color-basic-500']\n                }\n              />\n            );\n          },\n          tabBarStyle: { paddingTop: 5 },\n          headerShown: false\n        })}\n      >\n        {isMobile ? (\n          <Stack.Group>\n            <Tab.Screen\n              name=\"ClassPages\"\n              component={ClassPages}\n              options={{\n                tabBarLabel: () => (\n                  <Text\n                    style={{\n                      margin: isMobile ? 0 : 15,\n                      fontSize: 12\n                    }}\n                  >\n                    {Platform.OS !== 'web' && 'Class Pages'}\n                  </Text>\n                )\n              }}\n            />\n            <Tab.Screen\n              name=\"Calendar\"\n              component={Calendar}\n              options={{\n                tabBarLabel: () => (\n                  <Text\n                    style={{\n                      margin: isMobile ? undefined : 15,\n                      fontSize: 12\n                    }}\n                  >\n                    {Platform.OS !== 'web' && 'Calendar'}\n                  </Text>\n                )\n              }}\n            />\n          </Stack.Group>\n        ) : (\n          <Tab.Screen\n            name=\"ClassPages2\"\n            component={CombinedClassPages}\n            options={{\n              tabBarLabel: () => (\n                <Text\n                  style={{\n                    margin: isMobile ? undefined : 15,\n                    fontSize: 12\n                  }}\n                >\n                  Class Pages\n                </Text>\n              ),\n              title: 'Class Pages'\n            }}\n          />\n        )}\n        <Tab.Screen\n          name=\"ChatsRoomNavigation\"\n          component={ChatsRoomNavigation}\n          options={{\n            tabBarLabel: () => (\n              <Text\n                style={{\n                  margin: isMobile ? undefined : 15,\n                  fontSize: 12\n                }}\n              >\n                {!(isMobile && Platform.OS === 'web') && 'Chats'}\n              </Text>\n            )\n          }}\n        />\n        {userData?.permissionLevel === 'admin' && (\n          <Tab.Screen\n            name=\"Admin\"\n            component={AdminPanel}\n            options={{\n              unmountOnBlur: false,\n              tabBarLabel: () => (\n                <Text\n                  style={{\n                    margin: isMobile ? undefined : 15,\n                    fontSize: 12\n                  }}\n                >\n                  Admin\n                </Text>\n              )\n            }}\n          />\n        )}\n      </Tab.Navigator>\n    </Layout>\n  );\n}\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n"],"sourceRoot":""}